(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1292:(In,Ze,C)=>{"use strict";C.r(Ze),C.d(Ze,{MediaDetailModule:()=>y});var c=C(95),t=C(8930),b=C(3452),I=C(5879);let y=(()=>{class F{static#e=this.\u0275fac=function(m){return new(m||F)};static#t=this.\u0275mod=I.oAB({type:F});static#n=this.\u0275inj=I.cJS({imports:[c.u5,b.m,t.Bz]})}return F})()},3452:(In,Ze,C)=>{"use strict";C.d(Ze,{m:()=>we});var c=C(6814),t=C(1476),b=C(7700),I=C(2939),y=C(5313),F=C(2032),L=C(9157),x=C(3566),m=C(5986),h=C(5940),p=C(2596),v=C(3680),A=C(8525),U=C(8034),O=C(5879);let le=(()=>{class _e{static#e=this.\u0275fac=function(Oe){return new(Oe||_e)};static#t=this.\u0275mod=O.oAB({type:_e});static#n=this.\u0275inj=O.cJS({imports:[v.BQ,c.ez,v.BQ]})}return _e})(),Me=(()=>{class _e{static#e=this.\u0275fac=function(Oe){return new(Oe||_e)};static#t=this.\u0275mod=O.oAB({type:_e});static#n=this.\u0275inj=O.cJS({imports:[c.ez,t.TU,b.Is,I.ZX,y.p0,F.c,L.lN,x.JX,m.p9,h.Cq,p.AV,v.Ng,A.LD,U.FA,v.XK,le,t.TU,b.Is,I.ZX,y.p0,F.c,L.lN,x.JX,m.p9,h.Cq,p.AV,v.Ng,A.LD,U.FA,v.XK,le]})}return _e})(),we=(()=>{class _e{static#e=this.\u0275fac=function(Oe){return new(Oe||_e)};static#t=this.\u0275mod=O.oAB({type:_e});static#n=this.\u0275inj=O.cJS({imports:[c.ez,Me,c.ez,Me]})}return _e})()},638:(In,Ze,C)=>{"use strict";var c=C(6593),t=C(5879),b=C(2096),I=C(7715),y=C(5592),F=C(6328),L=C(2181),x=C(7398),m=C(4716),h=C(4664),p=C(6814);class v{}class A{}class U{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const o=e.slice(0,n),u=o.toLowerCase(),g=e.slice(n+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(g):this.headers.set(u,[g])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof U?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){const e=new U;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof U?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){const e=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,e);const o=("a"===i.op?this.headers.get(e):void 0)||[];o.push(...n),this.headers.set(e,o);break;case"d":const u=i.value;if(u){let g=this.headers.get(e);if(!g)return;g=g.filter(T=>-1===u.indexOf(T)),0===g.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,g)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(i,e){const n=(Array.isArray(e)?e:[e]).map(u=>u.toString()),o=i.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(i,o)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}}class V{encodeKey(i){return w(i)}encodeValue(i){return w(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const P=/%(\d[a-f0-9])/gi,D={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function w(r){return encodeURIComponent(r).replace(P,(i,e)=>D[e]??i)}function E(r){return`${r}`}class N{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new V,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k(r,i){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[g,T]=-1==u?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,u)),i.decodeValue(o.slice(u+1))],R=e.get(g)||[];R.push(T),e.set(g,R)}),e}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{const n=i.fromObject[e],o=Array.isArray(n)?n.map(E):[E(n)];this.map.set(e,o)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){const e=[];return Object.keys(i).forEach(n=>{const o=i[n];Array.isArray(o)?o.forEach(u=>{e.push({param:n,value:u,op:"a"})}):e.push({param:n,value:o,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const e=this.encoder.encodeKey(i);return this.map.get(i).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const e=new N({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const e=("a"===i.op?this.map.get(i.param):void 0)||[];e.push(E(i.value)),this.map.set(i.param,e);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const o=n.indexOf(E(i.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class B{constructor(){this.map=new Map}set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function re(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function ae(r){return typeof Blob<"u"&&r instanceof Blob}function Re(r){return typeof FormData<"u"&&r instanceof FormData}class oe{constructor(i,e,n,o){let u;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function Y(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,u=o):u=n,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new U),this.context||(this.context=new B),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=e;else{const T=e.indexOf("?");this.urlWithParams=e+(-1===T?"?":T<e.length-1?"&":"")+g}}else this.params=new N,this.urlWithParams=e}serializeBody(){return null===this.body?null:re(this.body)||ae(this.body)||Re(this.body)||function z(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof N?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Re(this.body)?null:ae(this.body)?this.body.type||null:re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const e=i.method||this.method,n=i.url||this.url,o=i.responseType||this.responseType,u=void 0!==i.body?i.body:this.body,g=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,T=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let R=i.headers||this.headers,G=i.params||this.params;const ne=i.context??this.context;return void 0!==i.setHeaders&&(R=Object.keys(i.setHeaders).reduce((Ee,Ue)=>Ee.set(Ue,i.setHeaders[Ue]),R)),i.setParams&&(G=Object.keys(i.setParams).reduce((Ee,Ue)=>Ee.set(Ue,i.setParams[Ue]),G)),new oe(e,n,u,{params:G,headers:R,context:ne,reportProgress:T,responseType:o,withCredentials:g})}}var H=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(H||{});class me{constructor(i,e=200,n="OK"){this.headers=i.headers||new U,this.status=void 0!==i.status?i.status:e,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class te extends me{constructor(i={}){super(i),this.type=H.ResponseHeader}clone(i={}){return new te({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class ue extends me{constructor(i={}){super(i),this.type=H.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new ue({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Se extends me{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function Ie(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let le=(()=>{class r{constructor(e){this.handler=e}request(e,n,o={}){let u;if(e instanceof oe)u=e;else{let R,G;R=o.headers instanceof U?o.headers:new U(o.headers),o.params&&(G=o.params instanceof N?o.params:new N({fromObject:o.params})),u=new oe(e,n,void 0!==o.body?o.body:null,{headers:R,context:o.context,params:G,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const g=(0,b.of)(u).pipe((0,F.b)(R=>this.handler.handle(R)));if(e instanceof oe||"events"===o.observe)return g;const T=g.pipe((0,L.h)(R=>R instanceof ue));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return T.pipe((0,x.U)(R=>{if(null!==R.body&&!(R.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return R.body}));case"blob":return T.pipe((0,x.U)(R=>{if(null!==R.body&&!(R.body instanceof Blob))throw new Error("Response is not a Blob.");return R.body}));case"text":return T.pipe((0,x.U)(R=>{if(null!==R.body&&"string"!=typeof R.body)throw new Error("Response is not a string.");return R.body}));default:return T.pipe((0,x.U)(R=>R.body))}case"response":return T;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new N).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,o={}){return this.request("PATCH",e,Ie(o,n))}post(e,n,o={}){return this.request("POST",e,Ie(o,n))}put(e,n,o={}){return this.request("PUT",e,Ie(o,n))}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(v))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function ze(r,i){return i(r)}function He(r,i){return(e,n)=>i.intercept(e,{handle:o=>r(o,n)})}const ye=new t.OlP(""),K=new t.OlP(""),ie=new t.OlP("");function he(){let r=null;return(i,e)=>{null===r&&(r=((0,t.f3M)(ye,{optional:!0})??[]).reduceRight(He,ze));const n=(0,t.f3M)(t.HDt),o=n.add();return r(i,e).pipe((0,m.x)(()=>n.remove(o)))}}let $=(()=>{class r extends v{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=(0,t.f3M)(t.HDt)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(K),...this.injector.get(ie,[])]));this.chain=o.reduceRight((u,g)=>function Ae(r,i,e){return(n,o)=>e.runInContext(()=>i(n,u=>r(u,o)))}(u,g,this.injector),ze)}const n=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe((0,m.x)(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(A),t.LFG(t.lqb))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const Be=/^\)\]\}',?\n/;let Qe=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new t.vHH(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?(0,I.D)(n.\u0275loadImpl()):(0,b.of)(null)).pipe((0,h.w)(()=>new y.y(u=>{const g=n.build();if(g.open(e.method,e.urlWithParams),e.withCredentials&&(g.withCredentials=!0),e.headers.forEach((ht,vt)=>g.setRequestHeader(ht,vt.join(","))),e.headers.has("Accept")||g.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ht=e.detectContentTypeHeader();null!==ht&&g.setRequestHeader("Content-Type",ht)}if(e.responseType){const ht=e.responseType.toLowerCase();g.responseType="json"!==ht?ht:"text"}const T=e.serializeBody();let R=null;const G=()=>{if(null!==R)return R;const ht=g.statusText||"OK",vt=new U(g.getAllResponseHeaders()),Lt=function $e(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(g)||e.url;return R=new te({headers:vt,status:g.status,statusText:ht,url:Lt}),R},ne=()=>{let{headers:ht,status:vt,statusText:Lt,url:Zt}=G(),Kt=null;204!==vt&&(Kt=typeof g.response>"u"?g.responseText:g.response),0===vt&&(vt=Kt?200:0);let un=vt>=200&&vt<300;if("json"===e.responseType&&"string"==typeof Kt){const cn=Kt;Kt=Kt.replace(Be,"");try{Kt=""!==Kt?JSON.parse(Kt):null}catch(Sn){Kt=cn,un&&(un=!1,Kt={error:Sn,text:Kt})}}un?(u.next(new ue({body:Kt,headers:ht,status:vt,statusText:Lt,url:Zt||void 0})),u.complete()):u.error(new Se({error:Kt,headers:ht,status:vt,statusText:Lt,url:Zt||void 0}))},Ee=ht=>{const{url:vt}=G(),Lt=new Se({error:ht,status:g.status||0,statusText:g.statusText||"Unknown Error",url:vt||void 0});u.error(Lt)};let Ue=!1;const Ge=ht=>{Ue||(u.next(G()),Ue=!0);let vt={type:H.DownloadProgress,loaded:ht.loaded};ht.lengthComputable&&(vt.total=ht.total),"text"===e.responseType&&g.responseText&&(vt.partialText=g.responseText),u.next(vt)},Xe=ht=>{let vt={type:H.UploadProgress,loaded:ht.loaded};ht.lengthComputable&&(vt.total=ht.total),u.next(vt)};return g.addEventListener("load",ne),g.addEventListener("error",Ee),g.addEventListener("timeout",Ee),g.addEventListener("abort",Ee),e.reportProgress&&(g.addEventListener("progress",Ge),null!==T&&g.upload&&g.upload.addEventListener("progress",Xe)),g.send(T),u.next({type:H.Sent}),()=>{g.removeEventListener("error",Ee),g.removeEventListener("abort",Ee),g.removeEventListener("load",ne),g.removeEventListener("timeout",Ee),e.reportProgress&&(g.removeEventListener("progress",Ge),null!==T&&g.upload&&g.upload.removeEventListener("progress",Xe)),g.readyState!==g.DONE&&g.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(p.JF))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const qe=new t.OlP("XSRF_ENABLED"),It=new t.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ot=new t.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class jt{}let zt=(()=>{class r{constructor(e,n,o){this.doc=e,this.platform=n,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(p.K0),t.LFG(t.Lbi),t.LFG(It))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();function $t(r,i){const e=r.url.toLowerCase();if(!(0,t.f3M)(qe)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return i(r);const n=(0,t.f3M)(jt).getToken(),o=(0,t.f3M)(Ot);return null!=n&&!r.headers.has(o)&&(r=r.clone({headers:r.headers.set(o,n)})),i(r)}var pn=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(pn||{});function st(...r){const i=[le,Qe,$,{provide:v,useExisting:$},{provide:A,useExisting:Qe},{provide:K,useValue:$t,multi:!0},{provide:qe,useValue:!0},{provide:jt,useClass:zt}];for(const e of r)i.push(...e.\u0275providers);return(0,t.MR2)(i)}const xe=new t.OlP("LEGACY_INTERCEPTOR_FN");function fe(){return function jn(r,i){return{\u0275kind:r,\u0275providers:i}}(pn.LegacyInterceptors,[{provide:xe,useFactory:he},{provide:K,useExisting:xe,multi:!0}])}let Nt=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:[st(fe())]})}return r})();var kn=C(8930);const qn=[];let ui=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[kn.Bz.forRoot(qn,{onSameUrlNavigation:"reload"}),kn.Bz]})}return r})();var kt=C(95);class St{}var ct,Qt=new Uint8Array(16);function Ke(){if(!ct&&!(ct=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ct(Qt)}const it=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var hn=[],bn=0;bn<256;++bn)hn.push((bn+256).toString(16).substr(1));const Rt=function Ft(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(hn[r[i+0]]+hn[r[i+1]]+hn[r[i+2]]+hn[r[i+3]]+"-"+hn[r[i+4]]+hn[r[i+5]]+"-"+hn[r[i+6]]+hn[r[i+7]]+"-"+hn[r[i+8]]+hn[r[i+9]]+"-"+hn[r[i+10]]+hn[r[i+11]]+hn[r[i+12]]+hn[r[i+13]]+hn[r[i+14]]+hn[r[i+15]]).toLowerCase();if(!function Ct(r){return"string"==typeof r&&it.test(r)}(e))throw TypeError("Stringified UUID is invalid");return e},on=function Ht(r,i,e){var n=(r=r||{}).random||(r.rng||Ke)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,i){e=e||0;for(var o=0;o<16;++o)i[e+o]=n[o];return i}return Rt(n)};class vn{}class Un{}let rt=(()=>{class r{constructor(){this.showSplashScreen=!0,this.urlSinovadStreamWebApi="https://streamapi.sinovad.com",this.urlSinovadCdn="https://resources.sinovad.com/stream/web",this.originalUrlImagesMovieDataBase="https://image.tmdb.org/t/p/w600_and_h900_bestv2",this.urlEpisodeDataBase="https://www.themoviedb.org/t/p/w454_and_h254_bestv2",this.listProcessGUIDs=[],this.configurationData=new St,this.listProfiles=[],this.listMenus=[],this.mediaMenu=[],this.pageNotFoundShowing=!1,this.mediaServers=[],this.libraries=[]}formatDate(e){const n=new Date(e);let o=""+(n.getMonth()+1),u=""+n.getDate();const g=n.getFullYear();return o.length<2&&(o="0"+o),u.length<2&&(u="0"+u),[g,o,u].join("-")}getInitials(e){return e.FullName.substring(0,1)}delay(e){return new Promise(n=>setTimeout(n,e))}hasRequireErrorFormControl(e,n){return!!e.controls[n].errors.required}isInvalidFormControl(e,n){return!(!e.controls[n].invalid||!e.controls[n].dirty&&!e.controls[n].touched)}hasErrorPatternFormControl(e,n){return!!e.controls[n].errors.pattern}CreateBuilderVideoFromItem(e,n){let o=on();var u=new vn;u.VideoId=e.VideoId,u.Title=e.Subtitle?e.Title+" "+e.Subtitle:e.Title,u.PhysicalPath=e.PhysicalPath,u.MediaServerId=e.MediaServerId,u.MediaServerUrl=e.MediaServerUrl,u.CurrentTime=e.CurrentTime,u.ProcessGUID=o,u.TimeSpan=u.CurrentTime?u.CurrentTime.toString():"0",n.ListSeasons&&(n.CurrentSeason=n.ListSeasons.find(T=>T.SeasonNumber==e.SeasonNumber),n.CurrentEpisode=n.CurrentSeason.ListEpisodes.find(T=>T.EpisodeNumber==e.EpisodeNumber));var g=new Un;return g.TranscodePrepareVideo=u,g.ItemDetail=n,g}CreateBuilderVideoFromEpisode(e,n){var o=this.GetTranscodeVideoFromEpisode(e);n.ListSeasons&&(n.CurrentSeason=n.ListSeasons.find(g=>g.SeasonNumber==e.SeasonNumber),n.CurrentEpisode=n.CurrentSeason.ListEpisodes.find(g=>g.EpisodeNumber==e.EpisodeNumber));var u=new Un;return u.TranscodePrepareVideo=o,u.ItemDetail=n,u}GetTranscodeVideoFromEpisode(e){let n=on();var o=new vn;return o.VideoId=e.VideoId,o.Title=e.TvSerieName+" T"+e.SeasonNumber+":E"+e.EpisodeNumber+" "+e.Name,o.PhysicalPath=e.PhysicalPath,o.MediaServerId=e.MediaServerId,o.MediaServerUrl=e.MediaServerUrl,o.ProcessGUID=n,o.CurrentTime=0,o.TimeSpan=o.CurrentTime?o.CurrentTime.toString():"0",o}isSmallDevice(){return window.innerWidth<=768}isMobileDevice(){return"ontouchstart"in window}getUrlByItemDetailMovieDataBase(e){return null!=e.TmdbId&&e.TmdbId>0?this.originalUrlImagesMovieDataBase+e.PosterPath:e.PosterPath}getUrlByItemMovieDataBase(e){return null!=e.TmdbId&&e.TmdbId>0?this.originalUrlImagesMovieDataBase+e.PosterPath:e.PosterPath}getYearByDateFormat(e){return new Date(e).getFullYear()}sort_by(e,n,o){let u=o?g=>o(g[e]):g=>g[e];return n=n?-1:1,(g,T)=>(g=u(g),T=u(T),n*(+(g>T)-+(T>g)))}validateEmailFormat(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Xt=function(r){return r[r.MediaServerState=1]="MediaServerState",r[r.MediaType=2]="MediaType",r[r.VideoTransmissionType=3]="VideoTransmissionType",r[r.TranscoderPreset=4]="TranscoderPreset",r[r.IconTypes=5]="IconTypes",r}(Xt||{}),at=function(r){return r[r.Movie=1]="Movie",r[r.TvSerie=2]="TvSerie",r}(at||{}),tt=function(r){return r[r.None=1]="None",r[r.MPEGDASH=2]="MPEGDASH",r[r.HLS=3]="HLS",r}(tt||{}),tn=function(r){return r[r.GET=0]="GET",r[r.POST=1]="POST",r[r.PUT=2]="PUT",r[r.DELETE=3]="DELETE",r}(tn||{}),pi=function(r){return r[r.Empty=0]="Empty",r[r.Generated=1]="Generated",r[r.Initialized=2]="Initialized",r[r.LoadedMetada=3]="LoadedMetada",r[r.LoadedData=4]="LoadedData",r}(pi||{});let si=(()=>{class r{constructor(e,n){this.http=e,this.sharedService=n}performExecuteMethod(e,n,o){return new Promise((u,g)=>{let T={responseType:"text"};if(this.sharedService.apiToken){const G=new U({"Content-Type":"application/json",Authorization:"Bearer "+this.sharedService.apiToken});T.headers=G}e==tn.GET&&this.http.get(n,T).subscribe(R=>{u(R)},R=>{g(R)}),e==tn.POST&&this.http.post(n,o,T).subscribe(R=>{u(R)},R=>{g(R)}),e==tn.PUT&&this.http.put(n,o,T).subscribe(R=>{u(R)},R=>{g(R)}),e==tn.DELETE&&this.http.delete(n,T).subscribe(R=>{u(R)},R=>{g(R)})})}executeSinovadApiService(e,n,o){let u=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+n;return new Promise((g,T)=>{this.performExecuteMethod(e,u,o).then(R=>{g(JSON.parse(R))},R=>{let G=R;if(null!=R.error){G=R.error;try{var ne=JSON.parse(G);if(ne.errors){let Ue=ne.errors,Ge=[];Object.keys(Ue).map(Xe=>{var ht=Ue[Xe].join("\n");Ge.push(ht)}),G=Ge.join("\n")}else ne.Errors?G=ne.Errors.map(Ue=>Ue.ErrorMessage).join("\n"):ne.Message&&(G=ne.Message)}catch{}}401==R.status&&this.sharedService.apiToken&&(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),window.location.href="/"),console.error(G),T(G)})})}executeHttpMethodByUrl(e,n,o){return new Promise((u,g)=>{this.performExecuteMethod(e,n,o).then(T=>{u(T)},T=>{g(T)})})}executeHttpPostMethodWithFormData(e,n){let o=this.sharedService.urlSinovadStreamWebApi+"/api/v1"+e;return new Promise((u,g)=>{let T={responseType:"text"};if(this.sharedService.apiToken){const G=new U({Accept:"*/*",Authorization:"Bearer "+this.sharedService.apiToken});T.headers=G}this.http.post(o,n,T).subscribe(R=>{u(R)},R=>{g(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(le),t.LFG(rt))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function sr(r,i){if(1&r&&(t.TgZ(0,"div",13),t._UZ(1,"i",14),t._uU(2),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.hij("",e.serverErrorMessage," ")}}function Ui(r,i){1&r&&t._UZ(0,"div",15)}const Br=function(r){return{error:r}},vo=function(r){return{disable:r}};let eo=(()=>{class r{constructor(e,n,o){this.formBuilder=e,this.restProvider=n,this.sharedService=o,this.serverErrorMessage=void 0,this.closeChangePassword=new t.vpe,this.changePasswordForm=this.formBuilder.group({password:new kt.NI("",[kt.kI.required]),confirmPassword:new kt.NI("",[kt.kI.required]),currentPassword:new kt.NI("",[kt.kI.required])}),this.loading=!1}ngOnInit(){}changePasword(){this.changePasswordForm.valid?(this.changePasswordData={UserId:this.sharedService.userData.Id,Password:this.changePasswordForm.value.password,ConfirmPassword:this.changePasswordForm.value.confirmPassword,CurrentPassword:this.changePasswordForm.value.currentPassword},this.loading=!0,this.restProvider.executeSinovadApiService(tn.POST,"/users/ChangePassword",this.changePasswordData).then(e=>{this.loading=!1,this.closeChangePassword.emit(!0)},e=>{this.loading=!1,this.serverErrorMessage=e,console.error(e)})):(this.serverErrorMessage=void 0,this.changePasswordForm.markAllAsTouched())}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kt.qu),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-change-password"]],outputs:{closeChangePassword:"closeChangePassword"},decls:24,vars:20,consts:[[1,"sinovad-page-section-container"],["class","sinovad-server-error-message-content",4,"ngIf"],[1,"sinovad-page-section-content"],[1,"button-container"],[1,"cancel",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],["type","password","formControlName","currentPassword"],[1,"submit-button-container"],["type","submit",3,"ngClass"],["class","lds-dual-ring",4,"ngIf"],[1,"sinovad-server-error-message-content"],[1,"fa-solid","fa-triangle-exclamation","me-2"],[1,"lds-dual-ring"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,sr,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.closeChangePassword.emit(!0)}),t._uU(5,"Cancelar"),t.qZA()(),t.TgZ(6,"form",5),t.NdJ("ngSubmit",function(){return o.changePasword()}),t.TgZ(7,"div",6)(8,"label"),t._uU(9),t.qZA(),t._UZ(10,"input",7),t.qZA(),t.TgZ(11,"div",6)(12,"label"),t._uU(13),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",6)(16,"label"),t._uU(17),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11)(21,"span"),t._uU(22,"Guardar Cambios"),t.qZA(),t.YNc(23,Ui,1,0,"div",12),t.qZA()()()()()),2&n&&(t.xp6(1),t.Q6J("ngIf",o.serverErrorMessage),t.xp6(5),t.Q6J("formGroup",o.changePasswordForm),t.xp6(1),t.Q6J("ngClass",t.VKq(12,Br,o.sharedService.isInvalidFormControl(o.changePasswordForm,"password"))),t.xp6(2),t.hij(" Contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"password")?" - Se requiere Contrase\xf1a":""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(14,Br,o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword"))),t.xp6(2),t.hij("Confirme la nueva contrase\xf1a",o.sharedService.isInvalidFormControl(o.changePasswordForm,"confirmPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"confirmPassword")?" - Confirme la contrase\xf1a":"",""),t.xp6(2),t.Q6J("ngClass",t.VKq(16,Br,o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword"))),t.xp6(2),t.hij("Contrase\xf1a actual",o.sharedService.isInvalidFormControl(o.changePasswordForm,"currentPassword")&&o.sharedService.hasRequireErrorFormControl(o.changePasswordForm,"currentPassword")?" - Introduza la contrase\xf1a actual":"",""),t.xp6(3),t.Q6J("ngClass",t.VKq(18,vo,o.loading)),t.xp6(1),t.Udp("visibility",o.loading?"hidden":"unset"),t.xp6(2),t.Q6J("ngIf",o.loading))},dependencies:[p.mk,p.O5,kt._Y,kt.Fj,kt.JJ,kt.JL,kt.sg,kt.u],styles:['.sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-top:2px solid rgba(0,0,0,.3);background:rgba(0,0,0,.3)}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%], .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.cancel[_ngcontent-%COMP%]{color:#fff}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:red}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px solid #f53}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button.disable[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-server-error-message-content[_ngcontent-%COMP%]{background-color:#ff55334d;border-bottom:2px solid #f53;color:#fff;flex-shrink:0;font-size:15px;margin-top:-2px;overflow:hidden;padding:20px 30px}.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;position:absolute;margin-left:-43%;margin-top:-2px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:20px;height:20px;margin:2px;border-radius:50%;border:2px solid #fff;border-color:#fff transparent #fff transparent;animation:_ngcontent-%COMP%_lds-dual-ring 1.2s linear infinite}@keyframes _ngcontent-%COMP%_lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return r})();function yo(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!1)}),t.TgZ(1,"div",3)(2,"div",8)(3,"button",9),t._uU(4,"Editar"),t.qZA()(),t.TgZ(5,"div",4)(6,"label"),t._uU(7,"Contrase\xf1a"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"*********"),t.qZA()()()()}}function di(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"app-change-password",10),t.NdJ("closeChangePassword",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isCollapsedChangePasswordSection=!0)}),t.qZA()}}let Zi=(()=>{class r{constructor(e,n){this.router=e,this.sharedService=n,this.isCollapsedChangePasswordSection=!0}ngOnInit(){null==this.sharedService.apiToken&&this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-account"]],decls:20,vars:4,consts:[[1,"sinovad-page-container"],[1,"sinovad-page-title"],[1,"sinovad-page-section-container"],[1,"sinovad-page-section-content"],[1,"detail"],["class","sinovad-page-section-container","role","button",3,"click",4,"ngIf"],[3,"closeChangePassword",4,"ngIf"],["role","button",1,"sinovad-page-section-container",3,"click"],[1,"button-container"],[1,"edit"],[3,"closeChangePassword"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Cuenta"),t.qZA()(),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"label"),t._uU(8,"Nombre de Usuario"),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA()()()(),t.TgZ(11,"div",2)(12,"div",3)(13,"div",4)(14,"label"),t._uU(15,"Correo electr\xf3nico"),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA()()()(),t.YNc(18,yo,10,0,"div",5),t.YNc(19,di,1,0,"app-change-password",6),t.qZA()),2&n&&(t.xp6(10),t.Oqu(o.sharedService.userData.UserName),t.xp6(7),t.Oqu(o.sharedService.userData.Email),t.xp6(1),t.Q6J("ngIf",o.isCollapsedChangePasswordSection),t.xp6(1),t.Q6J("ngIf",!o.isCollapsedChangePasswordSection))},dependencies:[p.O5,eo],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px;margin-top:40px;font-size:24px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]{color:#fff;border-top:2px solid rgba(0,0,0,.3)}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]{padding:20px 30px 25px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-direction:column;float:right;margin-top:5px;padding-bottom:25px;white-space:nowrap}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;padding:0;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.edit[_ngcontent-%COMP%]{color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{font-size:15px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff73;display:block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;margin:5px 0;text-transform:uppercase;font-weight:400}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;border-radius:4px;font-family:Open Sans Regular,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;line-height:1.71428571;max-width:360px;vertical-align:middle;width:100%;font-size:15px;height:36px;transition:background-color .2s;padding:5px 10px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]{margin:30px 0 0;text-align:right}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;display:inline-block;font-family:Open Sans Semibold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;overflow:hidden;text-align:center;text-transform:uppercase;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;font-size:13px;padding:5px 20px;background-color:#007bff;color:#fff;opacity:.8;outline:none;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]   .sinovad-page-section-content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .submit-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container[_ngcontent-%COMP%]:hover{background-color:#00000026}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-section-container.showing[_ngcontent-%COMP%]{background:rgba(0,0,0,.3)}"]})}return r})();class gr{}var Si=C(1476),ni=C(7700);const Ro=function(r){return{disabled:r}};let wi=(()=>{class r{constructor(e,n){this.dialog=e,this.options=n}closeDialog(){this.dialog.close(!1)}confirmDialog(){this.dialog.close(!0)}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ni.so),t.Y36(ni.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-confirm-dialog"]],decls:24,vars:6,consts:[[1,"modal-container"],["role","document",1,"modal-dialog"],[1,"modal-backdrop"],[1,"modal-small"],[1,"modal-content"],[1,"modal-content-close-button",3,"click"],[1,"fa-solid","fa-xmark"],["mat-dialog-title","",1,"modal-header"],["mat-dialog-content","",1,"confirm-modal-body"],[1,"inner-modal-body"],[1,"confirm-modal-accord-label"],["type","checkbox",1,"confirm-message-accord-input"],["checkBox",""],["mat-dialog-actions","",1,"modal-footer"],[1,"modal-footer-button-bar"],[1,"confirm-modal-button","cancel",3,"click"],[1,"confirm-modal-button","confirm",3,"ngClass","click"],[1,"spinner-button-label"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return o.closeDialog()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"label",10),t._UZ(14,"input",11,12),t._uU(16),t.qZA()()(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return o.closeDialog()}),t._uU(20,"Cancelar"),t.qZA(),t.TgZ(21,"button",16),t.NdJ("click",function(){return o.confirmDialog()}),t.TgZ(22,"span",17),t._uU(23,"Eliminar"),t.qZA()()()()()()()()()),2&n){const u=t.MAs(15);t.xp6(8),t.hij(" ",o.options.title," "),t.xp6(4),t.Oqu(o.options.message),t.xp6(4),t.hij("",o.options.accordMessage," "),t.xp6(5),t.Q6J("ngClass",t.VKq(4,Ro,!u.checked))}},dependencies:[p.mk,ni.uh,ni.xY,ni.H8],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();var lo=C(8337),xn=C(5313);class _i{constructor(i){this.matPaginatorIntl=i,this.showLoading=!0,this.dataSource=new xn.by,this.selection=new lo.Ov(!0,[]),this.itemsPerPage=10,this.currentPage=1,this.listItems=[],this.sortBy="Id",this.sortDirection="asc",this.searchText="",this.searchBy="",this.matPaginatorIntl.itemsPerPageLabel="Items por p\xe1gina",this.matPaginatorIntl.previousPageLabel="P\xe1gina anterior",this.matPaginatorIntl.nextPageLabel="P\xe1gina siguiente"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}updatePageData(i){this.itemsPerPage=i.pageSize,this.currentPage=i.pageIndex+1}getElementNumber(i,e,n){return i+1+(e-1)*n}onChangeCheckValue(i,e){let n=i.target.checked;if(n?this.selection.select(e):this.selection.deselect(e),i.shiftKey&&this.lastSelectedItem){let u=0;this.selection.hasValue()&&this.lastSelectedItem&&(u=this.listItems.indexOf(this.lastSelectedItem));let g=this.listItems.indexOf(e);if(n){var o;(o=this.listItems.filter(g>=u?T=>this.listItems.indexOf(T)<=g&&this.listItems.indexOf(T)>=u&&!this.selection.isSelected(T):T=>this.listItems.indexOf(T)>=g&&this.listItems.indexOf(T)<=u&&!this.selection.isSelected(T)))&&o.length>0&&this.selection.select(...o)}else{let T=[];T=this.listItems.filter(g>=u?R=>this.listItems.indexOf(R)<=g&&this.listItems.indexOf(R)>=u&&this.selection.isSelected(R):R=>this.listItems.indexOf(R)>=g&&this.listItems.indexOf(R)<=u&&this.selection.isSelected(R)),T&&T.length>0&&this.selection.deselect(...T)}}this.lastSelectedItem=e}}var Rn=C(3566),ai=C(2939);function Li(r,i){1&r&&t._UZ(0,"i",4)}function Sr(r,i){1&r&&t._UZ(0,"i",5)}function cr(r,i){1&r&&t._UZ(0,"i",6)}const nr=function(r,i,e){return{success:r,info:i,error:e}};var Jn=function(r){return r[r.Success=1]="Success",r[r.Error=2]="Error",r[r.Info=3]="Info",r}(Jn||{});let mn=(()=>{class r{constructor(e){this.toastOptions=e,this.snackBarRef=(0,t.f3M)(ai.OX)}SnackBarType(){return Jn}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ai.qD))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-snack-bar"]],standalone:!0,features:[t.jDz],decls:5,vars:9,consts:[[1,"custom-toast",3,"ngClass"],["class","fa-solid fa-circle-check me-2",4,"ngIf"],["class","fa-solid fa-circle-info me-2",4,"ngIf"],["class","fa-solid fa-circle-xmark me-2",4,"ngIf"],[1,"fa-solid","fa-circle-check","me-2"],[1,"fa-solid","fa-circle-info","me-2"],[1,"fa-solid","fa-circle-xmark","me-2"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,Li,1,0,"i",1),t.YNc(2,Sr,1,0,"i",2),t.YNc(3,cr,1,0,"i",3),t._uU(4),t.qZA()),2&n&&(t.Q6J("ngClass",t.kEZ(5,nr,o.toastOptions.snackBarType==o.SnackBarType().Success,o.toastOptions.snackBarType==o.SnackBarType().Info,o.toastOptions.snackBarType==o.SnackBarType().Error)),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Success),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Info),t.xp6(1),t.Q6J("ngIf",o.toastOptions.snackBarType==o.SnackBarType().Error),t.xp6(1),t.hij(" ",o.toastOptions.message,"\n"))},dependencies:[ai.ZX,p.ez,p.mk,p.O5],styles:[".custom-toast[_ngcontent-%COMP%]{background:transparent;font-weight:500;width:100%;height:100%;display:flex;align-items:center}.custom-toast[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0;font-size:23px}.custom-toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:green}.custom-toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.custom-toast.info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#00f}"]})}return r})();class Mn{isErrorState(i,e){return!!(i&&i.invalid&&(i.dirty||i.touched||e&&e.submitted))}}var Nn=C(6232),Zn=C(8645),ei=C(2438),fi=C(4825),li=C(4829);const{isArray:Ri}=Array;function dr(r){return 1===r.length&&Ri(r[0])?r[0]:r}var ur=C(8251);C(3019);var wr=C(9940);function Hr(...r){const i=(0,wr.jO)(r),e=dr(r);return e.length?new y.y(n=>{let o=e.map(()=>[]),u=e.map(()=>!1);n.add(()=>{o=u=null});for(let g=0;!n.closed&&g<e.length;g++)(0,li.Xf)(e[g]).subscribe((0,ur.x)(n,T=>{if(o[g].push(T),o.every(R=>R.length)){const R=o.map(G=>G.shift());n.next(i?i(...R):R),o.some((G,ne)=>!G.length&&u[ne])&&n.complete()}},()=>{u[g]=!0,!o[g].length&&n.complete()}));return()=>{o=u=null}}):Nn.E}var bo=C(5211),ir=C(9773),Ir=C(8180),Oa=C(9397),Fr=C(9360),Zo=C(2737),Eo=C(2420);function No(...r){const i=(0,wr.jO)(r);return(0,Fr.e)((e,n)=>{const o=r.length,u=new Array(o);let g=r.map(()=>!1),T=!1;for(let R=0;R<o;R++)(0,li.Xf)(r[R]).subscribe((0,ur.x)(n,G=>{u[R]=G,!T&&!g[R]&&(g[R]=!0,(T=g.every(Zo.y))&&(g=null))},Eo.Z));e.subscribe((0,ur.x)(n,R=>{if(T){const G=[R,...u];n.next(i?i(...G):G)}}))})}C(6321),C(975),C(1631),C(7921),C(3997),C(836),Math,Math,Math;const pl=["*"],mx=["dialog"];function Zr(r){return"string"==typeof r}function La(r){return null!=r}function $r(r){return(r||document.body).getBoundingClientRect()}const hh={animation:!0,transitionTimerDelayMs:5},Wb=()=>{},{transitionTimerDelayMs:zb}=hh,Lc=new Map,Vo=(r,i,e,n)=>{let o=n.context||{};const u=Lc.get(i);if(u)switch(n.runningTransition){case"continue":return Nn.E;case"stop":r.run(()=>u.transition$.complete()),o=Object.assign(u.context,o),Lc.delete(i)}const g=e(i,n.animation,o)||Wb;if(!n.animation||"none"===window.getComputedStyle(i).transitionProperty)return r.run(()=>g()),(0,b.of)(void 0).pipe(function fh(r){return i=>new y.y(e=>i.subscribe({next:g=>r.run(()=>e.next(g)),error:g=>r.run(()=>e.error(g)),complete:()=>r.run(()=>e.complete())}))}(r));const T=new Zn.x,R=new Zn.x,G=T.pipe(function Di(...r){return i=>(0,bo.z)(i,(0,b.of)(...r))}(!0));Lc.set(i,{transition$:T,complete:()=>{R.next(),R.complete()},context:o});const ne=function xx(r){const{transitionDelay:i,transitionDuration:e}=window.getComputedStyle(r);return 1e3*(parseFloat(i)+parseFloat(e))}(i);return r.runOutsideAngular(()=>{const Ee=(0,ei.R)(i,"transitionend").pipe((0,ir.R)(G),(0,L.h)(({target:Ge})=>Ge===i));(function fr(...r){return 1===(r=dr(r)).length?(0,li.Xf)(r[0]):new y.y(function Ia(r){return i=>{let e=[];for(let n=0;e&&!i.closed&&n<r.length;n++)e.push((0,li.Xf)(r[n]).subscribe((0,ur.x)(i,o=>{if(e){for(let u=0;u<e.length;u++)u!==n&&e[u].unsubscribe();e=null}i.next(o)})))}}(r))})((0,fi.H)(ne+zb).pipe((0,ir.R)(G)),Ee,R).pipe((0,ir.R)(G)).subscribe(()=>{Lc.delete(i),r.run(()=>{g(),T.next(),T.complete()})})}),T.asObservable()};let ks=(()=>{class r{constructor(){this.animation=hh.animation}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var tr=function(r){return r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",r}(tr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const _u=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function jp(r){const i=Array.from(r.querySelectorAll(_u)).filter(e=>-1!==e.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Ll{constructor(i,e,n){this.nodes=i,this.viewRef=e,this.componentRef=n}}let Jx=(()=>{class r{constructor(e,n){this._el=e,this._zone=n}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ir.q)(1)).subscribe(()=>{Vo(this._zone,this._el.nativeElement,(e,n)=>{n&&$r(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Vo(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,o){2&n&&(t.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),t.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return r})();class Jr{update(i){}close(i){}dismiss(i){}}const Ph=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Qx=["animation","backdropClass"];class Xx{_applyWindowOptions(i,e){Ph.forEach(n=>{La(e[n])&&(i[n]=e[n])})}_applyBackdropOptions(i,e){Qx.forEach(n=>{La(e[n])&&(i[n]=e[n])})}update(i){this._applyWindowOptions(this._windowCmptRef.instance,i),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,i)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,ir.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,ir.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(i,e,n,o){this._windowCmptRef=i,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=o,this._closed=new Zn.x,this._dismissed=new Zn.x,this._hidden=new Zn.x,i.instance.dismissEvent.subscribe(u=>{this.dismiss(u)}),this.result=new Promise((u,g)=>{this._resolve=u,this._reject=g}),this.result.then(null,()=>{})}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function El(r){return r&&r.then}(e)?!1!==e&&this._dismiss(i):e.then(n=>{!1!==n&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,b.of)(void 0);i.subscribe(()=>{const{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Hr(i,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Cu=function(r){return r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",r}(Cu||{});let ME=(()=>{class r{constructor(e,n,o){this._document=e,this._elRef=n,this._zone=o,this._closed$=new Zn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new Zn.x,this.hidden=new Zn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Zr(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ir.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,n={animation:this.animation,runningTransition:"stop"},g=Hr(Vo(this._zone,e,()=>e.classList.remove("show"),n),Vo(this._zone,this._dialogEl.nativeElement,()=>{},n));return g.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),g}_show(){const e={animation:this.animation,runningTransition:"continue"};Hr(Vo(this._zone,this._elRef.nativeElement,(u,g)=>{g&&$r(u),u.classList.add("show")},e),Vo(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{(0,ei.R)(e,"keydown").pipe((0,ir.R)(this._closed$),(0,L.h)(o=>o.which===tr.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Cu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let n=!1;(0,ei.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,ir.R)(this._closed$),(0,Oa.b)(()=>n=!1),(0,h.w)(()=>(0,ei.R)(e,"mouseup").pipe((0,ir.R)(this._closed$),(0,Ir.q)(1))),(0,L.h)(({target:o})=>e===o)).subscribe(()=>{n=!0}),(0,ei.R)(e,"click").pipe((0,ir.R)(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!n&&this._zone.run(()=>this.dismiss(Cu.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const n=e.querySelector("[ngbAutofocus]"),o=jp(e)[0];(n||o||e).focus()}}_restoreFocus(){const e=this._document.body,n=this._elWithFocus;let o;o=n&&n.focus&&e.contains(n)?n:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Vo(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(p.K0),t.Y36(t.SBq),t.Y36(t.R0b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(n,o){if(1&n&&t.Gf(mx,7),2&n){let u;t.iGM(u=t.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,o){2&n&&(t.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),t.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),t.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[t.jDz],ngContentSelectors:pl,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(n,o){1&n&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&n&&t.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return r})(),AE=(()=>{class r{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,o=n.style,{overflow:u,paddingRight:g}=o;if(e>0){const T=parseFloat(window.getComputedStyle(n).paddingRight);o.paddingRight=`${T+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=g),o.overflow=u}}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(p.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),wE=(()=>{class r{constructor(e,n,o,u,g,T,R){this._applicationRef=e,this._injector=n,this._environmentInjector=o,this._document=u,this._scrollBar=g,this._rendererFactory=T,this._ngZone=R,this._activeWindowCmptHasChanged=new Zn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const G=this._windowCmpts[this._windowCmpts.length-1];((r,i,e,n=!1)=>{r.runOutsideAngular(()=>{const o=(0,ei.R)(i,"focusin").pipe((0,ir.R)(e),(0,x.U)(u=>u.target));(0,ei.R)(i,"keydown").pipe((0,ir.R)(e),(0,L.h)(u=>u.which===tr.Tab),No(o)).subscribe(([u,g])=>{const[T,R]=jp(i);(g===T||g===i)&&u.shiftKey&&(R.focus(),u.preventDefault()),g===R&&!u.shiftKey&&(T.focus(),u.preventDefault())}),n&&(0,ei.R)(i,"click").pipe((0,ir.R)(e),No(o),(0,x.U)(u=>u[1])).subscribe(u=>u.focus())})})(this._ngZone,G.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(G.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,n,o){const u=o.container instanceof HTMLElement?o.container:La(o.container)?this._document.querySelector(o.container):this._document.body,g=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const T=new Jr,R=(e=o.injector||e).get(t.lqb,null)||this._environmentInjector,G=this._getContentRef(e,R,n,T,o);let ne=!1!==o.backdrop?this._attachBackdrop(u):void 0,Ee=this._attachWindowComponent(u,G.nodes),Ue=new Xx(Ee,G,ne,o.beforeDismiss);return this._registerModalRef(Ue),this._registerWindowCmpt(Ee),Ue.hidden.pipe((0,Ir.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(g.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),T.close=Ge=>{Ue.close(Ge)},T.dismiss=Ge=>{Ue.dismiss(Ge)},T.update=Ge=>{Ue.update(Ge)},Ue.update(o),1===this._modalRefs.length&&g.addClass(this._document.body,"modal-open"),ne&&ne.instance&&ne.changeDetectorRef.detectChanges(),Ee.changeDetectorRef.detectChanges(),Ue}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(n=>n.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let n=(0,t.LMc)(Jx,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,n){let o=(0,t.LMc)(ME,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,n,o,u,g){return o?o instanceof t.Rgc?this._createFromTemplateRef(o,u):Zr(o)?this._createFromString(o):this._createFromComponent(e,n,o,u,g):new Ll([])}_createFromTemplateRef(e,n){const u=e.createEmbeddedView({$implicit:n,close(g){n.close(g)},dismiss(g){n.dismiss(g)}});return this._applicationRef.attachView(u),new Ll([u.rootNodes],u)}_createFromString(e){const n=this._document.createTextNode(`${e}`);return new Ll([[n]])}_createFromComponent(e,n,o,u,g){const T=t.zs3.create({providers:[{provide:Jr,useValue:u}],parent:e}),R=(0,t.LMc)(o,{environmentInjector:n,elementInjector:T}),G=R.location.nativeElement;return g.scrollable&&G.classList.add("component-host-scrollable"),this._applicationRef.attachView(R.hostView),new Ll([[G]],R.hostView,R)}_setAriaHidden(e){const n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,n)=>{e?n.setAttribute("aria-hidden",e):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const n=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const n=this._windowCmpts.indexOf(e);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(t.lqb),t.LFG(p.K0),t.LFG(AE),t.LFG(t.FYo),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),IE=(()=>{class r{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(ks))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Mo=(()=>{class r{constructor(e,n,o){this._injector=e,this._modalStack=n,this._config=o}open(e,n={}){const o={...this._config,animation:this._config.animation,...n};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t.zs3),t.LFG(wE),t.LFG(IE))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();new t.OlP("live announcer delay",{providedIn:"root",factory:function zE(){return 100}});let yr=(()=>{class r{constructor(e){this.snackBar=e}showSnackBar(e,n){var o=new ai.u_;o.duration=2e3,o.data={message:e,snackBarType:n},this.snackBar.openFromComponent(mn,o)}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(ai.ux))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),hs=(()=>{class r{constructor(e){this.restProvider=e}getAllGenres(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(tn.GET,"/genres/GetAllAsync").then(o=>{e(o)},o=>{console.error(o),n(o)})})}getItems(e,n,o,u,g,T){return new Promise((R,G)=>{let ne=on();this.lastCallGuid=ne;var Ee="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+g+"&searchBy="+T;this.restProvider.executeSinovadApiService(tn.GET,"/genres/GetAllWithPaginationAsync"+Ee).then(Ge=>{this.lastCallGuid==ne&&R(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/genres/Update":"/genres/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/genres/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/genres/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function QE(r,i){1&r&&(t.TgZ(0,"div")(1,"div")(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div")(14,"div")(15,"div")(16,"div"),t.qZA()()()()())}let Ao=(()=>{class r{constructor(e,n){this.ref=e,this.viewContainerRef=n,this.showLoading=!1}ngOnInit(){}ngAfterViewInit(){}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.sBO),t.Y36(t.s_b))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-spinner"]],inputs:{showLoading:"showLoading"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"sinovad-spinner-container"],[1,"lds-spinner"]],template:function(n,o){1&n&&t.YNc(0,QE,17,0,"div",0),2&n&&t.Q6J("ngIf",o.showLoading)},dependencies:[p.O5],styles:['.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;display:flex;align-items:center;z-index:999;justify-content:center;background:rgba(0,0,0,.5)}.lds-spinner[_ngcontent-%COMP%]{color:official;display:inline-block;position:relative;width:80px;height:80px}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{transform-origin:40px 40px;animation:_ngcontent-%COMP%_lds-spinner 1.2s linear infinite}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0);animation-delay:-1.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.lds-spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes _ngcontent-%COMP%_lds-spinner{0%{opacity:1}to{opacity:0}}']})}return r})();var Qr=C(2032),vi=C(9157);function XE(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function S_(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,XE,4,0,"mat-error",8),t.qZA()(),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",11),t._uU(16,"Guardar"),t.qZA()()(),t._UZ(17,"app-custom-spinner",12)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.genreFormGroup),t.xp6(3),t.Oqu(e.genre&&e.genre.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.genreFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.genreFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let eT=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.activeModal=n,this.snackbarService=o,this.genreService=u,this.showLoading=!1,this.matcher=new Mn}ngOnInit(){}ngAfterViewInit(){this.genreFormGroup=this.formBuilder.group({name:new kt.NI(this.genre.Name,[kt.kI.required])})}saveItem(){if(this.genreFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.genre));e.Name=this.genreFormGroup.value.name,this.genreService.saveItem(e).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el genre satisfactoriamente",Jn.Success),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.genreFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kt.qu),t.Y36(Jr),t.Y36(yr),t.Y36(hs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-form"]],inputs:{genre:"genre"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,S_,18,6,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.genre&&o.genreFormGroup)},dependencies:[kt._Y,kt.Fj,kt.JJ,kt.JL,kt.sg,kt.u,Ao,p.O5,Qr.Nt,vi.KE,vi.hX,vi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();var aa=C(5986),qo=C(5940),ms=C(2596);function vM(r,i){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function Kh(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Ul(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const g=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.onChangeCheckValue(o,g))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function ku(r,i){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function C_(r,i){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function D_(r,i){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function tT(r,i){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function nT(r,i){1&r&&t._UZ(0,"th",41)}function iT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.editItem(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function rT(r,i){1&r&&t._UZ(0,"tr",47)}function x_(r,i){1&r&&t._UZ(0,"tr",48)}function oT(r,i){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function M_(r,i){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,oT,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const jl=function(r){return{disable:r}},ts=function(){return[5,10,25,100]};let Wh=(()=>{class r extends _i{constructor(e,n,o,u,g){super(o),this.modalService=e,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=u,this.genreService=g,this.displayedColumns=["Select","Id","Name","Actions"]}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new gr;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(eT,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.genre=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.genreService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new xn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new ni.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(wi,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.genreService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Jn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ni.vA;e.data={title:"Eliminar genres",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(wi,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.genreService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Jn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Jn.Error)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Mo),t.Y36(ni.uw),t.Y36(Si.ye),t.Y36(yr),t.Y36(hs))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genre-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Si.NW,5),t.Gf(Rn.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," G\xe9neros"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(g){return o.applyFilter(g)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,vM,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Kh,2,2,"th",17),t.YNc(25,Ul,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,ku,2,0,"th",20),t.YNc(28,C_,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,D_,2,0,"th",23),t.YNc(31,tT,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,nT,1,0,"th",26),t.YNc(34,iT,6,0,"td",27),t.BQk(),t.YNc(35,rT,1,0,"tr",28),t.YNc(36,x_,1,0,"tr",29),t.YNc(37,M_,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,jl,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,ts)))},dependencies:[p.mk,p.O5,Si.NW,xn.BZ,xn.fO,xn.as,xn.w1,xn.Dz,xn.nj,xn.ge,xn.ev,xn.XQ,xn.Gk,xn.Ee,Qr.Nt,vi.KE,vi.hX,Rn.YE,Rn.nU,aa.oG,qo.Ou,ms.gM],styles:["h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}"]})}return r})();function aT(r,i,e,n,o,u,g){try{var T=r[u](g),R=T.value}catch(G){return void e(G)}T.done?i(R):Promise.resolve(R).then(n,o)}function Fu(r){return function(){var i=this,e=arguments;return new Promise(function(n,o){var u=r.apply(i,e);function g(R){aT(u,n,o,g,T,"next",R)}function T(R){aT(u,n,o,g,T,"throw",R)}g(void 0)})}}var yM=C(4440),Vl=C.n(yM);let A_=(()=>{class r{constructor(e){this.restProvider=e}getDirectoriesByMediaServer(e){return new Promise((n,o)=>{this.restProvider.executeHttpMethodByUrl(tn.GET,e+"/api/directories").then(u=>{n(u)},u=>{console.error(u),o(u)})})}getSubdirectoriesByMediaServerAndDirectoryPath(e,n){return new Promise((o,u)=>{var g=Vl().encode(n);this.restProvider.executeHttpMethodByUrl(tn.GET,e+"/api/directories/"+g).then(T=>{o(T)},T=>{console.error(T),u(T)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const zh=function(r){return{"sinovad-directory-selected":r}};function bM(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.onClickMainDirectory(u))}),t._uU(1),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,zh,n.selectedMainDirectory&&e.name==n.selectedMainDirectory.name)),t.xp6(1),t.hij(" ",e.name," ")}}function w_(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickBackFolder())}),t._uU(1," <= .. [Regresar] "),t.qZA()}}function Bu(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.onClickSubDirectory(u))}),t._uU(1),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(2,zh,n.selectedSubdirectory&&e.name==n.selectedSubdirectory.name)),t.xp6(1),t.hij(" ",e.name," ")}}let Zh=(()=>{class r{constructor(e,n){this.directoryService=e,this.activeModal=n,this.listSubdirectoriesTmp=[]}ngOnInit(){this.getDirectories()}getDirectories(){this.directoryService.getDirectoriesByMediaServer(this.mediaServer.Url).then(e=>{this.listMainDirectories=JSON.parse(e);let n=this.listMainDirectories[0];this.selectedMainDirectory=n,this.getSubdirectoriesByPath(n)})}getSubdirectoriesByPath(e){this.directoryService.getSubdirectoriesByMediaServerAndDirectoryPath(this.mediaServer.Url,e.path).then(n=>{this.listSubdirectoriesTmp=JSON.parse(n)},n=>{console.error(n)})}saveDirectory(){this.activeModal.close(this.getCurrentPath())}getCurrentPath(){return this.selectedSubdirectory?this.selectedSubdirectory.path:this.selectedMainDirectory.path}closeModal(){this.activeModal.dismiss()}onClickBackFolder(){this.selectedSubdirectory.parentDirectory.isMainDirectory?(this.selectedSubdirectory=void 0,this.getSubdirectoriesByPath(this.selectedMainDirectory)):(this.selectedSubdirectory=this.selectedSubdirectory.parentDirectory,this.getSubdirectoriesByPath(this.selectedSubdirectory))}onClickMainDirectory(e){this.selectedMainDirectory=e,this.getSubdirectoriesByPath(this.selectedMainDirectory)}onClickSubDirectory(e){if(null==this.selectedSubdirectory)this.selectedSubdirectory=e,this.selectedSubdirectory.parentDirectory=this.selectedMainDirectory;else{let n=JSON.parse(JSON.stringify(this.selectedSubdirectory));this.selectedSubdirectory=e,this.selectedSubdirectory.parentDirectory=n}this.getSubdirectoriesByPath(this.selectedSubdirectory)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(A_),t.Y36(Jr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-directory-chooser"]],inputs:{mediaServer:"mediaServer"},decls:17,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[1,"sinovad-directory-chooser-content"],[1,"sinovad-main-directories-section"],["ngFor","",3,"ngForOf"],[1,"sinovad-subdirectories-section"],["class","sinovad-subdirectory-option",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"sinovad-main-directory-option",3,"ngClass","click"],[1,"sinovad-subdirectory-option",3,"click"],[1,"sinovad-subdirectory-option",3,"ngClass","click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2,"Seleccionar directorio"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.closeModal()}),t._UZ(4,"i",3),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6),t.YNc(8,bM,2,4,"ng-template",7),t.qZA(),t.TgZ(9,"div",8),t.YNc(10,w_,2,0,"button",9),t.YNc(11,Bu,2,4,"ng-template",7),t.qZA()()(),t.TgZ(12,"div",10)(13,"button",11),t.NdJ("click",function(){return o.closeModal()}),t._uU(14,"Close"),t.qZA(),t.TgZ(15,"button",12),t.NdJ("click",function(){return o.saveDirectory()}),t._uU(16,"Guardar"),t.qZA()()),2&n&&(t.xp6(8),t.Q6J("ngForOf",o.listMainDirectories),t.xp6(2),t.Q6J("ngIf",o.selectedSubdirectory),t.xp6(1),t.Q6J("ngForOf",o.listSubdirectoriesTmp))},dependencies:[p.mk,p.sg,p.O5],styles:["[_nghost-%COMP%]{background:rgba(17,17,17,.65);padding:20px}.modal-body[_ngcontent-%COMP%]{height:100%;display:flex}.sinovad-directory-chooser-container[_ngcontent-%COMP%]{display:block;background-color:#282828;color:#000;width:400px;height:500px;border:1px solid #dedede;border-radius:5px;padding:20px}.sinovad-main-directories-section[_ngcontent-%COMP%]{display:block;width:50%;padding-right:20px}.sinovad-subdirectories-section[_ngcontent-%COMP%]{display:block;width:50%;overflow-x:hidden;overflow-y:auto;padding-left:10px;height:100%}.sinovad-directory-chooser-content[_ngcontent-%COMP%]{display:flex;width:100%;background:black}.sinovad-main-directory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-main-directory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-subdirectory-option[_ngcontent-%COMP%]{display:block;padding:6px 10px;width:100%;background-color:transparent;border:none;outline:none;color:#fff;opacity:.7;cursor:pointer;text-align:left}.sinovad-subdirectory-option[_ngcontent-%COMP%]:hover{opacity:1;background-color:#ffffff0d}.sinovad-directory-chooser-header[_ngcontent-%COMP%]{display:block;float:right;width:100%}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;background:transparent;border:0;outline:none;cursor:pointer;font-size:20px;color:#fff;opacity:.7}.sinovad-directory-chooser-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-directory-selected[_ngcontent-%COMP%]{border-left:4px solid #007bff;padding-left:6px;background-color:#ffffff0d;opacity:1}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]{display:inline-block;width:100%}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   .sinovad-directory-chooser-footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;color:#fff;background:#F18307;border:none;border-radius:5px;font-weight:700;cursor:pointer}.sinovad-directory-chooser-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 0;width:100%;height:50px}.sinovad-directory-chooser-path-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border-radius:5px;width:100%;padding:6px 10px}"]})}return r})();class I_{}function O_(r,i){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}function xi(r,i){if(1&r&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("ngValue",e.Id),t.xp6(1),t.Oqu(e.Name)}}const P_=function(r,i){return{load:r,disable:i}};function R_(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"form",6),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveTranscoder())}),t.TgZ(9,"div",5)(10,"label",7),t._uU(11,"M\xe9todo de transmisi\xf3n"),t.qZA(),t.TgZ(12,"select",8),t.YNc(13,O_,2,2,"ng-template",9),t.qZA(),t.TgZ(14,"p",10),t._uU(15,"M\xe9todo de transmisi\xf3n para transcodificar los videos"),t.qZA()(),t.TgZ(16,"div",5)(17,"label",7),t._uU(18,"Carpeta temporal para el transcodificador"),t.qZA(),t.TgZ(19,"input",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.TgZ(20,"p",10),t._uU(21,"Carpeta que utilizar\xe1 el codificador para los archivos temporales."),t.qZA()(),t.TgZ(22,"div",5)(23,"label",7),t._uU(24,"Preset de conversi\xf3n x264 en segundo plano"),t.qZA(),t.TgZ(25,"select",12),t.YNc(26,xi,2,2,"ng-template",9),t.qZA(),t.TgZ(27,"p",10),t._uU(28,"El valor de preset de x264 usado para conversi\xf3n en segundo plano (Sincronizaci\xf3n y Optimizador de Contenido). Valores m\xe1s lentos dar\xe1n lugar a mejor calidad de v\xeddeo y archivos m\xe1s peque\xf1os, pero llevar\xe1 mucho m\xe1s tiempo completar el proceso."),t.qZA()(),t.TgZ(29,"div",5)(30,"label",7),t._uU(31,"Factor de Tasa Constante"),t.qZA(),t._UZ(32,"input",13),t.TgZ(33,"p",10),t._uU(34,"El factor de tasa constante (CRF) es la configuraci\xf3n predeterminada de calidad (y control de velocidad) para los codificadores x264 y x265 , y tambi\xe9n est\xe1 disponible para libvpx . Con x264 y x265, puede establecer los valores entre 0 y 51, donde los valores m\xe1s bajos dar\xedan como resultado una mejor calidad, a expensas de tama\xf1os de archivo m\xe1s altos. Los valores m\xe1s altos significan m\xe1s compresi\xf3n, pero en alg\xfan momento notar\xe1 la degradaci\xf3n de la calidad. Para x264, los valores razonables est\xe1n entre 18 y 28. El valor predeterminado es 23, por lo que puede usarlo como punto de partida."),t.qZA()(),t.TgZ(35,"div",14)(36,"button",15),t._UZ(37,"div",16),t.TgZ(38,"span",17),t._uU(39,"Guardar cambios"),t.qZA()(),t._UZ(40,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Transcodificador"),t.xp6(6),t.Q6J("formGroup",e.customForm),t.xp6(5),t.Q6J("ngForOf",e.transmissionMethodList),t.xp6(13),t.Q6J("ngForOf",e.presetList),t.xp6(10),t.Q6J("ngClass",t.WLB(5,P_,e.loading,e.customForm.pristine||e.customForm.invalid))}}let sT=(()=>{class r{constructor(e,n,o,u,g,T,R){this.modalService=e,this.snackBarService=n,this.formBuilder=o,this.router=u,this.activeRoute=g,this.restProvider=T,this.sharedService=R,this.transmissionMethodList=[],this.presetList=[],this.loading=!1}ngOnInit(){this.getCatalogDetails(),this.getMediaServerData()}getCatalogDetails(){this.restProvider.executeSinovadApiService(tn.GET,"/catalogs/GetAllCatalogDetailsWithPaginationByCatalogIdsAsync?catalogIds="+Xt.TranscoderPreset+","+Xt.VideoTransmissionType).then(n=>{let o=n.Data;this.transmissionMethodList=o.filter(u=>u.CatalogId==Xt.VideoTransmissionType),this.presetList=o.filter(u=>u.CatalogId==Xt.TranscoderPreset)},n=>{console.error(n)})}ngAfterViewInit(){}getMediaServerData(){var e=this;return Fu(function*(){e.restProvider.executeSinovadApiService(tn.GET,"/mediaServers/GetByGuidAsync/"+e.activeRoute.snapshot.params.serverGuid).then(o=>{var u=o.Data,g=e.sharedService.mediaServers.find(T=>T.Id==u.Id);u.isSecureConnection=g.isSecureConnection,e.sharedService.selectedMediaServer=u,e.mediaServer=u,e.getTranscoderSettingss()},o=>{e.router.navigateByUrl("/404")})})()}getTranscoderSettingss(){this.restProvider.executeSinovadApiService(tn.GET,"/transcoderSettings/GetByMediaServerGuidAsync/"+this.mediaServer.Guid).then(e=>{if(this.currentTranscoderSettingss=e.Data,null==this.currentTranscoderSettingss){var n=new I_;n.TemporaryFolder="",n.ConstantRateFactor=18,n.VideoTransmissionTypeCatalogId=Xt.VideoTransmissionType,n.VideoTransmissionTypeCatalogDetailId=this.transmissionMethodList[0].Id,n.PresetCatalogId=Xt.TranscoderPreset,n.PresetCatalogDetailId=this.presetList[0].Id,n.MediaServerId=this.sharedService.selectedMediaServer.Id,this.currentTranscoderSettingss=n}this.customForm=this.formBuilder.group({temporaryFolder:new kt.NI(this.currentTranscoderSettingss.TemporaryFolder),preset:new kt.NI(this.currentTranscoderSettingss.PresetCatalogDetailId),transmissionMethod:new kt.NI(this.currentTranscoderSettingss.VideoTransmissionTypeCatalogDetailId),constantRateFactor:new kt.NI(this.currentTranscoderSettingss.ConstantRateFactor)})},e=>{console.error(e)})}saveTranscoder(){this.loading=!0;var e=JSON.parse(JSON.stringify(this.currentTranscoderSettingss));e.TemporaryFolder=this.customForm.value.temporaryFolder,e.ConstantRateFactor=this.customForm.value.constantRateFactor,e.VideoTransmissionTypeCatalogDetailId=this.customForm.value.transmissionMethod,e.PresetCatalogDetailId=this.customForm.value.preset,this.restProvider.executeSinovadApiService(this.currentTranscoderSettingss.Id>0?tn.PUT:tn.POST,this.currentTranscoderSettingss.Id>0?"/transcoderSettings/Update":"/transcoderSettings/Create",e).then(u=>{this.loading=!1,this.getTranscoderSettingss(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",Jn.Success)},u=>{this.loading=!1,this.snackBarService.showSnackBar(u,Jn.Error),console.error(u)})}showChooserDirectoryModal(){var e=this,n=this.modalService.open(Zh,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.mediaServer=this.sharedService.selectedMediaServer,n.closed.subscribe(o=>{e.customForm.controls.temporaryFolder.setValue(o),e.customForm.controls.temporaryFolder.markAsDirty()})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Mo),t.Y36(yr),t.Y36(kt.qu),t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-transcode-settings"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["name","transmissionMethods","formControlName","transmissionMethod",1,"form-control"],["ngFor","",3,"ngForOf"],[1,"help-block"],["readonly","","type","text","formControlName","temporaryFolder",1,"form-control",2,"cursor","pointer",3,"click"],["name","transmissionMethods","formControlName","preset",1,"form-control"],["type","text","formControlName","constantRateFactor",1,"form-control"],[1,"form-footer"],["type","submit",1,"save",3,"ngClass"],[1,"loading"],[1,"btn-label"],[1,"form-message"],[1,"form-option",3,"ngValue"]],template:function(n,o){1&n&&t.YNc(0,R_,41,8,"div",0),2&n&&t.Q6J("ngIf",o.customForm)},dependencies:[p.mk,p.sg,p.O5,kt._Y,kt.YN,kt.Kr,kt.Fj,kt.EJ,kt.JJ,kt.JL,kt.sg,kt.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .form-option[_ngcontent-%COMP%]{background-color:#131313;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.load[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{animation:auto;border-color:#cc7b19 transparent transparent #cc7b19;border-radius:50%;border-style:solid;border-width:2px;height:16px;margin:-8px 0 0 -8px;width:16px;border-left-color:#fff;border-top-color:#fff;left:-12px;position:absolute;top:50%;transition:left .2s;visibility:hidden;z-index:1}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}.sinovad-manage-media-container[_ngcontent-%COMP%]{display:block}.sinovad-manage-media-section[_ngcontent-%COMP%]{display:block;padding:10px}label[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}.sinovad-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-manage-media-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}']})}return r})(),wo=(()=>{class r{constructor(e,n){this.domSanitizer=e,this.sharedService=n}transform(e,...n){return new Promise((o,u)=>{let T;switch(null!=n[0]?n[0]:""){case"GetImageURLByKey":null!=e&&""!=e&&(T=this.sharedService.configurationData.developerMode?"assets/icon/"+e:this.sharedService.urlSinovadCdn+"/assets/icon/"+e,o(T));break;case"GetAvatarImageURLByProfileId":null!=e&&""!=e&&fetch(this.sharedService.urlSinovadStreamWebApi+"/api/v1/documents/GetAvatarProfile/"+e).then(G=>G.blob()).then(G=>{T=this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(G)),o(T)});break;case"GetSoundUrlByKey":null!=e&&""!=e&&(T=this.sharedService.configurationData.developerMode?"assets/sound/"+e:this.sharedService.urlSinovadCdn+"/assets/sound/"+e,o(T))}})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(c.H7,16),t.Y36(rt,16))};static#t=this.\u0275pipe=t.Yjl({name:"formatDataPipe",type:r,pure:!0})}return r})(),$h=(()=>{class r{constructor(e,n){this.router=e,this.sharedService=n}ngOnInit(){this.sharedService.pageNotFoundShowing=!0}goInitialPage(){this.router.navigateByUrl(null!=this.sharedService.apiToken?"/home":"/landing").then(n=>{this.sharedService.pageNotFoundShowing=!1},n=>{console.error(n)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-not-found"]],decls:12,vars:6,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"sinovad-page-not-found-content","text-center"],[1,"sinovad-logo-container"],[3,"src"],[1,"fs-3"],[1,"lead"],[1,"btn","btn-primary",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"p",4),t._uU(7,"No encontramos la p\xe1gina que esta buscando"),t.qZA(),t.TgZ(8,"p",5),t._uU(9," Has click en el siguiente boton para ir a la p\xe1gina de inicio de Sinovad Stream "),t.qZA(),t.TgZ(10,"button",6),t.NdJ("click",function(){return o.goInitialPage()}),t._uU(11,"Inicio"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))},dependencies:[p.Ov,wo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black;color:#fff}.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:100px;padding:10px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:350px}@media only screen and (max-width: 767px){.sinovad-page-not-found-content[_ngcontent-%COMP%]{margin-bottom:unset}.sinovad-page-not-found-content[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:300px}}"]})}return r})();class lT{}function cT(r,i){if(1&r&&(t.TgZ(0,"h2",9),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.errorMessage)}}function N_(r,i){1&r&&(t.TgZ(0,"h2"),t._uU(1,"Su correo ha sido confirmado, ya puede iniciar sesi\xf3n"),t.qZA())}let L_=(()=>{class r{constructor(e,n,o){this.router=e,this.activeRoute=n,this.restProvider=o,this._window=window,this.showLoading=!1,this.showInvalidTokenMessage=!1,this.showSuccessMessage=!1}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1});let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let u=Vl().decode(e);var n=JSON.parse(u);if(n.ConfirmEmailToken){this.showLoading=!0;var o=new lT;o.ConfirmEmailToken=n.ConfirmEmailToken,o.UserId=n.UserId,this.restProvider.executeSinovadApiService(tn.POST,"/users/ValidateConfirmEmailToken",o).then(g=>{this.showLoading=!1,this.showSuccessMessage=!0},g=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=g,console.error(g)})}else this.router.navigate(["home"],{skipLocationChange:!1})}catch{this.router.navigate(["home"],{skipLocationChange:!1})}else this.router.navigate(["home"],{skipLocationChange:!1})}onClose(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(si))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-confirm-email"]],decls:16,vars:14,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[3,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Confirmaci\xf3n de Email "),t.qZA(),t.YNc(14,cT,2,1,"ng-template",8),t.YNc(15,N_,2,0,"ng-template",8),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("src",t.lcZ(3,4,t.xi3(4,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("src",t.lcZ(10,9,t.xi3(11,11,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",o.showInvalidTokenMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage))},dependencies:[p.O5,p.Ov,wo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}"]})}return r})();class k_{}class dT{}function uT(r,i){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function EM(r,i){1&r&&(t.TgZ(0,"label",20),t._UZ(1,"i",21),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const F_=function(r){return{disable:r}};function B_(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirm())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Cambiar contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Contrase\xf1a "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,uT,3,0,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"label",13),t._uU(16," Confirmaci\xf3n de contrase\xf1a "),t.qZA(),t.TgZ(17,"div",14),t._UZ(18,"input",17),t.YNc(19,EM,3,0,"label",16),t.qZA()(),t.TgZ(20,"div",12)(21,"button",18),t._uU(22,"Confirmar"),t.qZA()(),t.TgZ(23,"div",19),t._uU(24),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.resetPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,6,t.xi3(5,8,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"password")),t.xp6(6),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.resetPasswordForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.resetPasswordForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(11,F_,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function gs(r,i){1&r&&(t.TgZ(0,"div",11),t._uU(1," Cambio de contrase\xf1a "),t.qZA(),t.TgZ(2,"h2"),t._uU(3,"Se cambi\xf3 la contrase\xf1a satisfactoriamente"),t.qZA())}function Gl(r,i){1&r&&(t.TgZ(0,"div",11),t._uU(1," Validaci\xf3n de Token "),t.qZA(),t.TgZ(2,"h2",25),t._uU(3,"Token inv\xe1lido"),t.qZA())}function U_(r,i){if(1&r&&(t.TgZ(0,"div",22)(1,"div",23)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,gs,4,0,"ng-template",24),t.YNc(7,Gl,4,0,"ng-template",24),t.qZA()()),2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",e.showResetPasswordSuccessMessage),t.xp6(1),t.Q6J("ngIf",e.showInvalidTokenMessage)}}let j_=(()=>{class r{constructor(e,n,o,u,g){this.formBuilder=e,this.router=n,this.activeRoute=o,this.restProvider=u,this.sharedService=g,this._window=window,this.showLoading=!1,this.resetPasswordModel=new k_,this.showResetPasswordForm=!1,this.showInvalidTokenMessage=!1,this.showResetPasswordSuccessMessage=!1,this.resetPasswordForm=this.formBuilder.group({password:new kt.NI("",[kt.kI.required]),confirmPassword:new kt.NI("",[kt.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1});let e=this.activeRoute.snapshot.params.base64Data;if(null!=e)try{let u=Vl().decode(e);var n=JSON.parse(u);if(this.resetPasswordToken=n.ResetPasswordToken,this.userId=n.UserId,null!=this.resetPasswordToken&&null!=this.userId){this.showLoading=!0;var o=new dT;o.ResetPasswordToken=this.resetPasswordToken,o.UserId=this.userId,this.restProvider.executeSinovadApiService(tn.POST,"/users/ValidateResetPasswordToken",o).then(g=>{this.showResetPasswordForm=!0,this.showLoading=!1},g=>{this.showLoading=!1,this.showInvalidTokenMessage=!0,this.errorMessage=g,console.error(g)})}else this.showInvalidTokenMessage=!0}catch{this.showInvalidTokenMessage=!0}else this.router.navigate(["home"],{skipLocationChange:!1})}confirm(){this.resetPasswordForm.valid?(this.showLoading=!0,this.resetPasswordModel={ResetPasswordToken:this.resetPasswordToken,UserId:this.userId,Password:this.resetPasswordForm.value.password,ConfirmPassword:this.resetPasswordForm.value.confirmPassword},this.restProvider.executeSinovadApiService(tn.POST,"/users/ResetPassword",this.resetPasswordModel).then(e=>{this.showResetPasswordSuccessMessage=!0,this.showResetPasswordForm=!1,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.resetPasswordForm.markAllAsTouched())}onClickCloseButton(){this.router.navigate(["login"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kt.qu),t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-reset-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","password","formControlName","password"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","confirmPassword"],["type","submit",1,"confirm",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"],[3,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClickCloseButton()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,B_,25,13,"div",5),t.YNc(8,U_,8,8,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&n&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",o.showResetPasswordForm),t.xp6(1),t.Q6J("ngIf",!o.showResetPasswordForm&&(o.showInvalidTokenMessage||o.showResetPasswordSuccessMessage)),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[p.mk,p.O5,kt._Y,kt.Fj,kt.JJ,kt.JL,Ao,kt.sg,kt.u,p.Ov,wo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.confirm[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class Uu{}function Hl(r,i){if(1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.recoverPasswordForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}const qh=function(r){return{disable:r}};function Qc(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.SendRecoverPasswordEmail())}),t.TgZ(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Olvido su contrase\xf1a "),t.qZA(),t.TgZ(8,"div",12)(9,"label",13),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",14),t._UZ(12,"input",15),t.YNc(13,Hl,3,1,"label",16),t.qZA()(),t.TgZ(14,"div",12)(15,"button",17),t._uU(16,"Recuperar contrase\xf1a"),t.qZA()(),t.TgZ(17,"div",18),t._uU(18),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.recoverPasswordForm),t.xp6(2),t.Q6J("src",t.lcZ(4,5,t.xi3(5,7,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.recoverPasswordForm,"email")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,qh,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function V_(r,i){1&r&&(t.TgZ(0,"div",21)(1,"div",22)(2,"div",10),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",11),t._uU(7," Confirmaci\xf3n de olvido de contrase\xf1a "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Por favor verifique su email para recuperar su contrase\xf1a"),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))}let ju=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.router=n,this.restProvider=o,this.sharedService=u,this._window=window,this.showLoading=!1,this.recoverPasswordModel=new Uu,this.sendedConfirmationEmail=!1,this.recoverPasswordForm=this.formBuilder.group({email:new kt.NI("",[kt.kI.required,kt.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}SendRecoverPasswordEmail(){this.recoverPasswordForm.valid?(this.recoverPasswordModel={Email:this.recoverPasswordForm.value.email,ResetPasswordUrl:window.location.origin+"/reset"},this.showLoading=!0,this.restProvider.executeSinovadApiService(tn.POST,"/users/RecoverPassword",this.recoverPasswordModel).then(e=>{this.sendedConfirmationEmail=!0,this.showLoading=!1},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.recoverPasswordForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kt.qu),t.Y36(kn.F0),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-recover-password"]],decls:10,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],["id","button_close_form",3,"click"],[3,"src"],[1,"sinovad-container"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","submit",1,"recover",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,Qc,19,12,"div",5),t.YNc(8,V_,10,6,"div",6),t.qZA(),t._UZ(9,"app-custom-spinner",7)),2&n&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngIf",!o.sendedConfirmationEmail),t.xp6(1),t.Q6J("ngIf",o.sendedConfirmationEmail),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[p.mk,p.O5,kt._Y,kt.Fj,kt.JJ,kt.JL,Ao,kt.sg,kt.u,p.Ov,wo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.recover[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();class Jh{}let Yl=(()=>{class r{constructor(e,n){this.sharedService=e,this.restProvider=n}getLibraries(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(tn.GET,"/libraries/GetAllLibrariesByUserAsync/"+this.sharedService.userData.Id).then(u=>{this.sharedService.libraries=u.Data,e(u)},u=>{console.error(u),n(u)})})}getItems(e,n,o,u,g,T,R){return new Promise((G,ne)=>{let Ee=on();this.lastCallGuid=Ee;var Ue="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+g+"&searchText="+T+"&searchBy="+R;this.restProvider.executeSinovadApiService(tn.GET,"/libraries/GetAllWithPaginationByMediaServerAsync/"+e+Ue).then(Xe=>{this.lastCallGuid==Ee&&G(Xe)},Xe=>{console.error(Xe),ne(Xe)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/libraries/Update":"/libraries/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/libraries/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/libraries/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(rt),t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Xc=(()=>{class r{constructor(e,n){this.sharedService=e,this.restProvider=n}getMediaMenu(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(tn.GET,"/menus/GetMediaMenuByUserAsync/"+this.sharedService.userData.Id).then(u=>{this.sharedService.mediaMenu=u.Data,e(u)},u=>{console.error(u),n(u)})})}getManageMenu(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(tn.GET,"/menus/GetByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.listMenus=o.Data,e(!0)},o=>{n(o)})})}getAllMenus(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(tn.GET,"/menus/GetAllAsync").then(u=>{e(u)},u=>{console.error(u),n(u)})})}getItems(e,n,o,u,g,T){return new Promise((R,G)=>{let ne=on();this.lastCallGuid=ne;var Ee="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+g+"&searchBy="+T;this.restProvider.executeSinovadApiService(tn.GET,"/menus/GetAllWithPaginationAsync"+Ee).then(Ge=>{this.lastCallGuid==ne&&R(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/menus/Update":"/menus/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/menus/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/menus/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(rt),t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ed=(()=>{class r{constructor(e,n){this.sharedService=e,this.restProvider=n}getUser(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(tn.GET,"/users/GetUserData").then(o=>{this.sharedService.userData=o.Data,null==this.sharedService.userData?(this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken")):e(!0)},o=>{console.error(o),n(o)})})}getItems(e,n,o,u,g,T){return new Promise((R,G)=>{let ne=on();this.lastCallGuid=ne;var Ee="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+g+"&searchBy="+T;this.restProvider.executeSinovadApiService(tn.GET,"/users/GetAllWithPaginationAsync"+Ee).then(Ge=>{this.lastCallGuid==ne&&R(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/users/Update":"/users/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/users/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/users/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(rt),t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),td=(()=>{class r{constructor(e,n){this.sharedService=e,this.restProvider=n}getProfileByGuid(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.GET,"/profiles/GetByGuidAsync/"+e).then(u=>{n(u)},u=>{console.error(u),o(u)})})}getAllProfiles(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(tn.GET,"/profiles/GetAllWithPaginationByUserAsync/"+this.sharedService.userData.Id).then(o=>{let u=o.Data;this.sharedService.listProfiles=u,this.sharedService.currentProfile=u[0],e(!0)},o=>{n(o)})})}getProfiles(e,n,o,u,g,T,R){return new Promise((G,ne)=>{let Ee=on();this.lastCallGuid=Ee;var Ue="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+g+"&searchText="+T+"&searchBy="+R;this.restProvider.executeSinovadApiService(tn.GET,"/profiles/GetAllWithPaginationByUserAsync/"+e+Ue).then(Xe=>{this.lastCallGuid==Ee&&G(Xe)},Xe=>{console.error(Xe),ne(Xe)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/profiles/Update":"/profiles/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/profiles/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/profiles/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(rt),t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),nd=(()=>{class r{constructor(e,n){this.sharedService=e,this.restProvider=n}getMediaServers(){return new Promise((e,n)=>{this.restProvider.executeSinovadApiService(tn.GET,"/mediaServers/GetAllByUserAsync/"+this.sharedService.userData.Id).then(o=>{this.sharedService.mediaServers=o.Data,this.checkSecureConnectionMediaServers(),e(!0)},o=>{n(o)})})}checkSecureConnectionMediaServers(){null!=this.sharedService.mediaServers&&this.sharedService.mediaServers.length>0&&this.sharedService.mediaServers.forEach(e=>{this.restProvider.executeHttpMethodByUrl(tn.GET,e.Url+"/api").then(n=>{e.isSecureConnection=!0,null==this.sharedService.selectedMediaServer&&(this.sharedService.selectedMediaServer=this.sharedService.mediaServers.find(o=>o.Id==e.Id))},n=>{e.isSecureConnection=!1})})}getMediaServerByGuid(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.GET,"/mediaServers/GetByGuidAsync/"+e).then(u=>{n(u)},u=>{console.error(u),o(u)})})}getItems(e,n,o,u,g,T,R){return new Promise((G,ne)=>{let Ee=on();this.lastCallGuid=Ee;var Ue="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+g+"&searchText="+T+"&searchBy="+R;this.restProvider.executeSinovadApiService(tn.GET,"/mediaServers/GetAllWithPaginationByUserAsync/"+e+Ue).then(Xe=>{this.lastCallGuid==Ee&&G(Xe)},Xe=>{console.error(Xe),ne(Xe)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/mediaServers/Update":"/mediaServers/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/mediaServers/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/mediaServers/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(rt),t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function fT(r,i){1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function G_(r,i){1&r&&(t.TgZ(0,"label",19),t._UZ(1,"i",20),t._uU(2,"Confirma que hayas agregado la contrase\xf1a correctamente "),t.qZA())}const H_=function(r){return{disable:r}};let Y_=(()=>{class r{constructor(e,n,o,u,g,T,R,G,ne){this.libraryService=e,this.menuService=n,this.userService=o,this.profileService=u,this.serverService=g,this.formBuilder=T,this.router=R,this.restProvider=G,this.sharedService=ne,this._window=window,this.showLoading=!1,this.user=new Jh,this.loginForm=this.formBuilder.group({username:new kt.NI("",[kt.kI.required]),password:new kt.NI("",[kt.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigateByUrl("/home")}ngOnDestroy(){}ngAfterViewInit(){this.initializeLoginViewControls()}initializeLoginViewControls(){}login(){this.loginForm.valid?(this.user={UserName:this.loginForm.value.username,Password:this.loginForm.value.password},this.showLoading=!0,this.restProvider.executeSinovadApiService(tn.POST,"/users/Login",this.user).then(e=>{let n=e.Data;localStorage.setItem("apiToken",n),this.sharedService.apiToken=n,this.sharedService.showSplashScreen=!0,this.userService.getUser().then(o=>{this.menuService.getManageMenu(),this.menuService.getMediaMenu(),this.libraryService.getLibraries(),this.serverService.getMediaServers(),this.profileService.getAllProfiles().then(u=>{this.router.navigate(["select-profile"],{skipLocationChange:!1})},u=>{console.error(u)})},o=>{console.error(o)})},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.loginForm.markAllAsTouched())}onClose(){this.router.navigateByUrl("/landing")}showRecoverPasswordPage(){this.router.navigateByUrl("/recover")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Yl),t.Y36(Xc),t.Y36(ed),t.Y36(td),t.Y36(nd),t.Y36(kt.qu),t.Y36(kn.F0),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:36,vars:23,consts:[[1,"sinovad-back-button-container"],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","username"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","password","formControlName","password"],["password",""],["type","submit",1,"enter",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"recover",3,"ngClass","click"],[3,"showLoading"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.onClose()}),t._UZ(2,"img",2),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"form",5),t.NdJ("ngSubmit",function(){return o.login()}),t.TgZ(8,"div",6),t._UZ(9,"img",2),t.ALo(10,"async"),t.ALo(11,"formatDataPipe"),t.qZA(),t.TgZ(12,"div",7),t._uU(13," Inicia sesi\xf3n "),t.qZA(),t.TgZ(14,"div",8)(15,"label",9),t._uU(16," Usuario "),t.qZA(),t.TgZ(17,"div",10),t._UZ(18,"input",11),t.YNc(19,fT,3,0,"label",12),t.qZA()(),t.TgZ(20,"div",8)(21,"label",9),t._uU(22," Contrase\xf1a "),t.qZA(),t.TgZ(23,"div",10),t._UZ(24,"input",13,14),t.YNc(26,G_,3,0,"label",12),t.qZA()(),t.TgZ(27,"div",8)(28,"button",15),t._uU(29,"INGRESAR"),t.qZA()(),t.TgZ(30,"div",16),t._uU(31),t.qZA(),t.TgZ(32,"div",8)(33,"button",17),t.NdJ("click",function(){return o.showRecoverPasswordPage()}),t._uU(34,"OLVIDASTE TU CONTRASE\xd1A?"),t.qZA()()()()(),t._UZ(35,"app-custom-spinner",18)),2&n&&(t.xp6(2),t.Q6J("src",t.lcZ(3,9,t.xi3(4,11,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("formGroup",o.loginForm),t.xp6(2),t.Q6J("src",t.lcZ(10,14,t.xi3(11,16,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(10),t.Q6J("ngIf",o.sharedService.isInvalidFormControl(o.loginForm,"username")&&o.sharedService.hasRequireErrorFormControl(o.loginForm,"username")),t.xp6(7),t.Q6J("ngIf",o.sharedService.isInvalidFormControl(o.loginForm,"password")&&o.sharedService.hasRequireErrorFormControl(o.loginForm,"password")),t.xp6(2),t.Q6J("ngClass",t.VKq(19,H_,o.showLoading)),t.xp6(3),t.hij(" ",o.errorMessage," "),t.xp6(2),t.Q6J("ngClass",t.VKq(21,H_,o.showLoading)),t.xp6(2),t.Q6J("showLoading",o.showLoading))},dependencies:[p.mk,p.O5,kt._Y,kt.Fj,kt.JJ,kt.JL,Ao,kt.sg,kt.u,p.Ov,wo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}button.enter[_ngcontent-%COMP%]{background-color:#007bff}button.recover[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();class hT{}function mT(r,i){if(1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2),t.qZA()),2&r){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado el email correctamente":e.sharedService.hasErrorPatternFormControl(e.registerUserForm,"email")?"Confirma que hayas agregado un email con formato v\xe1lido":""," ")}}function K_(r,i){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los nombres correctamente "),t.qZA())}function W_(r,i){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado los apellidos correctamente "),t.qZA())}function gT(r,i){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el usuario correctamente "),t.qZA())}function pT(r,i){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado el password correctamente "),t.qZA())}function Jo(r,i){1&r&&(t.TgZ(0,"label",26),t._UZ(1,"i",27),t._uU(2,"Confirma que hayas agregado la confirmaci\xf3n del password correctamente "),t.qZA())}const Kl=function(r){return{error:r}},_T=function(r){return{disable:r}};function TM(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",9)(1,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.register())}),t.TgZ(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Reg\xedstrate "),t.qZA(),t.TgZ(8,"div",13)(9,"label",14),t._uU(10," Correo electr\xf3nico "),t.qZA(),t.TgZ(11,"div",15),t._UZ(12,"input",16),t.YNc(13,mT,3,1,"label",17),t.qZA()(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16," Nombres "),t.qZA(),t.TgZ(17,"div",15),t._UZ(18,"input",18),t.YNc(19,K_,3,0,"label",17),t.qZA()(),t.TgZ(20,"div",13)(21,"label",14),t._uU(22," Apellidos "),t.qZA(),t.TgZ(23,"div",15),t._UZ(24,"input",19),t.YNc(25,W_,3,0,"label",17),t.qZA()(),t.TgZ(26,"div",13)(27,"label",14),t._uU(28," Usuario "),t.qZA(),t.TgZ(29,"div",15),t._UZ(30,"input",20),t.YNc(31,gT,3,0,"label",17),t.qZA()(),t.TgZ(32,"div",13)(33,"label",14),t._uU(34," Contrase\xf1a "),t.qZA(),t.TgZ(35,"div",15),t._UZ(36,"input",21),t.YNc(37,pT,3,0,"label",17),t.qZA()(),t.TgZ(38,"div",13)(39,"label",14),t._uU(40," Confirmar contrase\xf1a "),t.qZA(),t.TgZ(41,"div",15),t._UZ(42,"input",22),t.YNc(43,Jo,3,0,"label",17),t.qZA()(),t.TgZ(44,"div",23)(45,"button",24),t._uU(46,"Registrar"),t.qZA()(),t.TgZ(47,"div",25),t._uU(48),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.registerUserForm),t.xp6(2),t.Q6J("src",t.lcZ(4,16,t.xi3(5,18,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngClass",t.VKq(21,Kl,e.sharedService.isInvalidFormControl(e.registerUserForm,"email"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"email")),t.xp6(1),t.Q6J("ngClass",t.VKq(23,Kl,e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"firstName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"firstName")),t.xp6(1),t.Q6J("ngClass",t.VKq(25,Kl,e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"lastName")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"lastName")),t.xp6(1),t.Q6J("ngClass",t.VKq(27,Kl,e.sharedService.isInvalidFormControl(e.registerUserForm,"username"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"username")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"username")),t.xp6(1),t.Q6J("ngClass",t.VKq(29,Kl,e.sharedService.isInvalidFormControl(e.registerUserForm,"password"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"password")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"password")),t.xp6(1),t.Q6J("ngClass",t.VKq(31,Kl,e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword"))),t.xp6(5),t.Q6J("ngIf",e.sharedService.isInvalidFormControl(e.registerUserForm,"confirmPassword")&&e.sharedService.hasRequireErrorFormControl(e.registerUserForm,"confirmPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(33,_T,e.showLoading)),t.xp6(3),t.hij(" ",e.errorMessage," ")}}function Qh(r,i){1&r&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",11),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",12),t._uU(7," Registro de Usuario "),t.qZA(),t.TgZ(8,"h2"),t._uU(9,"Usuario registrado satistactoriamente, verifique su correo electr\xf3nico y active su cuenta por favor."),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("src",t.lcZ(4,1,t.xi3(5,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))}let Xh=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.router=n,this.restProvider=o,this.sharedService=u,this._window=window,this.showLoading=!1,this.showSuccessMessage=!1,this.registerUserModel=new hT,this.registerUserForm=this.formBuilder.group({email:new kt.NI("",[kt.kI.required,kt.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),firstName:new kt.NI("",[kt.kI.required]),lastName:new kt.NI("",[kt.kI.required]),username:new kt.NI("",[kt.kI.required]),password:new kt.NI("",[kt.kI.required]),confirmPassword:new kt.NI("",[kt.kI.required])})}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigate(["home"],{skipLocationChange:!1})}register(){this.registerUserForm.valid?(this.registerUserModel={Email:this.registerUserForm.value.email,FirstName:this.registerUserForm.value.firstName,LastName:this.registerUserForm.value.lastName,UserName:this.registerUserForm.value.username,Password:this.registerUserForm.value.password,ConfirmPassword:this.registerUserForm.value.confirmPassword,ConfirmEmailUrl:window.location.origin+"/confirm"},this.showLoading=!0,this.restProvider.executeSinovadApiService(tn.POST,"/users/Register",this.registerUserModel).then(e=>{console.log("Registrado exitosamente"),this.showLoading=!1,this.showSuccessMessage=!0},e=>{this.showLoading=!1,this.errorMessage=e,console.error(e)})):(this.errorMessage=void 0,this.registerUserForm.markAllAsTouched())}onClose(){this.router.navigate(["landing"],{skipLocationChange:!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kt.qu),t.Y36(kn.F0),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-register-user"]],decls:11,vars:9,consts:[[1,"sinovad-back-button-container"],["header",""],[3,"click"],[3,"src"],[1,"sinovad-container"],[1,"sinovad-form-backdrop"],["class","sinovad-form-container",4,"ngIf"],["class","sinovad-message-container",4,"ngIf"],[3,"showLoading"],[1,"sinovad-form-container"],[1,"sinovad-form-content",3,"formGroup","ngSubmit"],[1,"sinovad-logo-container"],[1,"sinovad-title-container"],[1,"mb-3",3,"ngClass"],[1,"form-label"],[1,"sinovad-form-textinput-container"],["type","text","formControlName","email"],["class","sinovad-form-invalid-input-message",4,"ngIf"],["type","text","formControlName","firstName"],["type","text","formControlName","lastName"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","password","formControlName","confirmPassword"],[1,"mb-3"],["type","submit",1,"register",3,"ngClass"],[1,"sinovad-form-error-message-container"],[1,"sinovad-form-invalid-input-message"],[1,"fa-solid","fa-circle-exclamation","me-2"],[1,"sinovad-message-container"],[1,"sinovad-message-content"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1)(2,"button",2),t.NdJ("click",function(){return o.onClose()}),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,TM,49,35,"div",6),t.YNc(9,Qh,10,6,"div",7),t.qZA()(),t._UZ(10,"app-custom-spinner",8)),2&n&&(t.xp6(3),t.Q6J("src",t.lcZ(4,4,t.xi3(5,6,"back-screen.png","GetImageURLByKey")),t.LSH),t.xp6(5),t.Q6J("ngIf",!o.showSuccessMessage),t.xp6(1),t.Q6J("ngIf",o.showSuccessMessage),t.xp6(1),t.Q6J("showLoading",o.showLoading))},dependencies:[p.mk,p.O5,kt._Y,kt.Fj,kt.JJ,kt.JL,Ao,kt.sg,kt.u,p.Ov,wo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:black}.sinovad-form-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}button.register[_ngcontent-%COMP%]{background-color:#007bff}"]})}return r})();const vT=["loginFormContainer"];let z_=(()=>{class r{constructor(e,n,o){this.router=e,this.activeRoute=n,this.sharedService=o,this._window=window,this.showLoading=!1}ngOnInit(){localStorage.getItem("apiToken")&&this.router.navigateByUrl("/home")}showLoginPage(){this.router.navigateByUrl("/login")}showRegisterPage(){this.router.navigateByUrl("/register")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-landing"]],viewQuery:function(n,o){if(1&n&&t.Gf(vT,5),2&n){let u;t.iGM(u=t.CRH())&&(o.loginFormContainer=u.first)}},decls:12,vars:6,consts:[["id","sinovad-container",1,"sinovad-container"],[1,"sinovad-form-container"],[1,"sinovad-form-content"],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-form-button-section"],[1,"register",3,"click"],[1,"login",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.ALo(5,"async"),t.ALo(6,"formatDataPipe"),t.qZA(),t.TgZ(7,"div",5)(8,"button",6),t.NdJ("click",function(){return o.showRegisterPage()}),t._uU(9,"REG\xcdSTRATE"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.showLoginPage()}),t._uU(11,"INICIA SESI\xd3N"),t.qZA()()()()()),2&n&&(t.xp6(4),t.Q6J("src",t.lcZ(5,1,t.xi3(6,3,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH))},dependencies:[p.Ov,wo],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black;color:#fff;position:absolute;align-items:center;justify-content:center;display:flex}.sinovad-form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:300px}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:100%;cursor:pointer;color:#fff;padding:10px;text-align:center;border-radius:5px;font-size:14px;opacity:.8;margin-bottom:10px;font-weight:700}.sinovad-form-button-section[_ngcontent-%COMP%]   button.register[_ngcontent-%COMP%]{background-color:#007bff}.sinovad-form-button-section[_ngcontent-%COMP%]   button.login[_ngcontent-%COMP%]{background-color:#2e303d}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-form-button-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}button.register[_ngcontent-%COMP%]{background-color:#007bff}button.login[_ngcontent-%COMP%]{background-color:#2e303d}"]})}return r})();const yT=function(r,i){return{load:r,disable:i}};function Z_(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),t._uU(10,"Privado"),t.qZA(),t.TgZ(11,"span",8)(12,"span",9),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",5)(15,"form",10),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateMediaServer())}),t.TgZ(16,"div",5)(17,"label",11),t._uU(18,"Nombre Familiar"),t.qZA(),t._UZ(19,"input",12),t.TgZ(20,"p",13),t._uU(21,"Este nombre se usar\xe1 para que otros ordenadores identifiquen este servidor en tu red. Si lo dejas en blanco se usar\xe1 el nombre del equipo."),t.qZA()(),t.TgZ(22,"div",14)(23,"button",15),t._UZ(24,"div",16),t.TgZ(25,"span",17),t._uU(26,"Guardar cambios"),t.qZA()(),t._UZ(27,"span",18),t.qZA()()()()()()()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - General"),t.xp6(11),t.Oqu(e.mediaServer.Url),t.xp6(2),t.Q6J("formGroup",e.customForm),t.xp6(4),t.Q6J("placeholder",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName),t.xp6(4),t.Q6J("ngClass",t.WLB(5,yT,e.loading,e.customForm.pristine||e.customForm.invalid))}}let $_=(()=>{class r{constructor(e,n,o,u,g,T,R){this.serverService=e,this.snackBarService=n,this.formBuilder=o,this.router=u,this.activeRoute=g,this.restProvider=T,this.sharedService=R,this.loading=!1,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){this.getMediaServerData()}getMediaServerData(){var e=this;return Fu(function*(){e.serverService.getMediaServerByGuid(e.activeRoute.snapshot.params.serverGuid).then(o=>{var u=o.Data,g=e.sharedService.mediaServers.find(T=>T.Id==u.Id);u.isSecureConnection=g.isSecureConnection,e.sharedService.selectedMediaServer=u,e.mediaServer=u,e.customForm=e.formBuilder.group({familyName:new kt.NI(e.mediaServer.FamilyName)})},o=>{e.router.navigateByUrl("/404")})})()}ngAfterViewInit(){}updateMediaServer(){this.loading=!0;var n=JSON.parse(JSON.stringify(this.mediaServer));n.FamilyName=this.customForm.value.familyName,this.restProvider.executeSinovadApiService(tn.PUT,"/mediaServers/Update",n).then(o=>{this.loading=!1,this.serverService.getMediaServers(),this.getMediaServerData(),this.snackBarService.showSnackBar("Se guardaron los cambios satisfactoriamente",Jn.Success)},o=>{this.loading=!1,console.error(o)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(nd),t.Y36(yr),t.Y36(kt.qu),t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-server-setttings-general"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"server-settings-container"],[1,"settings-row"],[1,"pane-region"],[1,"form-group"],[1,"remote-access-mapping"],[1,"mapping-label"],[1,"mapping-address"],[1,"mapping-value"],[1,"server-settings-form",3,"formGroup","ngSubmit"],[1,"control-label"],["type","text","formControlName","familyName",1,"form-control",3,"placeholder"],[1,"help-block"],[1,"form-footer"],["type","submit",1,"save",3,"ngClass"],[1,"loading"],[1,"btn-label"],[1,"form-message"]],template:function(n,o){1&n&&t.YNc(0,Z_,28,8,"div",0),2&n&&t.Q6J("ngIf",o.mediaServer)},dependencies:[p.mk,p.O5,kt._Y,kt.Fj,kt.JJ,kt.JL,kt.sg,kt.u],styles:['.sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}.sinovad-page-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   .server-settings-container[_ngcontent-%COMP%]{position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px}.sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:after, .sinovad-page-container[_ngcontent-%COMP%]   .settings-row[_ngcontent-%COMP%]:before{content:" ";display:table}.sinovad-page-container[_ngcontent-%COMP%]   .pane-region[_ngcontent-%COMP%]{min-height:1px;padding-left:15px;padding-right:15px;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.sinovad-page-container[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:5px;color:#eee}.sinovad-page-container[_ngcontent-%COMP%]   .remote-access-mapping[_ngcontent-%COMP%]{padding-top:18px}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-label[_ngcontent-%COMP%]{margin-right:5px;color:#999}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-address[_ngcontent-%COMP%]{font-size:0}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-value[_ngcontent-%COMP%]{font-size:14px;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .mapping-separator[_ngcontent-%COMP%]{margin:0 4px;font-size:14px}.sinovad-page-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#ffffff40;border-radius:3px;color:#eee;display:block;font-size:14px;height:38px;padding:6px 12px;vertical-align:middle;width:100%;border:0;box-shadow:none;line-height:1.5em;transition:background-color .2s;max-width:400px}.sinovad-page-container[_ngcontent-%COMP%]   .help-block[_ngcontent-%COMP%]{display:block;font-size:13px;margin-bottom:10px;margin-top:5px;color:#ffffff73}.sinovad-page-container[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{align-items:center;display:flex;margin-top:40px}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]{border-radius:3px;font-size:16px;line-height:1.33;padding:10px 18px;flex-shrink:0;text-transform:capitalize;border:0;overflow:hidden;position:relative;cursor:pointer;display:inline-block;font-weight:400;margin-bottom:0;text-align:center;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;color:#fff;background-color:#007bff;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   button.save[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   button.save.load[_ngcontent-%COMP%]{pointer-events:none}.sinovad-page-container[_ngcontent-%COMP%]   button.save.disable[_ngcontent-%COMP%]{pointer-events:none;opacity:.4}.sinovad-page-container[_ngcontent-%COMP%]   .form-message[_ngcontent-%COMP%]{color:#999;margin:0 20px}.sinovad-page-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{animation:auto;border-color:#cc7b19 transparent transparent #cc7b19;border-radius:50%;border-style:solid;border-width:2px;height:16px;margin:-8px 0 0 -8px;width:16px;border-left-color:#fff;border-top-color:#fff;left:-12px;position:absolute;top:50%;transition:left .2s;visibility:hidden;z-index:1}.sinovad-page-container[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}']})}return r})();var Gs=C(3452);let em=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[kt.u5,kt.UX,Gs.m,kn.Bz]})}return r})(),bT=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[kt.u5,kt.UX,Gs.m,kn.Bz]})}return r})(),ET=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[p.ez,kt.u5,Gs.m]})}return r})(),TT=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[p.ez,kt.u5,em,bT,kt.UX,Gs.m,ET,kn.Bz.forChild([])]})}return r})(),ST=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[p.ez,kt.u5,kt.UX,Gs.m]})}return r})();function CT(r,i){1&r&&(t.TgZ(0,"div",27),t._UZ(1,"mat-spinner"),t.qZA())}function ka(r,i){1&r&&(t.TgZ(0,"th",28),t._uU(1,"N\xb0"),t.qZA())}function tm(r,i){if(1&r&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function DT(r,i){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre del dispositivo"),t.qZA())}function q_(r,i){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.DeviceName," ")}}function xT(r,i){1&r&&(t.TgZ(0,"th",30),t._uU(1,"Nombre familiar"),t.qZA())}function J_(r,i){if(1&r&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.FamilyName," ")}}function Q_(r,i){1&r&&(t.TgZ(0,"th",32),t._uU(1,"IP Privada"),t.qZA())}function Vu(r,i){if(1&r&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.IpAddress," ")}}function nm(r,i){1&r&&(t.TgZ(0,"th",34),t._uU(1,"Puerto"),t.qZA())}function SM(r,i){if(1&r&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Port," ")}}function X_(r,i){1&r&&t._UZ(0,"tr",36)}function ev(r,i){1&r&&t._UZ(0,"tr",37)}function tv(r,i){1&r&&(t.TgZ(0,"td",40),t._uU(1,"No se encontraron datos"),t.qZA())}function nv(r,i){if(1&r&&(t.TgZ(0,"tr",38),t.YNc(1,tv,2,0,"td",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const im=function(){return[5,10,25,100]};let ns=(()=>{class r extends _i{constructor(e,n,o,u){super(o),this.dialog=e,this.mediaServerService=n,this.matPaginatorIntl=o,this.snackbarService=u}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="DeviceName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"DeviceName",start:"asc",disableClear:!0}),this.searchBy="IpAddress|Port|FamilyName|DeviceName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.mediaServerService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new xn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new ni.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el servidor "+e.DeviceName+"?",accordMessage:"Si, eliminar el servidor '"+e.DeviceName+"'"},this.dialog.open(wi,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.mediaServerService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Jn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ni.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(wi,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.mediaServerService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Jn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Jn.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","DeviceName","FamilyName","IpAddress","Port"]:window.innerWidth>475?["Id","DeviceName","FamilyName"]:["Id","DeviceName"]}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ni.uw),t.Y36(nd),t.Y36(Si.ye),t.Y36(yr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Si.NW,5),t.Gf(Rn.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:37,vars:8,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","DeviceName"],["mat-header-cell","","mat-sort-header","","style","width:calc(50% - 140px);text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:calc(50% - 165px);text-align: left;",4,"matCellDef"],["matColumnDef","FamilyName"],["matColumnDef","IpAddress"],["mat-header-cell","","mat-sort-header","","style","width:150px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:150px;text-align: left;",4,"matCellDef"],["matColumnDef","Port"],["mat-header-cell","","mat-sort-header","","style","width:80px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:80px;text-align: left;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","calc(50% - 140px)","text-align","left"],["mat-cell","",2,"width","calc(50% - 165px)","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","150px","text-align","left"],["mat-cell","",2,"width","150px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"width","80px","text-align","left"],["mat-cell","",2,"width","80px","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(g){return o.applyFilter(g)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,CT,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,ka,2,0,"th",11),t.YNc(18,tm,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,DT,2,0,"th",14),t.YNc(21,q_,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,xT,2,0,"th",14),t.YNc(24,J_,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,Q_,2,0,"th",18),t.YNc(27,Vu,2,1,"td",19),t.BQk(),t.ynx(28,20),t.YNc(29,nm,2,0,"th",21),t.YNc(30,SM,2,1,"td",22),t.BQk(),t.YNc(31,X_,1,0,"tr",23),t.YNc(32,ev,1,0,"tr",24),t.YNc(33,nv,2,1,"tr",25),t.qZA()()()()(),t.TgZ(34,"div",1)(35,"div",3),t._UZ(36,"mat-paginator",26),t.qZA()()()()),2&n&&(t.xp6(3),t.hij("",o.parentItem.UserName," : Servidores multimedia"),t.xp6(10),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(7,im)))},dependencies:[p.O5,Si.NW,xn.BZ,xn.fO,xn.as,xn.w1,xn.Dz,xn.nj,xn.ge,xn.ev,xn.XQ,xn.Gk,xn.Ee,Qr.Nt,vi.KE,vi.hX,Rn.YE,Rn.nU,qo.Ou],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:850px!important}"]})}return r})();function MT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t._UZ(1,"h5",2),t.TgZ(2,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(3,"i",4),t.qZA()(),t.TgZ(4,"div",5),t._UZ(5,"app-media-server-list",6),t.qZA(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(8,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("parentItem",e.parent)}}let AT=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Jr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(n,o){1&n&&t.YNc(0,MT,9,1,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.parent)},dependencies:[p.O5,ns]})}return r})(),ps=(()=>{class r{constructor(e){this.elementRef=e,this.clickOutside=new t.vpe}ngOnInit(){}ngAfterViewInit(){}onClick(e,n){n&&(this.elementRef.nativeElement.contains(n)||this.clickOutside.emit(e))}onContextMenu(){console.log("contextmenu")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.SBq))};static#t=this.\u0275dir=t.lG2({type:r,selectors:[["","clickOutside",""]],hostBindings:function(n,o){1&n&&t.NdJ("click",function(g){return o.onClick(g,g.target)},!1,t.Jf7)("contextmenu",function(){return o.onContextMenu()})},outputs:{clickOutside:"clickOutside"}})}return r})();function wT(r,i){if(1&r&&t._UZ(0,"img",7),2&r){const e=t.oxw().$implicit;t.Q6J("src",e.imageUrl,t.LSH)}}function IT(r,i){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.iconClass)}}function OT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.onClickContextMenuOption(u))}),t.TgZ(1,"div",3),t.YNc(2,wT,1,1,"img",4),t.YNc(3,IT,1,3,"i",5),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.qZA()()}if(2&r){const e=i.$implicit;t.Udp("border-bottom",e.showBorderBottom?"1px solid black":""),t.xp6(2),t.Q6J("ngIf",e.imageUrl),t.xp6(1),t.Q6J("ngIf",e.iconClass),t.xp6(2),t.hij(" ",e.text," ")}}let iv=(()=>{class r{constructor(){this.hideContextMenu=new t.vpe,this.clickOption=new t.vpe}onClickOutside(){this.hideContextMenu.emit(!0)}onClickContextMenuOption(e){this.clickOption.emit(e)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-context-menu"]],decls:2,vars:5,consts:[[1,"sinovad-context-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-context-menu-option",3,"click"],[1,"sinovad-context-menu-option-icon"],["style","width:24px;",3,"src",4,"ngIf"],[3,"class",4,"ngIf"],[1,"sinovad-context-menu-option-text"],[2,"width","24px",3,"src"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(){return o.onClickOutside()}),t.YNc(1,OT,6,5,"ng-template",1),t.qZA()),2&n&&(t.Udp("top",o.top+"px")("left",o.left+"px"),t.xp6(1),t.Q6J("ngForOf",o.listOptions))},dependencies:[p.sg,p.O5,ps],styles:[".sinovad-context-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;color:#fff}.sinovad-context-menu-option[_ngcontent-%COMP%]{display:flex;padding:10px;cursor:pointer;align-items:center;opacity:.8}.sinovad-context-menu-option[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-context-menu-option-icon[_ngcontent-%COMP%]{display:block}.sinovad-context-menu-option-text[_ngcontent-%COMP%]{padding-left:10px;display:block}"]})}return r})(),PT=(()=>{class r{constructor(e,n,o){this.factoryResolver=e,this.injector=n,this.applicationRef=o}show(e,n,o,u){return new Promise((g,T)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const G=this.factoryResolver.resolveComponentFactory(iv).create(this.injector);this.lastViewRef=G.hostView,this.applicationRef.attachView(G.hostView);let ne=this;G.instance.left=n,G.instance.top=o,G.instance.listOptions=u,G.instance.clickOption.subscribe(Ge=>{G.destroy(),ne.applicationRef.detachView(G.hostView),g(Ge)}),G.instance.hideContextMenu.subscribe(Ge=>{G.destroy(),ne.applicationRef.detachView(G.hostView),T(!0)});const Ee=G.hostView.rootNodes[0];document.getElementById(e).appendChild(Ee)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Gu(r,i){1&r&&(t.TgZ(0,"div",23),t._UZ(1,"mat-spinner"),t.qZA())}function id(r,i){1&r&&(t.TgZ(0,"th",24),t._uU(1,"N\xb0"),t.qZA())}function Hu(r,i){if(1&r&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function CM(r,i){1&r&&(t.TgZ(0,"th",26),t._uU(1," Usuario "),t.qZA())}function RT(r,i){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.UserName," ")}}function rv(r,i){1&r&&(t.TgZ(0,"th",26),t._uU(1," Correo "),t.qZA())}function ov(r,i){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Email," ")}}function NT(r,i){1&r&&(t.TgZ(0,"th",26),t._uU(1," Nombres "),t.qZA())}function LT(r,i){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.FirstName," ")}}function av(r,i){1&r&&(t.TgZ(0,"th",26),t._uU(1," Apellidos "),t.qZA())}function sv(r,i){if(1&r&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.LastName," ")}}function rd(r,i){1&r&&t._UZ(0,"tr",28)}const kT=function(r){return{active:r}};function lv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"tr",29),t.NdJ("contextmenu",function(o){const g=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.onContextMenuItem(o,g))}),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw();t.Q6J("ngClass",t.VKq(1,kT,n.lastSelectedItem&&e.Id==n.lastSelectedItem.Id))}}function cv(r,i){1&r&&(t.TgZ(0,"td",32),t._uU(1,"No se encontraron datos"),t.qZA())}function FT(r,i){if(1&r&&(t.TgZ(0,"tr",30),t.YNc(1,cv,2,0,"td",31),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const BT=function(){return[5,10,25,100]};let Wl=(()=>{class r extends _i{constructor(e,n,o,u,g,T){super(g),this.modalService=e,this.contextMenuService=n,this.dialog=o,this.userService=u,this.matPaginatorIntl=g,this.snackbarService=T}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="UserName",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"UserName",start:"asc",disableClear:!0}),this.searchBy="UserName|Email|FirstName|LastName",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}getAllItems(){this.showLoading=!0,this.userService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new xn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new ni.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el usuario "+e.UserName+"?",accordMessage:"Si, eliminar el usuario '"+e.UserName+"'"},this.dialog.open(wi,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.userService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Jn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ni.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(wi,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.userService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Jn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Jn.Error)})}getDisplayedColumns(){return window.innerWidth>600?["Id","UserName","Email","FirstName","LastName"]:window.innerWidth>475?["Id","UserName","Email","LastName"]:window.innerWidth>375?["Id","UserName","Email"]:["Id","UserName"]}onContextMenuItem(e,n){this.lastSelectedItem=n,e.preventDefault(),e.stopPropagation();let o=[];o.push({key:"ShowMediaServers",text:"Servidores multimedia",iconClass:"fa-solid fa-server"}),o&&o.length>0&&this.renderContextMenuComponent(e.clientX,e.clientY,o,n)}renderContextMenuComponent(e,n,o,u){this.contextMenuService.show("sinovadMainContainer",e,n,o).then(g=>{"ShowMediaServers"==g.key&&this.showMediaServerListModal(u)},()=>{this.lastSelectedItem=void 0})}showMediaServerListModal(e){var n=this,o=this.modalService.open(AT,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(u=>{n.lastSelectedItem=void 0})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Mo),t.Y36(PT),t.Y36(ni.uw),t.Y36(ed),t.Y36(Si.ye),t.Y36(yr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Si.NW,5),t.Gf(Rn.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:37,vars:7,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","","style","width:50px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","width:50px;text-align: center;",4,"matCellDef"],["matColumnDef","UserName"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","FirstName"],["matColumnDef","LastName"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","custom-tr-hoverable",3,"ngClass","contextmenu",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",2,"width","50px","text-align","center"],["mat-cell","",2,"width","50px","text-align","center"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-row",""],["mat-row","",1,"custom-tr-hoverable",3,"ngClass","contextmenu"],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Usuarios"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Buscar"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(g){return o.applyFilter(g)}),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,Gu,2,0,"div",7),t.TgZ(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,id,2,0,"th",11),t.YNc(18,Hu,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,CM,2,0,"th",14),t.YNc(21,RT,2,1,"td",15),t.BQk(),t.ynx(22,16),t.YNc(23,rv,2,0,"th",14),t.YNc(24,ov,2,1,"td",15),t.BQk(),t.ynx(25,17),t.YNc(26,NT,2,0,"th",14),t.YNc(27,LT,2,1,"td",15),t.BQk(),t.ynx(28,18),t.YNc(29,av,2,0,"th",14),t.YNc(30,sv,2,1,"td",15),t.BQk(),t.YNc(31,rd,1,0,"tr",19),t.YNc(32,lv,1,3,"tr",20),t.YNc(33,FT,2,1,"tr",21),t.qZA()()()()(),t.TgZ(34,"div",1)(35,"div",3),t._UZ(36,"mat-paginator",22),t.qZA()()()()),2&n&&(t.xp6(13),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(6,BT)))},dependencies:[p.mk,p.O5,Si.NW,xn.BZ,xn.fO,xn.as,xn.w1,xn.Dz,xn.nj,xn.ge,xn.ev,xn.XQ,xn.Gk,xn.Ee,Qr.Nt,vi.KE,vi.hX,Rn.YE,Rn.nU,qo.Ou]})}return r})();class UT{}let jT=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,n,o,u,g,T){return new Promise((R,G)=>{let ne=on();this.lastCallGuid=ne;var Ee="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+g+"&searchBy="+T;this.restProvider.executeSinovadApiService(tn.GET,"/roles/GetAllWithPaginationAsync"+Ee).then(Ge=>{this.lastCallGuid==ne&&R(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/roles/Update":"/roles/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/roles/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/roles/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function VT(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function GT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,VT,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-checkbox",9),t._uU(13,"Activo"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(16,"Close"),t.qZA(),t.TgZ(17,"button",12),t._uU(18,"Guardar"),t.qZA()()(),t._UZ(19,"app-custom-spinner",13)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.roleFormGroup),t.xp6(3),t.Oqu(e.role&&e.role.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.roleFormGroup.controls.name.hasError("required")),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.roleFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let HT=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.activeModal=n,this.snackbarService=o,this.roleService=u,this.showLoading=!1,this.matcher=new Mn}ngAfterViewInit(){this.roleFormGroup=this.formBuilder.group({name:new kt.NI(this.role.Name,[kt.kI.required]),enabled:new kt.NI(this.role.Enabled)})}saveItem(){if(this.roleFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.role));e.Name=this.roleFormGroup.value.name,e.Enabled=this.roleFormGroup.value.enabled,this.roleService.saveItem(e).then(n=>{this.showLoading=!1,this.role=void 0,this.snackbarService.showSnackBar("Se guardo el rol satisfactoriamente",Jn.Success),this.activeModal.close()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}else this.roleFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kt.qu),t.Y36(Jr),t.Y36(yr),t.Y36(jT))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-form"]],inputs:{role:"role"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","name","matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,GT,20,6,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.role&&o.roleFormGroup)},dependencies:[kt._Y,kt.Fj,kt.JJ,kt.JL,kt.sg,kt.u,Ao,p.O5,Qr.Nt,vi.KE,vi.hX,vi.TO,aa.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function YT(r,i){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function KT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function WT(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const g=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.onChangeCheckValue(o,g))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function zT(r,i){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function dv(r,i){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function rm(r,i){1&r&&(t.TgZ(0,"th",39),t._uU(1," Nombre "),t.qZA())}function ZT(r,i){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function Yu(r,i){1&r&&t._UZ(0,"th",41)}function $T(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.editItem(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function qT(r,i){1&r&&t._UZ(0,"tr",47)}function JT(r,i){1&r&&t._UZ(0,"tr",48)}function QT(r,i){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function XT(r,i){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,QT,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const eS=function(r){return{disable:r}},uv=function(){return[5,10,25,100]};let om=(()=>{class r extends _i{constructor(e,n,o,u,g){super(o),this.modalService=e,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=u,this.roleService=g,this.displayedColumns=["Select","Id","Name","Actions"]}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new UT;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(HT,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.role=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.roleService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new xn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new ni.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el rol "+e.Name+"?",accordMessage:"Si, eliminar el rol '"+e.Name+"'"},this.dialog.open(wi,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.roleService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Jn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ni.vA;e.data={title:"Eliminar roles",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(wi,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.roleService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Jn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Jn.Error)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Mo),t.Y36(ni.uw),t.Y36(Si.ye),t.Y36(yr),t.Y36(jT))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-role-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Si.NW,5),t.Gf(Rn.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:41,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Roles"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(g){return o.applyFilter(g)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,YT,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,KT,2,2,"th",17),t.YNc(25,WT,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,zT,2,0,"th",20),t.YNc(28,dv,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,rm,2,0,"th",23),t.YNc(31,ZT,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,Yu,1,0,"th",26),t.YNc(34,$T,6,0,"td",27),t.BQk(),t.YNc(35,qT,1,0,"tr",28),t.YNc(36,JT,1,0,"tr",29),t.YNc(37,XT,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,eS,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,uv)))},dependencies:[p.mk,p.O5,Si.NW,xn.BZ,xn.fO,xn.as,xn.w1,xn.Dz,xn.nj,xn.ge,xn.ev,xn.XQ,xn.Gk,xn.Ee,Qr.Nt,vi.KE,vi.hX,Rn.YE,Rn.nU,aa.oG,qo.Ou,ms.gM]})}return r})();class fv{}var hv=C(3680),tS=C(8525);function mv(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function gv(r,i){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function DM(r,i){if(1&r&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Title," ")}}function Ku(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,mv,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Path"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"N\xfamero de Orden"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Tipo de \xcdcono"),t.qZA(),t.TgZ(23,"mat-select",11)(24,"mat-option",12),t._uU(25,"--"),t.qZA(),t.YNc(26,gv,2,2,"mat-option",13),t.qZA()(),t.TgZ(27,"mat-form-field")(28,"mat-label"),t._uU(29,"Icon Class"),t.qZA(),t._UZ(30,"input",14),t.qZA(),t.TgZ(31,"mat-form-field")(32,"mat-label"),t._uU(33,"Menu Padre"),t.qZA(),t.TgZ(34,"mat-select",15)(35,"mat-option",12),t._uU(36,"--"),t.qZA(),t.YNc(37,DM,2,2,"mat-option",13),t.qZA()(),t.TgZ(38,"mat-checkbox",16),t._uU(39,"Activo"),t.qZA()(),t.TgZ(40,"div",17)(41,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(42,"Cerrar"),t.qZA(),t.TgZ(43,"button",19),t._uU(44,"Guardar"),t.qZA()()(),t._UZ(45,"app-custom-spinner",20)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.menuFormGroup),t.xp6(3),t.Oqu(e.menu.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.menuFormGroup.controls.title.hasError("required")),t.xp6(13),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listIconTypes),t.xp6(9),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.listMenusSelectable),t.xp6(6),t.Q6J("disabled",e.showLoading||!e.menuFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let nS=(()=>{class r{constructor(e,n,o,u,g,T){this.sharedService=e,this.restProvider=n,this.formBuilder=o,this.activeModal=u,this.snackbarService=g,this.menuService=T,this.showLoading=!1,this.matcher=new Mn}ngOnInit(){this.getAllMenus(),this.getIconTypes()}getAllMenus(){this.menuService.getAllMenus().then(e=>{this.listMenusSelectable=e.Data.filter(o=>o.Id!=this.menu.Id)},e=>{console.error(e)})}getIconTypes(){this.restProvider.executeSinovadApiService(tn.GET,"/catalogs/GetDetailsByCatalogAsync/"+Xt.IconTypes).then(n=>{this.listIconTypes=n.Data},n=>{console.error(n)})}ngAfterViewInit(){this.menuFormGroup=this.formBuilder.group({title:new kt.NI(this.menu.Title,[kt.kI.required]),path:new kt.NI(this.menu.Path),iconType:new kt.NI(this.menu.IconTypeCatalogDetailId),iconClass:new kt.NI(this.menu.IconClass),sortOrder:new kt.NI(this.menu.SortOrder),parentId:new kt.NI(this.menu.ParentId),enabled:new kt.NI(this.menu.Enabled)})}saveItem(){if(this.menuFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.menu));e.Title=this.menuFormGroup.value.title,e.Path=this.menuFormGroup.value.path,e.IconClass=this.menuFormGroup.value.iconClass,e.SortOrder=this.menuFormGroup.value.sortOrder,null!=this.menuFormGroup.value.iconType?(e.IconTypeCatalogId=Xt.IconTypes,e.IconTypeCatalogDetailId=this.menuFormGroup.value.iconType):(e.IconTypeCatalogId=void 0,e.IconTypeCatalogDetailId=void 0),e.ParentId=this.menuFormGroup.value.parentId,e.Enabled=this.menuFormGroup.value.enabled,this.menuService.saveItem(e).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el menu satisfactoriamente",Jn.Success),this.menuService.getManageMenu(),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.menuFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(rt),t.Y36(si),t.Y36(kt.qu),t.Y36(Jr),t.Y36(yr),t.Y36(Xc))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-form"]],inputs:{menu:"menu"},decls:1,vars:1,consts:[[3,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["id","path","matInput","","formControlName","path"],["id","sortOrder","type","number","matInput","","formControlName","sortOrder"],["formControlName","iconType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","iconClass","matInput","","formControlName","iconClass"],["formControlName","parentId"],["formControlName","enabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,Ku,46,10,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.menu&&o.menuFormGroup)},dependencies:[kt._Y,kt.Fj,kt.wV,kt.JJ,kt.JL,kt.sg,kt.u,Ao,p.sg,p.O5,Qr.Nt,vi.KE,vi.hX,vi.TO,aa.oG,hv.ey,tS.gD],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}.form-check-input[_ngcontent-%COMP%]{width:18px;height:18px}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function iS(r,i){1&r&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner"),t.qZA())}function am(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",42)(1,"mat-checkbox",43),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function rS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",44)(1,"mat-checkbox",45),t.NdJ("click",function(o){const g=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.onChangeCheckValue(o,g))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function Fa(r,i){1&r&&(t.TgZ(0,"th",46),t._uU(1,"N\xb0"),t.qZA())}function od(r,i){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function go(r,i){1&r&&(t.TgZ(0,"th",48),t._uU(1,"T\xedtulo"),t.qZA())}function Hs(r,i){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function Wu(r,i){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Path"),t.qZA())}function sa(r,i){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Path," ")}}function sm(r,i){1&r&&(t.TgZ(0,"th",52),t._uU(1,"\xcdcono"),t.qZA())}function zl(r,i){if(1&r&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.IconClass," ")}}function Zl(r,i){1&r&&(t.TgZ(0,"th",54),t._uU(1,"Orden"),t.qZA())}function $l(r,i){if(1&r&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.SortOrder," ")}}function ql(r,i){1&r&&t._UZ(0,"th",56)}function Jl(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",57)(1,"div",58)(2,"button",59),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.editItem(u))}),t._UZ(3,"i",60),t.qZA(),t.TgZ(4,"button",61),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function Ql(r,i){1&r&&t._UZ(0,"tr",62)}function Xl(r,i){1&r&&t._UZ(0,"tr",63)}function ec(r,i){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function tc(r,i){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,ec,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const pv=function(r){return{disable:r}},_v=function(){return[5,10,25,100]};let lm=(()=>{class r extends _i{constructor(e,n,o,u,g){super(o),this.modalService=e,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=u,this.menuService=g}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new fv;e.Enabled=!0,this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(nS,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.menu=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.menuService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new xn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new ni.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el menu "+e.Title+"?",accordMessage:"Si, eliminar el menu '"+e.Title+"'"},this.dialog.open(wi,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.menuService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Jn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ni.vA;e.data={title:"Eliminar menus",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(wi,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.menuService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Jn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Jn.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","Path","IconClass","SortOrder","Actions"]:window.innerWidth>875?["Select","Id","Title","Path","IconClass","Actions"]:window.innerWidth>495?["Select","Id","Title","Path","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Mo),t.Y36(ni.uw),t.Y36(Si.ye),t.Y36(yr),t.Y36(Xc))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-menu-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Si.NW,5),t.Gf(Rn.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Path"],["mat-header-cell","","mat-sort-header","","style","min-width:100px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","IconClass"],["mat-header-cell","","mat-sort-header","","style","min-width:180px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:180px;text-align: left;",4,"matCellDef"],["matColumnDef","SortOrder"],["mat-header-cell","","mat-sort-header","","style","max-width:70px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:70px;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","100px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","180px","text-align","left"],["mat-cell","",2,"min-width","180px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","70px","text-align","left"],["mat-cell","",2,"max-width","70px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Menus"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(g){return o.applyFilter(g)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,iS,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,am,2,2,"th",17),t.YNc(25,rS,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Fa,2,0,"th",20),t.YNc(28,od,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,go,2,0,"th",23),t.YNc(31,Hs,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,Wu,2,0,"th",26),t.YNc(34,sa,2,1,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,sm,2,0,"th",29),t.YNc(37,zl,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,Zl,2,0,"th",32),t.YNc(40,$l,2,1,"td",33),t.BQk(),t.ynx(41,34),t.YNc(42,ql,1,0,"th",35),t.YNc(43,Jl,6,0,"td",36),t.BQk(),t.YNc(44,Ql,1,0,"tr",37),t.YNc(45,Xl,1,0,"tr",38),t.YNc(46,tc,2,1,"tr",39),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",40),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,pv,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,_v)))},dependencies:[p.mk,p.O5,Si.NW,xn.BZ,xn.fO,xn.as,xn.w1,xn.Dz,xn.nj,xn.ge,xn.ev,xn.XQ,xn.Gk,xn.Ee,Qr.Nt,vi.KE,vi.hX,Rn.YE,Rn.nU,aa.oG,qo.Ou,ms.gM],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class vv{}function yv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"p")(1,"mat-checkbox",10),t.NdJ("click",function(o){const g=t.CHM(e).$implicit,T=t.oxw(2);return t.KtG(T.onChangeCheckValue(o,g))}),t._uU(2),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("checked",n.selection.isSelected(e)),t.xp6(1),t.Oqu(e.Name)}}function bv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t.YNc(6,yv,3,2,"ng-template",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSaveSelection())}),t._uU(11,"Guardar"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.Oqu("G\xe9neros"),t.xp6(4),t.Q6J("ngForOf",e.listAllGenres)}}let cm=(()=>{class r{constructor(e){this.activeModal=e}closeModal(){this.activeModal.dismiss()}onSaveSelection(){this.activeModal.close(this.selection.selected)}onChangeCheckValue(e,n){e.target.checked?this.selection.select(n):this.selection.deselect(n)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Jr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-genres-selection-modal"]],inputs:{listAllGenres:"listAllGenres",selection:"selection"},decls:2,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["ngFor","",3,"ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[3,"checked","click"]],template:function(n,o){1&n&&(t.YNc(0,bv,12,2,"ng-template",0),t._uU(1," <\n")),2&n&&t.Q6J("ngIf",null!=o.listAllGenres)},dependencies:[p.sg,p.O5,aa.oG],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})(),dm=(()=>{class r{constructor(e){this.restProvider=e}getMovie(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.GET,"/movies/GetAsync/"+e).then(u=>{n(u)},u=>{console.error(u),o(u)})})}getItems(e,n,o,u,g,T){return new Promise((R,G)=>{let ne=on();this.lastCallGuid=ne;var Ee="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+g+"&searchBy="+T;this.restProvider.executeSinovadApiService(tn.GET,"/movies/GetAllWithPaginationAsync"+Ee).then(Ge=>{this.lastCallGuid==ne&&R(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/movies/Update":"/movies/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/movies/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/movies/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ys=C(8034);function um(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xedtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function oS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xedtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,um,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Fecha de Lanzamiento"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"G\xe9neros"),t.qZA(),t.TgZ(24,"textarea",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(25,"mat-form-field")(26,"mat-label"),t._uU(27,"Directores"),t.qZA(),t._UZ(28,"textarea",13),t.qZA(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Actores"),t.qZA(),t._UZ(32,"textarea",14),t.qZA(),t.TgZ(33,"mat-form-field")(34,"mat-label"),t._uU(35,"Resumen"),t.qZA(),t._UZ(36,"textarea",15),t.qZA(),t.TgZ(37,"mat-form-field")(38,"mat-label"),t._uU(39,"Im\xe1gen"),t.qZA(),t._UZ(40,"textarea",16),t.qZA()(),t.TgZ(41,"div",17)(42,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(43,"Close"),t.qZA(),t.TgZ(44,"button",19),t._uU(45,"Guardar"),t.qZA()()(),t._UZ(46,"app-custom-spinner",20)}if(2&r){const e=t.MAs(20),n=t.oxw();t.Q6J("formGroup",n.movieFormGroup),t.xp6(3),t.Oqu(n.movie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",n.matcher),t.xp6(1),t.Q6J("ngIf",n.movieFormGroup.controls.title.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",n.showLoading||!n.movieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",n.showLoading)}}let xM=(()=>{class r{constructor(e,n,o,u,g,T,R){this.sharedService=e,this.modalService=n,this.genreService=o,this.formBuilder=u,this.activeModal=g,this.snackbarService=T,this.movieService=R,this.showLoading=!1,this.matcher=new Mn}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.movie.Id>0?this.getMovie():this.movie.ListItemGenres=[]}buildFormGroup(){this.movieFormGroup=this.formBuilder.group({title:new kt.NI(this.movie.Title,[kt.kI.required]),releaseDate:new kt.NI(this.sharedService.formatDate(this.movie.ReleaseDate)),directors:new kt.NI(this.movie.Directors),actors:new kt.NI(this.movie.Actors),overview:new kt.NI(this.movie.Overview),posterPath:new kt.NI(this.movie.PosterPath),selectedGenres:new kt.NI("")})}getMovie(){this.movieService.getMovie(this.movie.Id).then(e=>{this.movie=e.Data,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.movieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.movie));e.Title=this.movieFormGroup.value.title,e.ReleaseDate=this.movieFormGroup.value.releaseDate,e.Directors=this.movieFormGroup.value.directors,e.Actors=this.movieFormGroup.value.actors,e.Overview=this.movieFormGroup.value.overview,this.movieService.saveItem(e).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo el movie satisfactoriamente",Jn.Success),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.movieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.movie.ListItemGenres&&this.movie.ListItemGenres.length>0?this.movie.ListItemGenres.map(n=>n.GenreName).join(", "):""}showGenresSelectionModal(){var e=this,n=this.modalService.open(cm,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.listAllGenres=this.listGenres,n.componentInstance.selection=new lo.Ov(!0,this.getMovieGenres()),n.closed.subscribe(o=>{e.setMovieGenres(o)})}getMovieGenres(){var e=this.movie.ListItemGenres.map(n=>n.GenreId);return this.listGenres.filter(n=>-1!=e.indexOf(n.Id))}setMovieGenres(e){var n=[];e.forEach(o=>{n.push({MovieId:this.movie.Id,GenreId:o.Id,GenreName:o.Name})}),this.movie.ListItemGenres=n,this.movieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(rt),t.Y36(Mo),t.Y36(hs),t.Y36(kt.qu),t.Y36(Jr),t.Y36(yr),t.Y36(dm))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-form"]],inputs:{movie:"movie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["id","title","matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","releaseDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,oS,47,9,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.movie&&o.movieFormGroup)},dependencies:[kt._Y,kt.Fj,kt.JJ,kt.JL,kt.sg,kt.u,Ao,p.O5,Qr.Nt,vi.KE,vi.hX,vi.bx,vi.TO,vi.R9,Ys.Mq,Ys.hl,Ys.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function MM(r,i){1&r&&(t.TgZ(0,"div",39),t._UZ(1,"mat-spinner"),t.qZA())}function aS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",40)(1,"mat-checkbox",41),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function sS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"mat-checkbox",43),t.NdJ("click",function(o){const g=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.onChangeCheckValue(o,g))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function AM(r,i){1&r&&(t.TgZ(0,"th",44),t._uU(1,"N\xb0"),t.qZA())}function lS(r,i){if(1&r&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function wM(r,i){1&r&&(t.TgZ(0,"th",46),t._uU(1,"T\xedtulo"),t.qZA())}function cS(r,i){if(1&r&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function dS(r,i){1&r&&(t.TgZ(0,"th",48),t._uU(1,"Fecha"),t.qZA())}function uS(r,i){if(1&r&&(t.TgZ(0,"td",49),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.ReleaseDate,"dd-MM-YYYY")," ")}}function fm(r,i){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Actores"),t.qZA())}function ad(r,i){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Actors," ")}}function hm(r,i){1&r&&(t.TgZ(0,"th",50),t._uU(1,"Directores"),t.qZA())}function zu(r,i){if(1&r&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Directors," ")}}function Ev(r,i){1&r&&t._UZ(0,"th",52)}function sd(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",53)(1,"div",54)(2,"button",55),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.editItem(u))}),t._UZ(3,"i",56),t.qZA(),t.TgZ(4,"button",57),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function Tv(r,i){1&r&&t._UZ(0,"tr",58)}function fS(r,i){1&r&&t._UZ(0,"tr",59)}function ld(r,i){1&r&&(t.TgZ(0,"td",62),t._uU(1,"No se encontraron datos"),t.qZA())}function hS(r,i){if(1&r&&(t.TgZ(0,"tr",60),t.YNc(1,ld,2,0,"td",61),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const mS=function(r){return{disable:r}},gS=function(){return[5,10,25,100]};let mm=(()=>{class r extends _i{constructor(e,n,o,u,g){super(o),this.modalService=e,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=u,this.movieService=g}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Title",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Title",start:"asc",disableClear:!0}),this.searchBy="Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new vv;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(xM,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.movie=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.movieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new xn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new ni.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar el movie "+e.Title+"?",accordMessage:"Si, eliminar el movie '"+e.Title+"'"},this.dialog.open(wi,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.movieService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Jn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ni.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(wi,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.movieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Jn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Jn.Error)})}getDisplayedColumns(){return window.innerWidth>975?["Select","Id","Title","ReleaseDate","Actors","Directors","Actions"]:window.innerWidth>875?["Select","Id","Title","ReleaseDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Title","ReleaseDate","Actions"]:["Select","Id","Title","Actions"]}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Mo),t.Y36(ni.uw),t.Y36(Si.ye),t.Y36(yr),t.Y36(dm))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Si.NW,5),t.Gf(Rn.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:50,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","ReleaseDate"],["mat-header-cell","","mat-sort-header","","style","min-width:140px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:140px;text-align: left;",4,"matCellDef"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","width:100px;",4,"matHeaderCellDef"],["mat-cell","","style","width:100px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","140px","text-align","left"],["mat-cell","",2,"min-width","140px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",2,"max-width","120px","text-align","left"],["mat-header-cell","",2,"width","100px"],["mat-cell","",2,"width","100px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3," Pel\xedculas"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(g){return o.applyFilter(g)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,MM,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,aS,2,2,"th",17),t.YNc(25,sS,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,AM,2,0,"th",20),t.YNc(28,lS,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,wM,2,0,"th",23),t.YNc(31,cS,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,dS,2,0,"th",26),t.YNc(34,uS,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,fm,2,0,"th",29),t.YNc(37,ad,2,1,"td",30),t.BQk(),t.ynx(38,31),t.YNc(39,hm,2,0,"th",29),t.YNc(40,zu,2,1,"td",30),t.BQk(),t.ynx(41,32),t.YNc(42,Ev,1,0,"th",33),t.YNc(43,sd,6,0,"td",34),t.BQk(),t.YNc(44,Tv,1,0,"tr",35),t.YNc(45,fS,1,0,"tr",36),t.YNc(46,hS,2,1,"tr",37),t.qZA()()()()(),t.TgZ(47,"div",1)(48,"div",9),t._UZ(49,"mat-paginator",38),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,mS,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,gS)))},dependencies:[p.mk,p.O5,Si.NW,xn.BZ,xn.fO,xn.as,xn.w1,xn.Dz,xn.nj,xn.ge,xn.ev,xn.XQ,xn.Gk,xn.Ee,Qr.Nt,vi.KE,vi.hX,Rn.YE,Rn.nU,aa.oG,qo.Ou,ms.gM,p.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class gm{}let cd=(()=>{class r{constructor(e){this.restProvider=e}getTvSerie(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.GET,"/tvseries/GetAsync/"+e).then(u=>{n(u)},u=>{console.error(u),o(u)})})}getItems(e,n,o,u,g,T){return new Promise((R,G)=>{let ne=on();this.lastCallGuid=ne;var Ee="?page="+e.toString()+"&take="+n.toString()+"&sortBy="+o+"&sortDirection="+u+"&searchText="+g+"&searchBy="+T;this.restProvider.executeSinovadApiService(tn.GET,"/tvseries/GetAllWithPaginationAsync"+Ee).then(Ge=>{this.lastCallGuid==ne&&R(Ge)},Ge=>{console.error(Ge),G(Ge)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/tvseries/Update":"/tvseries/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/tvseries/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/tvseries/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Zu(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function IM(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,Zu,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Primera fecha de emisi\xf3n"),t.qZA(),t._UZ(15,"input",9),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",10)(19,"mat-datepicker",null,11),t.qZA(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"\xdaltima fecha de emisi\xf3n"),t.qZA(),t._UZ(24,"input",12),t.TgZ(25,"mat-hint"),t._uU(26,"MM/DD/YYYY"),t.qZA(),t._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),t.qZA(),t.TgZ(30,"mat-form-field")(31,"mat-label"),t._uU(32,"G\xe9neros"),t.qZA(),t.TgZ(33,"textarea",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showGenresSelectionModal())}),t.qZA()(),t.TgZ(34,"mat-form-field")(35,"mat-label"),t._uU(36,"Directores"),t.qZA(),t._UZ(37,"textarea",14),t.qZA(),t.TgZ(38,"mat-form-field")(39,"mat-label"),t._uU(40,"Actores"),t.qZA(),t._UZ(41,"textarea",15),t.qZA(),t.TgZ(42,"mat-form-field")(43,"mat-label"),t._uU(44,"Resumen"),t.qZA(),t._UZ(45,"textarea",16),t.qZA(),t.TgZ(46,"mat-form-field")(47,"mat-label"),t._uU(48,"Im\xe1gen"),t.qZA(),t._UZ(49,"textarea",17),t.qZA()(),t.TgZ(50,"div",18)(51,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(52,"Close"),t.qZA(),t.TgZ(53,"button",20),t._uU(54,"Guardar"),t.qZA()()(),t._UZ(55,"app-custom-spinner",21)}if(2&r){const e=t.MAs(20),n=t.oxw();t.Q6J("formGroup",n.tvserieFormGroup),t.xp6(3),t.Oqu(n.tvserie.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",n.matcher),t.xp6(1),t.Q6J("ngIf",n.tvserieFormGroup.controls.name.hasError("required")),t.xp6(4),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("matDatepicker",e),t.xp6(3),t.Q6J("for",e),t.xp6(6),t.Q6J("readonly",!0),t.xp6(20),t.Q6J("disabled",n.showLoading||!n.tvserieFormGroup.valid),t.xp6(2),t.Q6J("showLoading",n.showLoading)}}let pS=(()=>{class r{constructor(e,n,o,u,g,T,R){this.sharedService=e,this.modalService=n,this.genreService=o,this.formBuilder=u,this.activeModal=g,this.snackbarService=T,this.tvserieService=R,this.showLoading=!1,this.matcher=new Mn}ngOnInit(){this.buildFormGroup(),this.genreService.getAllGenres().then(e=>{this.listGenres=e.Data}),this.tvserie.Id>0?this.getTvSerie():this.tvserie.ListItemGenres=[]}buildFormGroup(){this.tvserieFormGroup=this.formBuilder.group({name:new kt.NI(this.tvserie.Name,[kt.kI.required]),firstAirDate:new kt.NI(this.sharedService.formatDate(this.tvserie.FirstAirDate)),lastAirDate:new kt.NI(this.sharedService.formatDate(this.tvserie.LastAirDate)),directors:new kt.NI(this.tvserie.Directors),actors:new kt.NI(this.tvserie.Actors),overview:new kt.NI(this.tvserie.Overview),posterPath:new kt.NI(this.tvserie.PosterPath),selectedGenres:new kt.NI("")})}getTvSerie(){this.tvserieService.getTvSerie(this.tvserie.Id).then(e=>{this.tvserie=e.Data,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())})}saveItem(){if(this.tvserieFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.tvserie));e.Name=this.tvserieFormGroup.value.name,e.FirstAirDate=this.tvserieFormGroup.value.firstAirDate,e.LastAirDate=this.tvserieFormGroup.value.lastAirDate,e.Directors=this.tvserieFormGroup.value.directors,e.Actors=this.tvserieFormGroup.value.actors,e.Overview=this.tvserieFormGroup.value.overview,this.tvserieService.saveItem(e).then(n=>{this.showLoading=!1,this.snackbarService.showSnackBar("Se guardo la serie satisfactoriamente",Jn.Success),this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.tvserieFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}getSelectedGenres(){return this.tvserie.ListItemGenres&&this.tvserie.ListItemGenres.length>0?this.tvserie.ListItemGenres.map(n=>n.GenreName).join(", "):""}showGenresSelectionModal(){var e=this,n=this.modalService.open(cm,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.listAllGenres=this.listGenres,n.componentInstance.selection=new lo.Ov(!0,this.getTvSerieGenres()),n.closed.subscribe(o=>{e.setTvSerieGenres(o)})}getTvSerieGenres(){var e=this.tvserie.ListItemGenres.map(n=>n.GenreId);return this.listGenres.filter(n=>-1!=e.indexOf(n.Id))}setTvSerieGenres(e){var n=[];e.forEach(o=>{n.push({TvSerieId:this.tvserie.Id,GenreId:o.Id,GenreName:o.Name})}),this.tvserie.ListItemGenres=n,this.tvserieFormGroup.controls.selectedGenres.patchValue(this.getSelectedGenres())}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(rt),t.Y36(Mo),t.Y36(hs),t.Y36(kt.qu),t.Y36(Jr),t.Y36(yr),t.Y36(cd))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-form"]],inputs:{tvserie:"tvserie"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","firstAirDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","formControlName","lastAirDate",3,"matDatepicker"],["matInput","","formControlName","selectedGenres",1,"custom-textarea-genres",3,"readonly","click"],["matInput","","formControlName","directors"],["matInput","","formControlName","actors"],["matInput","","formControlName","overview"],["matInput","","formControlName","posterPath"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,IM,56,11,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.tvserie&&o.tvserieFormGroup)},dependencies:[kt._Y,kt.Fj,kt.JJ,kt.JL,kt.sg,kt.u,Ao,p.O5,Qr.Nt,vi.KE,vi.hX,vi.bx,vi.TO,vi.R9,Ys.Mq,Ys.hl,Ys.nW],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class _S{}let $u=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,n,o,u,g,T,R){return new Promise((G,ne)=>{let Ee=on();this.lastCallGuid=Ee;var Ue="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+g+"&searchText="+T+"&searchBy="+R;this.restProvider.executeSinovadApiService(tn.GET,"/seasons/GetAllWithPaginationByTvSerieAsync/"+e+Ue).then(Xe=>{this.lastCallGuid==Ee&&G(Xe)},Xe=>{console.error(Xe),ne(Xe)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/seasons/Update":"/seasons/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/seasons/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/seasons/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function vS(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Sv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,vS,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.seasonFormGroup),t.xp6(3),t.Oqu(e.season.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.seasonFormGroup.controls.name.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.seasonFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let yS=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.activeModal=n,this.snackbarService=o,this.seasonService=u,this.showLoading=!1,this.matcher=new Mn}ngAfterViewInit(){this.seasonFormGroup=this.formBuilder.group({name:new kt.NI(this.season.Name,[kt.kI.required]),seasonNumber:new kt.NI(this.season.SeasonNumber),summary:new kt.NI(this.season.Summary)})}saveItem(){if(this.seasonFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.season));e.SeasonNumber=this.seasonFormGroup.value.seasonNumber,e.Name=this.seasonFormGroup.value.name,e.Summary=this.seasonFormGroup.value.summary,this.seasonService.saveItem(e).then(n=>{this.showLoading=!1,this.season=void 0,this.snackbarService.showSnackBar("Se guardo la temporada satisfactoriamente satisfactoriamente",Jn.Success),this.activeModal.close()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}else this.seasonFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kt.qu),t.Y36(Jr),t.Y36(yr),t.Y36($u))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-form"]],inputs:{season:"season"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","seasonNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,Sv,26,6,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.season&&o.seasonFormGroup)},dependencies:[kt._Y,kt.Fj,kt.wV,kt.JJ,kt.JL,kt.sg,kt.u,Ao,p.O5,Qr.Nt,vi.KE,vi.hX,vi.TO],styles:[".disabled[_ngcontent-%COMP%]{pointer-events:none}form[_ngcontent-%COMP%]{display:contents}"]})}return r})();class Cv{}let qu=(()=>{class r{constructor(e){this.restProvider=e}getItems(e,n,o,u,g,T,R){return new Promise((G,ne)=>{let Ee=on();this.lastCallGuid=Ee;var Ue="?page="+n.toString()+"&take="+o.toString()+"&sortBy="+u+"&sortDirection="+g+"&searchText="+T+"&searchBy="+R;this.restProvider.executeSinovadApiService(tn.GET,"/episodes/GetAllWithPaginationBySeasonAsync/"+e+Ue).then(Xe=>{this.lastCallGuid==Ee&&G(Xe)},Xe=>{console.error(Xe),ne(Xe)})})}saveItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(e.Id>0?tn.PUT:tn.POST,e.Id>0?"/episodes/Update":"/episodes/Create",e).then(T=>{n(!0)},T=>{console.error(T),o(T)})})}createList(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.POST,"/episodes/CreateList",e).then(u=>{n(!0)},u=>{console.error(u),o(u)})})}deleteItem(e){return new Promise((n,o)=>{this.restProvider.executeSinovadApiService(tn.DELETE,"/episodes/Delete/"+e).then(g=>{n(g)},g=>{console.error(g),o(g)})})}deleteItems(e){return new Promise((n,o)=>{let u=[];for(let R=0;R<e.length;R++)u.push(e[R].Id);var g=u.join(",");this.restProvider.executeSinovadApiService(tn.DELETE,"/episodes/DeleteList/"+g).then(R=>{n(R)},R=>{console.error(R),o(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Dv(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," T\xcdtulo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function xv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveItem())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"T\xcdtulo"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,Dv,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"N\xfamero"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Resumen"),t.qZA(),t._UZ(19,"textarea",10),t.qZA()(),t.TgZ(20,"div",11)(21,"button",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(22,"Close"),t.qZA(),t.TgZ(23,"button",13),t._uU(24,"Guardar"),t.qZA()()(),t._UZ(25,"app-custom-spinner",14)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.episodeFormGroup),t.xp6(3),t.Oqu(e.episode.Id>0?"Editar":"Nuevo"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.episodeFormGroup.controls.title.hasError("required")),t.xp6(12),t.Q6J("disabled",e.showLoading||!e.episodeFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let bS=(()=>{class r{constructor(e,n,o,u){this.formBuilder=e,this.activeModal=n,this.snackbarService=o,this.episodeService=u,this.showLoading=!1,this.matcher=new Mn}ngAfterViewInit(){this.episodeFormGroup=this.formBuilder.group({title:new kt.NI(this.episode.Title,[kt.kI.required]),episodeNumber:new kt.NI(this.episode.EpisodeNumber),summary:new kt.NI(this.episode.Summary)})}saveItem(){if(this.episodeFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.episode));e.EpisodeNumber=this.episodeFormGroup.value.episodeNumber,e.Title=this.episodeFormGroup.value.title,e.Summary=this.episodeFormGroup.value.summary,this.episodeService.saveItem(e).then(n=>{this.showLoading=!1,this.episode=void 0,this.snackbarService.showSnackBar("Se guardo el episodio satisfactoriamente satisfactoriamente",Jn.Success),this.activeModal.close()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}else this.episodeFormGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kt.qu),t.Y36(Jr),t.Y36(yr),t.Y36(qu))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-form"]],inputs:{episode:"episode"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","title",3,"errorStateMatcher"],[4,"ngIf"],["type","number","matInput","","formControlName","episodeNumber"],["matInput","","formControlName","summary"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,xv,26,6,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.episode&&o.episodeFormGroup)},dependencies:[kt._Y,kt.Fj,kt.wV,kt.JJ,kt.JL,kt.sg,kt.u,Ao,p.O5,Qr.Nt,vi.KE,vi.hX,vi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function ES(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function TS(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," El campo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function Mv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.save())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3,"Rango de Episodios"),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Desde"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,ES,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Hasta"),t.qZA(),t._UZ(15,"input",9),t.YNc(16,TS,4,0,"mat-error",8),t.qZA()(),t.TgZ(17,"div",10)(18,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(19,"Close"),t.qZA(),t.TgZ(20,"button",12),t._uU(21,"Guardar"),t.qZA()(),t._UZ(22,"app-custom-spinner",13),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.formGroup),t.xp6(11),t.Q6J("ngIf",e.formGroup.controls.initialEpisodeNumber.hasError("required")),t.xp6(5),t.Q6J("ngIf",e.formGroup.controls.lastEpisodeNumber.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.formGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let pm=(()=>{class r{constructor(e,n,o){this.formBuilder=e,this.episodeService=n,this.activeModal=o,this.matcher=new Mn,this.showLoading=!1}ngAfterViewInit(){this.formGroup=this.formBuilder.group({initialEpisodeNumber:new kt.NI("",[kt.kI.required]),lastEpisodeNumber:new kt.NI("",[kt.kI.required])})}save(){if(this.formGroup.valid){this.showLoading=!0;let n=[];for(let o=Number(this.formGroup.value.initialEpisodeNumber);o<=Number(this.formGroup.value.lastEpisodeNumber);o++){var e=new Cv;e.EpisodeNumber=o,e.SeasonId=this.parent.Id,e.Title="Episodio "+o,n.push(e)}this.episodeService.createList(n).then(o=>{this.showLoading=!1,this.activeModal.close(!0)},o=>{this.showLoading=!1,console.error(o)})}else this.formGroup.markAllAsTouched()}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kt.qu),t.Y36(qu),t.Y36(Jr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-range-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["type","number","matInput","","formControlName","initialEpisodeNumber"],[4,"ngIf"],["type","number","matInput","","formControlName","lastEpisodeNumber"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,Mv,23,5,"form",0),2&n&&t.Q6J("ngIf",o.formGroup)},dependencies:[kt._Y,kt.Fj,kt.wV,kt.JJ,kt.JL,kt.sg,kt.u,Ao,p.O5,Qr.Nt,vi.KE,vi.hX,vi.TO],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})();function _m(r,i){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function SS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function Ju(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const g=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.onChangeCheckValue(o,g))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function Qu(r,i){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function vm(r,i){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.EpisodeNumber,"")}}function Av(r,i){1&r&&(t.TgZ(0,"th",39),t._uU(1,"T\xcdtulo"),t.qZA())}function CS(r,i){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Title," ")}}function DS(r,i){1&r&&t._UZ(0,"th",41)}function xS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.editItem(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.deleteItem(u))}),t._UZ(5,"i",7),t.qZA()()()}}function Xu(r,i){1&r&&t._UZ(0,"tr",47)}function ef(r,i){1&r&&t._UZ(0,"tr",48)}function ym(r,i){1&r&&(t.TgZ(0,"td",51),t._uU(1,"No se encontraron datos"),t.qZA())}function wv(r,i){if(1&r&&(t.TgZ(0,"tr",49),t.YNc(1,ym,2,0,"td",50),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const MS=function(r){return{disable:r}},AS=function(){return[5,10,25,100]};let Iv=(()=>{class r extends _i{constructor(e,n,o,u,g){super(u),this.modalService=e,this.dialog=n,this.episodeService=o,this.matPaginatorIntl=u,this.snackbarService=g}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="EpisodeNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"EpisodeNumber",start:"asc",disableClear:!0}),this.searchBy="EpisodeNumber|Title",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new Cv;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(bS,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.episode=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.episodeService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new xn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new ni.vA;n.data={title:"Eliminar Episodio",message:"\xbfEsta seguro que desea eliminar el episodio "+e.Title+"?",accordMessage:"Si, eliminar el episodio '"+e.Title+"'"},this.dialog.open(wi,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.episodeService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Jn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ni.vA;e.data={title:"Eliminar episodios",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(wi,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.episodeService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Jn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Jn.Error)})}getDisplayedColumns(){return["Select","EpisodeNumber","Title","Actions"]}showEpisodeRangeModal(){var e=this,n=this.modalService.open(pm,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.parent=this.parentItem,n.closed.subscribe(o=>{e.getAllItems()})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Mo),t.Y36(ni.uw),t.Y36(qu),t.Y36(Si.ye),t.Y36(yr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Si.NW,5),t.Gf(Rn.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:42,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-12","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],["type","button",1,"custom-toolbar-button",3,"click"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","EpisodeNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Title"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA(),t.TgZ(11,"button",8),t.NdJ("click",function(){return o.showEpisodeRangeModal()}),t._uU(12," Agregar por Rango "),t.qZA()()(),t.TgZ(13,"div",1)(14,"div",9)(15,"mat-form-field")(16,"mat-label"),t._uU(17,"Buscar"),t.qZA(),t.TgZ(18,"input",10,11),t.NdJ("keyup",function(g){return o.applyFilter(g)}),t.qZA()(),t.TgZ(20,"div",12),t.YNc(21,_m,2,0,"div",13),t.TgZ(22,"div",14)(23,"table",15),t.ynx(24,16),t.YNc(25,SS,2,2,"th",17),t.YNc(26,Ju,2,1,"td",18),t.BQk(),t.ynx(27,19),t.YNc(28,Qu,2,0,"th",20),t.YNc(29,vm,2,1,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,Av,2,0,"th",23),t.YNc(32,CS,2,1,"td",24),t.BQk(),t.ynx(33,25),t.YNc(34,DS,1,0,"th",26),t.YNc(35,xS,6,0,"td",27),t.BQk(),t.YNc(36,Xu,1,0,"tr",28),t.YNc(37,ef,1,0,"tr",29),t.YNc(38,wv,2,1,"tr",30),t.qZA()()()()(),t.TgZ(39,"div",1)(40,"div",9),t._UZ(41,"mat-paginator",31),t.qZA()()()()),2&n&&(t.xp6(3),t.hij("",o.parentItem.Name," :Episodios"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,MS,!o.selection.hasValue())),t.xp6(12),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,AS)))},dependencies:[p.mk,p.O5,Si.NW,xn.BZ,xn.fO,xn.as,xn.w1,xn.Dz,xn.nj,xn.ge,xn.ev,xn.XQ,xn.Gk,xn.Ee,Qr.Nt,vi.KE,vi.hX,Rn.YE,Rn.nU,aa.oG,qo.Ou,ms.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function bm(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-episode-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Episodios"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let Ov=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Jr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-episode-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(n,o){1&n&&t.YNc(0,bm,10,2,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.parent)},dependencies:[p.O5,Iv]})}return r})();function Em(r,i){1&r&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}function Tm(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",33)(1,"mat-checkbox",34),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function wS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-checkbox",36),t.NdJ("click",function(o){const g=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.onChangeCheckValue(o,g))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function Pv(r,i){1&r&&(t.TgZ(0,"th",37),t._uU(1,"N\xb0"),t.qZA())}function Rv(r,i){if(1&r&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.SeasonNumber,"")}}function Nv(r,i){1&r&&(t.TgZ(0,"th",39),t._uU(1,"Nombre"),t.qZA())}function Lv(r,i){if(1&r&&(t.TgZ(0,"td",40),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function IS(r,i){1&r&&t._UZ(0,"th",41)}function kv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",42)(1,"div",43)(2,"button",44),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.showEpisodeListModal(u))}),t._UZ(3,"i",45),t.qZA(),t.TgZ(4,"button",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.editItem(u))}),t._UZ(5,"i",47),t.qZA(),t.TgZ(6,"button",48),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.deleteItem(u))}),t._UZ(7,"i",7),t.qZA()()()}}function Fv(r,i){1&r&&t._UZ(0,"tr",49)}function Sm(r,i){1&r&&t._UZ(0,"tr",50)}function tf(r,i){1&r&&(t.TgZ(0,"td",53),t._uU(1,"No se encontraron datos"),t.qZA())}function Cm(r,i){if(1&r&&(t.TgZ(0,"tr",51),t.YNc(1,tf,2,0,"td",52),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const Bv=function(r){return{disable:r}},Uv=function(){return[5,10,25,100]};let jv=(()=>{class r extends _i{constructor(e,n,o,u,g){super(u),this.modalService=e,this.dialog=n,this.seasonService=o,this.matPaginatorIntl=u,this.snackbarService=g}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="SeasonNumber",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"SeasonNumber",start:"asc",disableClear:!0}),this.searchBy="SeasonNumber",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new _S;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(yS,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.season=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.seasonService.getItems(this.parentItem.Id,this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new xn.by(n),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new ni.vA;n.data={title:"Eliminar Temporada",message:"\xbfEsta seguro que desea eliminar la temporada "+e.Name+"?",accordMessage:"Si, eliminar la temporada '"+e.Name+"'"},this.dialog.open(wi,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.seasonService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Jn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ni.vA;e.data={title:"Eliminar seasons",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(wi,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.seasonService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Jn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Jn.Error)})}getDisplayedColumns(){return["Select","SeasonNumber","Name","Actions"]}showEpisodeListModal(e){var o=this.modalService.open(Ov,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(u=>{})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Mo),t.Y36(ni.uw),t.Y36($u),t.Y36(Si.ye),t.Y36(yr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Si.NW,5),t.Gf(Rn.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},inputs:{parentItem:"parentItem"},features:[t.qOj],decls:41,vars:11,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell",4,"matCellDef"],["matColumnDef","SeasonNumber"],["mat-header-cell","","mat-sort-header","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell"],[3,"checked","click"],["mat-header-cell","","mat-sort-header","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver episodios",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(g){return o.applyFilter(g)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,Em,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Tm,2,2,"th",17),t.YNc(25,wS,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,Pv,2,0,"th",20),t.YNc(28,Rv,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,Nv,2,0,"th",23),t.YNc(31,Lv,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,IS,1,0,"th",26),t.YNc(34,kv,8,0,"td",27),t.BQk(),t.YNc(35,Fv,1,0,"tr",28),t.YNc(36,Sm,1,0,"tr",29),t.YNc(37,Cm,2,1,"tr",30),t.qZA()()()()(),t.TgZ(38,"div",1)(39,"div",9),t._UZ(40,"mat-paginator",31),t.qZA()()()()),2&n&&(t.xp6(3),t.hij("",o.parentItem.Name," :Temporadas"),t.xp6(6),t.Q6J("ngClass",t.VKq(8,Bv,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(10,Uv)))},dependencies:[p.mk,p.O5,Si.NW,xn.BZ,xn.fO,xn.as,xn.w1,xn.Dz,xn.nj,xn.ge,xn.ev,xn.XQ,xn.Gk,xn.Ee,Qr.Nt,vi.KE,vi.hX,Rn.YE,Rn.nU,aa.oG,qo.Ou,ms.gM],styles:[".selected[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#F7EEAE}"]})}return r})();function Vv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h5",2),t._uU(2),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(4,"i",4),t.qZA()(),t.TgZ(5,"div",5),t._UZ(6,"app-season-list",6),t.qZA(),t.TgZ(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(9,"Close"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.parent.Name," :Temporadas"),t.xp6(4),t.Q6J("parentItem",e.parent)}}let Gv=(()=>{class r{constructor(e){this.activeModal=e}ngOnInit(){}ngAfterViewInit(){}closeModal(){this.activeModal.close()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Jr))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-season-list-modal"]],inputs:{parent:"parent"},decls:1,vars:1,consts:[[3,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],[3,"parentItem"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(n,o){1&n&&t.YNc(0,Vv,10,2,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.parent)},dependencies:[p.O5,jv]})}return r})();function Hv(r,i){1&r&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner"),t.qZA())}function Yv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"th",41)(1,"mat-checkbox",42),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(o?u.toggleAllRows():null)}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())}}function nf(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",43)(1,"mat-checkbox",44),t.NdJ("click",function(o){const g=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.onChangeCheckValue(o,g))}),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.isSelected(e))}}function _s(r,i){1&r&&(t.TgZ(0,"th",45),t._uU(1,"N\xb0"),t.qZA())}function OS(r,i){if(1&r&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&r){const e=i.index,n=t.oxw();t.xp6(1),t.hij(" ",n.getElementNumber(e,n.currentPage,n.itemsPerPage),"")}}function PS(r,i){1&r&&(t.TgZ(0,"th",47),t._uU(1,"Nombre"),t.qZA())}function Dm(r,i){if(1&r&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function Ks(r,i){1&r&&(t.TgZ(0,"th",49),t._uU(1,"Primera emisi\xf3n"),t.qZA())}function xm(r,i){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.FirstAirDate,"dd-MM-YYYY")," ")}}function RS(r,i){1&r&&(t.TgZ(0,"th",49),t._uU(1,"\xdaltima emisi\xf3n"),t.qZA())}function Mm(r,i){if(1&r&&(t.TgZ(0,"td",50),t._uU(1),t.ALo(2,"date"),t.qZA()),2&r){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.LastAirDate,"dd-MM-YYYY")," ")}}function OM(r,i){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Actores"),t.qZA())}function PM(r,i){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=i.$implicit,n=t.MAs(1);t.Udp("cursor",n.offsetWidth<n.scrollWidth?"pointer":""),t.s9C("matTooltip",n.offsetWidth<n.scrollWidth?e.Actors:""),t.xp6(2),t.Oqu(e.Actors)}}function NS(r,i){1&r&&(t.TgZ(0,"th",51),t._uU(1,"Directores"),t.qZA())}function LS(r,i){if(1&r&&(t.TgZ(0,"td",52,53),t._uU(2),t.qZA()),2&r){const e=i.$implicit,n=t.MAs(1);t.Udp("cursor",n.offsetWidth<n.scrollWidth?"pointer":""),t.s9C("matTooltip",n.offsetWidth<n.scrollWidth?e.Directors:""),t.xp6(2),t.hij(" ",e.Directors," ")}}function Kv(r,i){1&r&&t._UZ(0,"th",54)}function kS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"td",55)(1,"div",56)(2,"button",57),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.showSeasonListModal(u))}),t._UZ(3,"i",58),t.qZA(),t.TgZ(4,"button",59),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.editItem(u))}),t._UZ(5,"i",60),t.qZA(),t.TgZ(6,"button",61),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.deleteItem(u))}),t._UZ(7,"i",7),t.qZA()()()}}function jr(r,i){1&r&&t._UZ(0,"tr",62)}function Wv(r,i){1&r&&t._UZ(0,"tr",63)}function FS(r,i){1&r&&(t.TgZ(0,"td",66),t._uU(1,"No se encontraron datos"),t.qZA())}function BS(r,i){if(1&r&&(t.TgZ(0,"tr",64),t.YNc(1,FS,2,0,"td",65),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.showLoading)}}const zv=function(r){return{disable:r}},US=function(){return[5,10,25,100]};let rf=(()=>{class r extends _i{constructor(e,n,o,u,g){super(o),this.modalService=e,this.dialog=n,this.matPaginatorIntl=o,this.snackbarService=u,this.tvserieService=g}ngAfterViewInit(){this.paginator.page.subscribe(e=>{this.updatePageData(e),this.getAllItems()}),this.dataSource.paginator=this.paginator,this.sort.sortChange.subscribe(e=>{this.currentPage=1,this.sortBy=e.active,this.sortDirection=e.direction,this.getAllItems()}),this.sortBy="Name",this.sortDirection="asc",this.sort.disableClear=!0,this.sort.sort({id:"Name",start:"asc",disableClear:!0}),this.searchBy="Name",this.dataSource.sort=this.sort}applyFilter(e){this.searchText=e.target.value.trim().toLowerCase(),this.currentPage=1,this.getAllItems()}showNewItem(){var e=new gm;this.showModalForm(e)}editItem(e){this.showModalForm(e)}showModalForm(e){var n=this,o=this.modalService.open(pS,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.tvserie=e,o.closed.subscribe(u=>{n.getAllItems()})}getAllItems(){this.showLoading=!0,this.tvserieService.getItems(this.currentPage,this.itemsPerPage,this.sortBy,this.sortDirection,this.searchText,this.searchBy).then(e=>{this.showLoading=!1;var n=e.Data;this.totalCount=e.TotalCount,this.listItems=n,this.dataSource=new xn.by(this.listItems),this.selection.clear(),this.paginator.length=this.totalCount,this.paginator.pageIndex=this.currentPage-1,this.paginator.pageSize=this.itemsPerPage},e=>{this.showLoading=!1})}deleteItem(e){var n=new ni.vA;n.data={title:"Eliminar rol",message:"\xbfEsta seguro que desea eliminar la serie "+e.Name+"?",accordMessage:"Si, eliminar la serie '"+e.Name+"'"},this.dialog.open(wi,n).afterClosed().subscribe(o=>{o&&this.executeDeleteItem(e)})}executeDeleteItem(e){this.showLoading=!0,this.tvserieService.deleteItem(e.Id).then(n=>{this.snackbarService.showSnackBar("Se elimino el registro satisfactoriamente",Jn.Success),this.getAllItems()},n=>{this.showLoading=!1,this.snackbarService.showSnackBar(n,Jn.Error)})}deleteSelectedItems(){if(this.selection.hasValue()){var e=new ni.vA;e.data={title:"Eliminar pel\xedculas",message:"\xbfEsta seguro que desea eliminar los registros seleccionados?",accordMessage:"Si, eliminar"},this.dialog.open(wi,e).afterClosed().subscribe(n=>{n&&this.executeDeleteSelectedItems()})}}executeDeleteSelectedItems(){this.showLoading=!0,this.tvserieService.deleteItems(this.selection.selected).then(e=>{this.snackbarService.showSnackBar("Se eliminaron los registros seleccionados satisfactoriamente",Jn.Success),this.getAllItems()},e=>{this.showLoading=!1,this.snackbarService.showSnackBar(e,Jn.Error)})}getDisplayedColumns(){return window.innerWidth>1100?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Directors","Actions"]:window.innerWidth>975?["Select","Id","Name","FirstAirDate","LastAirDate","Actors","Actions"]:window.innerWidth>875?["Select","Id","Name","FirstAirDate","Actors","Actions"]:window.innerWidth>495?["Select","Id","Name","FirstAirDate","Actions"]:["Select","Id","Name","Actions"]}showSeasonListModal(e){var o=this.modalService.open(Gv,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-xl modal-dialog-centered modal-dialog-scrollable  modal-list",scrollable:!0,backdrop:"static"});o.componentInstance.parent=e,o.closed.subscribe(u=>{})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Mo),t.Y36(ni.uw),t.Y36(Si.ye),t.Y36(yr),t.Y36(cd))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(Si.NW,5),t.Gf(Rn.YE,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.paginator=u.first),t.iGM(u=t.CRH())&&(o.sort=u.first)}},features:[t.qOj],decls:53,vars:10,consts:[[1,"container","custom-list-container"],[1,"row"],[1,"custom-list-title"],[1,"col-6","d-flex","align-items-center"],["type","button","matTooltip","Agregar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-plus"],["type","button","matTooltip","Eliminar seleccionados",1,"action-button","remove",3,"ngClass","click"],[1,"fa-solid","fa-trash"],[1,"col-6","text-end"],[1,"col-12"],["matInput","",3,"keyup"],["input",""],[1,"custom-container"],["class","loading-shade",4,"ngIf"],[1,"custom-table-container"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Select"],["mat-header-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matHeaderCellDef"],["mat-cell","","class","checkbox-cell","style","max-width:57px;text-align: center;",4,"matCellDef"],["matColumnDef","Id"],["mat-header-cell","","class","number-cell",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","Name"],["mat-header-cell","","mat-sort-header","","style","width:100%;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","width:100%;text-align: left;",4,"matCellDef"],["matColumnDef","FirstAirDate"],["mat-header-cell","","mat-sort-header","","style","min-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","style","min-width:120px;text-align: left;",4,"matCellDef"],["matColumnDef","LastAirDate"],["matColumnDef","Actors"],["mat-header-cell","","mat-sort-header","","style","max-width:120px;text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","text-truncate","style","max-width:120px;text-align: left;cursor: pointer;",3,"cursor","matTooltip",4,"matCellDef"],["matColumnDef","Directors"],["matColumnDef","Actions"],["mat-header-cell","","style","max-width:130px;",4,"matHeaderCellDef"],["mat-cell","","style","max-width:130px;height: 100%;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Seleccionar p\xe1gina",3,"color","pageSizeOptions"],[1,"loading-shade"],["mat-header-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","indeterminate","change"],["mat-cell","",1,"checkbox-cell",2,"max-width","57px","text-align","center"],[3,"checked","click"],["mat-header-cell","",1,"number-cell"],["mat-cell","",1,"number-cell"],["mat-header-cell","","mat-sort-header","",2,"width","100%","text-align","left"],["mat-cell","",2,"width","100%","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"min-width","120px","text-align","left"],["mat-cell","",2,"min-width","120px","text-align","left"],["mat-header-cell","","mat-sort-header","",2,"max-width","120px","text-align","left"],["mat-cell","",1,"text-truncate",2,"max-width","120px","text-align","left","cursor","pointer",3,"matTooltip"],["cell",""],["mat-header-cell","",2,"max-width","130px"],["mat-cell","",2,"max-width","130px","height","100%"],[2,"display","flex","align-items","center","justify-content","center","height","100%"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Ver temporadas",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-eye"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Editar",1,"action-button","edit",3,"click"],[1,"fa-solid","fa-pen-to-square"],["type","button","data-toggle","tooltip","data-placement","bottom","matTooltip","Eliminar",1,"action-button","remove",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["class","mat-cell","colspan","4",4,"ngIf"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Series"),t.qZA()(),t.TgZ(4,"div")(5,"div",1)(6,"div",3)(7,"button",4),t.NdJ("click",function(){return o.showNewItem()}),t._UZ(8,"i",5),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){return o.deleteSelectedItems()}),t._UZ(10,"i",7),t.qZA()(),t._UZ(11,"div",8),t.qZA(),t.TgZ(12,"div",1)(13,"div",9)(14,"mat-form-field")(15,"mat-label"),t._uU(16,"Buscar"),t.qZA(),t.TgZ(17,"input",10,11),t.NdJ("keyup",function(g){return o.applyFilter(g)}),t.qZA()(),t.TgZ(19,"div",12),t.YNc(20,Hv,2,0,"div",13),t.TgZ(21,"div",14)(22,"table",15),t.ynx(23,16),t.YNc(24,Yv,2,2,"th",17),t.YNc(25,nf,2,1,"td",18),t.BQk(),t.ynx(26,19),t.YNc(27,_s,2,0,"th",20),t.YNc(28,OS,2,1,"td",21),t.BQk(),t.ynx(29,22),t.YNc(30,PS,2,0,"th",23),t.YNc(31,Dm,2,1,"td",24),t.BQk(),t.ynx(32,25),t.YNc(33,Ks,2,0,"th",26),t.YNc(34,xm,3,4,"td",27),t.BQk(),t.ynx(35,28),t.YNc(36,RS,2,0,"th",26),t.YNc(37,Mm,3,4,"td",27),t.BQk(),t.ynx(38,29),t.YNc(39,OM,2,0,"th",30),t.YNc(40,PM,3,4,"td",31),t.BQk(),t.ynx(41,32),t.YNc(42,NS,2,0,"th",30),t.YNc(43,LS,3,4,"td",31),t.BQk(),t.ynx(44,33),t.YNc(45,Kv,1,0,"th",34),t.YNc(46,kS,8,0,"td",35),t.BQk(),t.YNc(47,jr,1,0,"tr",36),t.YNc(48,Wv,1,0,"tr",37),t.YNc(49,BS,2,1,"tr",38),t.qZA()()()()(),t.TgZ(50,"div",1)(51,"div",9),t._UZ(52,"mat-paginator",39),t.qZA()()()()),2&n&&(t.xp6(9),t.Q6J("ngClass",t.VKq(7,zv,!o.selection.hasValue())),t.xp6(11),t.Q6J("ngIf",o.showLoading),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",o.getDisplayedColumns()),t.xp6(1),t.Q6J("matRowDefColumns",o.getDisplayedColumns()),t.xp6(4),t.Q6J("color","primary")("pageSizeOptions",t.DdM(9,US)))},dependencies:[p.mk,p.O5,Si.NW,xn.BZ,xn.fO,xn.as,xn.w1,xn.Dz,xn.nj,xn.ge,xn.ev,xn.XQ,xn.Gk,xn.Ee,Qr.Nt,vi.KE,vi.hX,Rn.YE,Rn.nU,aa.oG,qo.Ou,ms.gM,p.uU],styles:[".custom-list-container[_ngcontent-%COMP%]{max-width:950px!important}"]})}return r})();class Zv{}function nc(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Nombre es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function jS(r,i){if(1&r&&(t.TgZ(0,"mat-option",10),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("value",e.Id),t.xp6(1),t.hij(" ",e.Name," ")}}function VS(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Tipo es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function $v(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Directorio es "),t.TgZ(2,"strong"),t._uU(3,"requerido"),t.qZA()())}function GS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveStorage())}),t.TgZ(1,"div",2)(2,"h5",3),t._uU(3),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._UZ(5,"i",5),t.qZA()(),t.TgZ(6,"div",6)(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,nc,4,0,"mat-error",8),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Tipo"),t.qZA(),t.TgZ(15,"mat-select",9)(16,"mat-option",10),t._uU(17,"--"),t.qZA(),t.YNc(18,jS,2,2,"mat-option",11),t.qZA(),t.YNc(19,VS,4,0,"mat-error",8),t.qZA(),t.TgZ(20,"mat-form-field")(21,"mat-label"),t._uU(22,"Directorio"),t.qZA(),t.TgZ(23,"input",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showChooserDirectoryModal())}),t.qZA(),t.YNc(24,$v,4,0,"mat-error",8),t.qZA()(),t.TgZ(25,"div",13)(26,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeModal())}),t._uU(27,"Close"),t.qZA(),t.TgZ(28,"button",15),t._uU(29,"Guardar"),t.qZA()()(),t._UZ(30,"app-custom-spinner",16)}if(2&r){const e=t.oxw();t.Q6J("formGroup",e.libraryFormGroup),t.xp6(3),t.Oqu(e.library.Id>0?"Editar Almacenamiento":"Nuevo Almacenamiento"),t.xp6(7),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.name.hasError("required")),t.xp6(5),t.Q6J("value",void 0),t.xp6(2),t.Q6J("ngForOf",e.mediaTypes),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.mediaType.hasError("required")),t.xp6(4),t.Q6J("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.libraryFormGroup.controls.physicalPath.hasError("required")),t.xp6(4),t.Q6J("disabled",e.showLoading||!e.libraryFormGroup.valid),t.xp6(2),t.Q6J("showLoading",e.showLoading)}}let qv=(()=>{class r{constructor(e,n,o,u,g){this.sharedService=e,this.libraryService=n,this.activeModal=o,this.formBuilder=u,this.modalService=g,this.showLoading=!1,this.matcher=new Mn,this.mediaTypes=[{Id:1,Name:"Movies"},{Id:2,Name:"Tv Series"}]}ngOnInit(){this.libraryFormGroup=this.formBuilder.group({name:new kt.NI(this.library.Name,[kt.kI.required]),mediaType:new kt.NI(this.library.MediaTypeCatalogDetailId,[kt.kI.required]),physicalPath:new kt.NI(this.library.PhysicalPath,[kt.kI.required])})}saveStorage(){if(this.libraryFormGroup.valid){this.showLoading=!0;var e=JSON.parse(JSON.stringify(this.library));e.Name=this.libraryFormGroup.value.name,e.MediaTypeCatalogDetailId=Number(this.libraryFormGroup.value.mediaType),e.MediaTypeCatalogId=Xt.MediaType,e.PhysicalPath=this.libraryFormGroup.value.physicalPath,e.MediaServerId=this.sharedService.selectedMediaServer.Id,this.libraryService.saveItem(e).then(n=>{this.showLoading=!1,this.activeModal.close()},n=>{this.showLoading=!1,console.error(n)})}else this.libraryFormGroup.markAllAsTouched()}showChooserDirectoryModal(){var e=this,n=this.modalService.open(Zh,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});n.componentInstance.mediaServer=this.sharedService.selectedMediaServer,n.closed.subscribe(o=>{e.libraryFormGroup.controls.physicalPath.setValue(o)})}closeModal(){this.activeModal.dismiss()}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(rt),t.Y36(Yl),t.Y36(Jr),t.Y36(kt.qu),t.Y36(Mo))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-form"]],inputs:{library:"library"},decls:1,vars:1,consts:[[3,"ngIf"],[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-button",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body"],["matInput","","formControlName","name",3,"errorStateMatcher"],[4,"ngIf"],["formControlName","mediaType"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","physicalPath","readonly","",2,"cursor","pointer",3,"errorStateMatcher","click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"showLoading"]],template:function(n,o){1&n&&t.YNc(0,GS,31,11,"ng-template",0),2&n&&t.Q6J("ngIf",null!=o.library&&o.libraryFormGroup)},dependencies:[kt._Y,kt.Fj,kt.JJ,kt.JL,kt.sg,kt.u,Ao,p.sg,p.O5,Qr.Nt,vi.KE,vi.hX,vi.TO,hv.ey,tS.gD],styles:["form[_ngcontent-%COMP%]{display:contents}"]})}return r})(),RM=(()=>{class r{constructor(e){this.restProvider=e}searchFilesInLibrariesByMediaServer(e,n){return new Promise((o,u)=>{let g=on();this.restProvider.executeHttpMethodByUrl(tn.POST,e+"/api/medias/UpdateVideosInListlibraries",{Listlibraries:n,LogIdentifier:g}).then(R=>{o(R)},R=>{console.error(R),u(R)})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(si))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Am(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.onSelectItem(u))}),t._UZ(1,"i"),t.TgZ(2,"span"),t._uU(3),t.qZA()()}if(2&r){const e=i.$implicit;t.xp6(1),t.Gre("",e.iconClass," me-2"),t.xp6(2),t.Oqu(e.title)}}function wm(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.TgZ(2,"div",3),t.YNc(3,Am,4,4,"ng-template",4),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Udp("top",e.top+"px")("right",e.right+"px"),t.xp6(2),t.Q6J("ngForOf",e.options.listItems)}}let Ba=(()=>{class r{constructor(e){this.ref=e,this.hide=new t.vpe,this.selectOption=new t.vpe,this.showMenu=!1}ngAfterViewInit(){setTimeout(()=>{this.showMenu=!0,this.ref.detectChanges()},100)}onClickOutside(){this.hide.emit(!0)}onSelectItem(e){this.selectOption.emit(e)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.sBO))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-menu"]],inputs:{options:"options",right:"right",top:"top"},outputs:{hide:"hide",selectOption:"selectOption"},decls:1,vars:1,consts:[["class","custom-actions-menu-container",4,"ngIf"],[1,"custom-actions-menu-container"],[1,"custom-actions-menu-content",3,"clickOutside"],[1,"custom-actions-menu-scroller"],["ngFor","",3,"ngForOf"],[1,"menu-item",3,"click"]],template:function(n,o){1&n&&t.YNc(0,wm,4,5,"div",0),2&n&&t.Q6J("ngIf",o.showMenu)},dependencies:[p.sg,p.O5,ps],styles:[".custom-actions-menu-container[_ngcontent-%COMP%]{position:absolute;inset:0 auto 0 0;margin:0;z-index:1014;width:100%;height:100%}.custom-actions-menu-content[_ngcontent-%COMP%]{background-color:#191a1c;border-radius:4px;box-shadow:0 4px 10px #00000059;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:8px 0;transform-origin:center top;transition:background .15s ease-out;position:absolute}.custom-actions-menu-scroller[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;padding-right:0;overflow-x:hidden}button.menu-item[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;word-wrap:break-word;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;padding:4px 20px;text-align:left;width:100%}button.menu-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}"]})}return r})(),Ua=(()=>{class r{constructor(e,n,o){this.factoryResolver=e,this.injector=n,this.applicationRef=o}show(e){return new Promise((n,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const g=this.factoryResolver.resolveComponentFactory(Ba).create(this.injector);this.lastViewRef=g.hostView,this.applicationRef.attachView(g.hostView);let T=this;const R=e.target.getBoundingClientRect();var G=window.innerWidth-R.right,ne=R.top+R.height;g.instance.options=e,g.instance.right=G,g.instance.top=ne,g.instance.selectOption.subscribe(Ge=>{Ge.eventOnSelectItem&&Ge.eventOnSelectItem.emit(!0),g.destroy(),T.applicationRef.detachView(g.hostView),n(Ge)}),g.instance.hide.subscribe(Ge=>{g.destroy(),T.applicationRef.detachView(g.hostView),o(!0)});const Ee=g.hostView.rootNodes[0];document.getElementById(e.containerId).appendChild(Ee)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ta(r,i){1&r&&t._UZ(0,"i",16)}function Sa(r,i){1&r&&t._UZ(0,"i",17)}const Jv=function(r){return{selected:r}};function Qv(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t.YNc(3,Ta,1,0,"i",9),t.YNc(4,Sa,1,0,"i",10),t.qZA(),t.TgZ(5,"a"),t._uU(6),t.qZA(),t.TgZ(7,"div",11)(8,"div",12)(9,"button",13),t.NdJ("click",function(o){const g=t.CHM(e).$implicit,T=t.oxw(2);return t.KtG(T.showActions(o,g))}),t.TgZ(10,"span",14),t._UZ(11,"i",15),t.qZA()()()()()()}if(2&r){const e=i.$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(4,Jv,n.currentLibrary&&n.currentLibrary.Id==e.Id)),t.xp6(3),t.Q6J("ngIf",1==e.MediaTypeCatalogDetailId),t.xp6(1),t.Q6J("ngIf",2==e.MediaTypeCatalogDetailId),t.xp6(2),t.Oqu(e.Name)}}function YS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openNewLibrary())}),t._uU(7,"A\xf1adir biblioteca"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateVideoInAllLibraries())}),t._uU(9,"Buscar archivos en biblioteca"),t.qZA()(),t.YNc(10,Qv,12,6,"ng-template",5),t.qZA()}if(2&r){const e=t.oxw();t.xp6(2),t.hij("",e.mediaServer.FamilyName?e.mediaServer.FamilyName:e.mediaServer.DeviceName," - Bibliotecas"),t.xp6(3),t.hij("",e.listLibraries?e.listLibraries.length:""," bibliotecas"),t.xp6(5),t.Q6J("ngForOf",e.listLibraries)}}let Xv=(()=>{class r{constructor(e,n,o,u,g,T,R,G,ne,Ee){this.mediaService=e,this.customMenuService=n,this.modalService=o,this.libraryService=u,this.mediaServerService=g,this.dialog=T,this.snackBarService=R,this.router=G,this.activeRoute=ne,this.sharedService=Ee}ngOnInit(){this.getMediaServerData()}getMediaServerData(){var e=this;return Fu(function*(){e.mediaServerService.getMediaServerByGuid(e.activeRoute.snapshot.params.serverGuid).then(o=>{var u=o.Data,g=e.sharedService.mediaServers.find(T=>T.Id==u.Id);u.isSecureConnection=g.isSecureConnection,e.sharedService.selectedMediaServer=u,e.mediaServer=u,e.getAllItems()},o=>{e.router.navigateByUrl("/404")})})()}getAllItems(){this.libraryService.getItems(this.mediaServer.Id,1,100,"Id","asc","","").then(e=>{this.listLibraries=e.Data},e=>{console.error(e)})}openNewLibrary(){let e=new Zv;e.MediaServerId=this.sharedService.selectedMediaServer.Id,this.showModalForm(e)}editLibrary(e){this.showModalForm(JSON.parse(JSON.stringify(e)))}showModalForm(e){var n=this,o=this.modalService.open(qv,{container:"#sinovadMainContainer",modalDialogClass:"modal-dialog modal-fullscreen-md-down modal-dialog-centered modal-dialog-scrollable",scrollable:!0,backdrop:"static"});o.componentInstance.library=e,o.closed.subscribe(u=>{n.getAllItems()})}deleteLibrary(e){var n=new ni.vA;n.data={title:"Eliminar biblioteca",message:"La biblioteca '"+e.Name+"' ser\xe1 eliminada de este servidor. Tus archivos multimedia no se ver\xe1n afectados. Esto no se puede deshacer. \xbfContinuar?",accordMessage:"Si, eliminar la biblioteca '"+e.Name+"'"},this.dialog.open(wi,n).afterClosed().subscribe(o=>{o&&this.executeDeleteLibrary(e)})}executeDeleteLibrary(e){this.libraryService.deleteItem(e.Id).then(n=>{this.snackBarService.showSnackBar("Se elimin\xf3 la biblioteca satisfactoriamente",Jn.Success),this.getAllItems()},n=>{console.error(n),this.snackBarService.showSnackBar(n,Jn.Error)})}showActions(e,n){this.currentLibrary=n;var o=JSON.parse(JSON.stringify(n)),u=e.currentTarget,g=[],T=new t.vpe;T.subscribe(ne=>{this.editLibrary(o)}),g.push({title:"Editar biblioteca",iconClass:"fa-solid fa-pen-to-square",eventOnSelectItem:T});var R=new t.vpe;R.subscribe(ne=>{this.updateLibraryVideos(o)}),g.push({title:"Buscar archivos en la biblioteca",iconClass:"fa-solid fa-magnifying-glass-plus",eventOnSelectItem:R});var G=new t.vpe;G.subscribe(ne=>{this.deleteLibrary(o)}),g.push({title:"Eliminar biblioteca",iconClass:"fa-sharp fa-solid fa-trash",eventOnSelectItem:G}),this.customMenuService.show({containerId:"sinovadMainContainer",listItems:g,target:u}).then(ne=>{this.currentLibrary=void 0},ne=>{this.currentLibrary=void 0})}updateLibraryVideos(e){e.Id>0&&null!=e.PhysicalPath&&""!=e.PhysicalPath&&this.searchFilesInLibraries([e])}updateVideoInAllLibraries(){this.searchFilesInLibraries(this.listLibraries)}searchFilesInLibraries(e){this.mediaService.searchFilesInLibrariesByMediaServer(this.sharedService.selectedMediaServer.Url,e)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(RM),t.Y36(Ua),t.Y36(Mo),t.Y36(Yl),t.Y36(nd),t.Y36(ni.uw),t.Y36(yr),t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-library-list"]],decls:1,vars:1,consts:[["id","serverSettinsPageContainer","class","sinovad-page-container",4,"ngIf"],["id","serverSettinsPageContainer",1,"sinovad-page-container"],[1,"manage-libraries-header"],[1,"manage-libraries-count"],[3,"click"],["ngFor","",3,"ngForOf"],[1,"manage-library-summary-row",3,"ngClass"],[1,"manage-library-summary-overlay"],[1,"manage-library-icon-container"],["class","fa-solid fa-film",4,"ngIf"],["class","fa-solid fa-tv",4,"ngIf"],[1,"manage-library-summary-actions"],[1,"manage-library-summary-header"],[1,"manage-library-summary-action",3,"click"],[1,"manage-library-summary-header-icon"],[1,"fa-solid","fa-ellipsis-vertical"],[1,"fa-solid","fa-film"],[1,"fa-solid","fa-tv"]],template:function(n,o){1&n&&t.YNc(0,YS,11,3,"div",0),2&n&&t.Q6J("ngIf",o.mediaServer)},dependencies:[p.mk,p.sg,p.O5],styles:[".sinovad-page-container[_ngcontent-%COMP%]{padding:0 20px 48px 30px;max-width:1030px;display:flex;flex-direction:column;flex-grow:1;margin:0 auto;width:100%}h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:20px;margin-top:40px}.manage-libraries-header[_ngcontent-%COMP%]{background-color:#00000026;color:#ffffff73;display:flex;justify-content:space-between;margin:20px 0;padding:13px 20px}.manage-libraries-header[_ngcontent-%COMP%]   .manage-libraries-count[_ngcontent-%COMP%]{flex-grow:1;font-size:13px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:4px;color:#fafafa;display:inline-block;overflow:hidden;text-align:center;transition:background-color .2s,color .2s;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap;background-color:#ffffff40;margin-left:10px;padding:0 10px;border:none;font-size:14px}.manage-libraries-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff26}.manage-library-summary-row[_ngcontent-%COMP%]{color:#ffffffb3;min-height:44px;position:relative;cursor:pointer}.manage-library-summary-overlay[_ngcontent-%COMP%]{align-items:center;display:flex;pointer-events:none;height:100%;left:0;position:absolute;top:0;width:100%}.manage-library-icon-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;margin:0 20px;width:20px;font-size:13px}a[_ngcontent-%COMP%]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-grow:1;overflow:hidden;pointer-events:all;color:#ffffffb3;font-size:13px}.manage-library-summary-actions[_ngcontent-%COMP%]{align-items:center;display:flex;flex:1;justify-content:flex-end;opacity:1}.manage-library-summary-row[_ngcontent-%COMP%]:hover, .manage-library-summary-row.selected[_ngcontent-%COMP%]{background-color:#ffffff0f;color:#fff}.manage-library-summary-header[_ngcontent-%COMP%]{display:flex}button.manage-library-summary-action[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;flex-shrink:0;overflow:hidden;padding:0 15px;pointer-events:all;white-space:nowrap}.manage-library-summary-header-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;width:20px}button.manage-library-summary-action[_ngcontent-%COMP%]:hover{color:#fff}.sinovad-searh-media-log-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;display:flex;align-items:center;justify-content:center}.sinovad-searh-media-log-content[_ngcontent-%COMP%]{width:80%;height:80%;background:black;border:1px solid #dedede;border-radius:6px;color:#fff;padding:10px}.sinovad-searh-media-log-second-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:26px}.sinovad-searh-media-log-html[_ngcontent-%COMP%]{color:#fff;font-size:16px;overflow-y:auto;overflow-x:hidden;width:100%;height:100%}.sinovad-library-principal-section[_ngcontent-%COMP%]{display:block;border-bottom:1px solid #dedede;margin-left:10px;margin-right:10px}.sinovad-library-principal-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-bottom:2px;font-size:30px}.sinovad-library-container[_ngcontent-%COMP%]{display:block}.sinovad-library-section[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-library-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-left:0;font-size:20px}.sinovad-library-section[_ngcontent-%COMP%]   .sinovad-library-buttons-container[_ngcontent-%COMP%]{display:flex;align-items:center}.sinovad-library-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:30px;border-radius:5px;outline:none;cursor:pointer}.sinovad-transcode-subsection[_ngcontent-%COMP%]{display:block;padding:10px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.sinovad-transcode-subsection[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px}.sinovad-transcode-subsection[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px;margin-left:20px;height:30px;border-radius:5px;cursor:pointer}.sinovad-transcode-subsection-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:left;padding:10px}"]})}return r})();function KS(r,i){if(1&r&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.sharedService.getInitials(e)," ")}}function WS(r,i){if(1&r&&(t._UZ(0,"img",23),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw().$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function Im(r,i){1&r&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"img",6),t.ALo(3,"async"),t.ALo(4,"formatDataPipe"),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("src",t.lcZ(3,1,t.xi3(4,3,"edit-profile.png","GetImageURLByKey")),t.LSH))}function dd(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.onSelectProfile(u))}),t.YNc(1,KS,2,1,"div",20),t.YNc(2,WS,3,6,"img",20),t.YNc(3,Im,5,6,"div",21),t.TgZ(4,"div",22),t._uU(5),t.qZA()()}if(2&r){const e=i.$implicit,n=t.oxw(2);t.MGl("id","profile_",e.Id,""),t.xp6(1),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(1),t.Q6J("ngIf",n.enableEditMode),t.xp6(2),t.hij(" ",e.FullName," ")}}function zS(r,i){if(1&r&&t.YNc(0,dd,6,5,"ng-template",18),2&r){const e=t.oxw();t.Q6J("ngForOf",e.sharedService.listProfiles)}}function ey(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.changeToEditMode())}),t._uU(1," EDITAR PERFILES "),t.qZA()}}function ZS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmEdit())}),t._uU(1," LISTO "),t.qZA()}}let ty=(()=>{class r{constructor(e,n,o){this.profileService=e,this.router=n,this.sharedService=o,this.enableEditMode=!1,this.showLoading=!0,this._window=window}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.getProfiles()}changeToEditMode(){this.enableEditMode=!0}confirmEdit(){this.enableEditMode=!1}showNewProfile(){this.router.navigateByUrl("/add-profile")}editProfile(e){this.router.navigateByUrl("/edit-profile/"+e.Guid)}onSelectProfile(e){this.enableEditMode?this.editProfile(e):this.enterProfile(e)}enterProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}getProfiles(){this.showLoading=!0,this.profileService.getProfiles(this.sharedService.userData.Id,1,100,"Id","asc","","").then(e=>{let n=e.Data;this.sharedService.listProfiles=n,this.sharedService.currentProfile=n[0],this.showLoading=!1},e=>{this.showLoading=!1})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(td),t.Y36(kn.F0),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profiles-view"]],decls:26,vars:18,consts:[[1,"sinovad-profiles-view-container","sinovad-profiles-section"],[1,"sinovad-profiles-view-content"],["profilesViewContent",""],[1,"sinovad-page-header"],["profilesViewHeader",""],[1,"sinovad-logo-container"],[3,"src"],[1,"sinovad-profiles-view-body"],[1,"sinovad-profiles-view-title-container"],[1,"sinovad-profiles-view-list-container"],[3,"ngIf"],["id","create_new_profile",3,"click"],[1,"sinovad-initials-profile","add"],["width","40px",3,"src"],[1,"sinovad-fullname-profile"],[1,"sinovad-profiles-view-footer"],["profilesViewFooter",""],[3,"showLoading"],["ngFor","",3,"ngForOf"],[3,"id","click"],["class","sinovad-initials-profile",4,"ngIf"],["class","sinovad-icon-edit-profile-container",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],[1,"sinovad-initials-profile"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[3,"click"],[1,"ready",3,"click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3,4)(5,"div",5),t._UZ(6,"img",6),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA()(),t.TgZ(9,"div",7)(10,"div",8),t._uU(11," \xbfQui\xe9n eres? "),t.qZA(),t.TgZ(12,"div",9),t.YNc(13,zS,1,1,"ng-template",10),t.TgZ(14,"button",11),t.NdJ("click",function(){return o.showNewProfile()}),t.TgZ(15,"div",12),t._UZ(16,"img",13),t.ALo(17,"async"),t.ALo(18,"formatDataPipe"),t.qZA(),t.TgZ(19,"div",14),t._uU(20," Crear "),t.qZA()()()(),t.TgZ(21,"div",15,16),t.YNc(23,ey,2,0,"ng-template",10),t.YNc(24,ZS,2,0,"ng-template",10),t.qZA()()(),t._UZ(25,"app-custom-spinner",17)),2&n){const u=t.MAs(4),g=t.MAs(22);t.xp6(6),t.Q6J("src",t.lcZ(7,8,t.xi3(8,10,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Udp("height",o._window.innerWidth<768?"calc(100% - "+(u.offsetHeight+g.offsetHeight)+"px)":""),t.xp6(4),t.Q6J("ngIf",o.sharedService.listProfiles),t.xp6(3),t.Q6J("src",t.lcZ(17,13,t.xi3(18,15,"plus.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngIf",!o.enableEditMode),t.xp6(1),t.Q6J("ngIf",o.enableEditMode),t.xp6(1),t.Q6J("showLoading",o.showLoading)}},dependencies:[Ao,p.sg,p.O5,wo,p.Ov],styles:["[_nghost-%COMP%]{width:100%;height:100%;background:black;position:absolute;bottom:0;left:0}.sinovad-profiles-section[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:black}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}section[_ngcontent-%COMP%]{outline:none}input[_ngcontent-%COMP%]{outline:none}.sinovad-profiles-view-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.sinovad-profiles-view-content[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.sinovad-profiles-view-title-container[_ngcontent-%COMP%]{font-size:32px;color:#fff;text-align:center;padding-bottom:60px;font-weight:700}.sinovad-profiles-view-body[_ngcontent-%COMP%]{overflow-y:auto}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;opacity:.8;padding:0;margin-right:20px;width:140px}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-profiles-view-list-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-profiles-view-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:60px;padding-bottom:30px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;outline:none;opacity:.8;background:lightslategrey;color:#fff;font-size:15px;height:48PX;padding:0 24px}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button.ready[_ngcontent-%COMP%]{background:#007bff}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-profiles-view-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:100px;border:none;display:flex;align-items:center;justify-content:center;font-size:80px;background:lightslategrey;color:#fff}.sinovad-initials-profile.add[_ngcontent-%COMP%]{background:#007bff}.sinovad-initials-profile.add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px}.sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;color:#fff;font-size:30px;padding-top:10px}.sinovad-screen-back-container[_ngcontent-%COMP%]{position:relative}.sinovad-screen-back-content[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;left:0;position:absolute;margin-left:20px;opacity:.8;height:60px;display:flex;align-items:center;justify-content:center}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{width:54px}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-screen-back-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{width:54px}"]})}return r})();class ny{}function iy(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._UZ(3,"img",4),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCloseProfileNew())}),t._uU(8,"CANCELAR"),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"h2"),t._uU(12,"Crear Perfil"),t.qZA(),t.TgZ(13,"div",9)(14,"input",10),t.NdJ("ngModelChange",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.currentTmpProfile.FullName=o)}),t.qZA()(),t.TgZ(15,"div",9)(16,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(17,"GUARDAR"),t.qZA()()()()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(11),t.Q6J("placeholder",e.placeHolder)("ngModel",e.currentTmpProfile.FullName)}}let af=(()=>{class r{constructor(e,n,o){this.router=e,this.sharedService=n,this.profileService=o,this.placeHolder="Nombre de Perfil"}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.currentTmpProfile=new ny,this.currentTmpProfile.UserId=this.sharedService.userData.Id}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onCloseProfileNew(){this.router.navigateByUrl("/select-profile")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(rt),t.Y36(td))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-new"]],decls:1,vars:1,consts:[["class","sinovad-form-page-container",4,"ngIf"],[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],[1,"sinovaclient-right"],[1,"cancel",3,"click"],[1,"sinovad-page-body"],[1,"sinovad-page-content"],[1,"mb-3"],["type","text",3,"placeholder","ngModel","ngModelChange"],[1,"save",3,"click"]],template:function(n,o){1&n&&t.YNc(0,iy,18,8,"div",0),2&n&&t.Q6J("ngIf",o.currentTmpProfile)},dependencies:[kt.Fj,kt.JJ,kt.On,p.O5,wo,p.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}button[_ngcontent-%COMP%]{float:right;font-size:15px;padding:0 24px;height:48px;color:#f9f9f9;border-radius:5px;border:none;opacity:.8}button.save[_ngcontent-%COMP%]{background:#007bff;width:100%}button.cancel[_ngcontent-%COMP%]{background:lightslategrey}button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-page-body[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{width:300px}.sinovad-page-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center}.sinovad-page-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;width:100%;padding:7px 12px;font-size:15px;height:48px}"]})}return r})();function $S(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveProfile())}),t._uU(2,"Listo"),t.qZA()()}}function ry(r,i){1&r&&(t.TgZ(0,"p",24),t._uU(1,"El perfil principal no se puede eliminar"),t.qZA())}function oy(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickDeleteButton())}),t._uU(1,"Eliminar Perfil"),t.qZA()}}function ay(r,i){if(1&r&&(t.TgZ(0,"div",25),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.currentTmpProfile)," ")}}function qS(r,i){if(1&r&&(t._UZ(0,"img",25),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.currentTmpProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function JS(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2",11),t._uU(4,"Editar Perfil"),t.qZA(),t.YNc(5,ry,2,0,"p",12),t.qZA(),t.TgZ(6,"div",13)(7,"div",14)(8,"input",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.currentTmpProfile.FullName=o)}),t.qZA(),t.TgZ(9,"div",16),t.YNc(10,oy,2,0,"button",17),t.qZA()(),t.TgZ(11,"div",18)(12,"input",19,20),t.NdJ("change",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.uploadAvatarImage(o))}),t.qZA(),t.TgZ(14,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(13);return t.KtG(o.click())}),t.YNc(15,ay,2,1,"div",21),t.YNc(16,qS,3,6,"img",21),t.TgZ(17,"div",22)(18,"div",23),t._UZ(19,"img",3),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&e.currentTmpProfile.Main),t.xp6(3),t.Q6J("ngModel",e.currentTmpProfile.FullName),t.xp6(2),t.Q6J("ngIf",e.currentTmpProfile&&e.currentTmpProfile.Id>0&&!e.currentTmpProfile.Main),t.xp6(5),t.Q6J("ngIf",null==e.currentTmpProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.currentTmpProfile.AvatarPath&&!e.hideImage),t.xp6(3),t.Q6J("src",t.lcZ(20,6,t.xi3(21,8,"edit-profile.png","GetImageURLByKey")),t.LSH)}}let Om=(()=>{class r{constructor(e,n,o,u,g){this.router=e,this.activeRoute=n,this.profileService=o,this.restProvider=u,this.sharedService=g,this.hideImage=!1}ngOnInit(){localStorage.getItem("apiToken")||this.router.navigate(["landing"],{skipLocationChange:!1}),this.profileService.getProfileByGuid(this.activeRoute.snapshot.params.profileGuid).then(n=>{null==n.Data&&this.router.navigateByUrl("404"),this.currentTmpProfile=n.Data},n=>{this.router.navigateByUrl("404")})}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}onClickDeleteButton(){this.profileService.deleteItem(this.currentTmpProfile.Id).then(e=>{this.router.navigateByUrl("/select-profile")},e=>{console.error(e)})}uploadAvatarImage(e){if(e.target.files&&e.target.files.length>0){let u=e.target.files[0];var n=new FormData;n.append("ProfileId",this.currentTmpProfile.Id.toString()),n.append("File",u,u.name),this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",n).then(g=>{this.restProvider.executeSinovadApiService(tn.GET,"/profiles/GetAsync/"+this.currentTmpProfile.Id).then(T=>{this.currentTmpProfile=T.Data,this.hideImage=!0,setTimeout(()=>{this.hideImage=!1},0)},T=>{console.error(T)})},g=>{console.error(g)})}}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(td),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile-edit"]],decls:8,vars:8,consts:[[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],["class","sinovaclient-right",4,"ngIf"],["class","sinovad-page-container",4,"ngIf"],[1,"sinovaclient-right"],[3,"click"],[1,"sinovad-page-container"],[1,"sinovad-page-content"],[1,"top-container"],[1,"title"],["class","subtitle",4,"ngIf"],[1,"bottom-container"],[1,"first"],["type","text",3,"ngModel","ngModelChange"],[1,"sinovad-delete-profile-button-container"],[3,"click",4,"ngIf"],[1,"second"],["type","file","accept",".png,.jpg",2,"display","none",3,"change"],["input",""],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[1,"subtitle"],[1,"sinovad-initials-profile"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.ALo(4,"async"),t.ALo(5,"formatDataPipe"),t.qZA(),t.YNc(6,$S,3,0,"div",4),t.qZA(),t.YNc(7,JS,22,11,"div",5),t.qZA()),2&n&&(t.xp6(3),t.Q6J("src",t.lcZ(4,3,t.xi3(5,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngIf",o.currentTmpProfile),t.xp6(1),t.Q6J("ngIf",o.currentTmpProfile))},dependencies:[kt.Fj,kt.JJ,kt.On,p.O5,wo,p.Ov],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;font-size:20px;background:#007bff;color:#f9f9f9;border-radius:5px;border:none;opacity:.8;height:48px;padding:0 24px}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:100px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{display:block}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:left}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{color:#fff;font-size:32px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   p.subtitle[_ngcontent-%COMP%]{font-size:15px;color:#cacaca}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;min-width:200px;font-size:20px;border-radius:4px;outline:none;padding:7px 12px;border:1px solid transparent}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin:0 0 0 75px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:213px;height:213px;border:2px solid transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:80px;background-color:#789;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:30px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;color:red;opacity:.8;font-size:15px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:170px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{order:2}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px;order:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px}}"]})}return r})();const sf=["itemListContainer"];function Pm(r,i){if(1&r&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function sy(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.onClickItem(u))}),t._UZ(2,"img",12),t.qZA(),t.YNc(3,Pm,3,1,"div",13),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw(2);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerie_ID:e.MovieId,"_",e.MediaType,""),t.xp6(1),t.Q6J("src",n.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",!e.Subtitle)}}function ly(r,i){if(1&r&&(t.TgZ(0,"section",4)(1,"div",5)(2,"div",6,7)(4,"div",8,9),t.YNc(6,sy,4,4,"ng-template",3),t.qZA()()()()),2&r){const e=i.$implicit;t.MGl("id","section_search_",i.index,""),t.xp6(6),t.Q6J("ngForOf",e)}}let cy=(()=>{class r{constructor(e,n){this.restProvider=e,this.sharedService=n,this.showItemView=new t.vpe,this.listItems=[],this.listGroupItems=[]}ngOnInit(){let e=this;this.executeSearch.subscribe(n=>{let o=on();e.lastCallGUID=o,e.getItemsBySearch(n,o)})}ngAfterViewInit(){}getItemsBySearch(e,n){""!=e.trim()?this.restProvider.executeSinovadApiService(tn.GET,"/videos/SearchTvPrograms?userId="+this.sharedService.userData.Id+"&searchMovies="+!0+"&searchTvSeries="+!0+"&searchText="+e).then(u=>{n==this.lastCallGUID&&(this.listItems=u.Data,this.buildGroupItems(this.listItems))},u=>{console.error(u)}):(this.listItems=[],this.listGroupItems=[])}buildGroupItems(e){if(e&&e.length>0){let g=window.innerWidth>=2048?250:180;var n=Math.floor(this.container.nativeElement.offsetWidth/g),o=e.reduce((T,R,G)=>{var ne=Math.floor(G/n)+1;return T[`row${ne}`]=T[`row${ne}`]||[],T[`row${ne}`].push(R),T},{}),u=Object.keys(o).map(function(T){return o[T]});this.listGroupItems=u}else this.listGroupItems=[]}onClickItem(e){e.MovieId?this.getMovieDetail(e):e.TvSerieId&&this.getTvSerieDetail(e)}getMovieDetail(e){this.restProvider.executeSinovadApiService(tn.GET,"/videos/GetMovieDetail?movieId="+e.MovieId).then(n=>{let o=n.Data;o.Item=e,this.setDataAndShowItemView(o)},n=>{console.error(n)})}setDataAndShowItemView(e){e.ListSeasons&&e.ListSeasons.length>0&&(e.CurrentSeason=e.ListSeasons[0]),this.showItemView.emit(e)}getTvSerieDetail(e){this.restProvider.executeSinovadApiService(tn.GET,"/videos/GetTvSerieDetail?userId="+this.sharedService.userData.Id+"&tvSerieId="+e.TvSerieId).then(o=>{let u=o.Data;u.Item=e,this.setDataAndShowItemView(u)},o=>{console.error(o)})}onResize(e){this.buildGroupItems(this.listItems)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-vertical-item-list"]],viewQuery:function(n,o){if(1&n&&t.Gf(sf,5),2&n){let u;t.iGM(u=t.CRH())&&(o.container=u.first)}},hostBindings:function(n,o){1&n&&t.NdJ("resize",function(g){return o.onResize(g)},!1,t.Jf7)},inputs:{executeSearch:"executeSearch"},outputs:{showItemView:"showItemView"},decls:4,vars:3,consts:[[1,"sinovad-vertical-list-content"],["itemListContainer",""],[1,"sinovad-vertical-list-second-content"],["ngFor","",3,"ngForOf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-container"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["referrerpolicy","no-referrer",3,"src"],["class","sinovad-item-caption-container",4,"ngIf"],[1,"sinovad-item-caption-container"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1)(2,"div",2),t.YNc(3,ly,7,2,"ng-template",3),t.qZA()()),2&n&&(t.Udp("height","100%"),t.xp6(3),t.Q6J("ngForOf",o.listGroupItems))},dependencies:[p.sg,p.O5],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px;justify-content:center}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex;gap:20px}.sinovad-item-caption-container[_ngcontent-%COMP%]{color:#fff;font-weight:700;padding-top:10px;text-align:center}.sinovad-vertical-list-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-vertical-list-second-content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:160px;width:160px;height:200px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:170px;height:210px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-content[_ngcontent-%COMP%]{gap:20px}.sinovad-item-container[_ngcontent-%COMP%]{padding:0;margin:0;width:min-content;border-radius:6px}@media only screen and (min-width: 2048px){.sinovad-item-container[_ngcontent-%COMP%]{padding-right:0px 10px 0px 0px;margin:6px}.sinovad-list-content[_ngcontent-%COMP%]{gap:unset}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();function dy(r,i){if(1&r&&(t.TgZ(0,"div",7)(1,"h2"),t._uU(2),t.qZA()()),2&r){const e=t.oxw();t.xp6(2),t.hij('Resultados para "',e.searchText,'"')}}let Rm=(()=>{class r{constructor(e,n,o){this.router=e,this.route=n,this.sharedService=o,this.executeSearch=new t.vpe,this.showItemView=new t.vpe,this.searchText="",this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){let e=this.route.snapshot.queryParams.text;null!=e&&""!=e?this.searchText=e:this.router.navigate(["home"],{skipLocationChange:!1})}ngAfterViewInit(){this.executeSearch.emit(this.searchText)}onSelectItem(e){e.Item.TvSerieId?this.router.navigateByUrl("/tvseriedetail/"+e.Item.TvSerieId):e.Item.MovieId&&this.router.navigateByUrl("/moviedetail/"+e.Item.MovieId)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(kn.gz),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-search-view"]],outputs:{executeSearch:"executeSearch",showItemView:"showItemView"},decls:8,vars:4,consts:[[1,"sinovad-search-view-container"],["container",""],[1,"sinovad-search-view-title"],["header",""],["class","sinovad-search-view-title-content",4,"ngIf"],["itemListContainer",""],[3,"executeSearch","showItemView"],[1,"sinovad-search-view-title-content"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,dy,3,1,"div",4),t.qZA(),t.TgZ(5,"div",null,5)(7,"app-vertical-item-list",6),t.NdJ("showItemView",function(g){return o.onSelectItem(g)}),t.qZA()()()),2&n){const u=t.MAs(3);t.xp6(4),t.Q6J("ngIf",null!=o.searchText&&""!=o.searchText),t.xp6(1),t.Udp("height","calc(100% - "+u.offsetHeight+"px)"),t.xp6(2),t.Q6J("executeSearch",o.executeSearch)}},dependencies:[p.O5,cy],styles:[".sinovad-search-view-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;background:#2d3744;overflow:auto}.sinovad-search-view-title[_ngcontent-%COMP%]{color:#fff;margin-left:20px;margin-right:20px}.sinovad-search-view-title[_ngcontent-%COMP%]   .sinovad-search-view-title-content[_ngcontent-%COMP%]{height:100%;border-bottom:1px solid #dedede;width:100%}"]})}return r})();var Nm=C(1292),Ws=C(5094),lf=C(4753);function QS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var n,o,u,g,T,uy={exports:{}};n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,u=/(?:\/|^)\.(?=\/)/g,g=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,uy.exports=T={buildAbsoluteURL:function(R,G,ne){if(ne=ne||{},R=R.trim(),!(G=G.trim())){if(!ne.alwaysNormalize)return R;var Ee=T.parseURL(R);if(!Ee)throw new Error("Error trying to parse base URL.");return Ee.path=T.normalizePath(Ee.path),T.buildURLFromParts(Ee)}var Ue=T.parseURL(G);if(!Ue)throw new Error("Error trying to parse relative URL.");if(Ue.scheme)return ne.alwaysNormalize?(Ue.path=T.normalizePath(Ue.path),T.buildURLFromParts(Ue)):G;var Ge=T.parseURL(R);if(!Ge)throw new Error("Error trying to parse base URL.");if(!Ge.netLoc&&Ge.path&&"/"!==Ge.path[0]){var Xe=o.exec(Ge.path);Ge.netLoc=Xe[1],Ge.path=Xe[2]}Ge.netLoc&&!Ge.path&&(Ge.path="/");var ht={scheme:Ge.scheme,netLoc:Ue.netLoc,path:null,params:Ue.params,query:Ue.query,fragment:Ue.fragment};if(!Ue.netLoc&&(ht.netLoc=Ge.netLoc,"/"!==Ue.path[0]))if(Ue.path){var vt=Ge.path,Lt=vt.substring(0,vt.lastIndexOf("/")+1)+Ue.path;ht.path=T.normalizePath(Lt)}else ht.path=Ge.path,Ue.params||(ht.params=Ge.params,Ue.query||(ht.query=Ge.query));return null===ht.path&&(ht.path=ne.alwaysNormalize?T.normalizePath(Ue.path):Ue.path),T.buildURLFromParts(ht)},parseURL:function(R){var G=n.exec(R);return G?{scheme:G[1]||"",netLoc:G[2]||"",path:G[3]||"",params:G[4]||"",query:G[5]||"",fragment:G[6]||""}:null},normalizePath:function(R){for(R=R.split("").reverse().join("").replace(u,"");R.length!==(R=R.replace(g,"")).length;);return R.split("").reverse().join("")},buildURLFromParts:function(R){return R.scheme+R.netLoc+R.path+R.params+R.query+R.fragment}};var Lm=uy.exports;function fy(r,i){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);i&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,n)}return e}function Ho(r){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?fy(Object(e),!0).forEach(function(n){XS(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):fy(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function XS(r,i,e){return i=function tC(r){var i=function eC(r,i){if("object"!=typeof r||null===r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,i||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(r)}(r,"string");return"symbol"==typeof i?i:String(i)}(i),i in r?Object.defineProperty(r,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[i]=e,r}function Vr(){return Vr=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Vr.apply(this,arguments)}const ci=Number.isFinite||function(r){return"number"==typeof r&&isFinite(r)};let Tt=function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r}({}),mi=function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r}({}),En=function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.UNKNOWN="unknown",r}({});const zs=function(){},km={trace:zs,debug:zs,log:zs,warn:zs,info:zs,error:zs};let ud=km;const sn=ud,gy=/^(\d+)x(\d+)$/,Fm=/(.+?)=(".*?"|.*?)(?:,|$)/g;class br{constructor(i){"string"==typeof i&&(i=br.parseAttrList(i));for(const e in i)i.hasOwnProperty(e)&&("X-"===e.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(e)),this[e]=i[e])}decimalInteger(i){const e=parseInt(this[i],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(i){if(this[i]){let e=(this[i]||"0x").slice(2);e=(1&e.length?"0":"")+e;const n=new Uint8Array(e.length/2);for(let o=0;o<e.length/2;o++)n[o]=parseInt(e.slice(2*o,2*o+2),16);return n}return null}hexadecimalIntegerAsNumber(i){const e=parseInt(this[i],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(i){return parseFloat(this[i])}optionalFloat(i,e){const n=this[i];return n?parseFloat(n):e}enumeratedString(i){return this[i]}bool(i){return"YES"===this[i]}decimalResolution(i){const e=gy.exec(this[i]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(i){let e;const n={};for(Fm.lastIndex=0;null!==(e=Fm.exec(i));){let u=e[2];0===u.indexOf('"')&&u.lastIndexOf('"')===u.length-1&&(u=u.slice(1,-1)),n[e[1].trim()]=u}return n}}function _y(r){return"SCTE35-OUT"===r||"SCTE35-IN"===r}class Bm{constructor(i,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const n=e.attr;for(const o in n)if(Object.prototype.hasOwnProperty.call(i,o)&&i[o]!==n[o]){sn.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${i.ID}"`),this._badValueForSameId=o;break}i=Vr(new br({}),n,i)}if(this.attr=i,this._startDate=new Date(i["START-DATE"]),"END-DATE"in this.attr){const n=new Date(this.attr["END-DATE"]);ci(n.getTime())&&(this._endDate=n)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const i=this.duration;return null!==i?new Date(this._startDate.getTime()+1e3*i):null}get duration(){if("DURATION"in this.attr){const i=this.attr.decimalFloatingPoint("DURATION");if(ci(i))return i}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&ci(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class ic{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}class vs{constructor(i){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={audio:null,video:null,audiovideo:null},this.baseurl=i}setByteRange(i,e){const n=i.split("@",2),o=[];o[0]=1===n.length?e?e.byteRangeEndOffset:0:parseInt(n[1]),o[1]=parseInt(n[0])+o[0],this._byteRange=o}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Lm.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(i){this._url=i}}class Um extends vs{constructor(i,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new ic,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=i}get decryptdata(){const{levelkeys:i}=this;if(!i&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{const n=Object.keys(this.levelkeys);if(1===n.length)return this._decryptdata=this.levelkeys[n[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime||!ci(this.programDateTime))return null;const i=ci(this.duration)?this.duration:0;return this.programDateTime+1e3*i}get encrypted(){var i;if(null!=(i=this._decryptdata)&&i.encrypted)return!0;if(this.levelkeys){const e=Object.keys(this.levelkeys),n=e.length;if(n>1||1===n&&this.levelkeys[e[0]].encrypted)return!0}return!1}setKeyFormat(i){if(this.levelkeys){const e=this.levelkeys[i];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var i,e;null==(i=this.loader)||i.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(i,e,n,o,u,g=!1){const{elementaryStreams:T}=this,R=T[i];R?(R.startPTS=Math.min(R.startPTS,e),R.endPTS=Math.max(R.endPTS,n),R.startDTS=Math.min(R.startDTS,o),R.endDTS=Math.max(R.endDTS,u)):T[i]={startPTS:e,endPTS:n,startDTS:o,endDTS:u,partial:g}}clearElementaryStreamInfo(){const{elementaryStreams:i}=this;i.audio=null,i.video=null,i.audiovideo=null}}class iC extends vs{constructor(i,e,n,o,u){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new ic,this.duration=i.decimalFloatingPoint("DURATION"),this.gap=i.bool("GAP"),this.independent=i.bool("INDEPENDENT"),this.relurl=i.enumeratedString("URI"),this.fragment=e,this.index=o;const g=i.enumeratedString("BYTERANGE");g&&this.setByteRange(g,u),u&&(this.fragOffset=u.fragOffset+u.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:i}=this;return!!(i.audio||i.video||i.audiovideo)}}class LM{constructor(i){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=i}reloaded(i){if(!i)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-i.lastPartSn,n=this.lastPartIndex-i.lastPartIndex;this.updated=this.endSN!==i.endSN||!!n||!!e,this.advanced=this.endSN>i.endSN||e>0||0===e&&n>0,this.misses=this.updated||this.advanced?Math.floor(.6*i.misses):i.misses+1,this.availabilityDelay=i.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&ci(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const i=this.driftEndTime-this.driftStartTime;return i>0?1e3*(this.driftEnd-this.driftStart)/i:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var i;return null!=(i=this.fragments)&&i.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var i;return null!=(i=this.partList)&&i.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function fd(r){return Uint8Array.from(atob(r),i=>i.charCodeAt(0))}function rC(r){return Uint8Array.from(unescape(encodeURIComponent(r)),i=>i.charCodeAt(0))}var or={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Yo_FAIRPLAY="com.apple.streamingkeydelivery",Yo_PLAYREADY="com.microsoft.playready",Yo_WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function by(r){switch(r){case Yo_FAIRPLAY:return or.FAIRPLAY;case Yo_PLAYREADY:return or.PLAYREADY;case Yo_WIDEVINE:return or.WIDEVINE;case"org.w3.clearkey":return or.CLEARKEY}}function Ty(r){switch(r){case or.FAIRPLAY:return Yo_FAIRPLAY;case or.PLAYREADY:return Yo_PLAYREADY;case or.WIDEVINE:return Yo_WIDEVINE;case or.CLEARKEY:return"org.w3.clearkey"}}function ac(r){const{drmSystems:i,widevineLicenseUrl:e}=r,n=i?[or.FAIRPLAY,or.WIDEVINE,or.PLAYREADY,or.CLEARKEY].filter(o=>!!i[o]):[];return!n[or.WIDEVINE]&&e&&n.push(or.WIDEVINE),n}const hd=typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function ys(r,i,e){return Uint8Array.prototype.slice?r.slice(i,e):new Uint8Array(Array.prototype.slice.call(r,i,e))}const cf=(r,i)=>i+10<=r.length&&73===r[i]&&68===r[i+1]&&51===r[i+2]&&r[i+3]<255&&r[i+4]<255&&r[i+6]<128&&r[i+7]<128&&r[i+8]<128&&r[i+9]<128,Sy=(r,i)=>i+10<=r.length&&51===r[i]&&68===r[i+1]&&73===r[i+2]&&r[i+3]<255&&r[i+4]<255&&r[i+6]<128&&r[i+7]<128&&r[i+8]<128&&r[i+9]<128,md=(r,i)=>{const e=i;let n=0;for(;cf(r,i);)n+=10,n+=gd(r,i+6),Sy(r,i+10)&&(n+=10),i+=n;if(n>0)return r.subarray(e,e+n)},gd=(r,i)=>{let e=0;return e=(127&r[i])<<21,e|=(127&r[i+1])<<14,e|=(127&r[i+2])<<7,e|=127&r[i+3],e},Cy=(r,i)=>cf(r,i)&&gd(r,i+6)+10<=r.length-i,xy=r=>r&&"PRIV"===r.key&&"com.apple.streaming.transportStreamTimestamp"===r.info,oC=r=>{const i=String.fromCharCode(r[0],r[1],r[2],r[3]),e=gd(r,4);return{type:i,size:e,data:r.subarray(10,10+e)}},My=r=>{let i=0;const e=[];for(;cf(r,i);){const n=gd(r,i+6);i+=10;const o=i+n;for(;i+8<o;){const u=oC(r.subarray(i)),g=pd(u);g&&e.push(g),i+=u.size+10}Sy(r,i)&&(i+=10)}return e},pd=r=>"PRIV"===r.type?aC(r):"W"===r.type[0]?lC(r):sC(r),aC=r=>{if(r.size<2)return;const i=Ca(r.data,!0),e=new Uint8Array(r.data.subarray(i.length+1));return{key:r.type,info:i,data:e.buffer}},sC=r=>{if(r.size<2)return;if("TXXX"===r.type){let e=1;const n=Ca(r.data.subarray(e),!0);e+=n.length+1;const o=Ca(r.data.subarray(e));return{key:r.type,info:n,data:o}}const i=Ca(r.data.subarray(1));return{key:r.type,data:i}},lC=r=>{if("WXXX"===r.type){if(r.size<2)return;let e=1;const n=Ca(r.data.subarray(e),!0);e+=n.length+1;const o=Ca(r.data.subarray(e));return{key:r.type,info:n,data:o}}const i=Ca(r.data);return{key:r.type,data:i}},df=r=>{if(8===r.data.byteLength){const i=new Uint8Array(r.data);let n=(i[4]<<23)+(i[5]<<15)+(i[6]<<7)+i[7];return n/=45,1&i[3]&&(n+=47721858.84),Math.round(n)}},Ca=(r,i=!1)=>{const e=function Ay(){return!uf&&typeof self.TextDecoder<"u"&&(uf=new self.TextDecoder("utf-8")),uf}();if(e){const G=e.decode(r);if(i){const ne=G.indexOf("\0");return-1!==ne?G.substring(0,ne):G}return G.replace(/\0/g,"")}const n=r.length;let o,u,g,T="",R=0;for(;R<n;){if(o=r[R++],0===o&&i)return T;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:T+=String.fromCharCode(o);break;case 12:case 13:u=r[R++],T+=String.fromCharCode((31&o)<<6|63&u);break;case 14:u=r[R++],g=r[R++],T+=String.fromCharCode((15&o)<<12|(63&u)<<6|(63&g)<<0)}}return T};let uf;const ja_hexDump=function(r){let i="";for(let e=0;e<r.length;e++){let n=r[e].toString(16);n.length<2&&(n="0"+n),i+=n}return i},bs=Math.pow(2,32)-1,_d=[].push,wy={video:1,audio:2,id3:3,text:4};function ro(r){return String.fromCharCode.apply(null,r)}function Iy(r,i){const e=r[i]<<8|r[i+1];return e<0?65536+e:e}function Ei(r,i){const e=jm(r,i);return e<0?4294967296+e:e}function jm(r,i){return r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]}function ff(r,i,e){r[i]=e>>24,r[i+1]=e>>16&255,r[i+2]=e>>8&255,r[i+3]=255&e}function Vi(r,i){const e=[];if(!i.length)return e;const n=r.byteLength;for(let o=0;o<n;){const u=Ei(r,o),T=u>1?o+u:n;if(ro(r.subarray(o+4,o+8))===i[0])if(1===i.length)e.push(r.subarray(o+8,T));else{const R=Vi(r.subarray(o+8,T),i.slice(1));R.length&&_d.apply(e,R)}o=T}return e}function Oy(r){const i=[],e=r[0];let n=8;const o=Ei(r,n);n+=4,n+=0===e?8:16,n+=2;let T=r.length+0;const R=Iy(r,n);n+=2;for(let G=0;G<R;G++){let ne=n;const Ee=Ei(r,ne);ne+=4;const Ue=2147483647&Ee;if((2147483648&Ee)>>>31==1)return sn.warn("SIDX has hierarchical references (not supported)"),null;const Xe=Ei(r,ne);ne+=4,i.push({referenceSize:Ue,subsegmentDuration:Xe,info:{duration:Xe/o,start:T,end:T+Ue-1}}),T+=Ue,ne+=4,n=ne}return{earliestPresentationTime:0,timescale:o,version:e,referencesCount:R,references:i}}function Py(r){const i=[],e=Vi(r,["moov","trak"]);for(let o=0;o<e.length;o++){const u=e[o],g=Vi(u,["tkhd"])[0];if(g){let T=g[0],R=0===T?12:20;const G=Ei(g,R),ne=Vi(u,["mdia","mdhd"])[0];if(ne){T=ne[0],R=0===T?12:20;const Ee=Ei(ne,R),Ue=Vi(u,["mdia","hdlr"])[0];if(Ue){const Xe={soun:"audio",vide:"video"}[ro(Ue.subarray(8,12))];if(Xe){const ht=Vi(u,["mdia","minf","stbl","stsd"])[0];let vt;ht&&(vt=ro(ht.subarray(12,16))),i[G]={timescale:Ee,type:Xe},i[Xe]={timescale:Ee,id:G,codec:vt}}}}}}return Vi(r,["moov","mvex","trex"]).forEach(o=>{const u=Ei(o,4),g=i[u];g&&(g.default={duration:Ei(o,12),flags:Ei(o,20)})}),i}function dC(r){const i=Vi(r,["schm"])[0];if(i){const e=ro(i.subarray(4,8));if("cbcs"===e||"cenc"===e)return Vi(r,["schi","tenc"])[0]}return sn.error("[eme] missing 'schm' box"),null}function jM(r){const i=Ei(r,0);let e=8;1&i&&(e+=4),4&i&&(e+=4);let n=0;const o=Ei(r,4);for(let u=0;u<o;u++)256&i&&(n+=Ei(r,e),e+=4),512&i&&(e+=4),1024&i&&(e+=4),2048&i&&(e+=4);return n}function Zs(r,i){const e=new Uint8Array(r.length+i.length);return e.set(r),e.set(i,r.length),e}function Ny(r,i){const e=[],n=i.samples,o=i.timescale,u=i.id;let g=!1;return Vi(n,["moof"]).map(R=>{const G=R.byteOffset-8;Vi(R,["traf"]).map(Ee=>{const Ue=Vi(Ee,["tfdt"]).map(Ge=>{const Xe=Ge[0];let ht=Ei(Ge,4);return 1===Xe&&(ht*=Math.pow(2,32),ht+=Ei(Ge,8)),ht/o})[0];return void 0!==Ue&&(r=Ue),Vi(Ee,["tfhd"]).map(Ge=>{const Xe=Ei(Ge,4),ht=16777215&Ei(Ge,0);let Kt=0;const un=0!=(16&ht);let cn=0;const Sn=0!=(32&ht);let gn=8;Xe===u&&(0!=(1&ht)&&(gn+=8),0!=(2&ht)&&(gn+=4),0!=(8&ht)&&(Kt=Ei(Ge,gn),gn+=4),un&&(cn=Ei(Ge,gn),gn+=4),Sn&&(gn+=4),"video"===i.type&&(g=function Ly(r){if(!r)return!1;const i=r.indexOf("."),e=i<0?r:r.substring(0,i);return"hvc1"===e||"hev1"===e||"dvh1"===e||"dvhe"===e}(i.codec)),Vi(Ee,["trun"]).map(An=>{const Vn=An[0],_n=16777215&Ei(An,0),Qn=0!=(1&_n);let zn=0;const yi=0!=(4&_n),Tr=0!=(256&_n);let Gi=0;const Hn=0!=(512&_n);let Kn=0;const Pn=0!=(1024&_n),Yn=0!=(2048&_n);let bi=0;const Pi=Ei(An,4);let Ti=8;Qn&&(zn=Ei(An,Ti),Ti+=4),yi&&(Ti+=4);let zi=zn+G;for(let Ai=0;Ai<Pi;Ai++){if(Tr?(Gi=Ei(An,Ti),Ti+=4):Gi=Kt,Hn?(Kn=Ei(An,Ti),Ti+=4):Kn=cn,Pn&&(Ti+=4),Yn&&(bi=0===Vn?Ei(An,Ti):jm(An,Ti),Ti+=4),"video"===i.type){let kr=0;for(;kr<Kn;){const Xr=Ei(n,zi);zi+=4,vd(g,n[zi])&&ky(n.subarray(zi,zi+Xr),g?2:1,r+bi/o,e),zi+=Xr,kr+=Xr+4}}r+=Gi/o}}))})})}),e}function vd(r,i){if(r){const e=i>>1&63;return 39===e||40===e}return 6==(31&i)}function ky(r,i,e,n){const o=Fy(r);let u=0;u+=i;let g=0,T=0,R=!1,G=0;for(;u<o.length;){g=0;do{if(u>=o.length)break;G=o[u++],g+=G}while(255===G);T=0;do{if(u>=o.length)break;G=o[u++],T+=G}while(255===G);const ne=o.length-u;if(!R&&4===g&&u<o.length){if(R=!0,181===o[u++]){const Ue=Iy(o,u);if(u+=2,49===Ue){const Ge=Ei(o,u);if(u+=4,1195456820===Ge){const Xe=o[u++];if(3===Xe){const ht=o[u++],Lt=64&ht,Zt=Lt?2+3*(31&ht):0,Kt=new Uint8Array(Zt);if(Lt){Kt[0]=ht;for(let un=1;un<Zt;un++)Kt[un]=o[u++]}n.push({type:Xe,payloadType:g,pts:e,bytes:Kt})}}}}}else if(5===g&&T<ne){if(R=!0,T>16){const Ee=[];for(let Xe=0;Xe<16;Xe++){const ht=o[u++].toString(16);Ee.push(1==ht.length?"0"+ht:ht),(3===Xe||5===Xe||7===Xe||9===Xe)&&Ee.push("-")}const Ue=T-16,Ge=new Uint8Array(Ue);for(let Xe=0;Xe<Ue;Xe++)Ge[Xe]=o[u++];n.push({payloadType:g,pts:e,uuid:Ee.join(""),userData:Ca(Ge),userDataBytes:Ge})}}else if(T<ne)u+=T;else if(T>ne)break}}function Fy(r){const i=r.byteLength,e=[];let n=1;for(;n<i-2;)0===r[n]&&0===r[n+1]&&3===r[n+2]?(e.push(n+2),n+=2):n++;if(0===e.length)return r;const o=i-e.length,u=new Uint8Array(o);let g=0;for(n=0;n<o;g++,n++)g===e[0]&&(g++,e.shift()),u[n]=r[g];return u}let yd={};class bd{static clearKeyUriToKeyIdMap(){yd={}}constructor(i,e,n,o=[1],u=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=i,this.uri=e,this.keyFormat=n,this.keyFormatVersions=o,this.iv=u,this.encrypted=!!i&&"NONE"!==i,this.isCommonEncryption=this.encrypted&&"AES-128"!==i}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Yo_FAIRPLAY:case Yo_WIDEVINE:case Yo_PLAYREADY:case"org.w3.clearkey":return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(i){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof i&&("AES-128"===this.method&&!this.iv&&sn.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),i=0);const n=function mC(r){const i=new Uint8Array(16);for(let e=12;e<16;e++)i[e]=r>>8*(15-e)&255;return i}(i);return new bd(this.method,this.uri,"identity",this.keyFormatVersions,n)}const e=function yy(r){const i=r.split(":");let e=null;if("data"===i[0]&&2===i.length){const n=i[1].split(";"),o=n[n.length-1].split(",");if(2===o.length){const g=o[1];"base64"===o[0]?(n.splice(-1,1),e=fd(g)):e=function kM(r){const i=rC(r).subarray(0,16),e=new Uint8Array(16);return e.set(i,16-i.length),e}(g)}}return e}(this.uri);if(e)switch(this.keyFormat){case Yo_WIDEVINE:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case Yo_PLAYREADY:{const n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function VM(r,i,e){if(16!==r.byteLength)throw new RangeError("Invalid system id");let n,o,u;if(i){n=1,o=new Uint8Array(16*i.length);for(let T=0;T<i.length;T++){const R=i[T];if(16!==R.byteLength)throw new RangeError("Invalid key");o.set(R,16*T)}}else n=0,o=new Uint8Array;n>0?(u=new Uint8Array(4),i.length>0&&new DataView(u.buffer).setUint32(0,i.length,!1)):u=new Uint8Array;const g=new Uint8Array(4);return e&&e.byteLength>0&&new DataView(g.buffer).setUint32(0,e.byteLength,!1),function fC(r,...i){const e=i.length;let n=8,o=e;for(;o--;)n+=i[o].byteLength;const u=new Uint8Array(n);for(u[0]=n>>24&255,u[1]=n>>16&255,u[2]=n>>8&255,u[3]=255&n,u.set(r,4),o=0,n=8;o<e;o++)u.set(i[o],n),n+=i[o].byteLength;return u}([112,115,115,104],new Uint8Array([n,0,0,0]),r,u,o,g,e||new Uint8Array)}(n,null,e);const o=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),u=String.fromCharCode.apply(null,Array.from(o)),g=u.substring(u.indexOf("<"),u.length),G=(new DOMParser).parseFromString(g,"text/xml").getElementsByTagName("KID")[0];if(G){const ne=G.childNodes[0]?G.childNodes[0].nodeValue:G.getAttribute("VALUE");if(ne){const Ee=fd(ne).subarray(0,16);(function vy(r){const i=function(n,o,u){const g=n[o];n[o]=n[u],n[u]=g};i(r,0,3),i(r,1,2),i(r,4,5),i(r,6,7)})(Ee),this.keyId=Ee}}break}default:{let n=e.subarray(0,16);if(16!==n.length){const o=new Uint8Array(16);o.set(n,16-n.length),n=o}this.keyId=n;break}}if(!this.keyId||16!==this.keyId.byteLength){let n=yd[this.uri];if(!n){const o=Object.keys(yd).length%Number.MAX_SAFE_INTEGER;n=new Uint8Array(16),new DataView(n.buffer,12,4).setUint32(0,o),yd[this.uri]=n}this.keyId=n}return this}}const sc=/\{\$([a-zA-Z0-9-_]+)\}/g;function By(r){return sc.test(r)}function Io(r,i,e){if(null!==r.variableList||r.hasVariableRefs)for(let n=e.length;n--;){const o=e[n],u=i[o];u&&(i[o]=Vm(r,u))}}function Vm(r,i){if(null!==r.variableList||r.hasVariableRefs){const e=r.variableList;return i.replace(sc,n=>{const o=n.substring(2,n.length-1),u=e?.[o];return void 0===u?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${o}"`)),n):u})}return i}function Gm(r,i,e){let o,u,n=r.variableList;if(n||(r.variableList=n={}),"QUERYPARAM"in i){o=i.QUERYPARAM;try{const g=new self.URL(e).searchParams;if(!g.has(o))throw new Error(`"${o}" does not match any query parameter in URI: "${e}"`);u=g.get(o)}catch(g){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${g.message}`))}}else o=i.NAME,u=i.VALUE;o in n?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${o}"`)):n[o]=u||""}function gC(r,i,e){const n=i.IMPORT;if(e&&n in e){let o=r.variableList;o||(r.variableList=o={}),o[n]=e[n]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}function Ed(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const pC={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},mf=Ed();function gf(r,i){var e;return null!=(e=mf?.isTypeSupported(`${i||"video"}/mp4;codecs="${r}"`))&&e}const Hm=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,Uy=/#EXT-X-MEDIA:(.*)/g,vC=/^#EXT(?:INF|-X-TARGETDURATION):/m,jy=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),Ym=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Da{static findGroup(i,e){for(let n=0;n<i.length;n++){const o=i[n];if(o.id===e)return o}}static convertAVC1ToAVCOTI(i){const e=i.split(".");if(e.length>2){let n=e.shift()+".";return n+=parseInt(e.shift()).toString(16),n+=("000"+parseInt(e.shift()).toString(16)).slice(-4),n}return i}static resolve(i,e){return Lm.buildAbsoluteURL(e,i,{alwaysNormalize:!0})}static isMediaPlaylist(i){return vC.test(i)}static parseMasterPlaylist(i,e){const o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:By(i)},u=[];let g;for(Hm.lastIndex=0;null!=(g=Hm.exec(i));)if(g[1]){var T;const G=new br(g[1]);Io(o,G,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const ne=Vm(o,g[2]),Ee={attrs:G,bitrate:G.decimalInteger("AVERAGE-BANDWIDTH")||G.decimalInteger("BANDWIDTH"),name:G.NAME,url:Da.resolve(ne,e)},Ue=G.decimalResolution("RESOLUTION");Ue&&(Ee.width=Ue.width,Ee.height=Ue.height),yC((G.CODECS||"").split(/[ ,]+/).filter(Ge=>Ge),Ee),Ee.videoCodec&&-1!==Ee.videoCodec.indexOf("avc1")&&(Ee.videoCodec=Da.convertAVC1ToAVCOTI(Ee.videoCodec)),null!=(T=Ee.unknownCodecs)&&T.length||u.push(Ee),o.levels.push(Ee)}else if(g[3]){const ne=g[4];switch(g[3]){case"SESSION-DATA":{const Ee=new br(ne);Io(o,Ee,["DATA-ID","LANGUAGE","VALUE","URI"]);const Ue=Ee["DATA-ID"];Ue&&(null===o.sessionData&&(o.sessionData={}),o.sessionData[Ue]=Ee);break}case"SESSION-KEY":{const Ee=Km(ne,e,o);Ee.encrypted&&Ee.isSupported()?(null===o.sessionKeys&&(o.sessionKeys=[]),o.sessionKeys.push(Ee)):sn.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${ne}"`);break}case"DEFINE":{const Ee=new br(ne);Io(o,Ee,["NAME","VALUE","QUERYPARAM"]),Gm(o,Ee,e)}break;case"CONTENT-STEERING":{const Ee=new br(ne);Io(o,Ee,["SERVER-URI","PATHWAY-ID"]),o.contentSteering={uri:Da.resolve(Ee["SERVER-URI"],e),pathwayId:Ee["PATHWAY-ID"]||"."};break}case"START":o.startTimeOffset=Vy(ne)}}return o.levels=u.length>0&&u.length<o.levels.length?u:o.levels,0===o.levels.length&&(o.playlistParsingError=new Error("no levels found in manifest")),o}static parseMasterPlaylistMedia(i,e,n){let o;const u={},g=n.levels,T={AUDIO:g.map(G=>({id:G.attrs.AUDIO,audioCodec:G.audioCodec})),SUBTITLES:g.map(G=>({id:G.attrs.SUBTITLES,textCodec:G.textCodec})),"CLOSED-CAPTIONS":[]};let R=0;for(Uy.lastIndex=0;null!==(o=Uy.exec(i));){const G=new br(o[1]),ne=G.TYPE;if(ne){const Ee=T[ne],Ue=u[ne]||[];u[ne]=Ue,Io(n,G,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const Ge={attrs:G,bitrate:0,id:R++,groupId:G["GROUP-ID"]||"",instreamId:G["INSTREAM-ID"],name:G.NAME||G.LANGUAGE||"",type:ne,default:G.bool("DEFAULT"),autoselect:G.bool("AUTOSELECT"),forced:G.bool("FORCED"),lang:G.LANGUAGE,url:G.URI?Da.resolve(G.URI,e):""};if(null!=Ee&&Ee.length){const Xe=Da.findGroup(Ee,Ge.groupId)||Ee[0];Gy(Ge,Xe,"audioCodec"),Gy(Ge,Xe,"textCodec")}Ue.push(Ge)}}return u}static parseLevelPlaylist(i,e,n,o,u,g){const T=new LM(e),R=T.fragments;let vt,Lt,Zt,G=null,ne=0,Ee=0,Ue=0,Ge=0,Xe=null,ht=new Um(o,e),Kt=-1,un=!1;for(jy.lastIndex=0,T.m3u8=i,T.hasVariableRefs=By(i);null!==(vt=jy.exec(i));){un&&(un=!1,ht=new Um(o,e),ht.start=Ue,ht.sn=ne,ht.cc=Ge,ht.level=n,G&&(ht.initSegment=G,ht.rawProgramDateTime=G.rawProgramDateTime,G.rawProgramDateTime=null));const An=vt[1];if(An){ht.duration=parseFloat(An);const Vn=(" "+vt[2]).slice(1);ht.title=Vn||null,ht.tagList.push(Vn?["INF",An,Vn]:["INF",An])}else if(vt[3]){if(ci(ht.duration)){ht.start=Ue,Zt&&Ky(ht,Zt,T),ht.sn=ne,ht.level=n,ht.cc=Ge,ht.urlId=u,R.push(ht);const Vn=(" "+vt[3]).slice(1);ht.relurl=Vm(T,Vn),Hy(ht,Xe),Xe=ht,Ue+=ht.duration,ne++,Ee=0,un=!0}}else if(vt[4]){const Vn=(" "+vt[4]).slice(1);Xe?ht.setByteRange(Vn,Xe):ht.setByteRange(Vn)}else if(vt[5])ht.rawProgramDateTime=(" "+vt[5]).slice(1),ht.tagList.push(["PROGRAM-DATE-TIME",ht.rawProgramDateTime]),-1===Kt&&(Kt=R.length);else{if(vt=vt[0].match(Ym),!vt){sn.warn("No matches on slow regex match for level playlist!");continue}for(Lt=1;Lt<vt.length&&!(typeof vt[Lt]<"u");Lt++);const Vn=(" "+vt[Lt]).slice(1),_n=(" "+vt[Lt+1]).slice(1),Qn=vt[Lt+2]?(" "+vt[Lt+2]).slice(1):"";switch(Vn){case"PLAYLIST-TYPE":T.type=_n.toUpperCase();break;case"MEDIA-SEQUENCE":ne=T.startSN=parseInt(_n);break;case"SKIP":{const zn=new br(_n);Io(T,zn,["RECENTLY-REMOVED-DATERANGES"]);const yi=zn.decimalInteger("SKIPPED-SEGMENTS");if(ci(yi)){T.skippedSegments=yi;for(let Gi=yi;Gi--;)R.unshift(null);ne+=yi}const Tr=zn.enumeratedString("RECENTLY-REMOVED-DATERANGES");Tr&&(T.recentlyRemovedDateranges=Tr.split("\t"));break}case"TARGETDURATION":T.targetduration=Math.max(parseInt(_n),1);break;case"VERSION":T.version=parseInt(_n);break;case"EXTM3U":break;case"ENDLIST":T.live=!1;break;case"#":(_n||Qn)&&ht.tagList.push(Qn?[_n,Qn]:[_n]);break;case"DISCONTINUITY":Ge++,ht.tagList.push(["DIS"]);break;case"GAP":ht.gap=!0,ht.tagList.push([Vn]);break;case"BITRATE":ht.tagList.push([Vn,_n]);break;case"DATERANGE":{const zn=new br(_n);Io(T,zn,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Io(T,zn,zn.clientAttrs);const yi=new Bm(zn,T.dateRanges[zn.ID]);yi.isValid||T.skippedSegments?T.dateRanges[yi.id]=yi:sn.warn(`Ignoring invalid DATERANGE tag: "${_n}"`),ht.tagList.push(["EXT-X-DATERANGE",_n]);break}case"DEFINE":{const zn=new br(_n);Io(T,zn,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in zn?gC(T,zn,g):Gm(T,zn,e)}break;case"DISCONTINUITY-SEQUENCE":Ge=parseInt(_n);break;case"KEY":{const zn=Km(_n,e,T);if(zn.isSupported()){if("NONE"===zn.method){Zt=void 0;break}Zt||(Zt={}),Zt[zn.keyFormat]&&(Zt=Vr({},Zt)),Zt[zn.keyFormat]=zn}else sn.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${_n}"`);break}case"START":T.startTimeOffset=Vy(_n);break;case"MAP":{const zn=new br(_n);if(Io(T,zn,["BYTERANGE","URI"]),ht.duration){const yi=new Um(o,e);Yy(yi,zn,n,Zt),G=yi,ht.initSegment=G,G.rawProgramDateTime&&!ht.rawProgramDateTime&&(ht.rawProgramDateTime=G.rawProgramDateTime)}else Yy(ht,zn,n,Zt),G=ht,un=!0;break}case"SERVER-CONTROL":{const zn=new br(_n);T.canBlockReload=zn.bool("CAN-BLOCK-RELOAD"),T.canSkipUntil=zn.optionalFloat("CAN-SKIP-UNTIL",0),T.canSkipDateRanges=T.canSkipUntil>0&&zn.bool("CAN-SKIP-DATERANGES"),T.partHoldBack=zn.optionalFloat("PART-HOLD-BACK",0),T.holdBack=zn.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const zn=new br(_n);T.partTarget=zn.decimalFloatingPoint("PART-TARGET");break}case"PART":{let zn=T.partList;zn||(zn=T.partList=[]);const yi=Ee>0?zn[zn.length-1]:void 0,Tr=Ee++,Gi=new br(_n);Io(T,Gi,["BYTERANGE","URI"]);const Hn=new iC(Gi,ht,e,Tr,yi);zn.push(Hn),ht.duration+=Hn.duration;break}case"PRELOAD-HINT":{const zn=new br(_n);Io(T,zn,["URI"]),T.preloadHint=zn;break}case"RENDITION-REPORT":{const zn=new br(_n);Io(T,zn,["URI"]),T.renditionReports=T.renditionReports||[],T.renditionReports.push(zn);break}default:sn.warn(`line parsed but not handled: ${vt}`)}}}Xe&&!Xe.relurl?(R.pop(),Ue-=Xe.duration,T.partList&&(T.fragmentHint=Xe)):T.partList&&(Hy(ht,Xe),ht.cc=Ge,T.fragmentHint=ht,Zt&&Ky(ht,Zt,T));const cn=R.length,Sn=R[0],gn=R[cn-1];if(Ue+=T.skippedSegments*T.targetduration,Ue>0&&cn&&gn){T.averagetargetduration=Ue/cn;const An=gn.sn;T.endSN="initSegment"!==An?An:0,T.live||(gn.endList=!0),Sn&&(T.startCC=Sn.cc)}else T.endSN=0,T.startCC=0;return T.fragmentHint&&(Ue+=T.fragmentHint.duration),T.totalduration=Ue,T.endCC=Ge,Kt>0&&function bC(r,i){let e=r[i];for(let n=i;n--;){const o=r[n];if(!o)return;o.programDateTime=e.programDateTime-1e3*o.duration,e=o}}(R,Kt),T}}function Km(r,i,e){var n,o;const u=new br(r);Io(e,u,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const g=null!=(n=u.METHOD)?n:"",T=u.URI,R=u.hexadecimalInteger("IV"),G=u.KEYFORMATVERSIONS,ne=null!=(o=u.KEYFORMAT)?o:"identity";T&&u.IV&&!R&&sn.error(`Invalid IV: ${u.IV}`);const Ee=T?Da.resolve(T,i):"",Ue=(G||"1").split("/").map(Number).filter(Number.isFinite);return new bd(g,Ee,ne,Ue,R)}function Vy(r){const e=new br(r).decimalFloatingPoint("TIME-OFFSET");return ci(e)?e:null}function yC(r,i){["video","audio","text"].forEach(e=>{const n=r.filter(o=>function _C(r,i){const e=pC[i];return!!e&&!0===e[r.slice(0,4)]}(o,e));if(n.length){const o=n.filter(u=>0===u.lastIndexOf("avc1",0)||0===u.lastIndexOf("mp4a",0));i[`${e}Codec`]=o.length>0?o[0]:n[0],r=r.filter(u=>-1===n.indexOf(u))}}),i.unknownCodecs=r}function Gy(r,i,e){const n=i[e];n&&(r[e]=n)}function Hy(r,i){r.rawProgramDateTime?r.programDateTime=Date.parse(r.rawProgramDateTime):null!=i&&i.programDateTime&&(r.programDateTime=i.endProgramDateTime),ci(r.programDateTime)||(r.programDateTime=null,r.rawProgramDateTime=null)}function Yy(r,i,e,n){r.relurl=i.URI,i.BYTERANGE&&r.setByteRange(i.BYTERANGE),r.level=e,r.sn="initSegment",n&&(r.levelkeys=n),r.initSegment=null}function Ky(r,i,e){r.levelkeys=i;const{encryptedFragments:n}=e;(!n.length||n[n.length-1].levelkeys!==i)&&Object.keys(i).some(o=>i[o].isCommonEncryption)&&n.push(r)}function Wm(r){const{type:i}=r;switch(i){case"audioTrack":return"audio";case"subtitleTrack":return"subtitle";default:return"main"}}function pf(r,i){let e=r.url;return(void 0===e||0===e.indexOf("data:"))&&(e=i.url),e}class EC{constructor(i){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=i,this.registerListeners()}startLoad(i){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:i}=this;i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.LEVEL_LOADING,this.onLevelLoading,this),i.on(Tt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),i.on(Tt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:i}=this;i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.LEVEL_LOADING,this.onLevelLoading,this),i.off(Tt.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),i.off(Tt.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(i){const e=this.hls.config,g=new(e.pLoader||e.loader)(e);return this.loaders[i.type]=g,g}getInternalLoader(i){return this.loaders[i.type]}resetInternalLoader(i){this.loaders[i]&&delete this.loaders[i]}destroyInternalLoaders(){for(const i in this.loaders){const e=this.loaders[i];e&&e.destroy(),this.resetInternalLoader(i)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(i,e){const{url:n}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:"manifest",url:n,deliveryDirectives:null})}onLevelLoading(i,e){const{id:n,level:o,url:u,deliveryDirectives:g}=e;this.load({id:n,level:o,responseType:"text",type:"level",url:u,deliveryDirectives:g})}onAudioTrackLoading(i,e){const{id:n,groupId:o,url:u,deliveryDirectives:g}=e;this.load({id:n,groupId:o,level:null,responseType:"text",type:"audioTrack",url:u,deliveryDirectives:g})}onSubtitleTrackLoading(i,e){const{id:n,groupId:o,url:u,deliveryDirectives:g}=e;this.load({id:n,groupId:o,level:null,responseType:"text",type:"subtitleTrack",url:u,deliveryDirectives:g})}load(i){var e;const n=this.hls.config;let u,o=this.getInternalLoader(i);if(o){const G=o.context;if(G&&G.url===i.url)return void sn.trace("[playlist-loader]: playlist request ongoing");sn.log(`[playlist-loader]: aborting previous loader for type: ${i.type}`),o.abort()}if(u="manifest"===i.type?n.manifestLoadPolicy.default:Vr({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(i),null!=(e=i.deliveryDirectives)&&e.part){let G;if("level"===i.type&&null!==i.level?G=this.hls.levels[i.level].details:"audioTrack"===i.type&&null!==i.id?G=this.hls.audioTracks[i.id].details:"subtitleTrack"===i.type&&null!==i.id&&(G=this.hls.subtitleTracks[i.id].details),G){const ne=G.partTarget,Ee=G.targetduration;if(ne&&Ee){const Ue=1e3*Math.max(3*ne,.8*Ee);u=Vr({},u,{maxTimeToFirstByteMs:Math.min(Ue,u.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(Ue,u.maxTimeToFirstByteMs)})}}}const g=u.errorRetry||u.timeoutRetry||{};o.load(i,{loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:g.maxNumRetry||0,retryDelay:g.retryDelayMs||0,maxRetryDelay:g.maxRetryDelayMs||0},{onSuccess:(G,ne,Ee,Ue)=>{const Ge=this.getInternalLoader(Ee);this.resetInternalLoader(Ee.type);const Xe=G.data;0===Xe.indexOf("#EXTM3U")?(ne.parsing.start=performance.now(),Da.isMediaPlaylist(Xe)?this.handleTrackOrLevelPlaylist(G,ne,Ee,Ue||null,Ge):this.handleMasterPlaylist(G,ne,Ee,Ue)):this.handleManifestParsingError(G,Ee,new Error("no EXTM3U delimiter"),Ue||null,ne)},onError:(G,ne,Ee,Ue)=>{this.handleNetworkError(ne,Ee,!1,G,Ue)},onTimeout:(G,ne,Ee)=>{this.handleNetworkError(ne,Ee,!0,void 0,G)}})}handleMasterPlaylist(i,e,n,o){const u=this.hls,g=i.data,T=pf(i,n),R=Da.parseMasterPlaylist(g,T);if(R.playlistParsingError)return void this.handleManifestParsingError(i,n,R.playlistParsingError,o,e);const{contentSteering:G,levels:ne,sessionData:Ee,sessionKeys:Ue,startTimeOffset:Ge,variableList:Xe}=R;this.variableList=Xe;const{AUDIO:ht=[],SUBTITLES:vt,"CLOSED-CAPTIONS":Lt}=Da.parseMasterPlaylistMedia(g,T,R);ht.length&&!ht.some(Kt=>!Kt.url)&&ne[0].audioCodec&&!ne[0].attrs.AUDIO&&(sn.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),ht.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new br({}),bitrate:0,url:""})),u.trigger(Tt.MANIFEST_LOADED,{levels:ne,audioTracks:ht,subtitles:vt,captions:Lt,contentSteering:G,url:T,stats:e,networkDetails:o,sessionData:Ee,sessionKeys:Ue,startTimeOffset:Ge,variableList:Xe})}handleTrackOrLevelPlaylist(i,e,n,o,u){const g=this.hls,{id:T,level:R,type:G}=n,ne=pf(i,n),Ee=ci(T)?T:0,Ue=ci(R)?R:Ee,Ge=Wm(n),Xe=Da.parseLevelPlaylist(i.data,ne,Ue,Ge,Ee,this.variableList);if("manifest"===G){const ht={attrs:new br({}),bitrate:0,details:Xe,name:"",url:ne};g.trigger(Tt.MANIFEST_LOADED,{levels:[ht],audioTracks:[],url:ne,stats:e,networkDetails:o,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),n.levelDetails=Xe,this.handlePlaylistLoaded(Xe,i,e,n,o,u)}handleManifestParsingError(i,e,n,o,u){this.hls.trigger(Tt.ERROR,{type:mi.NETWORK_ERROR,details:En.MANIFEST_PARSING_ERROR,fatal:"manifest"===e.type,url:i.url,err:n,error:n,reason:n.message,response:i,context:e,networkDetails:o,stats:u})}handleNetworkError(i,e,n=!1,o,u){let g=`A network ${n?"timeout":"error"+(o?" (status "+o.code+")":"")} occurred while loading ${i.type}`;"level"===i.type?g+=`: ${i.level} id: ${i.id}`:("audioTrack"===i.type||"subtitleTrack"===i.type)&&(g+=` id: ${i.id} group-id: "${i.groupId}"`);const T=new Error(g);sn.warn(`[playlist-loader]: ${g}`);let R=En.UNKNOWN,G=!1;const ne=this.getInternalLoader(i);switch(i.type){case"manifest":R=n?En.MANIFEST_LOAD_TIMEOUT:En.MANIFEST_LOAD_ERROR,G=!0;break;case"level":R=n?En.LEVEL_LOAD_TIMEOUT:En.LEVEL_LOAD_ERROR,G=!1;break;case"audioTrack":R=n?En.AUDIO_TRACK_LOAD_TIMEOUT:En.AUDIO_TRACK_LOAD_ERROR,G=!1;break;case"subtitleTrack":R=n?En.SUBTITLE_TRACK_LOAD_TIMEOUT:En.SUBTITLE_LOAD_ERROR,G=!1}ne&&this.resetInternalLoader(i.type);const Ee={type:mi.NETWORK_ERROR,details:R,fatal:G,url:i.url,loader:ne,context:i,error:T,networkDetails:e,stats:u};o&&(Ee.response=Ho({url:e?.url||i.url,data:void 0},o)),this.hls.trigger(Tt.ERROR,Ee)}handlePlaylistLoaded(i,e,n,o,u,g){const T=this.hls,{type:R,level:G,id:ne,groupId:Ee,deliveryDirectives:Ue}=o,Ge=pf(e,o),Xe=Wm(o),ht="number"==typeof o.level&&"main"===Xe?G:void 0;if(!i.fragments.length){const Lt=new Error("No Segments found in Playlist");return void T.trigger(Tt.ERROR,{type:mi.NETWORK_ERROR,details:En.LEVEL_EMPTY_ERROR,fatal:!1,url:Ge,error:Lt,reason:Lt.message,response:e,context:o,level:ht,parent:Xe,networkDetails:u,stats:n})}i.targetduration||(i.playlistParsingError=new Error("Missing Target Duration"));const vt=i.playlistParsingError;if(vt)T.trigger(Tt.ERROR,{type:mi.NETWORK_ERROR,details:En.LEVEL_PARSING_ERROR,fatal:!1,url:Ge,error:vt,reason:vt.message,response:e,context:o,level:ht,parent:Xe,networkDetails:u,stats:n});else switch(i.live&&g&&(g.getCacheAge&&(i.ageHeader=g.getCacheAge()||0),(!g.getCacheAge||isNaN(i.ageHeader))&&(i.ageHeader=0)),R){case"manifest":case"level":T.trigger(Tt.LEVEL_LOADED,{details:i,level:ht||0,id:ne||0,stats:n,networkDetails:u,deliveryDirectives:Ue});break;case"audioTrack":T.trigger(Tt.AUDIO_TRACK_LOADED,{details:i,id:ne||0,groupId:Ee||"",stats:n,networkDetails:u,deliveryDirectives:Ue});break;case"subtitleTrack":T.trigger(Tt.SUBTITLE_TRACK_LOADED,{details:i,id:ne||0,groupId:Ee||"",stats:n,networkDetails:u,deliveryDirectives:Ue})}}}function zm(r,i){let e;try{e=new Event("addtrack")}catch{e=document.createEvent("Event"),e.initEvent("addtrack",!1,!1)}e.track=r,i.dispatchEvent(e)}function Wy(r,i){const e=r.mode;if("disabled"===e&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(i.id))try{if(r.addCue(i),!r.cues.getCueById(i.id))throw new Error(`addCue is failed for: ${i}`)}catch(n){sn.debug(`[texttrack-utils]: ${n}`);try{const o=new self.TextTrackCue(i.startTime,i.endTime,i.text);o.id=i.id,r.addCue(o)}catch(o){sn.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${o}`)}}"disabled"===e&&(r.mode=e)}function lc(r){const i=r.mode;if("disabled"===i&&(r.mode="hidden"),r.cues)for(let e=r.cues.length;e--;)r.removeCue(r.cues[e]);"disabled"===i&&(r.mode=i)}function Zm(r,i,e,n){const o=r.mode;if("disabled"===o&&(r.mode="hidden"),r.cues&&r.cues.length>0){const u=function qm(r,i,e){const n=[],o=function $m(r,i){if(i<r[0].startTime)return 0;const e=r.length-1;if(i>r[e].endTime)return-1;let n=0,o=e;for(;n<=o;){const u=Math.floor((o+n)/2);if(i<r[u].startTime)o=u-1;else{if(!(i>r[u].startTime&&n<e))return u;n=u+1}}return r[n].startTime-i<i-r[o].startTime?n:o}(r,i);if(o>-1)for(let u=o,g=r.length;u<g;u++){const T=r[u];if(T.startTime>=i&&T.endTime<=e)n.push(T);else if(T.startTime>e)return n}return n}(r.cues,i,e);for(let g=0;g<u.length;g++)(!n||n(u[g]))&&r.removeCue(u[g])}"disabled"===o&&(r.mode=o)}var la_emsg="https://aomedia.org/emsg/ID3";function Qm(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const _f=(()=>{const r=Qm();try{new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function Td(r,i){return r.getTime()/1e3-i}function TC(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class zy{constructor(i){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=i,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:i}=this;i.on(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),i.on(Tt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(Tt.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:i}=this;i.off(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),i.off(Tt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(Tt.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(i,e){this.media=e.media}onMediaDetaching(){this.id3Track&&(lc(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(i){const e=this.getID3Track(i.textTracks);return e.mode="hidden",e}getID3Track(i){if(this.media){for(let e=0;e<i.length;e++){const n=i[e];if("metadata"===n.kind&&"id3"===n.label)return zm(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(i,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:o}}}=this;if(!n&&!o)return;const{samples:u}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const g=Qm();for(let T=0;T<u.length;T++){const R=u[T].type;if(R===la_emsg&&!n||!o)continue;const G=My(u[T].data);if(G){const ne=u[T].pts;let Ee=ne+u[T].duration;Ee>_f&&(Ee=_f),Ee-ne<=0&&(Ee=ne+.25);for(let Ge=0;Ge<G.length;Ge++){const Xe=G[Ge];if(!xy(Xe)){this.updateId3CueEnds(ne,R);const ht=new g(ne,Ee,"");ht.value=Xe,R&&(ht.type=R),this.id3Track.addCue(ht)}}}}}updateId3CueEnds(i,e){var n;const o=null==(n=this.id3Track)?void 0:n.cues;if(o)for(let u=o.length;u--;){const g=o[u];g.type===e&&g.startTime<i&&g.endTime===_f&&(g.endTime=i)}}onBufferFlushing(i,{startOffset:e,endOffset:n,type:o}){const{id3Track:u,hls:g}=this;if(!g)return;const{config:{enableEmsgMetadataCues:T,enableID3MetadataCues:R}}=g;if(u&&(T||R)){let G;G="audio"===o?ne=>"org.id3"===ne.type&&R:"video"===o?ne=>ne.type===la_emsg&&T:ne=>"org.id3"===ne.type&&R||ne.type===la_emsg&&T,Zm(u,e,n,G)}}onLevelUpdated(i,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:o}=this,{dateRanges:u}=e,g=Object.keys(u);if(o){const ne=Object.keys(n).filter(Ee=>!g.includes(Ee));for(let Ee=ne.length;Ee--;){const Ue=ne[Ee];Object.keys(n[Ue].cues).forEach(Ge=>{o.removeCue(n[Ue].cues[Ge])}),delete n[Ue]}}const T=e.fragments[e.fragments.length-1];if(0===g.length||!ci(T?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const R=T.programDateTime/1e3-T.start,G=Qm();for(let ne=0;ne<g.length;ne++){const Ee=g[ne],Ue=u[Ee],Ge=n[Ee],Xe=Ge?.cues||{};let ht=Ge?.durationKnown||!1;const vt=Td(Ue.startDate,R);let Lt=_f;const Zt=Ue.endDate;if(Zt)Lt=Td(Zt,R),ht=!0;else if(Ue.endOnNext&&!ht){const un=g.reduce((cn,Sn)=>{const gn=u[Sn];return gn.class===Ue.class&&gn.id!==Sn&&gn.startDate>Ue.startDate&&cn.push(gn),cn},[]).sort((cn,Sn)=>cn.startDate.getTime()-Sn.startDate.getTime())[0];un&&(Lt=Td(un.startDate,R),ht=!0)}const Kt=Object.keys(Ue.attr);for(let un=0;un<Kt.length;un++){const cn=Kt[un];if("ID"===(r=cn)||"CLASS"===r||"START-DATE"===r||"DURATION"===r||"END-DATE"===r||"END-ON-NEXT"===r)continue;let Sn=Xe[cn];if(Sn)ht&&!Ge.durationKnown&&(Sn.endTime=Lt);else{let gn=Ue.attr[cn];Sn=new G(vt,Lt,""),_y(cn)&&(gn=TC(gn)),Sn.value={key:cn,data:gn},Sn.type="com.apple.quicktime.HLS",Sn.id=Ee,this.id3Track.addCue(Sn),Xe[cn]=Sn}}n[Ee]={cues:Xe,dateRange:Ue,durationKnown:ht}}var r}}class cc{constructor(i){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=i,this.config=i.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:i,levelDetails:e}=this;return void 0!==i.liveMaxLatencyDuration?i.liveMaxLatencyDuration:e?i.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:i}=this;if(null===i)return null;const{holdBack:e,partHoldBack:n,targetduration:o}=i,{liveSyncDuration:u,liveSyncDurationCount:g,lowLatencyMode:T}=this.config,R=this.hls.userConfig;let G=T&&n||e;return(R.liveSyncDuration||R.liveSyncDurationCount||0===G)&&(G=void 0!==u?u:g*o),G+Math.min(1*this.stallCount,o)}get liveSyncPosition(){const i=this.estimateLiveEdge(),e=this.targetLatency,n=this.levelDetails;if(null===i||null===e||null===n)return null;const o=n.edge,T=o-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o-n.totalduration,i-e-this.edgeStalled),T)}get drift(){const{levelDetails:i}=this;return null===i?1:i.drift}get edgeStalled(){const{levelDetails:i}=this;return null===i?0:Math.max(i.age-3*(this.config.lowLatencyMode&&i.partTarget||i.targetduration),0)}get forwardBufferLength(){const{media:i,levelDetails:e}=this;if(!i||!e)return 0;const n=i.buffered.length;return(n?i.buffered.end(n-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Tt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(Tt.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Tt.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(Tt.ERROR,this.onError,this)}onMediaAttached(i,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(i,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(i,e){var n;e.details===En.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&sn.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:i,levelDetails:e}=this;if(!i||!e)return;this.currentTime=i.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:u}=this.config;if(!o||1===u)return;const g=this.targetLatency;if(null===g)return;const T=n-g,R=Math.min(this.maxLatency,g+e.targetduration);if(e.live&&T<R&&T>.05&&this.forwardBufferLength>1){const ne=Math.min(2,Math.max(1,u)),Ee=Math.round(2/(1+Math.exp(-.75*T-this.edgeStalled))*20)/20;i.playbackRate=Math.min(ne,Math.max(1,Ee))}else 1!==i.playbackRate&&0!==i.playbackRate&&(i.playbackRate=1)}estimateLiveEdge(){const{levelDetails:i}=this;return null===i?null:i.edge+i.age}computeLatency(){const i=this.estimateLiveEdge();return null===i?null:i-this.currentTime}}const vf=["NONE","TYPE-0","TYPE-1",null];class yf{constructor(i,e,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=i,this.part=e,this.skip=n}addDirectives(i){const e=new self.URL(i);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class $s{constructor(i){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[i.url],this._attrs=[i.attrs],this.bitrate=i.bitrate,i.details&&(this.details=i.details),this.id=i.id||0,this.name=i.name,this.width=i.width||0,this.height=i.height||0,this.audioCodec=i.audioCodec,this.videoCodec=i.videoCodec,this.unknownCodecs=i.unknownCodecs,this.codecSet=[i.videoCodec,i.audioCodec].filter(e=>e).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(i){const e=i%this.url.length;this._urlId!==e&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=e)}get audioGroupId(){var i;return null==(i=this.audioGroupIds)?void 0:i[this.urlId]}get textGroupId(){var i;return null==(i=this.textGroupIds)?void 0:i[this.urlId]}addFallback(i){this.url.push(i.url),this._attrs.push(i.attrs)}}function Xm(r,i){const e=i.startPTS;if(ci(e)){let o,n=0;i.sn>r.sn?(n=e-r.start,o=r):(n=r.start-e,o=i),o.duration!==n&&(o.duration=n)}else i.start=i.sn>r.sn?r.cc===i.cc&&r.minEndPTS?r.start+(r.minEndPTS-r.start):r.start+r.duration:Math.max(r.start-i.duration,0)}function eg(r,i,e,n,o,u){n-e<=0&&(sn.warn("Fragment should have a positive duration",i),n=e+i.duration,u=o+i.duration);let T=e,R=n;const G=i.startPTS,ne=i.endPTS;if(ci(G)){const vt=Math.abs(G-e);i.deltaPTS=ci(i.deltaPTS)?Math.max(vt,i.deltaPTS):vt,T=Math.max(e,G),e=Math.min(e,G),o=Math.min(o,i.startDTS),R=Math.min(n,ne),n=Math.max(n,ne),u=Math.max(u,i.endDTS)}const Ee=e-i.start;0!==i.start&&(i.start=e),i.duration=n-i.start,i.startPTS=e,i.maxStartPTS=T,i.startDTS=o,i.endPTS=n,i.minEndPTS=R,i.endDTS=u;const Ue=i.sn;if(!r||Ue<r.startSN||Ue>r.endSN)return 0;let Ge;const Xe=Ue-r.startSN,ht=r.fragments;for(ht[Xe]=i,Ge=Xe;Ge>0;Ge--)Xm(ht[Ge],ht[Ge-1]);for(Ge=Xe;Ge<ht.length-1;Ge++)Xm(ht[Ge],ht[Ge+1]);return r.fragmentHint&&Xm(ht[ht.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,Ee}function ng(r,i){const e=i.startSN+i.skippedSegments-r.startSN,n=r.fragments;e<0||e>=n.length||bf(i,n[e].start)}function bf(r,i){if(i){const e=r.fragments;for(let n=r.skippedSegments;n<e.length;n++)e[n].start+=i;r.fragmentHint&&(r.fragmentHint.start+=i)}}function Qy(r,i,e){var n;return null!=r&&r.details?Xy(null==(n=r.details)?void 0:n.partList,i,e):null}function Xy(r,i,e){if(r)for(let n=r.length;n--;){const o=r[n];if(o.index===e&&o.fragment.sn===i)return o}return null}function Ef(r){switch(r.details){case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_TIMEOUT:case En.LEVEL_LOAD_TIMEOUT:case En.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function e0(r,i){const e=Ef(i);return r.default[(e?"timeout":"error")+"Retry"]}function Tf(r,i){const e="linear"===r.backoff?1:Math.pow(2,i);return Math.min(e*r.retryDelayMs,r.maxRetryDelayMs)}function CC(r){return Ho(Ho({},r),{errorRetry:null,timeoutRetry:null})}function Cd(r,i,e,n){return!!r&&i<r.maxNumRetry&&(function DC(r){return 0===r&&!1===navigator.onLine||!!r&&(r<400||r>499)}(n)||!!e)}const t0={search:function(r,i){let e=0,n=r.length-1,o=null,u=null;for(;e<=n;){o=(e+n)/2|0,u=r[o];const g=i(u);if(g>0)e=o+1;else{if(!(g<0))return u;n=o-1}}return null}};function Dd(r,i,e=0,n=0){let o=null;if(r?o=i[r.sn-i[0].sn+1]||null:0===e&&0===i[0].start&&(o=i[0]),o&&0===ig(e,n,o))return o;const u=t0.search(i,ig.bind(null,e,n));return!u||u===r&&o?o:u}function ig(r=0,i=0,e){if(e.start<=r&&e.start+e.duration>r)return 0;const n=Math.min(i,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-n<=r?1:e.start-n>r&&e.start?-1:0}function n0(r,i,e){const n=1e3*Math.min(i,e.duration+(e.deltaPTS?e.deltaPTS:0));return(e.endProgramDateTime||0)-n>r}function MC(r,i,e){if(performance.now()-r.lastErrorPerfMs>3e5)return!0;const n=r.details;if(i.details===En.FRAG_GAP&&n&&i.frag){const u=Dd(null,n.fragments,i.frag.start);if(u&&!u.gap)return!0}if(e&&r.errors.length<e.errors.length){const o=r.errors[r.errors.length-1];if(n&&o.frag&&i.frag&&Math.abs(o.frag.start-i.frag.start)>3*n.targetduration)return!0}return!1}class rg{constructor(i,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=sn.log.bind(sn,`${e}:`),this.warn=sn.warn.bind(sn,`${e}:`),this.hls=i}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(i,e){const n=e?.renditionReports;if(n){let o=-1;for(let u=0;u<n.length;u++){const g=n[u];let T;try{T=new self.URL(g.URI,e.url).href}catch(R){sn.warn(`Could not construct new URL for Rendition Report: ${R}`),T=g.URI||""}if(T===i){o=u;break}T===i.substring(0,T.length)&&(o=u)}if(-1!==o){const u=n[o],g=parseInt(u["LAST-MSN"])||e?.lastPartSn;let T=parseInt(u["LAST-PART"])||e?.lastPartIndex;if(this.hls.config.lowLatencyMode){const R=Math.min(e.age-e.partTarget,e.targetduration);T>=0&&R>e.partTarget&&(T+=1)}return new yf(g,T>=0?T:void 0,"")}}}loadPlaylist(i){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(i){return this.canLoad&&!!i&&!!i.url&&(!i.details||i.details.live)}shouldReloadPlaylist(i){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(i)}playlistLoaded(i,e,n){const{details:o,stats:u}=e,g=self.performance.now(),T=u.loading.first?Math.max(0,g-u.loading.first):0;if(o.advancedDateTime=Date.now()-T,o.live||null!=n&&n.live){if(o.reloaded(n),n&&this.log(`live playlist ${i} ${o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:"MISSED"}`),n&&o.fragments.length>0&&function Zy(r,i){let e=null;const n=r.fragments;for(let R=n.length-1;R>=0;R--){const G=n[R].initSegment;if(G){e=G;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let u,o=0;if(function tg(r,i,e){const n=i.skippedSegments,o=Math.max(r.startSN,i.startSN)-i.startSN,u=(r.fragmentHint?1:0)+(n?i.endSN:Math.min(r.endSN,i.endSN))-i.startSN,g=i.startSN-r.startSN,T=i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments,R=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let G=o;G<=u;G++){const ne=R[g+G];let Ee=T[G];n&&!Ee&&G<n&&(Ee=i.fragments[G]=ne),ne&&Ee&&e(ne,Ee)}}(r,i,(R,G)=>{R.relurl&&(o=R.cc-G.cc),ci(R.startPTS)&&ci(R.endPTS)&&(G.start=G.startPTS=R.startPTS,G.startDTS=R.startDTS,G.maxStartPTS=R.maxStartPTS,G.endPTS=R.endPTS,G.endDTS=R.endDTS,G.minEndPTS=R.minEndPTS,G.duration=R.endPTS-R.startPTS,G.duration&&(u=G),i.PTSKnown=i.alignedSliding=!0),G.elementaryStreams=R.elementaryStreams,G.loader=R.loader,G.stats=R.stats,G.urlId=R.urlId,R.initSegment&&(G.initSegment=R.initSegment,e=R.initSegment)}),e&&(i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments).forEach(G=>{var ne;(!G.initSegment||G.initSegment.relurl===(null==(ne=e)?void 0:ne.relurl))&&(G.initSegment=e)}),i.skippedSegments)if(i.deltaUpdateFailed=i.fragments.some(R=>!R),i.deltaUpdateFailed){sn.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let R=i.skippedSegments;R--;)i.fragments.shift();i.startSN=i.fragments[0].sn,i.startCC=i.fragments[0].cc}else i.canSkipDateRanges&&(i.dateRanges=function SC(r,i,e){const n=Vr({},r);return e&&e.forEach(o=>{delete n[o]}),Object.keys(i).forEach(o=>{const u=new Bm(i[o].attr,n[o]);u.isValid?n[o]=u:sn.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(i[o].attr)}"`)}),n}(r.dateRanges,i.dateRanges,i.recentlyRemovedDateranges));const g=i.fragments;if(o){sn.warn("discontinuity sliding from playlist, take drift into account");for(let R=0;R<g.length;R++)g[R].cc+=o}i.skippedSegments&&(i.startCC=i.fragments[0].cc),function $y(r,i,e){if(r&&i){let n=0;for(let o=0,u=r.length;o<=u;o++){const g=r[o],T=i[o+n];g&&T&&g.index===T.index&&g.fragment.sn===T.fragment.sn?e(g,T):n--}}}(r.partList,i.partList,(R,G)=>{G.elementaryStreams=R.elementaryStreams,G.stats=R.stats}),u?eg(i,u,u.startPTS,u.endPTS,u.startDTS,u.endDTS):ng(r,i),g.length&&(i.totalduration=i.edge-g[0].start),i.driftStartTime=r.driftStartTime,i.driftStart=r.driftStart;const T=i.advancedDateTime;if(i.advanced&&T){const R=i.edge;i.driftStart||(i.driftStartTime=T,i.driftStart=R),i.driftEndTime=T,i.driftEnd=R}else i.driftEndTime=r.driftEndTime,i.driftEnd=r.driftEnd,i.advancedDateTime=r.advancedDateTime}(n,o),!this.canLoad||!o.live)return;let R,G,ne;if(o.canBlockReload&&o.endSN&&o.advanced){const vt=this.hls.config.lowLatencyMode,Lt=o.lastPartSn,Zt=o.endSN,Kt=o.lastPartIndex,cn=Lt===Zt;-1!==Kt?(G=cn?Zt+1:Lt,ne=cn?vt?0:Kt:Kt+1):G=Zt+1;const gn=o.age;let Vn=Math.min(gn+o.ageHeader-o.partTarget,1.5*o.targetduration);if(Vn>0){if(n&&Vn>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${Vn} with playlist age: ${o.age}`),Vn=0;else{const _n=Math.floor(Vn/o.targetduration);G+=_n,void 0!==ne&&(ne+=Math.round(Vn%o.targetduration/o.partTarget)),this.log(`CDN Tune-in age: ${o.ageHeader}s last advanced ${gn.toFixed(2)}s goal: ${Vn} skip sn ${_n} to part ${ne}`)}o.tuneInGoal=Vn}if(R=this.getDeliveryDirectives(o,e.deliveryDirectives,G,ne),vt||!cn)return void this.loadPlaylist(R)}else o.canBlockReload&&(R=this.getDeliveryDirectives(o,e.deliveryDirectives,G,ne));const Ee=this.hls.mainForwardBufferInfo,Xe=function qy(r,i=1/0){let e=1e3*r.targetduration;if(r.updated){const n=r.fragments;if(n.length&&4*e>i){const u=1e3*n[n.length-1].duration;u<e&&(e=u)}}else e/=2;return Math.round(e)}(o,1e3*(o.edge-(Ee?Ee.end-Ee.len:0)));o.updated&&g>this.requestScheduled+Xe&&(this.requestScheduled=u.loading.start),void 0!==G&&o.canBlockReload?this.requestScheduled=u.loading.first+Xe-(1e3*o.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+Xe<g?this.requestScheduled=g:this.requestScheduled-g<=0&&(this.requestScheduled+=Xe);let ht=this.requestScheduled-g;ht=Math.max(0,ht),this.log(`reload live playlist ${i} in ${Math.round(ht)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(R),ht)}else this.clearTimer()}getDeliveryDirectives(i,e,n,o){let u=function GM(r,i){const{canSkipUntil:e,canSkipDateRanges:n,endSN:o}=r;return e&&(void 0!==i?i-o:0)<e?n?"v2":"YES":""}(i,n);return null!=e&&e.skip&&i.deltaUpdateFailed&&(n=e.msn,o=e.part,u=""),new yf(n,o,u)}checkRetry(i){const e=i.details,n=Ef(i),o=i.errorAction,{action:u,retryCount:g=0,retryConfig:T}=o||{},R=!!o&&!!T&&(5===u||!o.resolved&&2===u);if(R){var G;if(this.requestScheduled=-1,g>=T.maxNumRetry)return!1;if(n&&null!=(G=i.context)&&G.deliveryDirectives)this.warn(`Retrying playlist loading ${g+1}/${T.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const ne=Tf(T,g);this.timer=self.setTimeout(()=>this.loadPlaylist(),ne),this.warn(`Retrying playlist loading ${g+1}/${T.maxNumRetry} after "${e}" in ${ne}ms`)}i.levelRetry=!0,o.resolved=!0}return R}}let og;class AC extends rg{constructor(i,e){super(i,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(Tt.LEVEL_LOADED,this.onLevelLoaded,this),i.on(Tt.LEVELS_UPDATED,this.onLevelsUpdated,this),i.on(Tt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(Tt.FRAG_LOADED,this.onFragLoaded,this),i.on(Tt.ERROR,this.onError,this)}_unregisterListeners(){const{hls:i}=this;i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(Tt.LEVEL_LOADED,this.onLevelLoaded,this),i.off(Tt.LEVELS_UPDATED,this.onLevelsUpdated,this),i.off(Tt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(Tt.FRAG_LOADED,this.onFragLoaded,this),i.off(Tt.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(e=>{e.loadError=0,e.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(i,e){this.resetLevels()}onManifestLoaded(i,e){const n=[],o={};let u;e.levels.forEach(g=>{var T;const R=g.attrs;-1!==(null==(T=g.audioCodec)?void 0:T.indexOf("mp4a.40.34"))&&(og||(og=/chrome|firefox/i.test(navigator.userAgent)),og&&(g.audioCodec=void 0));const{AUDIO:G,CODECS:ne,"FRAME-RATE":Ee,"PATHWAY-ID":Ue,RESOLUTION:Ge,SUBTITLES:Xe}=R,vt=`${Ue||"."}-${g.bitrate}-${Ge}-${Ee}-${ne}`;u=o[vt],u?u.addFallback(g):(u=new $s(g),o[vt]=u,n.push(u)),Es(u,"audio",G),Es(u,"text",Xe)}),this.filterAndSortMediaOptions(n,e)}filterAndSortMediaOptions(i,e){let n=[],o=[],u=!1,g=!1,T=!1,R=i.filter(({audioCodec:Ge,videoCodec:Xe,width:ht,height:vt,unknownCodecs:Lt})=>(u||(u=!(!ht||!vt)),g||(g=!!Xe),T||(T=!!Ge),!(null!=Lt&&Lt.length)&&(!Ge||gf(Ge,"audio"))&&(!Xe||gf(Xe,"video"))));if((u||g)&&T&&(R=R.filter(({videoCodec:Ge,width:Xe,height:ht})=>!!Ge||!(!Xe||!ht))),0===R.length)return void Promise.resolve().then(()=>{if(this.hls){const Ge=new Error("no level with compatible codecs found in manifest");this.hls.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:Ge,reason:Ge.message})}});e.audioTracks&&(n=e.audioTracks.filter(Ge=>!Ge.audioCodec||gf(Ge.audioCodec,"audio")),ag(n)),e.subtitles&&(o=e.subtitles,ag(o));const G=R.slice(0);R.sort((Ge,Xe)=>Ge.attrs["HDCP-LEVEL"]!==Xe.attrs["HDCP-LEVEL"]?(Ge.attrs["HDCP-LEVEL"]||"")>(Xe.attrs["HDCP-LEVEL"]||"")?1:-1:Ge.bitrate!==Xe.bitrate?Ge.bitrate-Xe.bitrate:Ge.attrs["FRAME-RATE"]!==Xe.attrs["FRAME-RATE"]?Ge.attrs.decimalFloatingPoint("FRAME-RATE")-Xe.attrs.decimalFloatingPoint("FRAME-RATE"):Ge.attrs.SCORE!==Xe.attrs.SCORE?Ge.attrs.decimalFloatingPoint("SCORE")-Xe.attrs.decimalFloatingPoint("SCORE"):u&&Ge.height!==Xe.height?Ge.height-Xe.height:0);let ne=G[0];if(this.steering&&(R=this.steering.filterParsedLevels(R),R.length!==G.length))for(let Ge=0;Ge<G.length;Ge++)if(G[Ge].pathwayId===R[0].pathwayId){ne=G[Ge];break}this._levels=R;for(let Ge=0;Ge<R.length;Ge++)if(R[Ge]===ne){this._firstLevel=Ge,this.log(`manifest loaded, ${R.length} level(s) found, first bitrate: ${ne.bitrate}`);break}const Ue={levels:R,audioTracks:n,subtitleTracks:o,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:T,video:g,altAudio:!(T&&!g)&&n.some(Ge=>!!Ge.url)};this.hls.trigger(Tt.MANIFEST_PARSED,Ue),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(i){const e=this._levels;if(0===e.length)return;if(i<0||i>=e.length){const ne=new Error("invalid level idx"),Ee=i<0;if(this.hls.trigger(Tt.ERROR,{type:mi.OTHER_ERROR,details:En.LEVEL_SWITCH_ERROR,level:i,fatal:Ee,error:ne,reason:ne.message}),Ee)return;i=Math.min(i,e.length-1)}const n=this.currentLevelIndex,o=this.currentLevel,u=o?o.attrs["PATHWAY-ID"]:void 0,g=e[i],T=g.attrs["PATHWAY-ID"];if(this.currentLevelIndex=i,this.currentLevel=g,n===i&&g.details&&o&&u===T)return;this.log(`Switching to level ${i}${T?" with Pathway "+T:""} from level ${n}${u?" with Pathway "+u:""}`);const R=Vr({},g,{level:i,maxBitrate:g.maxBitrate,attrs:g.attrs,uri:g.uri,urlId:g.urlId});delete R._attrs,delete R._urlId,this.hls.trigger(Tt.LEVEL_SWITCHING,R);const G=g.details;if(!G||G.live){const ne=this.switchParams(g.uri,o?.details);this.loadPlaylist(ne)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(i){this.manualLevelIndex=i,void 0===this._startLevel&&(this._startLevel=i),-1!==i&&(this.level=i)}get firstLevel(){return this._firstLevel}set firstLevel(i){this._firstLevel=i}get startLevel(){if(void 0===this._startLevel){const i=this.hls.config.startLevel;return void 0!==i?i:this._firstLevel}return this._startLevel}set startLevel(i){this._startLevel=i}onError(i,e){e.fatal||!e.context||"level"===e.context.type&&e.context.level===this.level&&this.checkRetry(e)}onFragLoaded(i,{frag:e}){if(void 0!==e&&"main"===e.type){const n=this._levels[e.level];void 0!==n&&(n.loadError=0)}}onLevelLoaded(i,e){var n;const{level:o,details:u}=e,g=this._levels[o];var T;if(!g)return this.warn(`Invalid level index ${o}`),void(null!=(T=e.deliveryDirectives)&&T.skip&&(u.deltaUpdateFailed=!0));o===this.currentLevelIndex?(0===g.fragmentError&&(g.loadError=0),this.playlistLoaded(o,e,g.details)):null!=(n=e.deliveryDirectives)&&n.skip&&(u.deltaUpdateFailed=!0)}onAudioTrackSwitched(i,e){const n=this.currentLevel;if(!n)return;const o=this.hls.audioTracks[e.id].groupId;if(n.audioGroupIds&&n.audioGroupId!==o){let u=-1;for(let g=0;g<n.audioGroupIds.length;g++)if(n.audioGroupIds[g]===o){u=g;break}-1!==u&&u!==n.urlId&&(n.urlId=u,this.canLoad&&this.startLoad())}}loadPlaylist(i){super.loadPlaylist();const e=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){const o=n.urlId;let u=n.uri;if(i)try{u=i.addDirectives(u)}catch(T){this.warn(`Could not construct new URL with HLS Delivery Directives: ${T}`)}const g=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==i?.msn?" at sn "+i.msn+" part "+i.part:""} with${g?" Pathway "+g:""} URI ${o+1}/${n.url.length} ${u}`),this.clearTimer(),this.hls.trigger(Tt.LEVEL_LOADING,{url:u,level:e,id:o,deliveryDirectives:i||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(i){this.level=i,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=i)}removeLevel(i,e){const n=(u,g)=>g!==e,o=this._levels.filter((u,g)=>g!==i||(u.url.length>1&&void 0!==e?(u.url=u.url.filter(n),u.audioGroupIds&&(u.audioGroupIds=u.audioGroupIds.filter(n)),u.textGroupIds&&(u.textGroupIds=u.textGroupIds.filter(n)),u.urlId=0,!0):(this.steering&&this.steering.removeLevel(u),!1)));this.hls.trigger(Tt.LEVELS_UPDATED,{levels:o})}onLevelsUpdated(i,{levels:e}){e.forEach((n,o)=>{const{details:u}=n;null!=u&&u.fragments&&u.fragments.forEach(g=>{g.level=o})}),this._levels=e}}function Es(r,i,e){e&&("audio"===i?(r.audioGroupIds||(r.audioGroupIds=[]),r.audioGroupIds[r.url.length-1]=e):"text"===i&&(r.textGroupIds||(r.textGroupIds=[]),r.textGroupIds[r.url.length-1]=e))}function ag(r){const i={};r.forEach(e=>{const n=e.groupId||"";e.id=i[n]=i[n]||0,i[n]++})}class a0{constructor(i){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=i,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(Tt.BUFFER_APPENDED,this.onBufferAppended,this),i.on(Tt.FRAG_BUFFERED,this.onFragBuffered,this),i.on(Tt.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:i}=this;i.off(Tt.BUFFER_APPENDED,this.onBufferAppended,this),i.off(Tt.FRAG_BUFFERED,this.onFragBuffered,this),i.off(Tt.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(i,e){const n=this.activePartLists[e];if(n)for(let o=n.length;o--;){const u=n[o];if(!u)break;const g=u.end;if(u.start<=i&&null!==g&&i<=g)return u}return this.getBufferedFrag(i,e)}getBufferedFrag(i,e){const{fragments:n}=this,o=Object.keys(n);for(let u=o.length;u--;){const g=n[o[u]];if(g?.body.type===e&&g.buffered){const T=g.body;if(T.start<=i&&i<=T.end)return T}}return null}detectEvictedFragments(i,e,n,o){this.timeRanges&&(this.timeRanges[i]=e);const u=o?.fragment.sn||-1;Object.keys(this.fragments).forEach(g=>{const T=this.fragments[g];if(!T||u>=T.body.sn)return;if(!T.buffered&&!T.loaded)return void(T.body.type===n&&this.removeFragment(T.body));const R=T.range[i];R&&R.time.some(G=>{const ne=!this.isTimeBuffered(G.startPTS,G.endPTS,e);return ne&&this.removeFragment(T.body),ne})})}detectPartialFragments(i){const e=this.timeRanges,{frag:n,part:o}=i;if(!e||"initSegment"===n.sn)return;const u=qs(n),g=this.fragments[u];if(!g||g.buffered&&n.gap)return;const T=!n.relurl;Object.keys(e).forEach(R=>{const G=n.elementaryStreams[R];G&&(g.range[R]=this.getBufferedTimes(n,o,T||!0===G.partial,e[R]))}),g.loaded=null,Object.keys(g.range).length?(g.buffered=!0,g.body.endList&&(this.endListFragments[g.body.type]=g),xd(g)||this.removeParts(n.sn-1,n.type)):this.removeFragment(g.body)}removeParts(i,e){const n=this.activePartLists[e];n&&(this.activePartLists[e]=n.filter(o=>o.fragment.sn>=i))}fragBuffered(i,e){const n=qs(i);let o=this.fragments[n];!o&&e&&(o=this.fragments[n]={body:i,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},i.gap&&(this.hasGaps=!0)),o&&(o.loaded=null,o.buffered=!0)}getBufferedTimes(i,e,n,o){const u={time:[],partial:n},g=i.start,T=i.end,R=i.minEndPTS||T,G=i.maxStartPTS||g;for(let ne=0;ne<o.length;ne++){const Ee=o.start(ne)-this.bufferPadding,Ue=o.end(ne)+this.bufferPadding;if(G>=Ee&&R<=Ue){u.time.push({startPTS:Math.max(g,o.start(ne)),endPTS:Math.min(T,o.end(ne))});break}if(g<Ue&&T>Ee)u.partial=!0,u.time.push({startPTS:Math.max(g,o.start(ne)),endPTS:Math.min(T,o.end(ne))});else if(T<=Ee)break}return u}getPartialFragment(i){let n,o,u,e=null,g=0;const{bufferPadding:T,fragments:R}=this;return Object.keys(R).forEach(G=>{const ne=R[G];ne&&xd(ne)&&(o=ne.body.start-T,u=ne.body.end+T,i>=o&&i<=u&&(n=Math.min(i-o,u-i),g<=n&&(e=ne.body,g=n)))}),e}isEndListAppended(i){const e=this.endListFragments[i];return void 0!==e&&(e.buffered||xd(e))}getState(i){const e=qs(i),n=this.fragments[e];return n?n.buffered?xd(n)?"PARTIAL":"OK":"APPENDING":"NOT_LOADED"}isTimeBuffered(i,e,n){let o,u;for(let g=0;g<n.length;g++){if(o=n.start(g)-this.bufferPadding,u=n.end(g)+this.bufferPadding,i>=o&&e<=u)return!0;if(e<=o)return!1}return!1}onFragLoaded(i,e){const{frag:n,part:o}=e;if("initSegment"===n.sn||n.bitrateTest)return;const u=o?null:e,g=qs(n);this.fragments[g]={body:n,appendedPTS:null,loaded:u,buffered:!1,range:Object.create(null)}}onBufferAppended(i,e){const{frag:n,part:o,timeRanges:u}=e;if("initSegment"===n.sn)return;const g=n.type;if(o){let T=this.activePartLists[g];T||(this.activePartLists[g]=T=[]),T.push(o)}this.timeRanges=u,Object.keys(u).forEach(T=>{this.detectEvictedFragments(T,u[T],g,o)})}onFragBuffered(i,e){this.detectPartialFragments(e)}hasFragment(i){const e=qs(i);return!!this.fragments[e]}hasParts(i){var e;return!(null==(e=this.activePartLists[i])||!e.length)}removeFragmentsInRange(i,e,n,o,u){o&&!this.hasGaps||Object.keys(this.fragments).forEach(g=>{const T=this.fragments[g];if(!T)return;const R=T.body;R.type!==n||o&&!R.gap||R.start<e&&R.end>i&&(T.buffered||u)&&this.removeFragment(R)})}removeFragment(i){const e=qs(i);i.stats.loaded=0,i.clearElementaryStreamInfo();const n=this.activePartLists[i.type];if(n){const o=i.sn;this.activePartLists[i.type]=n.filter(u=>u.fragment.sn!==o)}delete this.fragments[e],i.endList&&delete this.endListFragments[i.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function xd(r){var i,e,n;return r.buffered&&(r.body.gap||(null==(i=r.range.video)?void 0:i.partial)||(null==(e=r.range.audio)?void 0:e.partial)||(null==(n=r.range.audiovideo)?void 0:n.partial))}function qs(r){return`${r.type}_${r.level}_${r.urlId}_${r.sn}`}const sg=Math.pow(2,17);class wC{constructor(i){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=i}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(i,e){const n=i.url;if(!n)return Promise.reject(new Va({type:mi.NETWORK_ERROR,details:En.FRAG_LOAD_ERROR,fatal:!1,frag:i,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();const o=this.config,u=o.fLoader,g=o.loader;return new Promise((T,R)=>{if(this.loader&&this.loader.destroy(),i.gap){if(i.tagList.some(Ge=>"GAP"===Ge[0]))return void R(OC(i));i.gap=!1}const G=this.loader=i.loader=u?new u(o):new g(o),ne=IC(i),Ee=CC(o.fragLoadPolicy.default),Ue={loadPolicy:Ee,timeout:Ee.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===i.sn?1/0:sg};i.stats=G.stats,G.load(ne,Ue,{onSuccess:(Ge,Xe,ht,vt)=>{this.resetLoader(i,G);let Lt=Ge.data;ht.resetIV&&i.decryptdata&&(i.decryptdata.iv=new Uint8Array(Lt.slice(0,16)),Lt=Lt.slice(16)),T({frag:i,part:null,payload:Lt,networkDetails:vt})},onError:(Ge,Xe,ht,vt)=>{this.resetLoader(i,G),R(new Va({type:mi.NETWORK_ERROR,details:En.FRAG_LOAD_ERROR,fatal:!1,frag:i,response:Ho({url:n,data:void 0},Ge),error:new Error(`HTTP Error ${Ge.code} ${Ge.text}`),networkDetails:ht,stats:vt}))},onAbort:(Ge,Xe,ht)=>{this.resetLoader(i,G),R(new Va({type:mi.NETWORK_ERROR,details:En.INTERNAL_ABORTED,fatal:!1,frag:i,error:new Error("Aborted"),networkDetails:ht,stats:Ge}))},onTimeout:(Ge,Xe,ht)=>{this.resetLoader(i,G),R(new Va({type:mi.NETWORK_ERROR,details:En.FRAG_LOAD_TIMEOUT,fatal:!1,frag:i,error:new Error(`Timeout after ${Ue.timeout}ms`),networkDetails:ht,stats:Ge}))},onProgress:(Ge,Xe,ht,vt)=>{e&&e({frag:i,part:null,payload:ht,networkDetails:vt})}})})}loadPart(i,e,n){this.abort();const o=this.config,u=o.fLoader,g=o.loader;return new Promise((T,R)=>{if(this.loader&&this.loader.destroy(),i.gap||e.gap)return void R(OC(i,e));const G=this.loader=i.loader=u?new u(o):new g(o),ne=IC(i,e),Ee=CC(o.fragLoadPolicy.default),Ue={loadPolicy:Ee,timeout:Ee.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:sg};e.stats=G.stats,G.load(ne,Ue,{onSuccess:(Ge,Xe,ht,vt)=>{this.resetLoader(i,G),this.updateStatsFromPart(i,e);const Lt={frag:i,part:e,payload:Ge.data,networkDetails:vt};n(Lt),T(Lt)},onError:(Ge,Xe,ht,vt)=>{this.resetLoader(i,G),R(new Va({type:mi.NETWORK_ERROR,details:En.FRAG_LOAD_ERROR,fatal:!1,frag:i,part:e,response:Ho({url:ne.url,data:void 0},Ge),error:new Error(`HTTP Error ${Ge.code} ${Ge.text}`),networkDetails:ht,stats:vt}))},onAbort:(Ge,Xe,ht)=>{i.stats.aborted=e.stats.aborted,this.resetLoader(i,G),R(new Va({type:mi.NETWORK_ERROR,details:En.INTERNAL_ABORTED,fatal:!1,frag:i,part:e,error:new Error("Aborted"),networkDetails:ht,stats:Ge}))},onTimeout:(Ge,Xe,ht)=>{this.resetLoader(i,G),R(new Va({type:mi.NETWORK_ERROR,details:En.FRAG_LOAD_TIMEOUT,fatal:!1,frag:i,part:e,error:new Error(`Timeout after ${Ue.timeout}ms`),networkDetails:ht,stats:Ge}))}})})}updateStatsFromPart(i,e){const n=i.stats,o=e.stats,u=o.total;if(n.loaded+=o.loaded,u){const R=Math.round(i.duration/e.duration),G=Math.min(Math.round(n.loaded/u),R),Ee=(R-G)*Math.round(n.loaded/G);n.total=n.loaded+Ee}else n.total=Math.max(n.loaded,n.total);const g=n.loading,T=o.loading;g.start?g.first+=T.first-T.start:(g.start=T.start,g.first=T.first),g.end=T.end}resetLoader(i,e){i.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function IC(r,i=null){const e=i||r,n={frag:r,part:i,responseType:"arraybuffer",url:e.url,headers:{},rangeStart:0,rangeEnd:0},o=e.byteRangeStartOffset,u=e.byteRangeEndOffset;if(ci(o)&&ci(u)){var g;let T=o,R=u;if("initSegment"===r.sn&&"AES-128"===(null==(g=r.decryptdata)?void 0:g.method)){const G=u-o;G%16&&(R=u+(16-G%16)),0!==o&&(n.resetIV=!0,T=o-16)}n.rangeStart=T,n.rangeEnd=R}return n}function OC(r,i){const e=new Error(`GAP ${r.gap?"tag":"attribute"} found`),n={type:mi.MEDIA_ERROR,details:En.FRAG_GAP,fatal:!1,frag:r,error:e,networkDetails:null};return i&&(n.part=i),(i||r).stats.aborted=!0,new Va(n)}class Va extends Error{constructor(i){super(i.error.message),this.data=void 0,this.data=i}}class s0{constructor(i){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=i}abort(i){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;if(n){if(i&&i!==n.context.frag.type)return;n.abort()}}}detach(){for(const i in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[i];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[i]}}destroy(){this.detach();for(const i in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[i].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(i,e=En.KEY_LOAD_ERROR,n,o,u){return new Va({type:mi.NETWORK_ERROR,details:e,fatal:!1,frag:i,response:u,error:n,networkDetails:o})}loadClear(i,e){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:o}=i;for(let u=0;u<e.length;u++){const g=e[u];if(o<=g.cc&&("initSegment"===n||"initSegment"===g.sn||n<g.sn)){this.emeController.selectKeySystemFormat(g).then(T=>{g.setKeyFormat(T)});break}}}}load(i){return!i.decryptdata&&i.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(i).then(e=>this.loadInternal(i,e)):this.loadInternal(i)}loadInternal(i,e){var n,o;e&&i.setKeyFormat(e);const u=i.decryptdata;if(!u){const G=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(i,En.KEY_LOAD_ERROR,G))}const g=u.uri;if(!g)return Promise.reject(this.createKeyLoadError(i,En.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${g}"`)));let T=this.keyUriToKeyInfo[g];if(null!=(n=T)&&n.decryptdata.key)return u.key=T.decryptdata.key,Promise.resolve({frag:i,keyInfo:T});var R;if(null!=(o=T)&&o.keyLoadPromise)switch(null==(R=T.mediaKeySessionContext)?void 0:R.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return T.keyLoadPromise.then(G=>(u.key=G.keyInfo.decryptdata.key,{frag:i,keyInfo:T}))}switch(T=this.keyUriToKeyInfo[g]={decryptdata:u,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},u.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===u.keyFormat?this.loadKeyHTTP(T,i):this.loadKeyEME(T,i);case"AES-128":return this.loadKeyHTTP(T,i);default:return Promise.reject(this.createKeyLoadError(i,En.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${u.method}"`)))}}loadKeyEME(i,e){const n={frag:e,keyInfo:i};if(this.emeController&&this.config.emeEnabled){const o=this.emeController.loadKey(n);if(o)return(i.keyLoadPromise=o.then(u=>(i.mediaKeySessionContext=u,n))).catch(u=>{throw i.keyLoadPromise=null,u})}return Promise.resolve(n)}loadKeyHTTP(i,e){const n=this.config,u=new(0,n.loader)(n);return e.keyLoader=i.loader=u,i.keyLoadPromise=new Promise((g,T)=>{const R={keyInfo:i,frag:e,responseType:"arraybuffer",url:i.decryptdata.uri},G=n.keyLoadPolicy.default;u.load(R,{loadPolicy:G,timeout:G.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Ue,Ge,Xe,ht)=>{const{frag:vt,keyInfo:Lt,url:Zt}=Xe;if(!vt.decryptdata||Lt!==this.keyUriToKeyInfo[Zt])return T(this.createKeyLoadError(vt,En.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),ht));Lt.decryptdata.key=vt.decryptdata.key=new Uint8Array(Ue.data),vt.keyLoader=null,Lt.loader=null,g({frag:vt,keyInfo:Lt})},onError:(Ue,Ge,Xe,ht)=>{this.resetLoader(Ge),T(this.createKeyLoadError(e,En.KEY_LOAD_ERROR,new Error(`HTTP Error ${Ue.code} loading key ${Ue.text}`),Xe,Ho({url:R.url,data:void 0},Ue)))},onTimeout:(Ue,Ge,Xe)=>{this.resetLoader(Ge),T(this.createKeyLoadError(e,En.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),Xe))},onAbort:(Ue,Ge,Xe)=>{this.resetLoader(Ge),T(this.createKeyLoadError(e,En.INTERNAL_ABORTED,new Error("key loading aborted"),Xe))}})})}resetLoader(i){const{frag:e,keyInfo:n,url:o}=i,u=n.loader;e.keyLoader===u&&(e.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[o],u&&u.destroy()}}class PC{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(i){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,i),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const RC={length:0,start:()=>0,end:()=>0};class mr{static isBuffered(i,e){try{if(i){const n=mr.getBuffered(i);for(let o=0;o<n.length;o++)if(e>=n.start(o)&&e<=n.end(o))return!0}}catch{}return!1}static bufferInfo(i,e,n){try{if(i){const o=mr.getBuffered(i),u=[];let g;for(g=0;g<o.length;g++)u.push({start:o.start(g),end:o.end(g)});return this.bufferedInfo(u,e,n)}}catch{}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(i,e,n){e=Math.max(0,e),i.sort(function(G,ne){return G.start-ne.start||ne.end-G.end});let o=[];if(n)for(let G=0;G<i.length;G++){const ne=o.length;if(ne){const Ee=o[ne-1].end;i[G].start-Ee<n?i[G].end>Ee&&(o[ne-1].end=i[G].end):o.push(i[G])}else o.push(i[G])}else o=i;let g,u=0,T=e,R=e;for(let G=0;G<o.length;G++){const ne=o[G].start,Ee=o[G].end;if(e+n>=ne&&e<Ee)T=ne,R=Ee,u=R-e;else if(e+n<ne){g=ne;break}}return{len:u,start:T||0,end:R||0,nextStart:g}}static getBuffered(i){try{return i.buffered}catch(e){return sn.log("failed to get media.buffered",e),RC}}}class Js{constructor(i,e,n,o=0,u=-1,g=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=i,this.sn=e,this.id=n,this.size=o,this.part=u,this.partial=g}}function Cf(r,i){let e=null;for(let n=0,o=r.length;n<o;n++){const u=r[n];if(u&&u.cc===i){e=u;break}}return e}function Md(r,i){if(r){const e=r.start+i;r.start=r.startPTS=e,r.endPTS=e+r.duration}}function Qs(r,i){const e=i.fragments;for(let n=0,o=e.length;n<o;n++)Md(e[n],r);i.fragmentHint&&Md(i.fragmentHint,r),i.alignedSliding=!0}function Ad(r,i){if(!r.hasProgramDateTime||!i.hasProgramDateTime)return;const e=r.fragments,n=i.fragments;if(!e.length||!n.length)return;const u=n[Math.round(n.length/2)-1],g=Cf(e,u.cc)||e[Math.round(e.length/2)-1],T=u.programDateTime,R=g.programDateTime;null!==T&&null!==R&&Qs((R-T)/1e3-(g.start-u.start),r)}class l0{constructor(i,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=i,this.aesIV=e}decrypt(i,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,i)}}class BC{constructor(i,e){this.subtle=void 0,this.key=void 0,this.subtle=i,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class lg{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(i){const e=new DataView(i),n=new Uint32Array(4);for(let o=0;o<4;o++)n[o]=e.getUint32(4*o);return n}initTable(){const i=this.sBox,e=this.invSBox,n=this.subMix,o=n[0],u=n[1],g=n[2],T=n[3],R=this.invSubMix,G=R[0],ne=R[1],Ee=R[2],Ue=R[3],Ge=new Uint32Array(256);let Xe=0,ht=0,vt=0;for(vt=0;vt<256;vt++)Ge[vt]=vt<128?vt<<1:vt<<1^283;for(vt=0;vt<256;vt++){let Lt=ht^ht<<1^ht<<2^ht<<3^ht<<4;Lt=Lt>>>8^255&Lt^99,i[Xe]=Lt,e[Lt]=Xe;const Zt=Ge[Xe],Kt=Ge[Zt],un=Ge[Kt];let cn=257*Ge[Lt]^16843008*Lt;o[Xe]=cn<<24|cn>>>8,u[Xe]=cn<<16|cn>>>16,g[Xe]=cn<<8|cn>>>24,T[Xe]=cn,cn=16843009*un^65537*Kt^257*Zt^16843008*Xe,G[Lt]=cn<<24|cn>>>8,ne[Lt]=cn<<16|cn>>>16,Ee[Lt]=cn<<8|cn>>>24,Ue[Lt]=cn,Xe?(Xe=Zt^Ge[Ge[Ge[un^Zt]]],ht^=Ge[Ge[ht]]):Xe=ht=1}}expandKey(i){const e=this.uint8ArrayToUint32Array_(i);let n=!0,o=0;for(;o<e.length&&n;)n=e[o]===this.key[o],o++;if(n)return;this.key=e;const u=this.keySize=e.length;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size="+u);const g=this.ksRows=4*(u+6+1);let T,R;const G=this.keySchedule=new Uint32Array(g),ne=this.invKeySchedule=new Uint32Array(g),Ee=this.sBox,Ue=this.rcon,Ge=this.invSubMix,Xe=Ge[0],ht=Ge[1],vt=Ge[2],Lt=Ge[3];let Zt,Kt;for(T=0;T<g;T++)T<u?Zt=G[T]=e[T]:(Kt=Zt,T%u==0?(Kt=Kt<<8|Kt>>>24,Kt=Ee[Kt>>>24]<<24|Ee[Kt>>>16&255]<<16|Ee[Kt>>>8&255]<<8|Ee[255&Kt],Kt^=Ue[T/u|0]<<24):u>6&&T%u==4&&(Kt=Ee[Kt>>>24]<<24|Ee[Kt>>>16&255]<<16|Ee[Kt>>>8&255]<<8|Ee[255&Kt]),G[T]=Zt=(G[T-u]^Kt)>>>0);for(R=0;R<g;R++)T=g-R,Kt=3&R?G[T]:G[T-4],ne[R]=R<4||T<=4?Kt:Xe[Ee[Kt>>>24]]^ht[Ee[Kt>>>16&255]]^vt[Ee[Kt>>>8&255]]^Lt[Ee[255&Kt]],ne[R]=ne[R]>>>0}networkToHostOrderSwap(i){return i<<24|(65280&i)<<8|(16711680&i)>>8|i>>>24}decrypt(i,e,n){const o=this.keySize+6,u=this.invKeySchedule,g=this.invSBox,T=this.invSubMix,R=T[0],G=T[1],ne=T[2],Ee=T[3],Ue=this.uint8ArrayToUint32Array_(n);let Ge=Ue[0],Xe=Ue[1],ht=Ue[2],vt=Ue[3];const Lt=new Int32Array(i),Zt=new Int32Array(Lt.length);let Kt,un,cn,Sn,gn,An,Vn,_n,Qn,zn,yi,Tr,Gi,Hn;const Kn=this.networkToHostOrderSwap;for(;e<Lt.length;){for(Qn=Kn(Lt[e]),zn=Kn(Lt[e+1]),yi=Kn(Lt[e+2]),Tr=Kn(Lt[e+3]),gn=Qn^u[0],An=Tr^u[1],Vn=yi^u[2],_n=zn^u[3],Gi=4,Hn=1;Hn<o;Hn++)Kt=R[gn>>>24]^G[An>>16&255]^ne[Vn>>8&255]^Ee[255&_n]^u[Gi],un=R[An>>>24]^G[Vn>>16&255]^ne[_n>>8&255]^Ee[255&gn]^u[Gi+1],cn=R[Vn>>>24]^G[_n>>16&255]^ne[gn>>8&255]^Ee[255&An]^u[Gi+2],Sn=R[_n>>>24]^G[gn>>16&255]^ne[An>>8&255]^Ee[255&Vn]^u[Gi+3],gn=Kt,An=un,Vn=cn,_n=Sn,Gi+=4;Kt=g[gn>>>24]<<24^g[An>>16&255]<<16^g[Vn>>8&255]<<8^g[255&_n]^u[Gi],un=g[An>>>24]<<24^g[Vn>>16&255]<<16^g[_n>>8&255]<<8^g[255&gn]^u[Gi+1],cn=g[Vn>>>24]<<24^g[_n>>16&255]<<16^g[gn>>8&255]<<8^g[255&An]^u[Gi+2],Sn=g[_n>>>24]<<24^g[gn>>16&255]<<16^g[An>>8&255]<<8^g[255&Vn]^u[Gi+3],Zt[e]=Kn(Kt^Ge),Zt[e+1]=Kn(Sn^Xe),Zt[e+2]=Kn(cn^ht),Zt[e+3]=Kn(un^vt),Ge=Qn,Xe=zn,ht=yi,vt=Tr,e+=4}return Zt.buffer}}class cg{constructor(i,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=i.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:i,remainderData:e}=this;if(!i||e)return this.reset(),null;const n=new Uint8Array(i);return this.reset(),this.removePKCS7Padding?function UC(r){const i=r.byteLength,e=i&&new DataView(r.buffer).getUint8(i-1);return e?ys(r,0,i-e):r}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(i,e,n){return this.useSoftware?new Promise((o,u)=>{this.softwareDecrypt(new Uint8Array(i),e,n);const g=this.flush();g?o(g.buffer):u(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(i),e,n)}softwareDecrypt(i,e,n){const{currentIV:o,currentResult:u,remainderData:g}=this;this.logOnce("JS AES decrypt"),g&&(i=Zs(g,i),this.remainderData=null);const T=this.getValidChunk(i);if(!T.length)return null;o&&(n=o);let R=this.softwareDecrypter;R||(R=this.softwareDecrypter=new lg),R.expandKey(e);const G=u;return this.currentResult=R.decrypt(T.buffer,0,n),this.currentIV=ys(T,-16).buffer,G||null}webCryptoDecrypt(i,e,n){const o=this.subtle;return(this.key!==e||!this.fastAesKey)&&(this.key=e,this.fastAesKey=new BC(o,e)),this.fastAesKey.expandKey().then(u=>o?(this.logOnce("WebCrypto AES decrypt"),new l0(o,new Uint8Array(n)).decrypt(i.buffer,u)):Promise.reject(new Error("web crypto not initialized"))).catch(u=>(sn.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${u.name}: ${u.message}`),this.onWebCryptoError(i,e,n)))}onWebCryptoError(i,e,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(i,e,n);const o=this.flush();if(o)return o.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(i){let e=i;const n=i.length-i.length%16;return n!==i.length&&(e=ys(i,0,n),this.remainderData=ys(i,n)),e}logOnce(i){this.logEnabled&&(sn.log(`[decrypter]: ${i}`),this.logEnabled=!1)}}class dg extends PC{constructor(i,e,n,o,u){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state="STOPPED",this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=u,this.logPrefix=o,this.log=sn.log.bind(sn,`${o}:`),this.warn=sn.warn.bind(sn,`${o}:`),this.hls=i,this.fragmentLoader=new wC(i.config),this.keyLoader=n,this.fragmentTracker=e,this.config=i.config,this.decrypter=new cg(i.config),i.on(Tt.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(i){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const i=this.fragCurrent;null!=i&&i.loader&&(i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"}_streamEnded(i,e){if(e.live||i.nextStart||!i.end||!this.media)return!1;const n=e.partList;if(null!=n&&n.length){const u=n[n.length-1];return mr.isBuffered(this.media,u.start+u.duration/2)}return this.fragmentTracker.isEndListAppended(e.fragments[e.fragments.length-1].type)}getLevelDetails(){var i;if(this.levels&&null!==this.levelLastLoaded)return null==(i=this.levels[this.levelLastLoaded])?void 0:i.details}onMediaAttached(i,e){const n=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const o=this.config;this.levels&&o.autoStartLoad&&"STOPPED"===this.state&&this.startLoad(o.startPosition)}onMediaDetaching(){const i=this.media;null!=i&&i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i&&this.onvseeking&&this.onvended&&(i.removeEventListener("seeking",this.onvseeking),i.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:i,fragCurrent:e,media:n,mediaBuffer:o,state:u}=this,g=n?n.currentTime:0,T=mr.bufferInfo(o||n,g,i.maxBufferHole);if(this.log(`media seeking to ${ci(g)?g.toFixed(3):g}, state: ${u}`),"ENDED"===this.state)this.resetLoadingState();else if(e){const R=i.maxFragLookUpTolerance,G=e.start-R,ne=e.start+e.duration+R;if(!T.len||ne<T.start||G>T.end){const Ee=g>ne;(g<G||Ee)&&(Ee&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(g,1/0,this.playlistType,!0),this.lastCurrentTime=g),!this.loadedmetadata&&!T.len&&(this.nextLoadPosition=this.startPosition=g),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(i,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state="STOPPED",this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(i,e,n){this._loadFragForPlayback(i,e,n)}_loadFragForPlayback(i,e,n){this._doFragLoad(i,e,n,u=>{if(this.fragContextChanged(i))return this.warn(`Fragment ${i.sn}${u.part?" p: "+u.part.index:""} of level ${i.level} was dropped during download.`),void this.fragmentTracker.removeFragment(i);i.stats.chunkCount++,this._handleFragmentLoadProgress(u)}).then(u=>{if(!u)return;const g=this.state;this.fragContextChanged(i)?("FRAG_LOADING"===g||!this.fragCurrent&&"PARSING"===g)&&(this.fragmentTracker.removeFragment(i),this.state="IDLE"):("payload"in u&&(this.log(`Loaded fragment ${i.sn} of level ${i.level}`),this.hls.trigger(Tt.FRAG_LOADED,u)),this._handleFragmentLoadComplete(u))}).catch(u=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(u),this.resetFragmentLoading(i))})}clearTrackerIfNeeded(i){var e;const{fragmentTracker:n}=this;if("APPENDING"===n.getState(i)){const g=this.getFwdBufferInfo(this.mediaBuffer,i.type),T=Math.max(i.duration,g?g.len:this.config.maxBufferLength);this.reduceMaxBufferLength(T)&&n.removeFragment(i)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?n.removeAllFragments():n.hasParts(i.type)&&(n.detectPartialFragments({frag:i,part:null,stats:i.stats,id:i.type}),"PARTIAL"===n.getState(i)&&n.removeFragment(i))}flushMainBuffer(i,e,n=null){i-e&&this.hls.trigger(Tt.BUFFER_FLUSHING,{startOffset:i,endOffset:e,type:n})}_loadInitSegment(i,e){this._doFragLoad(i,e).then(n=>{if(!n||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:o}=this,{payload:u}=n,g=i.decryptdata;if(u&&u.byteLength>0&&g&&g.key&&g.iv&&"AES-128"===g.method){const T=self.performance.now();return this.decrypter.decrypt(new Uint8Array(u),g.key.buffer,g.iv.buffer).catch(R=>{throw o.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_DECRYPT_ERROR,fatal:!1,error:R,reason:R.message,frag:i}),R}).then(R=>{const G=self.performance.now();return o.trigger(Tt.FRAG_DECRYPTED,{frag:i,payload:R,stats:{tstart:T,tdecrypt:G}}),n.payload=R,n})}return n}).then(n=>{const{fragCurrent:o,hls:u,levels:g}=this;if(!g)throw new Error("init load aborted, missing levels");const T=i.stats;this.state="IDLE",e.fragmentError=0,i.data=new Uint8Array(n.payload),T.parsing.start=T.buffering.start=self.performance.now(),T.parsing.end=T.buffering.end=self.performance.now(),n.frag===o&&u.trigger(Tt.FRAG_BUFFERED,{stats:T,frag:o,part:null,id:i.type}),this.tick()}).catch(n=>{"STOPPED"===this.state||"ERROR"===this.state||(this.warn(n),this.resetFragmentLoading(i))})}fragContextChanged(i){const{fragCurrent:e}=this;return!i||!e||i.level!==e.level||i.sn!==e.sn||i.urlId!==e.urlId}fragBufferedComplete(i,e){var n,o,u,g;const T=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${i.type} sn: ${i.sn}${e?" part: "+e.index:""} of ${"main"===this.playlistType?"level":"track"} ${i.level} (frag:[${(null!=(n=i.startPTS)?n:NaN).toFixed(3)}-${(null!=(o=i.endPTS)?o:NaN).toFixed(3)}] > buffer:${T?function(r){let i="";const e=r.length;for(let n=0;n<e;n++)i+=`[${r.start(n).toFixed(3)}-${r.end(n).toFixed(3)}]`;return i}(mr.getBuffered(T)):"(detached)"})`),this.state="IDLE",T&&(!this.loadedmetadata&&"main"==i.type&&T.buffered.length&&(null==(u=this.fragCurrent)?void 0:u.sn)===(null==(g=this.fragPrevious)?void 0:g.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(i){const{transmuxer:e}=this;if(!e)return;const{frag:n,part:o,partsLoaded:u}=i,g=!u||0===u.length||u.some(R=>!R),T=new Js(n.level,n.sn,n.stats.chunkCount+1,0,o?o.index:-1,!g);e.flush(T)}_handleFragmentLoadProgress(i){}_doFragLoad(i,e,n=null,o){var u;const g=e?.details;if(!this.levels||!g)throw new Error(`frag load aborted, missing level${g?"":" detail"}s`);let T=null;if(!i.encrypted||null!=(u=i.decryptdata)&&u.key?!i.encrypted&&g.encryptedFragments.length&&this.keyLoader.loadClear(i,g.encryptedFragments):(this.log(`Loading key for ${i.sn} of [${g.startSN}-${g.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${i.level}`),this.state="KEY_LOADING",this.fragCurrent=i,T=this.keyLoader.load(i).then(ne=>{if(!this.fragContextChanged(ne.frag))return this.hls.trigger(Tt.KEY_LOADED,ne),"KEY_LOADING"===this.state&&(this.state="IDLE"),ne}),this.hls.trigger(Tt.KEY_LOADING,{frag:i}),null===this.fragCurrent&&(T=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(i.start,n||0),this.config.lowLatencyMode&&"initSegment"!==i.sn){const ne=g.partList;if(ne&&o){n>i.end&&g.fragmentHint&&(i=g.fragmentHint);const Ee=this.getNextPart(ne,i,n);if(Ee>-1){const Ue=ne[Ee];let Ge;return this.log(`Loading part sn: ${i.sn} p: ${Ue.index} cc: ${i.cc} of playlist [${g.startSN}-${g.endSN}] parts [0-${Ee}-${ne.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${i.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=Ue.start+Ue.duration,this.state="FRAG_LOADING",Ge=T?T.then(Xe=>!Xe||this.fragContextChanged(Xe.frag)?null:this.doFragPartsLoad(i,Ue,e,o)).catch(Xe=>this.handleFragLoadError(Xe)):this.doFragPartsLoad(i,Ue,e,o).catch(Xe=>this.handleFragLoadError(Xe)),this.hls.trigger(Tt.FRAG_LOADING,{frag:i,part:Ue,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):Ge}if(!i.url||this.loadedEndOfParts(ne,n))return Promise.resolve(null)}}this.log(`Loading fragment ${i.sn} cc: ${i.cc} ${g?"of ["+g.startSN+"-"+g.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${i.level}, target: ${parseFloat(n.toFixed(3))}`),ci(i.sn)&&!this.bitrateTest&&(this.nextLoadPosition=i.start+i.duration),this.state="FRAG_LOADING";const R=this.config.progressive;let G;return G=R&&T?T.then(ne=>!ne||this.fragContextChanged(ne?.frag)?null:this.fragmentLoader.load(i,o)).catch(ne=>this.handleFragLoadError(ne)):Promise.all([this.fragmentLoader.load(i,R?o:void 0),T]).then(([ne])=>(!R&&ne&&o&&o(ne),ne)).catch(ne=>this.handleFragLoadError(ne)),this.hls.trigger(Tt.FRAG_LOADING,{frag:i,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):G}doFragPartsLoad(i,e,n,o){return new Promise((u,g)=>{var T;const R=[],G=null==(T=n.details)?void 0:T.partList,ne=Ee=>{this.fragmentLoader.loadPart(i,Ee,o).then(Ue=>{R[Ee.index]=Ue;const Ge=Ue.part;this.hls.trigger(Tt.FRAG_LOADED,Ue);const Xe=Qy(n,i.sn,Ee.index+1)||Xy(G,i.sn,Ee.index+1);if(!Xe)return u({frag:i,part:Ge,partsLoaded:R});ne(Xe)}).catch(g)};ne(e)})}handleFragLoadError(i){if("data"in i){const e=i.data;i.data&&e.details===En.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(Tt.ERROR,e)}else this.hls.trigger(Tt.ERROR,{type:mi.OTHER_ERROR,details:En.INTERNAL_EXCEPTION,err:i,error:i,fatal:!0});return null}_handleTransmuxerFlush(i){const e=this.getCurrentContext(i);if(!e||"PARSING"!==this.state)return void(!this.fragCurrent&&"STOPPED"!==this.state&&"ERROR"!==this.state&&(this.state="IDLE"));const{frag:n,part:o,level:u}=e,g=self.performance.now();n.stats.parsing.end=g,o&&(o.stats.parsing.end=g),this.updateLevelTiming(n,o,u,i.partial)}getCurrentContext(i){const{levels:e,fragCurrent:n}=this,{level:o,sn:u,part:g}=i;if(null==e||!e[o])return this.warn(`Levels object was unset while buffering fragment ${u} of level ${o}. The current chunk will not be buffered.`),null;const T=e[o],R=g>-1?Qy(T,u,g):null,G=R?R.fragment:function Jy(r,i,e){if(null==r||!r.details)return null;const n=r.details;let o=n.fragments[i-n.startSN];return o||(o=n.fragmentHint,o&&o.sn===i)?o:i<n.startSN&&e&&e.sn===i?e:null}(T,u,n);return G?(n&&n!==G&&(G.stats=n.stats),{frag:G,part:R,level:T}):null}bufferFragmentData(i,e,n,o,u){var g;if(!i||"PARSING"!==this.state)return;const{data1:T,data2:R}=i;let G=T;if(T&&R&&(G=Zs(T,R)),null!=(g=G)&&g.length&&(this.hls.trigger(Tt.BUFFER_APPENDING,{type:i.type,frag:e,part:n,chunkMeta:o,parent:e.type,data:G}),i.dropped&&i.independent&&!n)){if(u)return;this.flushBufferGap(e)}}flushBufferGap(i){const e=this.media;if(!e)return;if(!mr.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,i.start);const n=e.currentTime,o=mr.bufferInfo(e,n,0),g=Math.min(2*this.config.maxFragLookUpTolerance,.25*i.duration),T=Math.max(Math.min(i.start-g,o.end-g),n+g);i.start-T>g&&this.flushMainBuffer(T,i.start)}getFwdBufferInfo(i,e){const n=this.getLoadPosition();return ci(n)?this.getFwdBufferInfoAtPos(i,n,e):null}getFwdBufferInfoAtPos(i,e,n){const{config:{maxBufferHole:o}}=this,u=mr.bufferInfo(i,e,o);if(0===u.len&&void 0!==u.nextStart){const g=this.fragmentTracker.getBufferedFrag(e,n);if(g&&u.nextStart<g.end)return mr.bufferInfo(i,e,Math.max(u.nextStart,o))}return u}getMaxBufferLength(i){const{config:e}=this;let n;return n=i?Math.max(8*e.maxBufferSize/i,e.maxBufferLength):e.maxBufferLength,Math.min(n,e.maxMaxBufferLength)}reduceMaxBufferLength(i){const e=this.config;return e.maxMaxBufferLength>=(i||e.maxBufferLength)&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(i,e="main"){const n=this.fragmentTracker.getAppendedFrag(i,"main");return n&&"fragment"in n?n.fragment:n}getNextFragment(i,e){const n=e.fragments,o=n.length;if(!o)return null;const{config:u}=this,g=n[0].start;let T;if(e.live){const R=u.initialLiveManifestSize;if(o<R)return this.warn(`Not enough fragments to start playback (have: ${o}, need: ${R})`),null;!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition&&(T=this.getInitialLiveFragment(e,n),this.startPosition=T?this.hls.liveSyncPosition||T.start:i)}else i<=g&&(T=n[0]);return T||(T=this.getFragmentAtPosition(i,u.lowLatencyMode?e.partEnd:e.fragmentEnd,e)),this.mapToInitFragWhenRequired(T)}isLoopLoading(i,e){const n=this.fragmentTracker.getState(i);return("OK"===n||"PARTIAL"===n&&!!i.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(i,e,n,o,u){const g=i.gap,T=this.getNextFragment(this.nextLoadPosition,e);if(null===T)return T;if(i=T,g&&i&&!i.gap&&n.nextStart){const R=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,o);if(null!==R&&n.len+R.len>=u)return this.log(`buffer full after gaps in "${o}" playlist starting at sn: ${i.sn}`),null}return i}mapToInitFragWhenRequired(i){return null==i||!i.initSegment||null!=i&&i.initSegment.data||this.bitrateTest?i:i.initSegment}getNextPart(i,e,n){let o=-1,u=!1,g=!0;for(let T=0,R=i.length;T<R;T++){const G=i[T];if(g=g&&!G.independent,o>-1&&n<G.start)break;const ne=G.loaded;ne?o=-1:(u||G.independent||g)&&G.fragment===e&&(o=T),u=ne}return o}loadedEndOfParts(i,e){const n=i[i.length-1];return n&&e>n.start&&n.loaded}getInitialLiveFragment(i,e){const n=this.fragPrevious;let o=null;if(n){if(i.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),o=function HM(r,i,e){if(null===i||!Array.isArray(r)||!r.length||!ci(i))return null;if(i<(r[0].programDateTime||0))return null;if(i>=(r[r.length-1].endProgramDateTime||0))return null;e=e||0;for(let u=0;u<r.length;++u){const g=r[u];if(n0(i,e,g))return g}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!o){const u=n.sn+1;if(u>=i.startSN&&u<=i.endSN){const g=e[u-i.startSN];n.cc===g.cc&&(o=g,this.log(`Live playlist, switching playlist, load frag with next SN: ${o.sn}`))}o||(o=function r0(r,i){return t0.search(r,e=>e.cc<i?1:e.cc>i?-1:0)}(e,n.cc),o&&this.log(`Live playlist, switching playlist, load frag with same CC: ${o.sn}`))}}else{const u=this.hls.liveSyncPosition;null!==u&&(o=this.getFragmentAtPosition(u,this.bitrateTest?i.fragmentEnd:i.edge,i))}return o}getFragmentAtPosition(i,e,n){const{config:o}=this;let{fragPrevious:u}=this,{fragments:g,endSN:T}=n;const{fragmentHint:R}=n,G=o.maxFragLookUpTolerance,ne=n.partList,Ee=!!(o.lowLatencyMode&&null!=ne&&ne.length&&R);let Ue;if(Ee&&R&&!this.bitrateTest&&(g=g.concat(R),T=R.sn),Ue=i<e?Dd(u,g,i,i>e-G?0:G):g[g.length-1],Ue){const Ge=Ue.sn-n.startSN,Xe=this.fragmentTracker.getState(Ue);if(("OK"===Xe||"PARTIAL"===Xe&&Ue.gap)&&(u=Ue),u&&Ue.sn===u.sn&&(!Ee||ne[0].fragment.sn>Ue.sn)&&u&&Ue.level===u.level){const vt=g[Ge+1];Ue=Ue.sn<T&&"OK"!==this.fragmentTracker.getState(vt)?vt:null}}return Ue}synchronizeToLiveEdge(i){const{config:e,media:n}=this;if(!n)return;const o=this.hls.liveSyncPosition,u=n.currentTime,T=i.edge,R=u>=i.fragments[0].start-e.maxFragLookUpTolerance&&u<=T;null!==o&&n.duration>o&&(u<o||!R)&&(!R&&n.readyState<4||u<T-(void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*i.targetduration))&&(this.loadedmetadata||(this.nextLoadPosition=o),n.readyState&&(this.warn(`Playback: ${u.toFixed(3)} is located too far from the end of live sliding playlist: ${T}, reset currentTime to : ${o.toFixed(3)}`),n.currentTime=o))}alignPlaylists(i,e){const{levels:n,levelLastLoaded:o,fragPrevious:u}=this,g=null!==o?n[o]:null,T=i.fragments.length;if(!T)return this.warn("No fragments in live playlist"),0;const R=i.fragments[0].start,G=!e,ne=i.alignedSliding&&ci(R);if(G||!ne&&!R){!function LC(r,i,e){i&&(function kC(r,i,e){if(function Ga(r,i,e){return!(!i.details||!(e.endCC>e.startCC||r&&r.cc<e.startCC))}(r,e,i)){const n=function NC(r,i,e=0){const n=r.fragments,o=i.fragments;if(!o.length||!n.length)return void sn.log("No fragments to align");const u=Cf(n,o[0].cc);if(u&&(!u||u.startPTS))return u;sn.log("No frag in previous level to align on")}(e.details,i);n&&ci(n.start)&&(sn.log(`Adjusting PTS using last level due to CC increase within current level ${i.url}`),Qs(n.start,i))}}(r,e,i),!e.alignedSliding&&i.details&&function FC(r,i){if(!i.fragments.length||!r.hasProgramDateTime||!i.hasProgramDateTime)return;const e=i.fragments[0].programDateTime,n=r.fragments[0].programDateTime,o=(n-e)/1e3+i.fragments[0].start;o&&ci(o)&&(sn.log(`Adjusting PTS using programDateTime delta ${n-e}ms, sliding:${o.toFixed(3)} ${r.url} `),Qs(o,r))}(e,i.details),!e.alignedSliding&&i.details&&!e.skippedSegments&&ng(i.details,e))}(u,g,i);const Ee=i.fragments[0].start;return this.log(`Live playlist sliding: ${Ee.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${i.startSN} prev-sn: ${u?u.sn:"na"} fragments: ${T}`),Ee}return R}waitForCdnTuneIn(i){return i.live&&i.canBlockReload&&i.partTarget&&i.tuneInGoal>Math.max(i.partHoldBack,3*i.partTarget)}setStartPosition(i,e){let n=this.startPosition;if(n<e&&(n=-1),-1===n||-1===this.lastCurrentTime){const o=null!==this.startTimeOffset,u=o?this.startTimeOffset:i.startTimeOffset;null!==u&&ci(u)?(n=e+u,u<0&&(n+=i.totalduration),n=Math.min(Math.max(e,n),e+i.totalduration),this.log(`Start time offset ${u} found in ${o?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):i.live?n=this.hls.liveSyncPosition||e:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:i}=this;let e=0;return this.loadedmetadata&&i?e=i.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(i,e){this.transmuxer&&"initSegment"!==i.sn&&i.stats.aborted&&(this.warn(`Fragment ${i.sn}${e?" part "+e.index:""} of level ${i.level} was aborted`),this.resetFragmentLoading(i))}resetFragmentLoading(i){(!this.fragCurrent||!this.fragContextChanged(i)&&"FRAG_LOADING_WAITING_RETRY"!==this.state)&&(this.state="IDLE")}onFragmentOrKeyLoadError(i,e){if(e.chunkMeta&&!e.frag){const Ee=this.getCurrentContext(e.chunkMeta);Ee&&(e.frag=Ee.frag)}const n=e.frag;if(!n||n.type!==i||!this.levels)return;var o;if(this.fragContextChanged(n))return void this.warn(`Frag load error must match current frag to retry ${n.url} > ${null==(o=this.fragCurrent)?void 0:o.url}`);const u=e.details===En.FRAG_GAP;u&&this.fragmentTracker.fragBuffered(n,!0);const g=e.errorAction,{action:T,retryCount:R=0,retryConfig:G}=g||{};if(g&&5===T&&G){var ne;this.resetStartWhenNotLoaded(null!=(ne=this.levelLastLoaded)?ne:n.level);const Ee=Tf(G,R);this.warn(`Fragment ${n.sn} of ${i} ${n.level} errored with ${e.details}, retrying loading ${R+1}/${G.maxNumRetry} in ${Ee}ms`),g.resolved=!0,this.retryDate=self.performance.now()+Ee,this.state="FRAG_LOADING_WAITING_RETRY"}else G&&g?(this.resetFragmentErrors(i),R<G.maxNumRetry?u||(g.resolved=!0):sn.warn(`${e.details} reached or exceeded max retry (${R})`)):this.state=2===g?.action?"WAITING_LEVEL":"ERROR";this.tickImmediate()}reduceLengthAndFlushBuffer(i){if("PARSING"===this.state||"PARSED"===this.state){const e=i.parent,n=this.getFwdBufferInfo(this.mediaBuffer,e),o=n&&n.len>.5;o&&this.reduceMaxBufferLength(n.len);const u=!o;return u&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),i.frag&&(this.fragmentTracker.removeFragment(i.frag),this.nextLoadPosition=i.frag.start),this.resetLoadingState(),u}return!1}resetFragmentErrors(i){"audio"===i&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),"STOPPED"!==this.state&&(this.state="IDLE")}afterBufferFlushed(i,e,n){if(!i)return;const o=mr.getBuffered(i);this.fragmentTracker.detectEvictedFragments(e,o,n),"ENDED"===this.state&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"}resetStartWhenNotLoaded(i){if(!this.loadedmetadata){this.startFragRequested=!1;const e=this.levels?this.levels[i].details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(i){var e;this.warn(`The loading context changed while buffering fragment ${i.sn} of level ${i.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(e=this.levelLastLoaded)?e:i.level),this.resetLoadingState()}removeUnbufferedFrags(i=0){this.fragmentTracker.removeFragmentsInRange(i,1/0,this.playlistType,!1,!0)}updateLevelTiming(i,e,n,o){var u;const g=n.details;if(g){if(Object.keys(i.elementaryStreams).reduce((R,G)=>{const ne=i.elementaryStreams[G];if(ne){const Ee=ne.endPTS-ne.startPTS;if(Ee<=0)return this.warn(`Could not parse fragment ${i.sn} ${G} duration reliably (${Ee})`),R||!1;const Ue=o?0:eg(g,i,ne.startPTS,ne.endPTS,ne.startDTS,ne.endDTS);return this.hls.trigger(Tt.LEVEL_PTS_UPDATED,{details:g,level:n,drift:Ue,type:G,frag:i,start:ne.startPTS,end:ne.endPTS}),!0}return R},!1))n.fragmentError=0;else if(null===(null==(u=this.transmuxer)?void 0:u.error)){const R=new Error(`Found no media in fragment ${i.sn} of level ${i.level} resetting transmuxer to fallback to playlist timing`);if(0===n.fragmentError&&(n.fragmentError++,i.gap=!0,this.fragmentTracker.removeFragment(i),this.fragmentTracker.fragBuffered(i,!0)),this.warn(R.message),this.hls.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,error:R,frag:i,reason:`Found no media in msn ${i.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state="PARSED",this.hls.trigger(Tt.FRAG_PARSED,{frag:i,part:e})}else this.warn("level.details undefined")}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(i){var e,n,o;"demuxerWorker"===i.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(e=null!=(n=this.levelLastLoaded)?n:null==(o=this.fragCurrent)?void 0:o.level)?e:0),this.resetLoadingState())}set state(i){const e=this._state;e!==i&&(this._state=i,this.log(`${e}->${i}`))}get state(){return this._state}}function ug(){return self.SourceBuffer||self.WebKitSourceBuffer}function da(r="",i=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:i,sequenceNumber:-1,samples:[],dropped:0}}class fg{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(i,e,n,o){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(i){this.initPTS=i,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(i,e){return!1}appendFrame(i,e,n){}demux(i,e){this.cachedData&&(i=Zs(this.cachedData,i),this.cachedData=null);let u,n=md(i,0),o=n?n.length:0;const g=this._audioTrack,T=this._id3Track,R=n?(r=>{const i=My(r);for(let e=0;e<i.length;e++){const n=i[e];if(xy(n))return df(n)}})(n):void 0,G=i.length;for((null===this.basePTS||0===this.frameIndex&&ci(R))&&(this.basePTS=HC(R,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),n&&n.length>0&&T.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:"org.id3",duration:Number.POSITIVE_INFINITY});o<G;){if(this.canParse(i,o)){const ne=this.appendFrame(g,i,o);ne?(this.frameIndex++,this.lastPTS=ne.sample.pts,o+=ne.length,u=o):o=G}else Cy(i,o)?(n=md(i,o),T.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:"org.id3",duration:Number.POSITIVE_INFINITY}),o+=n.length,u=o):o++;if(o===G&&u!==G){const ne=ys(i,u);this.cachedData=this.cachedData?Zs(this.cachedData,ne):ne}}return{audioTrack:g,videoTrack:da(),id3Track:T,textTrack:da()}}demuxSampleAes(i,e,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(i){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:da(),id3Track:this._id3Track,textTrack:da()}}destroy(){}}const HC=(r,i,e)=>ci(r)?90*r:9e4*i+(e?9e4*e.baseTime/e.timescale:0);function hg(r,i){return 255===r[i]&&240==(246&r[i+1])}function h0(r,i){return 1&r[i+1]?7:9}function mg(r,i){return(3&r[i+3])<<11|r[i+4]<<3|(224&r[i+5])>>>5}function dc(r,i){return i+1<r.length&&hg(r,i)}function pg(r,i){if(dc(r,i)){const e=h0(r,i);if(i+e>=r.length)return!1;const n=mg(r,i);if(n<=e)return!1;const o=i+n;return o===r.length||dc(r,o)}return!1}function xf(r,i,e,n,o){if(!r.samplerate){const u=function f0(r,i,e,n){let o,u,g,T;const R=navigator.userAgent.toLowerCase(),G=n,ne=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=1+((192&i[e+2])>>>6);const Ee=(60&i[e+2])>>>2;if(!(Ee>ne.length-1))return g=(1&i[e+2])<<2,g|=(192&i[e+3])>>>6,sn.log(`manifest codec:${n}, ADTS type:${o}, samplingIndex:${Ee}`),/firefox/i.test(R)?Ee>=6?(o=5,T=new Array(4),u=Ee-3):(o=2,T=new Array(2),u=Ee):-1!==R.indexOf("android")?(o=2,T=new Array(2),u=Ee):(o=5,T=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&Ee>=6?u=Ee-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(Ee>=6&&1===g||/vivaldi/i.test(R))||!n&&1===g)&&(o=2,T=new Array(2)),u=Ee)),T[0]=o<<3,T[0]|=(14&Ee)>>1,T[1]|=(1&Ee)<<7,T[1]|=g<<3,5===o&&(T[1]|=(14&u)>>1,T[2]=(1&u)<<7,T[2]|=8,T[3]=0),{config:T,samplerate:ne[Ee],channelCount:g,codec:"mp4a.40."+o,manifestCodec:G};r.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${Ee}`})}(i,e,n,o);if(!u)return;r.config=u.config,r.samplerate=u.samplerate,r.channelCount=u.channelCount,r.codec=u.codec,r.manifestCodec=u.manifestCodec,sn.log(`parsed codec:${r.codec}, rate:${u.samplerate}, channels:${u.channelCount}`)}}function g0(r){return 9216e4/r}function p0(r,i,e,n,o){const g=n+o*g0(r.samplerate),T=function YC(r,i){const e=h0(r,i);if(i+e<=r.length){const n=mg(r,i)-e;if(n>0)return{headerLength:e,frameLength:n}}}(i,e);let R;if(T){const{frameLength:Ee,headerLength:Ue}=T,Ge=Ue+Ee,Xe=Math.max(0,e+Ge-i.length);Xe?(R=new Uint8Array(Ge-Ue),R.set(i.subarray(e+Ue,i.length),0)):R=i.subarray(e+Ue,e+Ge);const ht={unit:R,pts:g};return Xe||r.samples.push(ht),{sample:ht,length:Ge,missing:Xe}}const G=i.length-e;return R=new Uint8Array(G),R.set(i.subarray(e,i.length),0),{sample:{unit:R,pts:g},length:G,missing:-1}}const _0=/\/emsg[-/]ID3/i;let wd=null;const v0=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],y0=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],b0=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],WC=[0,1,1,4];function vg(r,i,e,n,o){if(e+24>i.length)return;const u=yg(i,e);if(u&&e+u.frameLength<=i.length){const T=n+o*(9e4*u.samplesPerFrame/u.sampleRate),R={unit:i.subarray(e,e+u.frameLength),pts:T,dts:T};return r.config=[],r.channelCount=u.channelCount,r.samplerate=u.sampleRate,r.samples.push(R),{sample:R,length:u.frameLength,missing:0}}}function yg(r,i){const e=r[i+1]>>3&3,n=r[i+1]>>1&3,o=r[i+2]>>4&15,u=r[i+2]>>2&3;if(1!==e&&0!==o&&15!==o&&3!==u){const T=r[i+3]>>6,G=1e3*v0[14*(3===e?3-n:3===n?3:4)+o-1],Ee=y0[3*(3===e?0:2===e?1:2)+u],Ue=3===T?1:2,Ge=b0[e][n],Xe=WC[n],ht=8*Ge*Xe,vt=Math.floor(Ge*G/Ee+(r[i+2]>>1&1))*Xe;if(null===wd){const Kt=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);wd=Kt?parseInt(Kt[1]):0}return!!wd&&wd<=87&&2===n&&G>=224e3&&0===T&&(r[i+3]=128|r[i+3]),{sampleRate:Ee,channelCount:Ue,frameLength:vt,samplesPerFrame:ht}}}function bg(r,i){return 255===r[i]&&224==(224&r[i+1])&&0!=(6&r[i+1])}function Eg(r,i){return i+1<r.length&&bg(r,i)}function Oo(r,i){if(i+1<r.length&&bg(r,i)){const n=yg(r,i);let o=4;null!=n&&n.frameLength&&(o=n.frameLength);const u=i+o;return u===r.length||Eg(r,u)}return!1}class Xs{constructor(i){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=i,this.bytesAvailable=i.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const i=this.data,e=this.bytesAvailable,n=i.byteLength-e,o=new Uint8Array(4),u=Math.min(4,e);if(0===u)throw new Error("no bytes available");o.set(i.subarray(n,n+u)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=8*u,this.bytesAvailable-=u}skipBits(i){let e;i=Math.min(i,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>i?(this.word<<=i,this.bitsAvailable-=i):(e=(i-=this.bitsAvailable)>>3,i-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=i,this.bitsAvailable-=i)}readBits(i){let e=Math.min(this.bitsAvailable,i);const n=this.word>>>32-e;if(i>32&&sn.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=i-e,e>0&&this.bitsAvailable?n<<e|this.readBits(e):n}skipLZ(){let i;for(i=0;i<this.bitsAvailable;++i)if(this.word&2147483648>>>i)return this.word<<=i,this.bitsAvailable-=i,i;return this.loadWord(),i+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const i=this.skipLZ();return this.readBits(i+1)-1}readEG(){const i=this.readUEG();return 1&i?1+i>>>1:-1*(i>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(i){let o,e=8,n=8;for(let u=0;u<i;u++)0!==n&&(o=this.readEG(),n=(e+o+256)%256),e=0===n?e:n}readSPS(){let u,g,T,i=0,e=0,n=0,o=0;const R=this.readUByte.bind(this),G=this.readBits.bind(this),ne=this.readUEG.bind(this),Ee=this.readBoolean.bind(this),Ue=this.skipBits.bind(this),Ge=this.skipEG.bind(this),Xe=this.skipUEG.bind(this),ht=this.skipScalingList.bind(this);R();const vt=R();if(G(5),Ue(3),R(),Xe(),100===vt||110===vt||122===vt||244===vt||44===vt||83===vt||86===vt||118===vt||128===vt){const Sn=ne();if(3===Sn&&Ue(1),Xe(),Xe(),Ue(1),Ee())for(g=3!==Sn?8:12,T=0;T<g;T++)Ee()&&ht(T<6?16:64)}Xe();const Lt=ne();if(0===Lt)ne();else if(1===Lt)for(Ue(1),Ge(),Ge(),u=ne(),T=0;T<u;T++)Ge();Xe(),Ue(1);const Zt=ne(),Kt=ne(),un=G(1);0===un&&Ue(1),Ue(1),Ee()&&(i=ne(),e=ne(),n=ne(),o=ne());let cn=[1,1];if(Ee()&&Ee())switch(R()){case 1:cn=[1,1];break;case 2:cn=[12,11];break;case 3:cn=[10,11];break;case 4:cn=[16,11];break;case 5:cn=[40,33];break;case 6:cn=[24,11];break;case 7:cn=[20,11];break;case 8:cn=[32,11];break;case 9:cn=[80,33];break;case 10:cn=[18,11];break;case 11:cn=[15,11];break;case 12:cn=[64,33];break;case 13:cn=[160,99];break;case 14:cn=[4,3];break;case 15:cn=[3,2];break;case 16:cn=[2,1];break;case 255:cn=[R()<<8|R(),R()<<8|R()]}return{width:Math.ceil(16*(Zt+1)-2*i-2*e),height:(2-un)*(Kt+1)*16-(un?2:4)*(n+o),pixelRatio:cn}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class zC{constructor(i,e,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new cg(e,{removePKCS7Padding:!1})}decryptBuffer(i){return this.decrypter.decrypt(i,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(i,e,n){const o=i[e].unit;if(o.length<=16)return;const u=o.subarray(16,o.length-o.length%16),g=u.buffer.slice(u.byteOffset,u.byteOffset+u.length);this.decryptBuffer(g).then(T=>{const R=new Uint8Array(T);o.set(R,16),this.decrypter.isSync()||this.decryptAacSamples(i,e+1,n)})}decryptAacSamples(i,e,n){for(;;e++){if(e>=i.length)return void n();if(!(i[e].unit.length<32||(this.decryptAacSample(i,e,n),this.decrypter.isSync())))return}}getAvcEncryptedData(i){const e=16*Math.floor((i.length-48)/160)+16,n=new Int8Array(e);let o=0;for(let u=32;u<i.length-16;u+=160,o+=16)n.set(i.subarray(u,u+16),o);return n}getAvcDecryptedUnit(i,e){const n=new Uint8Array(e);let o=0;for(let u=32;u<i.length-16;u+=160,o+=16)i.set(n.subarray(o,o+16),u);return i}decryptAvcSample(i,e,n,o,u){const g=Fy(u.data),T=this.getAvcEncryptedData(g);this.decryptBuffer(T.buffer).then(R=>{u.data=this.getAvcDecryptedUnit(g,R),this.decrypter.isSync()||this.decryptAvcSamples(i,e,n+1,o)})}decryptAvcSamples(i,e,n,o){if(i instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,n=0){if(e>=i.length)return void o();const u=i[e].units;for(;!(n>=u.length);n++){const g=u[n];if(!(g.data.length<=48||1!==g.type&&5!==g.type||(this.decryptAvcSample(i,e,n,o,g),this.decrypter.isSync())))return}}}}const po=188;class el{constructor(i,e,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=i,this.config=e,this.typeSupported=n}static probe(i){const e=el.syncOffset(i);return e>0&&sn.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(i){const e=i.length;let n=Math.min(940,i.length-po)+1,o=0;for(;o<n;){let u=!1,g=-1,T=0;for(let R=o;R<e;R+=po){if(71!==i[R]){if(T)return-1;break}if(T++,-1===g&&(g=R,0!==g&&(n=Math.min(g+18612,i.length-po)+1)),u||(u=0===Mf(i,R)),u&&T>1&&(0===g&&T>2||R+po>n))return g}o++}return-1}static createTrack(i,e){return{container:"video"===i||"audio"===i?"video/mp2t":void 0,type:i,id:wy[i],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===i?e:void 0}}resetInitSegment(i,e,n,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=el.createTrack("video"),this._audioTrack=el.createTrack("audio",o),this._id3Track=el.createTrack("id3"),this._txtTrack=el.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=n,this._duration=o}resetTimeStamp(){}resetContiguity(){const{_audioTrack:i,_avcTrack:e,_id3Track:n}=this;i&&(i.pesData=null),e&&(e.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(i,e,n=!1,o=!1){let u;n||(this.sampleAes=null);const g=this._avcTrack,T=this._audioTrack,R=this._id3Track,G=this._txtTrack;let ne=g.pid,Ee=g.pesData,Ue=T.pid,Ge=R.pid,Xe=T.pesData,ht=R.pesData,vt=null,Lt=this.pmtParsed,Zt=this._pmtId,Kt=i.length;if(this.remainderData&&(Kt=(i=Zs(this.remainderData,i)).length,this.remainderData=null),Kt<po&&!o)return this.remainderData=i,{audioTrack:T,videoTrack:g,id3Track:R,textTrack:G};const un=Math.max(0,el.syncOffset(i));Kt-=(Kt-un)%po,Kt<i.byteLength&&!o&&(this.remainderData=new Uint8Array(i.buffer,Kt,i.buffer.byteLength-Kt));let cn=0;for(let gn=un;gn<Kt;gn+=po)if(71===i[gn]){const An=!!(64&i[gn+1]),Vn=Mf(i,gn);let Qn;if((48&i[gn+3])>>4>1){if(Qn=gn+5+i[gn+4],Qn===gn+po)continue}else Qn=gn+4;switch(Vn){case ne:An&&(Ee&&(u=uc(Ee))&&this.parseAVCPES(g,G,u,!1),Ee={data:[],size:0}),Ee&&(Ee.data.push(i.subarray(Qn,gn+po)),Ee.size+=gn+po-Qn);break;case Ue:if(An){if(Xe&&(u=uc(Xe)))switch(T.segmentCodec){case"aac":this.parseAACPES(T,u);break;case"mp3":this.parseMPEGPES(T,u)}Xe={data:[],size:0}}Xe&&(Xe.data.push(i.subarray(Qn,gn+po)),Xe.size+=gn+po-Qn);break;case Ge:An&&(ht&&(u=uc(ht))&&this.parseID3PES(R,u),ht={data:[],size:0}),ht&&(ht.data.push(i.subarray(Qn,gn+po)),ht.size+=gn+po-Qn);break;case 0:An&&(Qn+=i[Qn]+1),Zt=this._pmtId=Sg(i,Qn);break;case Zt:{An&&(Qn+=i[Qn]+1);const zn=Id(i,Qn,this.typeSupported,n);ne=zn.avc,ne>0&&(g.pid=ne),Ue=zn.audio,Ue>0&&(T.pid=Ue,T.segmentCodec=zn.segmentCodec),Ge=zn.id3,Ge>0&&(R.pid=Ge),null!==vt&&!Lt&&(sn.warn(`MPEG-TS PMT found at ${gn} after unknown PID '${vt}'. Backtracking to sync byte @${un} to parse all TS packets.`),vt=null,gn=un-188),Lt=this.pmtParsed=!0;break}case 17:case 8191:break;default:vt=Vn}}else cn++;if(cn>0){const gn=new Error(`Found ${cn} TS packet/s that do not start with 0x47`);this.observer.emit(Tt.ERROR,Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,error:gn,reason:gn.message})}g.pesData=Ee,T.pesData=Xe,R.pesData=ht;const Sn={audioTrack:T,videoTrack:g,id3Track:R,textTrack:G};return o&&this.extractRemainingSamples(Sn),Sn}flush(){const{remainderData:i}=this;let e;return this.remainderData=null,e=i?this.demux(i,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(i){const{audioTrack:e,videoTrack:n,id3Track:o,textTrack:u}=i,g=n.pesData,T=e.pesData,R=o.pesData;let G;if(g&&(G=uc(g))?(this.parseAVCPES(n,u,G,!0),n.pesData=null):n.pesData=g,T&&(G=uc(T))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,G);break;case"mp3":this.parseMPEGPES(e,G)}e.pesData=null}else null!=T&&T.size&&sn.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=T;R&&(G=uc(R))?(this.parseID3PES(o,G),o.pesData=null):o.pesData=R}demuxSampleAes(i,e,n){const o=this.demux(i,n,!0,!this.config.progressive),u=this.sampleAes=new zC(this.observer,this.config,e);return this.decrypt(o,u)}decrypt(i,e){return new Promise(n=>{const{audioTrack:o,videoTrack:u}=i;o.samples&&"aac"===o.segmentCodec?e.decryptAacSamples(o.samples,0,()=>{u.samples?e.decryptAvcSamples(u.samples,0,0,()=>{n(i)}):n(i)}):u.samples&&e.decryptAvcSamples(u.samples,0,0,()=>{n(i)})})}destroy(){this._duration=0}parseAVCPES(i,e,n,o){const u=this.parseAVCNALu(i,n.data);let T,g=this.avcSample,R=!1;n.data=null,g&&u.length&&!i.audFound&&(tl(g,i),g=this.avcSample=Tg(!1,n.pts,n.dts,"")),u.forEach(G=>{var ne;switch(G.type){case 1:{let Ue=!1;T=!0;const Ge=G.data;if(R&&Ge.length>4){const Xe=new Xs(Ge).readSliceType();(2===Xe||4===Xe||7===Xe||9===Xe)&&(Ue=!0)}var Ee;Ue&&null!=(Ee=g)&&Ee.frame&&!g.key&&(tl(g,i),g=this.avcSample=null),g||(g=this.avcSample=Tg(!0,n.pts,n.dts,"")),g.frame=!0,g.key=Ue;break}case 5:T=!0,null!=(ne=g)&&ne.frame&&!g.key&&(tl(g,i),g=this.avcSample=null),g||(g=this.avcSample=Tg(!0,n.pts,n.dts,"")),g.key=!0,g.frame=!0;break;case 6:T=!0,ky(G.data,1,n.pts,e.samples);break;case 7:if(T=!0,R=!0,!i.sps){const Ue=G.data,Xe=new Xs(Ue).readSPS();i.width=Xe.width,i.height=Xe.height,i.pixelRatio=Xe.pixelRatio,i.sps=[Ue],i.duration=this._duration;const ht=Ue.subarray(1,4);let vt="avc1.";for(let Lt=0;Lt<3;Lt++){let Zt=ht[Lt].toString(16);Zt.length<2&&(Zt="0"+Zt),vt+=Zt}i.codec=vt}break;case 8:T=!0,i.pps||(i.pps=[G.data]);break;case 9:T=!1,i.audFound=!0,g&&tl(g,i),g=this.avcSample=Tg(!1,n.pts,n.dts,"");break;case 12:T=!0;break;default:T=!1,g&&(g.debug+="unknown NAL "+G.type+" ")}g&&T&&g.units.push(G)}),o&&g&&(tl(g,i),this.avcSample=null)}getLastNalUnit(i){var e;let o,n=this.avcSample;if((!n||0===n.units.length)&&(n=i[i.length-1]),null!=(e=n)&&e.units){const u=n.units;o=u[u.length-1]}return o}parseAVCNALu(i,e){const n=e.byteLength;let o=i.naluState||0;const u=o,g=[];let R,G,ne,T=0,Ee=-1,Ue=0;for(-1===o&&(Ee=0,Ue=31&e[0],o=0,T=1);T<n;)if(R=e[T++],o)if(1!==o)if(R)if(1===R){if(Ee>=0){const Ge={data:e.subarray(Ee,T-o-1),type:Ue};g.push(Ge)}else{const Ge=this.getLastNalUnit(i.samples);if(Ge&&(u&&T<=4-u&&Ge.state&&(Ge.data=Ge.data.subarray(0,Ge.data.byteLength-u)),G=T-o-1,G>0)){const Xe=new Uint8Array(Ge.data.byteLength+G);Xe.set(Ge.data,0),Xe.set(e.subarray(0,G),Ge.data.byteLength),Ge.data=Xe,Ge.state=0}}T<n?(ne=31&e[T],Ee=T,Ue=ne,o=0):o=-1}else o=0;else o=3;else o=R?0:2;else o=R?0:1;if(Ee>=0&&o>=0){const Ge={data:e.subarray(Ee,n),type:Ue,state:o};g.push(Ge)}if(0===g.length){const Ge=this.getLastNalUnit(i.samples);if(Ge){const Xe=new Uint8Array(Ge.data.byteLength+e.byteLength);Xe.set(Ge.data,0),Xe.set(e,Ge.data.byteLength),Ge.data=Xe}}return i.naluState=o,g}parseAACPES(i,e){let n=0;const o=this.aacOverFlow;let g,T,R,u=e.data;if(o){this.aacOverFlow=null;const Ee=o.missing,Ue=o.sample.unit.byteLength;if(-1===Ee){const Ge=new Uint8Array(Ue+u.byteLength);Ge.set(o.sample.unit,0),Ge.set(u,Ue),u=Ge}else{const Ge=Ue-Ee;o.sample.unit.set(u.subarray(0,Ee),Ge),i.samples.push(o.sample),n=o.missing}}for(g=n,T=u.length;g<T-1&&!dc(u,g);g++);if(g!==n){let Ee;const Ue=g<T-1;Ee=Ue?`AAC PES did not start with ADTS header,offset:${g}`:"No ADTS header found in AAC PES";const Ge=new Error(Ee);if(sn.warn(`parsing error: ${Ee}`),this.observer.emit(Tt.ERROR,Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,levelRetry:Ue,error:Ge,reason:Ee}),!Ue)return}if(xf(i,this.observer,u,g,this.audioCodec),void 0!==e.pts)R=e.pts;else{if(!o)return void sn.warn("[tsdemuxer]: AAC PES unknown PTS");{const Ee=g0(i.samplerate);R=o.sample.pts+Ee}}let ne,G=0;for(;g<T;){if(ne=p0(i,u,g,R,G),g+=ne.length,ne.missing){this.aacOverFlow=ne;break}for(G++;g<T-1&&!dc(u,g);g++);}}parseMPEGPES(i,e){const n=e.data,o=n.length;let u=0,g=0;const T=e.pts;if(void 0!==T)for(;g<o;)if(Eg(n,g)){const R=vg(i,n,g,T,u);if(!R)break;g+=R.length,u++}else g++;else sn.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseID3PES(i,e){if(void 0===e.pts)return void sn.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=Vr({},e,{type:this._avcTrack?la_emsg:"org.id3",duration:Number.POSITIVE_INFINITY});i.samples.push(n)}}function Tg(r,i,e,n){return{key:r,frame:!1,pts:i,dts:e,units:[],debug:n,length:0}}function Mf(r,i){return((31&r[i+1])<<8)+r[i+2]}function Sg(r,i){return(31&r[i+10])<<8|r[i+11]}function Id(r,i,e,n){const o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},g=i+3+((15&r[i+1])<<8|r[i+2])-4;for(i+=12+((15&r[i+10])<<8|r[i+11]);i<g;){const R=Mf(r,i);switch(r[i]){case 207:if(!n){sn.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===o.audio&&(o.audio=R);break;case 21:-1===o.id3&&(o.id3=R);break;case 219:if(!n){sn.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===o.avc&&(o.avc=R);break;case 3:case 4:!0!==e.mpeg&&!0!==e.mp3?sn.log("MPEG audio found, not supported in this browser"):-1===o.audio&&(o.audio=R,o.segmentCodec="mp3");break;case 36:sn.warn("Unsupported HEVC stream type found")}i+=5+((15&r[i+3])<<8|r[i+4])}return o}function uc(r){let e,n,o,u,g,i=0;const T=r.data;if(!r||0===r.size)return null;for(;T[0].length<19&&T.length>1;){const G=new Uint8Array(T[0].length+T[1].length);G.set(T[0]),G.set(T[1],T[0].length),T[0]=G,T.splice(1,1)}if(e=T[0],(e[0]<<16)+(e[1]<<8)+e[2]===1){if(n=(e[4]<<8)+e[5],n&&n>r.size-6)return null;const G=e[7];192&G&&(u=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&G?(g=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,u-g>54e5&&(sn.warn(`${Math.round((u-g)/9e4)}s delta between PTS and DTS, align them`),u=g)):g=u),o=e[8];let ne=o+9;if(r.size<=ne)return null;r.size-=ne;const Ee=new Uint8Array(r.size);for(let Ue=0,Ge=T.length;Ue<Ge;Ue++){e=T[Ue];let Xe=e.byteLength;if(ne){if(ne>Xe){ne-=Xe;continue}e=e.subarray(ne),Xe-=ne,ne=0}Ee.set(e,i),i+=Xe}return n&&(n-=o+3),{data:Ee,pts:u,dts:g,len:n}}return null}function tl(r,i){if(r.units.length&&r.frame){if(void 0===r.pts){const e=i.samples,n=e.length;if(!n)return void i.dropped++;{const o=e[n-1];r.pts=o.pts,r.dts=o.dts}}i.samples.push(r)}r.debug.length&&sn.log(r.pts+"/"+r.dts+":"+r.debug)}class Cg{static getSilentFrame(i,e){if("mp4a.40.2"===i){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const Ts=Math.pow(2,32)-1;let fc=(()=>{class r{static init(){let e;for(e in r.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},r.types)r.types.hasOwnProperty(e)&&(r.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),o=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);r.HDLR_TYPES={video:n,audio:o};const u=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),g=new Uint8Array([0,0,0,0,0,0,0,0]);r.STTS=r.STSC=r.STCO=g,r.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),r.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),r.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),r.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const T=new Uint8Array([105,115,111,109]),R=new Uint8Array([97,118,99,49]),G=new Uint8Array([0,0,0,1]);r.FTYP=r.box(r.types.ftyp,T,G,T,R),r.DINF=r.box(r.types.dinf,r.box(r.types.dref,u))}static box(e,...n){let o=8,u=n.length;const g=u;for(;u--;)o+=n[u].byteLength;const T=new Uint8Array(o);for(T[0]=o>>24&255,T[1]=o>>16&255,T[2]=o>>8&255,T[3]=255&o,T.set(e,4),u=0,o=8;u<g;u++)T.set(n[u],o),o+=n[u].byteLength;return T}static hdlr(e){return r.box(r.types.hdlr,r.HDLR_TYPES[e])}static mdat(e){return r.box(r.types.mdat,e)}static mdhd(e,n){n*=e;const o=Math.floor(n/(Ts+1)),u=Math.floor(n%(Ts+1));return r.box(r.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,85,196,0,0]))}static mdia(e){return r.box(r.types.mdia,r.mdhd(e.timescale,e.duration),r.hdlr(e.type),r.minf(e))}static mfhd(e){return r.box(r.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}static minf(e){return r.box(r.types.minf,"audio"===e.type?r.box(r.types.smhd,r.SMHD):r.box(r.types.vmhd,r.VMHD),r.DINF,r.stbl(e))}static moof(e,n,o){return r.box(r.types.moof,r.mfhd(e),r.traf(o,n))}static moov(e){let n=e.length;const o=[];for(;n--;)o[n]=r.trak(e[n]);return r.box.apply(null,[r.types.moov,r.mvhd(e[0].timescale,e[0].duration)].concat(o).concat(r.mvex(e)))}static mvex(e){let n=e.length;const o=[];for(;n--;)o[n]=r.trex(e[n]);return r.box.apply(null,[r.types.mvex,...o])}static mvhd(e,n){n*=e;const o=Math.floor(n/(Ts+1)),u=Math.floor(n%(Ts+1)),g=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,o>>24,o>>16&255,o>>8&255,255&o,u>>24,u>>16&255,u>>8&255,255&u,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r.box(r.types.mvhd,g)}static sdtp(e){const n=e.samples||[],o=new Uint8Array(4+n.length);let u,g;for(u=0;u<n.length;u++)g=n[u].flags,o[u+4]=g.dependsOn<<4|g.isDependedOn<<2|g.hasRedundancy;return r.box(r.types.sdtp,o)}static stbl(e){return r.box(r.types.stbl,r.stsd(e),r.box(r.types.stts,r.STTS),r.box(r.types.stsc,r.STSC),r.box(r.types.stsz,r.STSZ),r.box(r.types.stco,r.STCO))}static avc1(e){let u,g,T,n=[],o=[];for(u=0;u<e.sps.length;u++)g=e.sps[u],T=g.byteLength,n.push(T>>>8&255),n.push(255&T),n=n.concat(Array.prototype.slice.call(g));for(u=0;u<e.pps.length;u++)g=e.pps[u],T=g.byteLength,o.push(T>>>8&255),o.push(255&T),o=o.concat(Array.prototype.slice.call(g));const R=r.box(r.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(o))),G=e.width,ne=e.height,Ee=e.pixelRatio[0],Ue=e.pixelRatio[1];return r.box(r.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,G>>8&255,255&G,ne>>8&255,255&ne,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),R,r.box(r.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),r.box(r.types.pasp,new Uint8Array([Ee>>24,Ee>>16&255,Ee>>8&255,255&Ee,Ue>>24,Ue>>16&255,Ue>>8&255,255&Ue])))}static esds(e){const n=e.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(e.config).concat([6,1,2]))}static mp4a(e){const n=e.samplerate;return r.box(r.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),r.box(r.types.esds,r.esds(e)))}static mp3(e){const n=e.samplerate;return r.box(r.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}static stsd(e){return r.box(r.types.stsd,r.STSD,"audio"===e.type?"mp3"===e.segmentCodec&&"mp3"===e.codec?r.mp3(e):r.mp4a(e):r.avc1(e))}static tkhd(e){const n=e.id,o=e.duration*e.timescale,u=e.width,g=e.height,T=Math.floor(o/(Ts+1)),R=Math.floor(o%(Ts+1));return r.box(r.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,T>>24,T>>16&255,T>>8&255,255&T,R>>24,R>>16&255,R>>8&255,255&R,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,u>>8&255,255&u,0,0,g>>8&255,255&g,0,0]))}static traf(e,n){const o=r.sdtp(e),u=e.id,g=Math.floor(n/(Ts+1)),T=Math.floor(n%(Ts+1));return r.box(r.types.traf,r.box(r.types.tfhd,new Uint8Array([0,0,0,0,u>>24,u>>16&255,u>>8&255,255&u])),r.box(r.types.tfdt,new Uint8Array([1,0,0,0,g>>24,g>>16&255,g>>8&255,255&g,T>>24,T>>16&255,T>>8&255,255&T])),r.trun(e,o.length+16+20+8+16+8+8),o)}static trak(e){return e.duration=e.duration||4294967295,r.box(r.types.trak,r.tkhd(e),r.mdia(e))}static trex(e){const n=e.id;return r.box(r.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const o=e.samples||[],u=o.length,g=12+16*u,T=new Uint8Array(g);let R,G,ne,Ee,Ue,Ge;for(T.set(["video"===e.type?1:0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,(n+=8+g)>>>24&255,n>>>16&255,n>>>8&255,255&n],0),R=0;R<u;R++)G=o[R],ne=G.duration,Ee=G.size,Ue=G.flags,Ge=G.cts,T.set([ne>>>24&255,ne>>>16&255,ne>>>8&255,255&ne,Ee>>>24&255,Ee>>>16&255,Ee>>>8&255,255&Ee,Ue.isLeading<<2|Ue.dependsOn,Ue.isDependedOn<<6|Ue.hasRedundancy<<4|Ue.paddingValue<<1|Ue.isNonSync,61440&Ue.degradPrio,15&Ue.degradPrio,Ge>>>24&255,Ge>>>16&255,Ge>>>8&255,255&Ge],12+16*R);return r.box(r.types.trun,T)}static initSegment(e){r.types||r.init();const n=r.moov(e),o=new Uint8Array(r.FTYP.byteLength+n.byteLength);return o.set(r.FTYP),o.set(n,r.FTYP.byteLength),o}}return r.types=void 0,r.HDLR_TYPES=void 0,r.STTS=void 0,r.STSC=void 0,r.STCO=void 0,r.STSZ=void 0,r.VMHD=void 0,r.SMHD=void 0,r.STSD=void 0,r.FTYP=void 0,r.DINF=void 0,r})();function Od(r,i,e=1,n=!1){const o=r*i*e;return n?Math.round(o):o}function Pd(r,i=!1){return Od(r,1e3,1/9e4,i)}let Ha,wf=null,If=null;class Ss{constructor(i,e,n,o=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=i,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===wf){const g=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);wf=g?parseInt(g[1]):0}if(null===If){const u=navigator.userAgent.match(/Safari\/(\d+)/i);If=u?parseInt(u[1]):0}}destroy(){}resetTimeStamp(i){sn.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=i}resetNextTimestamp(){sn.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){sn.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(i){let e=!1;const n=i.reduce((o,u)=>{const g=u.pts-o;return g<-4294967296?(e=!0,ua(o,u.pts)):g>0?o:u.pts},i[0].pts);return e&&sn.debug("PTS rollover detected"),n}remux(i,e,n,o,u,g,T,R){let G,ne,Ee,Ue,Ge,Xe,ht=u,vt=u;const Zt=e.pid>-1,Kt=e.samples.length,un=i.samples.length>0,cn=T&&Kt>0||Kt>1;if((!(i.pid>-1)||un)&&(!Zt||cn)||this.ISGenerated||T){this.ISGenerated||(Ee=this.generateIS(i,e,u,g));const gn=this.isVideoContiguous;let Vn,An=-1;if(cn&&(An=function D0(r){for(let i=0;i<r.length;i++)if(r[i].key)return i;return-1}(e.samples),!gn&&this.config.forceKeyFrameOnDiscontinuity))if(Xe=!0,An>0){sn.warn(`[mp4-remuxer]: Dropped ${An} out of ${Kt} video samples due to a missing keyframe`);const _n=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(An),e.dropped+=An,vt+=(e.samples[0].pts-_n)/e.inputTimeScale,Vn=vt}else-1===An&&(sn.warn(`[mp4-remuxer]: No keyframe found out of ${Kt} video samples`),Xe=!1);if(this.ISGenerated){if(un&&cn){const _n=this.getVideoStartPts(e.samples),zn=(ua(i.samples[0].pts,_n)-_n)/e.inputTimeScale;ht+=Math.max(0,zn),vt+=Math.max(0,-zn)}if(un){if(i.samplerate||(sn.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),Ee=this.generateIS(i,e,u,g)),ne=this.remuxAudio(i,ht,this.isAudioContiguous,g,Zt||cn||"audio"===R?vt:void 0),cn){const _n=ne?ne.endPTS-ne.startPTS:0;e.inputTimeScale||(sn.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),Ee=this.generateIS(i,e,u,g)),G=this.remuxVideo(e,vt,gn,_n)}}else cn&&(G=this.remuxVideo(e,vt,gn,0));G&&(G.firstKeyFrame=An,G.independent=-1!==An,G.firstKeyFramePTS=Vn)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(Ge=Of(n,u,this._initPTS,this._initDTS)),o.samples.length&&(Ue=qC(o,u,this._initPTS))),{audio:ne,video:G,initSegment:Ee,independent:Xe,text:Ue,id3:Ge}}generateIS(i,e,n,o){const u=i.samples,g=e.samples,T=this.typeSupported,R={},G=this._initPTS;let Ue,Ge,Xe,ne=!G||o,Ee="audio/mp4";if(ne&&(Ue=Ge=1/0),i.config&&u.length&&("mp3"===(i.timescale=i.samplerate,i.segmentCodec)&&(T.mpeg?(Ee="audio/mpeg",i.codec=""):T.mp3&&(i.codec="mp3")),R.audio={id:"audio",container:Ee,codec:i.codec,initSegment:"mp3"===i.segmentCodec&&T.mpeg?new Uint8Array(0):fc.initSegment([i]),metadata:{channelCount:i.channelCount}},ne&&(Xe=i.inputTimeScale,G&&Xe===G.timescale?ne=!1:Ue=Ge=u[0].pts-Math.round(Xe*n))),e.sps&&e.pps&&g.length&&(e.timescale=e.inputTimeScale,R.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:fc.initSegment([e]),metadata:{width:e.width,height:e.height}},ne))if(Xe=e.inputTimeScale,G&&Xe===G.timescale)ne=!1;else{const ht=this.getVideoStartPts(g),vt=Math.round(Xe*n);Ge=Math.min(Ge,ua(g[0].dts,ht)-vt),Ue=Math.min(Ue,ht-vt)}if(Object.keys(R).length)return this.ISGenerated=!0,ne?(this._initPTS={baseTime:Ue,timescale:Xe},this._initDTS={baseTime:Ge,timescale:Xe}):Ue=Xe=void 0,{tracks:R,initPTS:Ue,timescale:Xe}}remuxVideo(i,e,n,o){const u=i.inputTimeScale,g=i.samples,T=[],R=g.length,G=this._initPTS;let Ge,Xe,ne=this.nextAvcDts,Ee=8,Ue=this.videoSampleDuration,ht=Number.POSITIVE_INFINITY,vt=Number.NEGATIVE_INFINITY,Lt=!1;n&&null!==ne||(ne=e*u-(g[0].pts-ua(g[0].dts,g[0].pts)));const Zt=G.baseTime*u/G.timescale;for(let Pn=0;Pn<R;Pn++){const Yn=g[Pn];Yn.pts=ua(Yn.pts-Zt,ne),Yn.dts=ua(Yn.dts-Zt,ne),Yn.dts<g[Pn>0?Pn-1:Pn].dts&&(Lt=!0)}Lt&&g.sort(function(Pn,Yn){return Pn.dts-Yn.dts||Pn.pts-Yn.pts}),Ge=g[0].dts,Xe=g[g.length-1].dts;const Kt=Xe-Ge,un=Kt?Math.round(Kt/(R-1)):Ue||i.inputTimeScale/30;if(n){const Pn=Ge-ne,Yn=Pn>un,bi=Pn<-1;if((Yn||bi)&&(sn.warn(Yn?`AVC: ${Pd(Pn,!0)} ms (${Pn}dts) hole between fragments detected, filling it`:`AVC: ${Pd(-Pn,!0)} ms (${Pn}dts) overlapping between fragments detected`),!bi||ne>=g[0].pts)){Ge=ne;const Pi=g[0].pts-Pn;g[0].dts=Ge,g[0].pts=Pi,sn.log(`Video: First PTS/DTS adjusted: ${Pd(Pi,!0)}/${Pd(Ge,!0)}, delta: ${Pd(Pn,!0)} ms`)}}Ge=Math.max(0,Ge);let cn=0,Sn=0;for(let Pn=0;Pn<R;Pn++){const Yn=g[Pn],bi=Yn.units,Pi=bi.length;let Ti=0;for(let zi=0;zi<Pi;zi++)Ti+=bi[zi].data.length;Sn+=Ti,cn+=Pi,Yn.length=Ti,Yn.dts=Math.max(Yn.dts,Ge),ht=Math.min(Yn.pts,ht),vt=Math.max(Yn.pts,vt)}Xe=g[R-1].dts;const gn=Sn+4*cn+8;let An;try{An=new Uint8Array(gn)}catch(Pn){return void this.observer.emit(Tt.ERROR,Tt.ERROR,{type:mi.MUX_ERROR,details:En.REMUX_ALLOC_ERROR,fatal:!1,error:Pn,bytes:gn,reason:`fail allocating video mdat ${gn}`})}const Vn=new DataView(An.buffer);Vn.setUint32(0,gn),An.set(fc.types.mdat,4);let _n=!1,Qn=Number.POSITIVE_INFINITY,zn=Number.POSITIVE_INFINITY,yi=Number.NEGATIVE_INFINITY,Tr=Number.NEGATIVE_INFINITY;for(let Pn=0;Pn<R;Pn++){const Yn=g[Pn],bi=Yn.units;let Ti,Pi=0;for(let Ai=0,kr=bi.length;Ai<kr;Ai++){const Xr=bi[Ai],ar=Xr.data,ao=Xr.data.byteLength;Vn.setUint32(Ee,ao),Ee+=4,An.set(ar,Ee),Ee+=ao,Pi+=4+ao}if(Pn<R-1)Ue=g[Pn+1].dts-Yn.dts,Ti=g[Pn+1].pts-Yn.pts;else{const Ai=this.config,kr=Pn>0?Yn.dts-g[Pn-1].dts:un;if(Ti=Pn>0?Yn.pts-g[Pn-1].pts:un,Ai.stretchShortVideoTrack&&null!==this.nextAudioPts){const Xr=Math.floor(Ai.maxBufferHole*u),ar=(o?ht+o*u:this.nextAudioPts)-Yn.pts;ar>Xr?(Ue=ar-kr,Ue<0?Ue=kr:_n=!0,sn.log(`[mp4-remuxer]: It is approximately ${ar/90} ms to the next segment; using duration ${Ue/90} ms for the last video frame.`)):Ue=kr}else Ue=kr}const zi=Math.round(Yn.pts-Yn.dts);Qn=Math.min(Qn,Ue),yi=Math.max(yi,Ue),zn=Math.min(zn,Ti),Tr=Math.max(Tr,Ti),T.push(new x0(Yn.key,Ue,Pi,zi))}if(T.length)if(wf){if(wf<70){const Pn=T[0].flags;Pn.dependsOn=2,Pn.isNonSync=0}}else if(If&&Tr-zn<yi-Qn&&un/yi<.025&&0===T[0].cts){sn.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Pn=Ge;for(let Yn=0,bi=T.length;Yn<bi;Yn++){const Pi=Pn+T[Yn].duration;T[Yn].duration=Yn<bi-1?Pi+T[Yn+1].cts-(Pn+T[Yn].cts):Yn?T[Yn-1].duration:un,T[Yn].cts=0,Pn=Pi}}Ue=_n||!Ue?un:Ue,this.nextAvcDts=ne=Xe+Ue,this.videoSampleDuration=Ue,this.isVideoContiguous=!0;const Kn={data1:fc.moof(i.sequenceNumber++,Ge,Vr({},i,{samples:T})),data2:An,startPTS:ht/u,endPTS:(vt+Ue)/u,startDTS:Ge/u,endDTS:ne/u,type:"video",hasAudio:!1,hasVideo:!0,nb:T.length,dropped:i.dropped};return i.samples=[],i.dropped=0,Kn}remuxAudio(i,e,n,o,u){const g=i.inputTimeScale,R=g/(i.samplerate?i.samplerate:g),G="aac"===i.segmentCodec?1024:1152,ne=G*R,Ee=this._initPTS,Ue="mp3"===i.segmentCodec&&this.typeSupported.mpeg,Ge=[],Xe=void 0!==u;let ht=i.samples,vt=Ue?0:8,Lt=this.nextAudioPts||-1;const Zt=e*g,Kt=Ee.baseTime*g/Ee.timescale;if(this.isAudioContiguous=n=n||ht.length&&Lt>0&&(o&&Math.abs(Zt-Lt)<9e3||Math.abs(ua(ht[0].pts-Kt,Zt)-Lt)<20*ne),ht.forEach(function(Hn){Hn.pts=ua(Hn.pts-Kt,Zt)}),!n||Lt<0){if(ht=ht.filter(Hn=>Hn.pts>=0),!ht.length)return;Lt=0===u?0:o&&!Xe?Math.max(0,Zt):ht[0].pts}if("aac"===i.segmentCodec){const Hn=this.config.maxAudioFramesDrift;for(let Kn=0,Pn=Lt;Kn<ht.length;Kn++){const Yn=ht[Kn],bi=Yn.pts,Pi=bi-Pn,Ti=Math.abs(1e3*Pi/g);if(Pi<=-Hn*ne&&Xe)0===Kn&&(sn.warn(`Audio frame @ ${(bi/g).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Pi/g)} ms.`),this.nextAudioPts=Lt=Pn=bi);else if(Pi>=Hn*ne&&Ti<1e4&&Xe){let zi=Math.round(Pi/ne);Pn=bi-zi*ne,Pn<0&&(zi--,Pn+=ne),0===Kn&&(this.nextAudioPts=Lt=Pn),sn.warn(`[mp4-remuxer]: Injecting ${zi} audio frame @ ${(Pn/g).toFixed(3)}s due to ${Math.round(1e3*Pi/g)} ms gap.`);for(let Ai=0;Ai<zi;Ai++){const kr=Math.max(Pn,0);let Xr=Cg.getSilentFrame(i.manifestCodec||i.codec,i.channelCount);Xr||(sn.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Xr=Yn.unit.subarray()),ht.splice(Kn,0,{unit:Xr,pts:kr}),Pn+=ne,Kn++}}Yn.pts=Pn,Pn+=ne}}let Sn,un=null,cn=null,gn=0,An=ht.length;for(;An--;)gn+=ht[An].unit.byteLength;for(let Hn=0,Kn=ht.length;Hn<Kn;Hn++){const Pn=ht[Hn],Yn=Pn.unit;let bi=Pn.pts;if(null!==cn)Ge[Hn-1].duration=Math.round((bi-cn)/R);else{if(n&&"aac"===i.segmentCodec&&(bi=Lt),un=bi,!(gn>0))return;gn+=vt;try{Sn=new Uint8Array(gn)}catch(Ti){return void this.observer.emit(Tt.ERROR,Tt.ERROR,{type:mi.MUX_ERROR,details:En.REMUX_ALLOC_ERROR,fatal:!1,error:Ti,bytes:gn,reason:`fail allocating audio mdat ${gn}`})}Ue||(new DataView(Sn.buffer).setUint32(0,gn),Sn.set(fc.types.mdat,4))}Sn.set(Yn,vt);const Pi=Yn.byteLength;vt+=Pi,Ge.push(new x0(!0,G,Pi,0)),cn=bi}const Vn=Ge.length;if(!Vn)return;this.nextAudioPts=Lt=cn+R*Ge[Ge.length-1].duration;const Qn=Ue?new Uint8Array(0):fc.moof(i.sequenceNumber++,un/R,Vr({},i,{samples:Ge}));i.samples=[];const zn=un/g,yi=Lt/g,Gi={data1:Qn,data2:Sn,startPTS:zn,endPTS:yi,startDTS:zn,endDTS:yi,type:"audio",hasAudio:!0,hasVideo:!1,nb:Vn};return this.isAudioContiguous=!0,Gi}remuxEmptyAudio(i,e,n,o){const u=i.inputTimeScale,R=this.nextAudioPts,G=this._initDTS,ne=9e4*G.baseTime/G.timescale,Ee=(null!==R?R:o.startDTS*u)+ne,Ge=u/(i.samplerate?i.samplerate:u)*1024,Xe=Math.ceil((o.endDTS*u+ne-Ee)/Ge),ht=Cg.getSilentFrame(i.manifestCodec||i.codec,i.channelCount);if(sn.warn("[mp4-remuxer]: remux empty Audio"),!ht)return void sn.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const vt=[];for(let Lt=0;Lt<Xe;Lt++){const Zt=Ee+Lt*Ge;vt.push({unit:ht,pts:Zt,dts:Zt})}return i.samples=vt,this.remuxAudio(i,e,n,!1)}}function ua(r,i){let e;if(null===i)return r;for(e=i<r?-8589934592:8589934592;Math.abs(r-i)>4294967296;)r+=e;return r}function Of(r,i,e,n){const o=r.samples.length;if(!o)return;const u=r.inputTimeScale;for(let T=0;T<o;T++){const R=r.samples[T];R.pts=ua(R.pts-e.baseTime*u/e.timescale,i*u)/u,R.dts=ua(R.dts-n.baseTime*u/n.timescale,i*u)/u}const g=r.samples;return r.samples=[],{samples:g}}function qC(r,i,e){const n=r.samples.length;if(!n)return;const o=r.inputTimeScale;for(let g=0;g<n;g++){const T=r.samples[g];T.pts=ua(T.pts-e.baseTime*o/e.timescale,i*o)/o}r.samples.sort((g,T)=>g.pts-T.pts);const u=r.samples;return r.samples=[],{samples:u}}class x0{constructor(i,e,n,o){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=n,this.cts=o,this.flags=new YM(i)}}class YM{constructor(i){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=i?2:1,this.isNonSync=i?0:1}}function M0(r,i){const e=r?.codec;return e&&e.length>4?e:"hvc1"===e||"hev1"===e?"hvc1.1.6.L120.90":"av01"===e?"av01.0.04M.08":"avc1"===e||"video"===i?"avc1.42e01e":"mp4a.40.5"}try{Ha=self.performance.now.bind(self.performance)}catch{sn.debug("Unable to use Performance API on this environment"),Ha=typeof self<"u"&&self.Date.now}const Pf=[{demux:class _g{constructor(i,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(i,e,n,o){const u=this.videoTrack=da("video",1),g=this.audioTrack=da("audio",1),T=this.txtTrack=da("text",1);if(this.id3Track=da("id3",1),this.timeOffset=0,null==i||!i.byteLength)return;const R=Py(i);if(R.video){const{id:G,timescale:ne,codec:Ee}=R.video;u.id=G,u.timescale=T.timescale=ne,u.codec=Ee}if(R.audio){const{id:G,timescale:ne,codec:Ee}=R.audio;g.id=G,g.timescale=ne,g.codec=Ee}T.id=wy.text,u.sampleDuration=0,u.duration=g.duration=o}resetContiguity(){this.remainderData=null}static probe(i){return Vi(i=i.length>16384?i.subarray(0,16384):i,["moof"]).length>0}demux(i,e){this.timeOffset=e;let n=i;const o=this.videoTrack,u=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Zs(this.remainderData,i));const T=function hf(r){const i={valid:null,remainder:null},e=Vi(r,["moof"]);if(!e)return i;if(e.length<2)return i.remainder=r,i;const n=e[e.length-1];return i.valid=ys(r,0,n.byteOffset-8),i.remainder=ys(r,n.byteOffset-8),i}(n);this.remainderData=T.remainder,o.samples=T.valid||new Uint8Array}else o.samples=n;const g=this.extractID3Track(o,e);return u.samples=Ny(e,o),{videoTrack:o,audioTrack:this.audioTrack,id3Track:g,textTrack:this.txtTrack}}flush(){const i=this.timeOffset,e=this.videoTrack,n=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const o=this.extractID3Track(e,this.timeOffset);return n.samples=Ny(i,e),{videoTrack:e,audioTrack:da(),id3Track:o,textTrack:da()}}extractID3Track(i,e){const n=this.id3Track;if(i.samples.length){const o=Vi(i.samples,["emsg"]);o&&o.forEach(u=>{const g=function uC(r){const i=r[0];let e="",n="",o=0,u=0,g=0,T=0,R=0,G=0;if(0===i){for(;"\0"!==ro(r.subarray(G,G+1));)e+=ro(r.subarray(G,G+1)),G+=1;for(e+=ro(r.subarray(G,G+1)),G+=1;"\0"!==ro(r.subarray(G,G+1));)n+=ro(r.subarray(G,G+1)),G+=1;n+=ro(r.subarray(G,G+1)),G+=1,o=Ei(r,12),u=Ei(r,16),T=Ei(r,20),R=Ei(r,24),G=28}else if(1===i){G+=4,o=Ei(r,G),G+=4;const Ee=Ei(r,G);G+=4;const Ue=Ei(r,G);for(G+=4,g=2**32*Ee+Ue,Number.isSafeInteger(g)||(g=Number.MAX_SAFE_INTEGER,sn.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),T=Ei(r,G),G+=4,R=Ei(r,G),G+=4;"\0"!==ro(r.subarray(G,G+1));)e+=ro(r.subarray(G,G+1)),G+=1;for(e+=ro(r.subarray(G,G+1)),G+=1;"\0"!==ro(r.subarray(G,G+1));)n+=ro(r.subarray(G,G+1)),G+=1;n+=ro(r.subarray(G,G+1)),G+=1}return{schemeIdUri:e,value:n,timeScale:o,presentationTime:g,presentationTimeDelta:u,eventDuration:T,id:R,payload:r.subarray(G,r.byteLength)}}(u);if(_0.test(g.schemeIdUri)){const T=ci(g.presentationTime)?g.presentationTime/g.timeScale:e+g.presentationTimeDelta/g.timeScale;let R=4294967295===g.eventDuration?Number.POSITIVE_INFINITY:g.eventDuration/g.timeScale;R<=.001&&(R=Number.POSITIVE_INFINITY);const G=g.payload;n.samples.push({data:G,len:G.byteLength,dts:T,pts:T,type:la_emsg,duration:R})}})}return n}demuxSampleAes(i,e,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class JC{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(i){this.initPTS=i,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(i,e,n,o){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(function cC(r,i){if(!r||!i)return r;const e=i.keyId;return e&&i.isCommonEncryption&&Vi(r,["moov","trak"]).forEach(o=>{const g=Vi(o,["mdia","minf","stbl","stsd"])[0].subarray(8);let T=Vi(g,["enca"]);const R=T.length>0;R||(T=Vi(g,["encv"])),T.forEach(G=>{Vi(G.subarray(R?28:78),["sinf"]).forEach(Ue=>{const Ge=dC(Ue);if(Ge){const Xe=Ge.subarray(8,24);Xe.some(ht=>0!==ht)||(sn.log(`[eme] Patching keyId in 'enc${R?"a":"v"}>sinf>>tenc' box: ${ja_hexDump(Xe)} -> ${ja_hexDump(e)}`),Ge.set(e,8))}})})}),r}(i,o)),this.emitInitSegment=!0}generateInitSegment(i){let{audioCodec:e,videoCodec:n}=this;if(null==i||!i.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const o=this.initData=Py(i);e||(e=M0(o.audio,"audio")),n||(n=M0(o.video,"video"));const u={};o.audio&&o.video?u.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:i,id:"main"}:o.audio?u.audio={container:"audio/mp4",codec:e,initSegment:i,id:"audio"}:o.video?u.video={container:"video/mp4",codec:n,initSegment:i,id:"main"}:sn.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=u}remux(i,e,n,o,u,g){var T,R;let{initPTS:G,lastEndTime:ne}=this;const Ee={audio:void 0,video:void 0,text:o,id3:n,initSegment:void 0};ci(ne)||(ne=this.lastEndTime=u||0);const Ue=e.samples;if(null==Ue||!Ue.length)return Ee;const Ge={initPTS:void 0,timescale:1};let Xe=this.initData;if(null!=(T=Xe)&&T.length||(this.generateInitSegment(Ue),Xe=this.initData),null==(R=Xe)||!R.length)return sn.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),Ee;this.emitInitSegment&&(Ge.tracks=this.initTracks,this.emitInitSegment=!1);const ht=function UM(r,i){let e=0,n=0,o=0;const u=Vi(r,["moof","traf"]);for(let g=0;g<u.length;g++){const T=u[g],R=Vi(T,["tfhd"])[0],ne=i[Ei(R,4)];if(!ne)continue;const Ee=ne.default,Ue=Ei(R,0)|Ee?.flags;let Ge=Ee?.duration;8&Ue&&(Ge=Ei(R,2&Ue?12:8));const Xe=ne.timescale||9e4,ht=Vi(T,["trun"]);for(let vt=0;vt<ht.length;vt++)e=jM(ht[vt]),!e&&Ge&&(e=Ge*Ei(ht[vt],4)),"video"===ne.type?n+=e/Xe:"audio"===ne.type&&(o+=e/Xe)}if(0===n&&0===o){let g=0;const T=Vi(r,["sidx"]);for(let R=0;R<T.length;R++){const G=Oy(T[R]);null!=G&&G.references&&(g+=G.references.reduce((ne,Ee)=>ne+Ee.info.duration||0,0))}return g}return n||o}(Ue,Xe),vt=function BM(r,i){return Vi(i,["moof","traf"]).reduce((e,n)=>{const o=Vi(n,["tfdt"])[0],u=o[0],g=Vi(n,["tfhd"]).reduce((T,R)=>{const G=Ei(R,4),ne=r[G];if(ne){let Ee=Ei(o,4);if(1===u){if(Ee===bs)return sn.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),T;Ee*=bs+1,Ee+=Ei(o,8)}const Ge=Ee/(ne.timescale||9e4);if(isFinite(Ge)&&(null===T||Ge<T))return Ge}return T},null);return null!==g&&isFinite(g)&&(null===e||g<e)?g:e},null)}(Xe,Ue),Lt=null===vt?u:vt;(function QC(r,i,e,n){if(null===r)return!0;const o=Math.max(n,1);return Math.abs(i-r.baseTime/r.timescale-e)>o}(G,Lt,u,ht)||Ge.timescale!==G.timescale&&g)&&(Ge.initPTS=Lt-u,G&&1===G.timescale&&sn.warn("Adjusting initPTS by "+(Ge.initPTS-G.baseTime)),this.initPTS=G={baseTime:Ge.initPTS,timescale:1});const Zt=i?Lt-G.baseTime/G.timescale:ne,Kt=Zt+ht;(function Ry(r,i,e){Vi(i,["moof","traf"]).forEach(n=>{Vi(n,["tfhd"]).forEach(o=>{const u=Ei(o,4),g=r[u];if(!g)return;const T=g.timescale||9e4;Vi(n,["tfdt"]).forEach(R=>{const G=R[0];let ne=Ei(R,4);if(0===G)ne-=e*T,ne=Math.max(ne,0),ff(R,4,ne);else{ne*=Math.pow(2,32),ne+=Ei(R,8),ne-=e*T,ne=Math.max(ne,0);const Ee=Math.floor(ne/(bs+1)),Ue=Math.floor(ne%(bs+1));ff(R,4,Ee),ff(R,8,Ue)}})})})})(Xe,Ue,G.baseTime/G.timescale),ht>0?this.lastEndTime=Kt:(sn.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const un=!!Xe.audio,cn=!!Xe.video;let Sn="";un&&(Sn+="audio"),cn&&(Sn+="video");const gn={data1:Ue,startPTS:Zt,startDTS:Zt,endPTS:Kt,endDTS:Kt,type:Sn,hasAudio:un,hasVideo:cn,nb:1,dropped:0};return Ee.audio="audio"===gn.type?gn:void 0,Ee.video="audio"!==gn.type?gn:void 0,Ee.initSegment=Ge,Ee.id3=Of(n,u,G,G),o.samples.length&&(Ee.text=qC(o,u,G)),Ee}}},{demux:el,remux:Ss},{demux:class KC extends fg{constructor(i,e){super(),this.observer=void 0,this.config=void 0,this.observer=i,this.config=e}resetInitSegment(i,e,n,o){super.resetInitSegment(i,e,n,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(i){if(!i)return!1;let n=(md(i,0)||[]).length;for(let o=i.length;n<o;n++)if(pg(i,n))return sn.log("ADTS sync word found !"),!0;return!1}canParse(i,e){return function m0(r,i){return function gg(r,i){return i+5<r.length}(r,i)&&hg(r,i)&&mg(r,i)<=r.length-i}(i,e)}appendFrame(i,e,n){xf(i,this.observer,e,n,i.manifestCodec);const o=p0(i,e,n,this.basePTS,this.frameIndex);if(o&&0===o.missing)return o}},remux:Ss},{demux:class ZC extends fg{resetInitSegment(i,e,n,o){super.resetInitSegment(i,e,n,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:o,inputTimeScale:9e4,dropped:0}}static probe(i){if(!i)return!1;let n=(md(i,0)||[]).length;for(let o=i.length;n<o;n++)if(Oo(i,n))return sn.log("MPEG Audio sync word found !"),!0;return!1}canParse(i,e){return function E0(r,i){return bg(r,i)&&4<=r.length-i}(i,e)}appendFrame(i,e,n){if(null!==this.basePTS)return vg(i,e,n,this.basePTS,this.frameIndex)}},remux:Ss}];class A0{constructor(i,e,n,o,u){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=i,this.typeSupported=e,this.config=n,this.vendor=o,this.id=u}configure(i){this.transmuxConfig=i,this.decrypter&&this.decrypter.reset()}push(i,e,n,o){const u=n.transmuxing;u.executeStart=Ha();let g=new Uint8Array(i);const{currentTransmuxState:T,transmuxConfig:R}=this;o&&(this.currentTransmuxState=o);const{contiguous:G,discontinuity:ne,trackSwitch:Ee,accurateTimeOffset:Ue,timeOffset:Ge,initSegmentChange:Xe}=o||T,{audioCodec:ht,videoCodec:vt,defaultInitPts:Lt,duration:Zt,initSegmentData:Kt}=R,un=function w0(r,i){let e=null;return r.byteLength>0&&null!=i&&null!=i.key&&null!==i.iv&&null!=i.method&&(e=i),e}(g,e);if(un&&"AES-128"===un.method){const An=this.getDecrypter();if(!An.isSync())return this.decryptionPromise=An.webCryptoDecrypt(g,un.key.buffer,un.iv.buffer).then(Vn=>{const _n=this.push(Vn,null,n);return this.decryptionPromise=null,_n}),this.decryptionPromise;{let Vn=An.softwareDecrypt(g,un.key.buffer,un.iv.buffer);if(n.part>-1&&(Vn=An.flush()),!Vn)return u.executeEnd=Ha(),Rf(n);g=new Uint8Array(Vn)}}const cn=this.needsProbing(ne,Ee);if(cn){const An=this.configureTransmuxer(g);if(An)return sn.warn(`[transmuxer] ${An.message}`),this.observer.emit(Tt.ERROR,Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,fatal:!1,error:An,reason:An.message}),u.executeEnd=Ha(),Rf(n)}(ne||Ee||Xe||cn)&&this.resetInitSegment(Kt,ht,vt,Zt,e),(ne||Xe||cn)&&this.resetInitialTimestamp(Lt),G||this.resetContiguity();const Sn=this.transmux(g,un,Ge,Ue,n),gn=this.currentTransmuxState;return gn.contiguous=!0,gn.discontinuity=!1,gn.trackSwitch=!1,u.executeEnd=Ha(),Sn}flush(i){const e=i.transmuxing;e.executeStart=Ha();const{decrypter:n,currentTransmuxState:o,decryptionPromise:u}=this;if(u)return u.then(()=>this.flush(i));const g=[],{timeOffset:T}=o;if(n){const Ee=n.flush();Ee&&g.push(this.push(Ee,null,i))}const{demuxer:R,remuxer:G}=this;if(!R||!G)return e.executeEnd=Ha(),[Rf(i)];const ne=R.flush(T);return Nf(ne)?ne.then(Ee=>(this.flushRemux(g,Ee,i),g)):(this.flushRemux(g,ne,i),g)}flushRemux(i,e,n){const{audioTrack:o,videoTrack:u,id3Track:g,textTrack:T}=e,{accurateTimeOffset:R,timeOffset:G}=this.currentTransmuxState;sn.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const ne=this.remuxer.remux(o,u,g,T,G,R,!0,this.id);i.push({remuxResult:ne,chunkMeta:n}),n.transmuxing.executeEnd=Ha()}resetInitialTimestamp(i){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetTimeStamp(i),n.resetTimeStamp(i))}resetContiguity(){const{demuxer:i,remuxer:e}=this;!i||!e||(i.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(i,e,n,o,u){const{demuxer:g,remuxer:T}=this;!g||!T||(g.resetInitSegment(i,e,n,o),T.resetInitSegment(i,e,n,u))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(i,e,n,o,u){let g;return g=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(i,e,n,o,u):this.transmuxUnencrypted(i,n,o,u),g}transmuxUnencrypted(i,e,n,o){const{audioTrack:u,videoTrack:g,id3Track:T,textTrack:R}=this.demuxer.demux(i,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(u,g,T,R,e,n,!1,this.id),chunkMeta:o}}transmuxSampleAes(i,e,n,o,u){return this.demuxer.demuxSampleAes(i,e,n).then(g=>({remuxResult:this.remuxer.remux(g.audioTrack,g.videoTrack,g.id3Track,g.textTrack,n,o,!1,this.id),chunkMeta:u}))}configureTransmuxer(i){const{config:e,observer:n,typeSupported:o,vendor:u}=this;let g;for(let Ee=0,Ue=Pf.length;Ee<Ue;Ee++)if(Pf[Ee].demux.probe(i)){g=Pf[Ee];break}if(!g)return new Error("Failed to find demuxer by probing fragment data");const T=this.demuxer,R=this.remuxer,G=g.remux,ne=g.demux;(!R||!(R instanceof G))&&(this.remuxer=new G(n,e,o,u)),(!T||!(T instanceof ne))&&(this.demuxer=new ne(n,e,o),this.probe=ne.probe)}needsProbing(i,e){return!this.demuxer||!this.remuxer||i||e}getDecrypter(){let i=this.decrypter;return i||(i=this.decrypter=new cg(this.config)),i}}const Rf=r=>({remuxResult:{},chunkMeta:r});function Nf(r){return"then"in r&&r.then instanceof Function}class XC{constructor(i,e,n,o,u){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=i,this.videoCodec=e,this.initSegmentData=n,this.duration=o,this.defaultInitPts=u||null}}class I0{constructor(i,e,n,o,u,g){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=i,this.contiguous=e,this.accurateTimeOffset=n,this.trackSwitch=o,this.timeOffset=u,this.initSegmentChange=g}}var O0={exports:{}};!function(r){var i=Object.prototype.hasOwnProperty,e="~";function n(){}function o(R,G,ne){this.fn=R,this.context=G,this.once=ne||!1}function u(R,G,ne,Ee,Ue){if("function"!=typeof ne)throw new TypeError("The listener must be a function");var Ge=new o(ne,Ee||R,Ue),Xe=e?e+G:G;return R._events[Xe]?R._events[Xe].fn?R._events[Xe]=[R._events[Xe],Ge]:R._events[Xe].push(Ge):(R._events[Xe]=Ge,R._eventsCount++),R}function g(R,G){0==--R._eventsCount?R._events=new n:delete R._events[G]}function T(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(e=!1)),T.prototype.eventNames=function(){var ne,Ee,G=[];if(0===this._eventsCount)return G;for(Ee in ne=this._events)i.call(ne,Ee)&&G.push(e?Ee.slice(1):Ee);return Object.getOwnPropertySymbols?G.concat(Object.getOwnPropertySymbols(ne)):G},T.prototype.listeners=function(G){var Ee=this._events[e?e+G:G];if(!Ee)return[];if(Ee.fn)return[Ee.fn];for(var Ue=0,Ge=Ee.length,Xe=new Array(Ge);Ue<Ge;Ue++)Xe[Ue]=Ee[Ue].fn;return Xe},T.prototype.listenerCount=function(G){var Ee=this._events[e?e+G:G];return Ee?Ee.fn?1:Ee.length:0},T.prototype.emit=function(G,ne,Ee,Ue,Ge,Xe){var ht=e?e+G:G;if(!this._events[ht])return!1;var Zt,Kt,vt=this._events[ht],Lt=arguments.length;if(vt.fn){switch(vt.once&&this.removeListener(G,vt.fn,void 0,!0),Lt){case 1:return vt.fn.call(vt.context),!0;case 2:return vt.fn.call(vt.context,ne),!0;case 3:return vt.fn.call(vt.context,ne,Ee),!0;case 4:return vt.fn.call(vt.context,ne,Ee,Ue),!0;case 5:return vt.fn.call(vt.context,ne,Ee,Ue,Ge),!0;case 6:return vt.fn.call(vt.context,ne,Ee,Ue,Ge,Xe),!0}for(Kt=1,Zt=new Array(Lt-1);Kt<Lt;Kt++)Zt[Kt-1]=arguments[Kt];vt.fn.apply(vt.context,Zt)}else{var cn,un=vt.length;for(Kt=0;Kt<un;Kt++)switch(vt[Kt].once&&this.removeListener(G,vt[Kt].fn,void 0,!0),Lt){case 1:vt[Kt].fn.call(vt[Kt].context);break;case 2:vt[Kt].fn.call(vt[Kt].context,ne);break;case 3:vt[Kt].fn.call(vt[Kt].context,ne,Ee);break;case 4:vt[Kt].fn.call(vt[Kt].context,ne,Ee,Ue);break;default:if(!Zt)for(cn=1,Zt=new Array(Lt-1);cn<Lt;cn++)Zt[cn-1]=arguments[cn];vt[Kt].fn.apply(vt[Kt].context,Zt)}}return!0},T.prototype.on=function(G,ne,Ee){return u(this,G,ne,Ee,!1)},T.prototype.once=function(G,ne,Ee){return u(this,G,ne,Ee,!0)},T.prototype.removeListener=function(G,ne,Ee,Ue){var Ge=e?e+G:G;if(!this._events[Ge])return this;if(!ne)return g(this,Ge),this;var Xe=this._events[Ge];if(Xe.fn)Xe.fn===ne&&(!Ue||Xe.once)&&(!Ee||Xe.context===Ee)&&g(this,Ge);else{for(var ht=0,vt=[],Lt=Xe.length;ht<Lt;ht++)(Xe[ht].fn!==ne||Ue&&!Xe[ht].once||Ee&&Xe[ht].context!==Ee)&&vt.push(Xe[ht]);vt.length?this._events[Ge]=1===vt.length?vt[0]:vt:g(this,Ge)}return this},T.prototype.removeAllListeners=function(G){var ne;return G?this._events[ne=e?e+G:G]&&g(this,ne):(this._events=new n,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=e,T.EventEmitter=T,r.exports=T}(O0);var Lf=QS(O0.exports);const kf=Ed()||{isTypeSupported:()=>!1};class xg{constructor(i,e,n,o){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const u=i.config;this.hls=i,this.id=e,this.useWorker=!!u.enableWorker,this.onTransmuxComplete=n,this.onFlush=o;const g=(G,ne)=>{(ne=ne||{}).frag=this.frag,ne.id=this.id,G===Tt.ERROR&&(this.error=ne.error),this.hls.trigger(G,ne)};this.observer=new Lf,this.observer.on(Tt.FRAG_DECRYPTED,g),this.observer.on(Tt.ERROR,g);const T={mp4:kf.isTypeSupported("video/mp4"),mpeg:kf.isTypeSupported("audio/mpeg"),mp3:kf.isTypeSupported('audio/mp4; codecs="mp3"')},R=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(u.workerPath||function GC(){return"function"==typeof __HLS_WORKER_BUNDLE__}()))try{u.workerPath?(sn.log(`loading Web Worker ${u.workerPath} for "${e}"`),this.workerContext=function u0(r){const i=new self.URL(r,self.location.href).href;return{worker:new self.Worker(i),scriptURL:i}}(u.workerPath)):(sn.log(`injecting Web Worker for "${e}"`),this.workerContext=function d0(){const r=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),i=self.URL.createObjectURL(r);return{worker:new self.Worker(i),objectURL:i}}()),this.onwmsg=Ee=>this.onWorkerMessage(Ee);const{worker:ne}=this.workerContext;ne.addEventListener("message",this.onwmsg),ne.onerror=Ee=>{const Ue=new Error(`${Ee.message}  (${Ee.filename}:${Ee.lineno})`);u.enableWorker=!1,sn.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(Tt.ERROR,{type:mi.OTHER_ERROR,details:En.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:Ue})},ne.postMessage({cmd:"init",typeSupported:T,vendor:R,id:e,config:JSON.stringify(u)})}catch(ne){sn.warn(`Error setting up "${e}" Web Worker, fallback to inline`,ne),this.resetWorker(),this.error=null,this.transmuxer=new A0(this.observer,T,u,R,e)}else this.transmuxer=new A0(this.observer,T,u,R,e)}resetWorker(){if(this.workerContext){const{worker:i,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),i.removeEventListener("message",this.onwmsg),i.onerror=null,i.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}const i=this.observer;i&&i.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(i,e,n,o,u,g,T,R,G,ne){var Ee,Ue;G.transmuxing.start=self.performance.now();const{transmuxer:Ge}=this,Xe=g?g.start:u.start,ht=u.decryptdata,vt=this.frag,Lt=!(vt&&u.cc===vt.cc),Zt=!(vt&&G.level===vt.level),Kt=vt?G.sn-vt.sn:-1,un=this.part?G.part-this.part.index:-1,Sn=!Zt&&(1===Kt||0===Kt&&(1===un||0===Kt&&G.id>1&&G.id===vt?.stats.chunkCount&&un<=0)),gn=self.performance.now();(Zt||Kt||0===u.stats.parsing.start)&&(u.stats.parsing.start=gn),g&&(un||!Sn)&&(g.stats.parsing.start=gn);const An=!(vt&&(null==(Ee=u.initSegment)?void 0:Ee.url)===(null==(Ue=vt.initSegment)?void 0:Ue.url)),Vn=new I0(Lt,Sn,R,Zt,Xe,An);if(!Sn||Lt||An){sn.log(`[transmuxer-interface, ${u.type}]: Starting new transmux session for sn: ${G.sn} p: ${G.part} level: ${G.level} id: ${G.id}\n        discontinuity: ${Lt}\n        trackSwitch: ${Zt}\n        contiguous: ${Sn}\n        accurateTimeOffset: ${R}\n        timeOffset: ${Xe}\n        initSegmentChange: ${An}`);const _n=new XC(n,o,e,T,ne);this.configureTransmuxer(_n)}if(this.frag=u,this.part=g,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:i,decryptdata:ht,chunkMeta:G,state:Vn},i instanceof ArrayBuffer?[i]:[]);else if(Ge){const _n=Ge.push(i,ht,G,Vn);Nf(_n)?(Ge.async=!0,_n.then(Qn=>{this.handleTransmuxComplete(Qn)}).catch(Qn=>{this.transmuxerError(Qn,G,"transmuxer-interface push error")})):(Ge.async=!1,this.handleTransmuxComplete(_n))}}flush(i){i.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:i});else if(e){let n=e.flush(i);Nf(n)||e.async?(Nf(n)||(n=Promise.resolve(n)),n.then(u=>{this.handleFlushResult(u,i)}).catch(u=>{this.transmuxerError(u,i,"transmuxer-interface flush error")})):this.handleFlushResult(n,i)}}transmuxerError(i,e,n){this.hls&&(this.error=i,this.hls.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:i,err:i,reason:n}))}handleFlushResult(i,e){i.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(e)}onWorkerMessage(i){const e=i.data,n=this.hls;switch(e.event){case"init":{var o;const u=null==(o=this.workerContext)?void 0:o.objectURL;u&&self.URL.revokeObjectURL(u);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":sn[e.data.logType]&&sn[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}}configureTransmuxer(i){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:i}):e&&e.configure(i)}handleTransmuxComplete(i){i.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(i)}}class WM{constructor(i,e,n,o){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=i,this.media=e,this.fragmentTracker=n,this.hls=o}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(i,e){const{config:n,media:o,stalled:u}=this;if(null===o)return;const{currentTime:g,seeking:T}=o,R=this.seeking&&!T,G=!this.seeking&&T;if(this.seeking=T,g!==i){if(this.moved=!0,null!==u){if(this.stallReported){const Lt=self.performance.now()-u;sn.warn(`playback not stuck anymore @${g}, after ${Math.round(Lt)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(G||R)return void(this.stalled=null);if(o.paused&&!T||o.ended||0===o.playbackRate||!mr.getBuffered(o).length)return;const ne=mr.bufferInfo(o,g,0),Ue=ne.nextStart||0;if(!(ne.len>0||Ue))return;if(T){const Lt=ne.len>2,Zt=!Ue||e&&e.start<=g||Ue-g>2&&!this.fragmentTracker.getPartialFragment(g);if(Lt||Zt)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var Ge;const Lt=Math.max(Ue,ne.start||0)-g,Zt=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,un=(null==Zt||null==(Ge=Zt.details)?void 0:Ge.live)?2*Zt.details.targetduration:2,cn=this.fragmentTracker.getPartialFragment(g);if(Lt>0&&(Lt<=un||cn))return void this._trySkipBufferHole(cn)}const Xe=self.performance.now();if(null===u)return void(this.stalled=Xe);const ht=Xe-u;if(!T&&ht>=250&&(this._reportStall(ne),!this.media))return;const vt=mr.bufferInfo(o,g,n.maxBufferHole);this._tryFixBufferStall(vt,ht)}_tryFixBufferStall(i,e){const{config:n,fragmentTracker:o,media:u}=this;if(null===u)return;const g=u.currentTime,T=o.getPartialFragment(g);T&&(this._trySkipBufferHole(T)||!this.media)||(i.len>n.maxBufferHole||i.nextStart&&i.nextStart-g<n.maxBufferHole)&&e>1e3*n.highBufferWatchdogPeriod&&(sn.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(i){const{hls:e,media:n,stallReported:o}=this;if(!o&&n){this.stallReported=!0;const u=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(i)})`);sn.warn(u.message),e.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_STALLED_ERROR,fatal:!1,error:u,buffer:i.len})}}_trySkipBufferHole(i){const{config:e,hls:n,media:o}=this;if(null===o)return 0;const u=o.currentTime,g=mr.bufferInfo(o,u,0),T=u<g.start?g.start:g.nextStart;if(T){const ne=T-u;if(ne>0&&(g.len<=e.maxBufferHole||g.len>0&&g.len<1&&o.readyState<3)){if(ne>e.maxBufferHole){const{fragmentTracker:Ue}=this;let Ge=!1;if(0===u){const Xe=Ue.getAppendedFrag(0,"main");Xe&&T<Xe.end&&(Ge=!0)}if(!Ge){const Xe=i||Ue.getAppendedFrag(u,"main");if(Xe){let ht=!1,vt=Xe.end;for(;vt<T;){const Lt=Ue.getPartialFragment(vt);if(!Lt){ht=!0;break}vt+=Lt.duration}if(ht)return 0}}}const Ee=Math.max(T+.05,u+.1);if(sn.warn(`skipping hole, adjusting currentTime from ${u} to ${Ee}`),this.moved=!0,this.stalled=null,o.currentTime=Ee,i&&!i.gap){const Ue=new Error(`fragment loaded with buffer holes, seeking from ${u} to ${Ee}`);n.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:Ue,reason:Ue.message,frag:i})}return Ee}}return 0}_tryNudgeBuffer(){const{config:i,hls:e,media:n,nudgeRetry:o}=this;if(null===n)return;const u=n.currentTime;if(this.nudgeRetry++,o<i.nudgeMaxRetry){const g=u+(o+1)*i.nudgeOffset,T=new Error(`Nudging 'currentTime' from ${u} to ${g}`);sn.warn(T.message),n.currentTime=g,e.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_NUDGE_ON_STALL,error:T,fatal:!1})}else{const g=new Error(`Playhead still not moving while enough data buffered @${u} after ${i.nudgeMaxRetry} nudges`);sn.error(g.message),e.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_STALLED_ERROR,error:g,fatal:!0})}}}class ZM extends dg{constructor(i,e,n){super(i,e,n,"[stream-controller]","main"),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:i}=this;i.on(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Tt.LEVEL_LOADING,this.onLevelLoading,this),i.on(Tt.LEVEL_LOADED,this.onLevelLoaded,this),i.on(Tt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.on(Tt.ERROR,this.onError,this),i.on(Tt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.on(Tt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(Tt.BUFFER_CREATED,this.onBufferCreated,this),i.on(Tt.BUFFER_FLUSHED,this.onBufferFlushed,this),i.on(Tt.LEVELS_UPDATED,this.onLevelsUpdated,this),i.on(Tt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Tt.LEVEL_LOADED,this.onLevelLoaded,this),i.off(Tt.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.off(Tt.ERROR,this.onError,this),i.off(Tt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.off(Tt.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(Tt.BUFFER_CREATED,this.onBufferCreated,this),i.off(Tt.BUFFER_FLUSHED,this.onBufferFlushed,this),i.off(Tt.LEVELS_UPDATED,this.onLevelsUpdated,this),i.off(Tt.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(i){if(this.levels){const{lastCurrentTime:e,hls:n}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let o=n.startLevel;-1===o&&(n.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=n.nextAutoLevel),this.level=n.nextLoadLevel=o,this.loadedmetadata=!1}e>0&&-1===i&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),i=e),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}else this._forceStartLoad=!0,this.state="STOPPED"}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case"WAITING_LEVEL":{var i;const{levels:n,level:o}=this,u=null==n||null==(i=n[o])?void 0:i.details;if(u&&(!u.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(u))break;this.state="IDLE";break}if(this.hls.nextLoadLevel!==this.level){this.state="IDLE";break}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const n=self.performance.now(),o=this.retryDate;(!o||n>=o||null!=(e=this.media)&&e.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state="IDLE")}}"IDLE"===this.state&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:i,levelLastLoaded:e,levels:n,media:o}=this,{config:u,nextLoadLevel:g}=i;if(null===e||!o&&(this.startFragRequested||!u.startFragPrefetch)||this.altAudio&&this.audioOnly||null==n||!n[g])return;const T=n[g],R=this.getMainFwdBufferInfo();if(null===R)return;const G=this.getLevelDetails();if(G&&this._streamEnded(R,G)){const vt={};return this.altAudio&&(vt.type="video"),this.hls.trigger(Tt.BUFFER_EOS,vt),void(this.state="ENDED")}i.loadLevel!==g&&-1===i.manualLevel&&this.log(`Adapting to level ${g} from level ${this.level}`),this.level=i.nextLoadLevel=g;const ne=T.details;if(!ne||"WAITING_LEVEL"===this.state||ne.live&&this.levelLastLoaded!==g)return this.level=g,void(this.state="WAITING_LEVEL");const Ee=R.len,Ue=this.getMaxBufferLength(T.maxBitrate);if(Ee>=Ue)return;this.backtrackFragment&&this.backtrackFragment.start>R.end&&(this.backtrackFragment=null);const Ge=this.backtrackFragment?this.backtrackFragment.start:R.end;let Xe=this.getNextFragment(Ge,ne);if(this.couldBacktrack&&!this.fragPrevious&&Xe&&"initSegment"!==Xe.sn&&"OK"!==this.fragmentTracker.getState(Xe)){var ht;const Lt=(null!=(ht=this.backtrackFragment)?ht:Xe).sn-ne.startSN,Zt=ne.fragments[Lt-1];Zt&&Xe.cc===Zt.cc&&(Xe=Zt,this.fragmentTracker.removeFragment(Zt))}else this.backtrackFragment&&R.len&&(this.backtrackFragment=null);if(Xe&&this.isLoopLoading(Xe,Ge)){if(!Xe.gap){const Lt=this.audioOnly&&!this.altAudio?"audio":"video",Zt=("video"===Lt?this.videoBuffer:this.mediaBuffer)||this.media;Zt&&this.afterBufferFlushed(Zt,Lt,"main")}Xe=this.getNextFragmentLoopLoading(Xe,ne,R,"main",Ue)}Xe&&(Xe.initSegment&&!Xe.initSegment.data&&!this.bitrateTest&&(Xe=Xe.initSegment),this.loadFragment(Xe,T,Ge))}loadFragment(i,e,n){const o=this.fragmentTracker.getState(i);this.fragCurrent=i,"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===i.sn?this._loadInitSegment(i,e):this.bitrateTest?(this.log(`Fragment ${i.sn} of level ${i.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(i,e)):(this.startFragRequested=!0,super.loadFragment(i,e,n)):this.clearTrackerIfNeeded(i)}getBufferedFrag(i){return this.fragmentTracker.getBufferedFrag(i,"main")}followingBufferedFrag(i){return i?this.getBufferedFrag(i.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:i,media:e}=this;if(null!=e&&e.readyState){let n;const o=this.getAppendedFrag(e.currentTime);o&&o.start>1&&this.flushMainBuffer(0,o.start-1);const u=this.getLevelDetails();if(null!=u&&u.live){const T=this.getMainFwdBufferInfo();if(!T||T.len<2*u.targetduration)return}if(!e.paused&&i){const G=this.fragLastKbps;n=G&&this.fragCurrent?this.fragCurrent.duration*i[this.hls.nextLoadLevel].maxBitrate/(1e3*G)+1:0}else n=0;const g=this.getBufferedFrag(e.currentTime+n);if(g){const T=this.followingBufferedFrag(g);if(T){this.abortCurrentFrag();const G=T.duration,ne=Math.max(g.end,(T.maxStartPTS?T.maxStartPTS:T.start)+Math.min(Math.max(G-this.config.maxFragLookUpTolerance,.5*G),.75*G));this.flushMainBuffer(ne,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const i=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,i&&(i.abortRequests(),this.fragmentTracker.removeFragment(i)),this.state){case"KEY_LOADING":case"FRAG_LOADING":case"FRAG_LOADING_WAITING_RETRY":case"PARSING":case"PARSED":this.state="IDLE"}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(i,e){super.flushMainBuffer(i,e,this.altAudio?"video":null)}onMediaAttached(i,e){super.onMediaAttached(i,e);const n=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new WM(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:i}=this;i&&this.onvplaying&&this.onvseeked&&(i.removeEventListener("playing",this.onvplaying),i.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const i=this.media,e=i?i.currentTime:null;ci(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(Tt.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(i,e){let u,n=!1,o=!1;e.levels.forEach(g=>{u=g.audioCodec,u&&(-1!==u.indexOf("mp4a.40.2")&&(n=!0),-1!==u.indexOf("mp4a.40.5")&&(o=!0))}),this.audioCodecSwitch=n&&o&&!function VC(){var r;const i=ug();return"function"==typeof(null==i||null==(r=i.prototype)?void 0:r.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(i,e){const{levels:n}=this;if(!n||"IDLE"!==this.state)return;const o=n[e.level];(!o.details||o.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(o.details))&&(this.state="WAITING_LEVEL")}onLevelLoaded(i,e){var n;const{levels:o}=this,u=e.level,g=e.details,T=g.totalduration;if(!o)return void this.warn(`Levels were reset while loading level ${u}`);this.log(`Level ${u} loaded [${g.startSN},${g.endSN}]${g.lastPartSn?`[part-${g.lastPartSn}-${g.lastPartIndex}]`:""}, cc [${g.startCC}, ${g.endCC}] duration:${T}`);const R=o[u],G=this.fragCurrent;G&&("FRAG_LOADING"===this.state||"FRAG_LOADING_WAITING_RETRY"===this.state)&&(G.level!==e.level||G.urlId!==R.urlId)&&G.loader&&this.abortCurrentFrag();let ne=0;if(g.live||null!=(n=R.details)&&n.live){if(g.fragments[0]||(g.deltaUpdateFailed=!0),g.deltaUpdateFailed)return;ne=this.alignPlaylists(g,R.details)}if(R.details=g,this.levelLastLoaded=u,this.hls.trigger(Tt.LEVEL_UPDATED,{details:g,level:u}),"WAITING_LEVEL"===this.state){if(this.waitForCdnTuneIn(g))return;this.state="IDLE"}this.startFragRequested?g.live&&this.synchronizeToLiveEdge(g):this.setStartPosition(g,ne),this.tick()}_handleFragmentLoadProgress(i){var e;const{frag:n,part:o,payload:u}=i,{levels:g}=this;if(!g)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const T=g[n.level],R=T.details;if(!R)return this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),void this.fragmentTracker.removeFragment(n);const G=T.videoCodec,ne=R.PTSKnown||!R.live,Ee=null==(e=n.initSegment)?void 0:e.data,Ue=this._getAudioCodec(T),Ge=this.transmuxer=this.transmuxer||new xg(this.hls,"main",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),Xe=o?o.index:-1,vt=new Js(n.level,n.sn,n.stats.chunkCount,u.byteLength,Xe,-1!==Xe);Ge.push(u,Ee,Ue,G,n,o,R.totalduration,ne,vt,this.initPTS[n.cc])}onAudioTrackSwitching(i,e){const n=this.altAudio;if(!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const g=this.fragCurrent;g&&(this.log("Switching to main audio track, cancel main fragment load"),g.abortRequests(),this.fragmentTracker.removeFragment(g)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const u=this.hls;n&&(u.trigger(Tt.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),u.trigger(Tt.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(i,e){const o=!!this.hls.audioTracks[e.id].url;if(o){const u=this.videoBuffer;u&&this.mediaBuffer!==u&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=u)}this.altAudio=o,this.tick()}onBufferCreated(i,e){const n=e.tracks;let o,u,g=!1;for(const T in n){const R=n[T];if("main"===R.id){if(u=T,o=R,"video"===T){const G=n[T];G&&(this.videoBuffer=G.buffer)}}else g=!0}g&&o?(this.log(`Alternate track found, use ${u}.buffered to schedule main fragment loading`),this.mediaBuffer=o.buffer):this.mediaBuffer=this.media}onFragBuffered(i,e){const{frag:n,part:o}=e;if(n&&"main"!==n.type)return;if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${o?" p: "+o.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),void("PARSED"===this.state&&(this.state="IDLE"));const u=o?o.stats:n.stats;this.fragLastKbps=Math.round(8*u.total/(u.buffering.end-u.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,o)}onError(i,e){var n;if(e.fatal)this.state="ERROR";else switch(e.details){case En.FRAG_GAP:case En.FRAG_PARSING_ERROR:case En.FRAG_DECRYPT_ERROR:case En.FRAG_LOAD_ERROR:case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_ERROR:case En.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("main",e);break;case En.LEVEL_LOAD_ERROR:case En.LEVEL_LOAD_TIMEOUT:case En.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_LEVEL"===this.state&&"level"===(null==(n=e.context)?void 0:n.type)&&(this.state="IDLE");break;case En.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case En.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:i,gapController:e}=this;i&&e&&i.readyState&&(!this.loadedmetadata&&mr.getBuffered(i).length||e.poll(this.lastCurrentTime,"IDLE"!==this.state?this.fragCurrent:null),this.lastCurrentTime=i.currentTime)}onFragLoadEmergencyAborted(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(i,{type:e}){("audio"!==e||this.audioOnly&&!this.altAudio)&&this.afterBufferFlushed(("video"===e?this.videoBuffer:this.mediaBuffer)||this.media,e,"main")}onLevelsUpdated(i,e){this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:i}=this;if(!i)return;const e=i.currentTime;let n=this.startPosition;if(n>=0&&e<n){if(i.seeking)return void this.log(`could not seek to ${n}, already seeking at ${e}`);const o=mr.getBuffered(i),g=(o.length?o.start(0):0)-n;g>0&&(g<this.config.maxBufferHole||g<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${g} to match buffer start`),n+=g,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${e}`),i.currentTime=n}}_getAudioCodec(i){let e=this.config.defaultAudioCodec||i.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(i,e){i.bitrateTest=!0,this._doFragLoad(i,e).then(n=>{const{hls:o}=this;if(!n||this.fragContextChanged(i))return;e.fragmentError=0,this.state="IDLE",this.startFragRequested=!1,this.bitrateTest=!1;const u=i.stats;u.parsing.start=u.parsing.end=u.buffering.start=u.buffering.end=self.performance.now(),o.trigger(Tt.FRAG_LOADED,n),i.bitrateTest=!1})}_handleTransmuxComplete(i){var e;const n="main",{hls:o}=this,{remuxResult:u,chunkMeta:g}=i,T=this.getCurrentContext(g);if(!T)return void this.resetWhenMissingContext(g);const{frag:R,part:G,level:ne}=T,{video:Ee,text:Ue,id3:Ge,initSegment:Xe}=u,{details:ht}=ne,vt=this.altAudio?void 0:u.audio;if(this.fragContextChanged(R))this.fragmentTracker.removeFragment(R);else{if(this.state="PARSING",Xe){if(null!=Xe&&Xe.tracks){const Kt=R.initSegment||R;this._bufferInitSegment(ne,Xe.tracks,Kt,g),o.trigger(Tt.FRAG_PARSING_INIT_SEGMENT,{frag:Kt,id:n,tracks:Xe.tracks})}const Lt=Xe.initPTS,Zt=Xe.timescale;ci(Lt)&&(this.initPTS[R.cc]={baseTime:Lt,timescale:Zt},o.trigger(Tt.INIT_PTS_FOUND,{frag:R,id:n,initPTS:Lt,timescale:Zt}))}if(Ee&&ht&&"initSegment"!==R.sn){const Lt=ht.fragments[R.sn-1-ht.startSN],Zt=R.sn===ht.startSN,Kt=!Lt||R.cc>Lt.cc;if(!1!==u.independent){const{startPTS:un,endPTS:cn,startDTS:Sn,endDTS:gn}=Ee;if(G)G.elementaryStreams[Ee.type]={startPTS:un,endPTS:cn,startDTS:Sn,endDTS:gn};else if(Ee.firstKeyFrame&&Ee.independent&&1===g.id&&!Kt&&(this.couldBacktrack=!0),Ee.dropped&&Ee.independent){const An=this.getMainFwdBufferInfo(),Vn=(An?An.end:this.getLoadPosition())+this.config.maxBufferHole;if(!Zt&&Vn<(Ee.firstKeyFramePTS?Ee.firstKeyFramePTS:un)-this.config.maxBufferHole&&!Kt)return void this.backtrack(R);Kt&&(R.gap=!0),R.setElementaryStreamInfo(Ee.type,R.start,cn,R.start,gn,!0)}R.setElementaryStreamInfo(Ee.type,un,cn,Sn,gn),this.backtrackFragment&&(this.backtrackFragment=R),this.bufferFragmentData(Ee,R,G,g,Zt||Kt)}else{if(!Zt&&!Kt)return void this.backtrack(R);R.gap=!0}}if(vt){const{startPTS:Lt,endPTS:Zt,startDTS:Kt,endDTS:un}=vt;G&&(G.elementaryStreams.audio={startPTS:Lt,endPTS:Zt,startDTS:Kt,endDTS:un}),R.setElementaryStreamInfo("audio",Lt,Zt,Kt,un),this.bufferFragmentData(vt,R,G,g)}ht&&null!=Ge&&null!=(e=Ge.samples)&&e.length&&o.trigger(Tt.FRAG_PARSING_METADATA,{id:n,frag:R,details:ht,samples:Ge.samples}),ht&&Ue&&o.trigger(Tt.FRAG_PARSING_USERDATA,{id:n,frag:R,details:ht,samples:Ue.samples})}}_bufferInitSegment(i,e,n,o){if("PARSING"!==this.state)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:u,video:g,audiovideo:T}=e;if(u){let R=i.audioCodec;const G=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(R&&(R=-1!==R.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==u.metadata.channelCount&&-1===G.indexOf("firefox")&&(R="mp4a.40.5")),-1!==G.indexOf("android")&&"audio/mpeg"!==u.container&&(R="mp4a.40.2",this.log(`Android: force audio codec to ${R}`)),i.audioCodec&&i.audioCodec!==R&&this.log(`Swapping manifest audio codec "${i.audioCodec}" for "${R}"`),u.levelCodec=R,u.id="main",this.log(`Init audio buffer, container:${u.container}, codecs[selected/level/parsed]=[${R||""}/${i.audioCodec||""}/${u.codec}]`)}g&&(g.levelCodec=i.videoCodec,g.id="main",this.log(`Init video buffer, container:${g.container}, codecs[level/parsed]=[${i.videoCodec||""}/${g.codec}]`)),T&&this.log(`Init audiovideo buffer, container:${T.container}, codecs[level/parsed]=[${i.attrs.CODECS||""}/${T.codec}]`),this.hls.trigger(Tt.BUFFER_CODECS,e),Object.keys(e).forEach(R=>{const ne=e[R].initSegment;null!=ne&&ne.byteLength&&this.hls.trigger(Tt.BUFFER_APPENDING,{type:R,data:ne,frag:n,part:null,chunkMeta:o,parent:n.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,"main")}backtrack(i){this.couldBacktrack=!0,this.backtrackFragment=i,this.resetTransmuxer(),this.flushBufferGap(i),this.fragmentTracker.removeFragment(i),this.fragPrevious=null,this.nextLoadPosition=i.start,this.state="IDLE"}checkFragmentChanged(){const i=this.media;let e=null;if(i&&i.readyState>1&&!1===i.seeking){const n=i.currentTime;if(mr.isBuffered(i,n)?e=this.getAppendedFrag(n):mr.isBuffered(i,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){this.backtrackFragment=null;const o=this.fragPlaying,u=e.level;(!o||e.sn!==o.sn||o.level!==u||e.urlId!==o.urlId)&&(this.fragPlaying=e,this.hls.trigger(Tt.FRAG_CHANGED,{frag:e}),(!o||o.level!==u)&&this.hls.trigger(Tt.LEVEL_SWITCHED,{level:u}))}}}get nextLevel(){const i=this.nextBufferedFrag;return i?i.level:-1}get currentFrag(){const i=this.media;return i?this.fragPlaying||this.getAppendedFrag(i.currentTime):null}get currentProgramDateTime(){const i=this.media;if(i){const e=i.currentTime,n=this.currentFrag;if(n&&ci(e)&&ci(n.programDateTime))return new Date(n.programDateTime+1e3*(e-n.start))}return null}get currentLevel(){const i=this.currentFrag;return i?i.level:-1}get nextBufferedFrag(){const i=this.currentFrag;return i?this.followingBufferedFrag(i):null}get forceStartLoad(){return this._forceStartLoad}}class Rd{constructor(i,e=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=i,this.alpha_=i?Math.exp(Math.log(.5)/i):0,this.estimate_=e,this.totalWeight_=n}sample(i,e){const n=Math.pow(this.alpha_,i);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=i}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const i=1-Math.pow(this.alpha_,this.totalWeight_);if(i)return this.estimate_/i}return this.estimate_}}class $M{constructor(i,e,n,o=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Rd(i),this.fast_=new Rd(e),this.defaultTTFB_=o,this.ttfb_=new Rd(i)}update(i,e){const{slow_:n,fast_:o,ttfb_:u}=this;n.halfLife!==i&&(this.slow_=new Rd(i,n.getEstimate(),n.getTotalWeight())),o.halfLife!==e&&(this.fast_=new Rd(e,o.getEstimate(),o.getTotalWeight())),u.halfLife!==i&&(this.ttfb_=new Rd(i,u.getEstimate(),u.getTotalWeight()))}sample(i,e){const o=(i=Math.max(i,this.minDelayMs_))/1e3,u=8*e/o;this.fast_.sample(o,u),this.slow_.sample(o,u)}sampleTTFB(i){const e=i/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(n,Math.max(i,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class tD{constructor(){this.chunks=[],this.dataLength=0}push(i){this.chunks.push(i),this.dataLength+=i.length}flush(){const{chunks:i,dataLength:e}=this;let n;return i.length?(n=1===i.length?i[0]:function JM(r,i){const e=new Uint8Array(i);let n=0;for(let o=0;o<r.length;o++){const u=r[o];e.set(u,n),n+=u.length}return e}(i,e),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function wg(r,i){if(r.length!==i.length)return!1;for(let e=0;e<r.length;e++)if(!iD(r[e].attrs,i[e].attrs))return!1;return!0}function iD(r,i){const e=r["STABLE-RENDITION-ID"];return e?e===i["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(n=>r[n]!==i[n])}class QM{constructor(i){this.buffered=void 0;const e=(n,o,u)=>{if((o>>>=0)>u-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${o}) is greater than the maximum bound (${u})`);return i[o][n]};this.buffered={get length(){return i.length},end:n=>e("end",n,i.length),start:n=>e("start",n,i.length)}}}function Ig(r){const i=[];for(let e=0;e<r.length;e++){const n=r[e];("subtitles"===n.kind||"captions"===n.kind)&&n.label&&i.push(r[e])}return i}class L0{constructor(i){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=i}append(i,e){const n=this.queues[e];n.push(i),1===n.length&&this.buffers[e]&&this.executeNext(e)}insertAbort(i,e){this.queues[e].unshift(i),this.executeNext(e)}appendBlocker(i){let e;const n=new Promise(u=>{e=u});return this.append({execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}},i),n}executeNext(i){const{buffers:e,queues:n}=this,o=e[i],u=n[i];if(u.length){const g=u[0];try{g.execute()}catch(T){sn.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),g.onError(T),null!=o&&o.updating||(u.shift(),this.executeNext(i))}}}shiftAndExecuteNext(i){this.queues[i].shift(),this.executeNext(i)}current(i){return this.queues[i][0]}}const k0=Ed(),F0=/([ha]vc.)(?:\.[^.,]+)+/,aD={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},B0=function(i){let e=i;return aD.hasOwnProperty(i)&&(e=aD[i]),String.fromCharCode(e)},Ya=100,eA={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},xa={17:2,18:4,21:6,22:8,23:10,19:13,20:15},U0={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},sD={25:2,26:4,29:6,30:8,31:10,27:13,28:15},tA=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Po{constructor(){this.time=null,this.verboseLevel=0}log(i,e){if(this.verboseLevel>=i){const n="function"==typeof e?e():e;sn.log(`${this.time} [${i}] ${n}`)}}}const nl=function(i){const e=[];for(let n=0;n<i.length;n++)e.push(i[n].toString(16));return e};class Ff{constructor(i,e,n,o,u){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=i||"white",this.underline=e||!1,this.italics=n||!1,this.background=o||"black",this.flash=u||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(i){const e=["foreground","underline","italics","background","flash"];for(let n=0;n<e.length;n++){const o=e[n];i.hasOwnProperty(o)&&(this[o]=i[o])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(i){return this.foreground===i.foreground&&this.underline===i.underline&&this.italics===i.italics&&this.background===i.background&&this.flash===i.flash}copy(i){this.foreground=i.foreground,this.underline=i.underline,this.italics=i.italics,this.background=i.background,this.flash=i.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class lD{constructor(i,e,n,o,u,g){this.uchar=void 0,this.penState=void 0,this.uchar=i||" ",this.penState=new Ff(e,n,o,u,g)}reset(){this.uchar=" ",this.penState.reset()}setChar(i,e){this.uchar=i,this.penState.copy(e)}setPenState(i){this.penState.copy(i)}equals(i){return this.uchar===i.uchar&&this.penState.equals(i.penState)}copy(i){this.uchar=i.uchar,this.penState.copy(i.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class cD{constructor(i){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let e=0;e<Ya;e++)this.chars.push(new lD);this.logger=i,this.pos=0,this.currPenState=new Ff}equals(i){let e=!0;for(let n=0;n<Ya;n++)if(!this.chars[n].equals(i.chars[n])){e=!1;break}return e}copy(i){for(let e=0;e<Ya;e++)this.chars[e].copy(i.chars[e])}isEmpty(){let i=!0;for(let e=0;e<Ya;e++)if(!this.chars[e].isEmpty()){i=!1;break}return i}setCursor(i){this.pos!==i&&(this.pos=i),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ya&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Ya)}moveCursor(i){const e=this.pos+i;if(i>1)for(let n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(i){i>=144&&this.backSpace();const e=B0(i);this.pos>=Ya?this.logger.log(0,()=>"Cannot insert "+i.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(i){let e;for(e=i;e<Ya;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const i=[];let e=!0;for(let n=0;n<Ya;n++){const o=this.chars[n].uchar;" "!==o&&(e=!1),i.push(o)}return e?"":i.join("")}setPenStyles(i){this.currPenState.setStyles(i),this.chars[this.pos].setPenState(this.currPenState)}}class Ld{constructor(i){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let e=0;e<15;e++)this.rows.push(new cD(i));this.logger=i,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let i=0;i<15;i++)this.rows[i].clear();this.currRow=14}equals(i){let e=!0;for(let n=0;n<15;n++)if(!this.rows[n].equals(i.rows[n])){e=!1;break}return e}copy(i){for(let e=0;e<15;e++)this.rows[e].copy(i.rows[e])}isEmpty(){let i=!0;for(let e=0;e<15;e++)if(!this.rows[e].isEmpty()){i=!1;break}return i}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(i){this.rows[this.currRow].insertChar(i)}setPen(i){this.rows[this.currRow].setPenStyles(i)}moveCursor(i){this.rows[this.currRow].moveCursor(i)}setCursor(i){this.logger.log(2,"setCursor: "+i),this.rows[this.currRow].setCursor(i)}setPAC(i){this.logger.log(2,()=>"pacData = "+JSON.stringify(i));let e=i.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let T=0;T<15;T++)this.rows[T].clear();const u=this.currRow+1-this.nrRollUpRows,g=this.lastOutputScreen;if(g){const T=g.rows[u].cueStartTime,R=this.logger.time;if(T&&null!==R&&T<R)for(let G=0;G<this.nrRollUpRows;G++)this.rows[e-this.nrRollUpRows+G+1].copy(g.rows[u+G])}}this.currRow=e;const n=this.rows[this.currRow];if(null!==i.indent){const g=Math.max(i.indent-1,0);n.setCursor(i.indent),i.color=n.chars[g].penState.foreground}this.setPen({foreground:i.color,underline:i.underline,italics:i.italics,background:"black",flash:!1})}setBkgData(i){this.logger.log(2,()=>"bkgData = "+JSON.stringify(i)),this.backSpace(),this.setPen(i),this.insertChar(32)}setRollUpRows(i){this.nrRollUpRows=i}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,()=>this.getDisplayText());const e=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(i){i=i||!1;const e=[];let n="",o=-1;for(let u=0;u<15;u++){const g=this.rows[u].getTextString();g&&(o=u+1,e.push(i?"Row "+o+": '"+g+"'":g.trim()))}return e.length>0&&(n=i?"["+e.join(" | ")+"]":e.join("\n")),n}getTextAndFormat(){return this.rows}}class Og{constructor(i,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=i,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Ld(n),this.nonDisplayedMemory=new Ld(n),this.lastOutputScreen=new Ld(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(i){this.outputFilter=i}setPAC(i){this.writeScreen.setPAC(i)}setBkgData(i){this.writeScreen.setBkgData(i)}setMode(i){i!==this.mode&&(this.mode=i,this.logger.log(2,()=>"MODE="+i),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=i)}insertChars(i){for(let n=0;n<i.length;n++)this.writeScreen.insertChar(i[n]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>e+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(i){this.logger.log(2,"RU("+i+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(i)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const i=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=i,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(i){this.logger.log(2,"TO("+i+") - Tab Offset"),this.writeScreen.moveCursor(i)}ccMIDROW(i){const e={flash:!1};if(e.underline=i%2==1,e.italics=i>=46,e.italics)e.foreground="white";else{const n=Math.floor(i/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(i=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),i&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(i){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,i,this.displayedMemory),this.cueStartTime=i))}}class Pg{constructor(i,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const o=new Po;this.channels=[null,new Og(i,e,o),new Og(i+1,n,o)],this.cmdHistory={a:null,b:null},this.logger=o}getHandler(i){return this.channels[i].getHandler()}setHandler(i,e){this.channels[i].setHandler(e)}addData(i,e){let n,o,u,g=!1;this.logger.time=i;for(let T=0;T<e.length;T+=2)if(o=127&e[T],u=127&e[T+1],0!==o||0!==u){if(this.logger.log(3,"["+nl([e[T],e[T+1]])+"] -> ("+nl([o,u])+")"),n=this.parseCmd(o,u),n||(n=this.parseMidrow(o,u)),n||(n=this.parsePAC(o,u)),n||(n=this.parseBackgroundAttributes(o,u)),!n&&(g=this.parseChars(o,u),g)){const R=this.currentChannel;R&&R>0?this.channels[R].insertChars(g):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!n&&!g&&this.logger.log(2,"Couldn't parse cleaned data "+nl([o,u])+" orig: "+nl([e[T],e[T+1]]))}}parseCmd(i,e){const{cmdHistory:n}=this;if(!((20===i||28===i||21===i||29===i)&&e>=32&&e<=47||(23===i||31===i)&&e>=33&&e<=35))return!1;if(Rg(i,e,n))return hc(null,null,n),this.logger.log(3,"Repeated command ("+nl([i,e])+") is dropped"),!0;const g=20===i||21===i||23===i?1:2,T=this.channels[g];return 20===i||21===i||28===i||29===i?32===e?T.ccRCL():33===e?T.ccBS():34===e?T.ccAOF():35===e?T.ccAON():36===e?T.ccDER():37===e?T.ccRU(2):38===e?T.ccRU(3):39===e?T.ccRU(4):40===e?T.ccFON():41===e?T.ccRDC():42===e?T.ccTR():43===e?T.ccRTD():44===e?T.ccEDM():45===e?T.ccCR():46===e?T.ccENM():47===e&&T.ccEOC():T.ccTO(e-32),hc(i,e,n),this.currentChannel=g,!0}parseMidrow(i,e){let n=0;if((17===i||25===i)&&e>=32&&e<=47){if(n=17===i?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const o=this.channels[n];return!!o&&(o.ccMIDROW(e),this.logger.log(3,"MIDROW ("+nl([i,e])+")"),!0)}return!1}parsePAC(i,e){let n;const o=this.cmdHistory;if(!((i>=17&&i<=23||i>=25&&i<=31)&&e>=64&&e<=127||(16===i||24===i)&&e>=64&&e<=95))return!1;if(Rg(i,e,o))return hc(null,null,o),!0;const T=i<=23?1:2;n=e>=64&&e<=95?1===T?eA[i]:U0[i]:1===T?xa[i]:sD[i];const R=this.channels[T];return!!R&&(R.setPAC(this.interpretPAC(n,e)),hc(i,e,o),this.currentChannel=T,!0)}interpretPAC(i,e){let n;const o={color:null,italics:!1,indent:null,underline:!1,row:i};return n=e>95?e-96:e-64,o.underline=1==(1&n),n<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(o.italics=!0,o.color="white"):o.indent=4*Math.floor((n-16)/2),o}parseChars(i,e){let n,o=null,u=null;if(i>=25?(n=2,u=i-8):(n=1,u=i),u>=17&&u<=19){let g;g=17===u?e+80:18===u?e+112:e+144,this.logger.log(2,"Special char '"+B0(g)+"' in channel "+n),o=[g]}else i>=32&&i<=127&&(o=0===e?[i]:[i,e]);if(o){const g=nl(o);this.logger.log(3,"Char codes =  "+g.join(",")),hc(i,e,this.cmdHistory)}return o}parseBackgroundAttributes(i,e){if(!((16===i||24===i)&&e>=32&&e<=47||(23===i||31===i)&&e>=45&&e<=47))return!1;let u;const g={};return 16===i||24===i?(u=Math.floor((e-32)/2),g.background=tA[u],e%2==1&&(g.background=g.background+"_semi")):45===e?g.background="transparent":(g.foreground="black",47===e&&(g.underline=!0)),this.channels[i<=23?1:2].setBkgData(g),hc(i,e,this.cmdHistory),!0}reset(){for(let i=0;i<Object.keys(this.channels).length;i++){const e=this.channels[i];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(i){for(let e=0;e<this.channels.length;e++){const n=this.channels[e];n&&n.cueSplitAtTime(i)}}}function hc(r,i,e){e.a=r,e.b=i}function Rg(r,i,e){return e.a===r&&e.b===i}class kd{constructor(i,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=i,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(i,e,n){(null===this.startTime||this.startTime>i)&&(this.startTime=i),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Bf=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const r=["","lr","rl"],i=["start","middle","end","left","right"];function e(T,R){if("string"!=typeof R||!Array.isArray(T))return!1;const G=R.toLowerCase();return!!~T.indexOf(G)&&G}function o(T){return e(i,T)}function u(T,...R){let G=1;for(;G<arguments.length;G++){const ne=arguments[G];for(const Ee in ne)T[Ee]=ne[Ee]}return T}function g(T,R,G){const ne=this,Ee={enumerable:!0};ne.hasBeenReset=!1;let Ue="",Ge=!1,Xe=T,ht=R,vt=G,Lt=null,Zt="",Kt=!0,un="auto",cn="start",Sn=50,gn="middle",An=50,Vn="middle";Object.defineProperty(ne,"id",u({},Ee,{get:function(){return Ue},set:function(_n){Ue=""+_n}})),Object.defineProperty(ne,"pauseOnExit",u({},Ee,{get:function(){return Ge},set:function(_n){Ge=!!_n}})),Object.defineProperty(ne,"startTime",u({},Ee,{get:function(){return Xe},set:function(_n){if("number"!=typeof _n)throw new TypeError("Start time must be set to a number.");Xe=_n,this.hasBeenReset=!0}})),Object.defineProperty(ne,"endTime",u({},Ee,{get:function(){return ht},set:function(_n){if("number"!=typeof _n)throw new TypeError("End time must be set to a number.");ht=_n,this.hasBeenReset=!0}})),Object.defineProperty(ne,"text",u({},Ee,{get:function(){return vt},set:function(_n){vt=""+_n,this.hasBeenReset=!0}})),Object.defineProperty(ne,"region",u({},Ee,{get:function(){return Lt},set:function(_n){Lt=_n,this.hasBeenReset=!0}})),Object.defineProperty(ne,"vertical",u({},Ee,{get:function(){return Zt},set:function(_n){const Qn=function n(T){return e(r,T)}(_n);if(!1===Qn)throw new SyntaxError("An invalid or illegal string was specified.");Zt=Qn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"snapToLines",u({},Ee,{get:function(){return Kt},set:function(_n){Kt=!!_n,this.hasBeenReset=!0}})),Object.defineProperty(ne,"line",u({},Ee,{get:function(){return un},set:function(_n){if("number"!=typeof _n&&"auto"!==_n)throw new SyntaxError("An invalid number or illegal string was specified.");un=_n,this.hasBeenReset=!0}})),Object.defineProperty(ne,"lineAlign",u({},Ee,{get:function(){return cn},set:function(_n){const Qn=o(_n);if(!Qn)throw new SyntaxError("An invalid or illegal string was specified.");cn=Qn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"position",u({},Ee,{get:function(){return Sn},set:function(_n){if(_n<0||_n>100)throw new Error("Position must be between 0 and 100.");Sn=_n,this.hasBeenReset=!0}})),Object.defineProperty(ne,"positionAlign",u({},Ee,{get:function(){return gn},set:function(_n){const Qn=o(_n);if(!Qn)throw new SyntaxError("An invalid or illegal string was specified.");gn=Qn,this.hasBeenReset=!0}})),Object.defineProperty(ne,"size",u({},Ee,{get:function(){return An},set:function(_n){if(_n<0||_n>100)throw new Error("Size must be between 0 and 100.");An=_n,this.hasBeenReset=!0}})),Object.defineProperty(ne,"align",u({},Ee,{get:function(){return Vn},set:function(_n){const Qn=o(_n);if(!Qn)throw new SyntaxError("An invalid or illegal string was specified.");Vn=Qn,this.hasBeenReset=!0}})),ne.displayState=void 0}return g.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},g}();class dD{decode(i,e){if(!i)return"";if("string"!=typeof i)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(i))}}function Lg(r){function i(n,o,u,g){return 3600*(0|n)+60*(0|o)+(0|u)+parseFloat(g||0)}const e=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return e?parseFloat(e[2])>59?i(e[2],e[3],0,e[4]):i(e[1],e[2],e[3],e[4]):null}class uD{constructor(){this.values=Object.create(null)}set(i,e){!this.get(i)&&""!==e&&(this.values[i]=e)}get(i,e,n){return n?this.has(i)?this.values[i]:e[n]:this.has(i)?this.values[i]:e}has(i){return i in this.values}alt(i,e,n){for(let o=0;o<n.length;++o)if(e===n[o]){this.set(i,e);break}}integer(i,e){/^-?\d+$/.test(e)&&this.set(i,parseInt(e,10))}percent(i,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const n=parseFloat(e);if(n>=0&&n<=100)return this.set(i,n),!0}return!1}}function Uf(r,i,e,n){const o=n?r.split(n):[r];for(const u in o){if("string"!=typeof o[u])continue;const g=o[u].split(e);2===g.length&&i(g[0],g[1])}}const Ka=new Bf(0,0,""),Fd="middle"===Ka.align?"middle":"center";function kg(r,i,e){const n=r;function o(){const T=Lg(r);if(null===T)throw new Error("Malformed timestamp: "+n);return r=r.replace(/^[^\sa-zA-Z-]+/,""),T}function g(){r=r.replace(/^\s+/,"")}if(g(),i.startTime=o(),g(),"--\x3e"!==r.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);r=r.slice(3),g(),i.endTime=o(),g(),function u(T,R){const G=new uD;Uf(T,function(Ue,Ge){let Xe;switch(Ue){case"region":for(let ht=e.length-1;ht>=0;ht--)if(e[ht].id===Ge){G.set(Ue,e[ht].region);break}break;case"vertical":G.alt(Ue,Ge,["rl","lr"]);break;case"line":Xe=Ge.split(","),G.integer(Ue,Xe[0]),G.percent(Ue,Xe[0])&&G.set("snapToLines",!1),G.alt(Ue,Xe[0],["auto"]),2===Xe.length&&G.alt("lineAlign",Xe[1],["start",Fd,"end"]);break;case"position":Xe=Ge.split(","),G.percent(Ue,Xe[0]),2===Xe.length&&G.alt("positionAlign",Xe[1],["start",Fd,"end","line-left","line-right","auto"]);break;case"size":G.percent(Ue,Ge);break;case"align":G.alt(Ue,Ge,["start",Fd,"end","left","right"])}},/:/,/\s/),R.region=G.get("region",null),R.vertical=G.get("vertical","");let ne=G.get("line","auto");"auto"===ne&&-1===Ka.line&&(ne=-1),R.line=ne,R.lineAlign=G.get("lineAlign","start"),R.snapToLines=G.get("snapToLines",!0),R.size=G.get("size",100),R.align=G.get("align",Fd);let Ee=G.get("position","auto");"auto"===Ee&&50===Ka.position&&(Ee="start"===R.align||"left"===R.align?0:"end"===R.align||"right"===R.align?100:50),R.position=Ee}(r,i)}function jf(r){return r.replace(/<br(?: \/)?>/gi,"\n")}class fD{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new dD,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(i){const e=this;function n(){let u=e.buffer,g=0;for(u=jf(u);g<u.length&&"\r"!==u[g]&&"\n"!==u[g];)++g;const T=u.slice(0,g);return"\r"===u[g]&&++g,"\n"===u[g]&&++g,e.buffer=u.slice(g),T}function o(u){Uf(u,function(g,T){},/:/)}i&&(e.buffer+=e.decoder.decode(i,{stream:!0}));try{let u="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;u=n();const T=u.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==T||!T[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let g=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(g?g=!1:u=n(),e.state){case"HEADER":/:/.test(u)?o(u):u||(e.state="ID");continue;case"NOTE":u||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){e.state="NOTE";break}if(!u)continue;if(e.cue=new Bf(0,0,""),e.state="CUE",-1===u.indexOf("--\x3e")){e.cue.id=u;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{kg(u,e.cue,e.regionList)}catch{e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const T=-1!==u.indexOf("--\x3e");if(!u||T&&(g=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=u}continue;case"BADCUE":u||(e.state="ID")}}}catch{"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const i=this;try{if((i.cue||"HEADER"===i.state)&&(i.buffer+="\n\n",i.parse()),"INITIAL"===i.state||"BADWEBVTT"===i.state)throw new Error("Malformed WebVTT signature.")}catch(e){i.onparsingerror&&i.onparsingerror(e)}return i.onflush&&i.onflush(),this}}const nA=/\r\n|\n\r|\n|\r/g,Vf=function(i,e,n=0){return i.slice(n,n+e.length)===e},Fg=function(i){let e=5381,n=i.length;for(;n;)e=33*e^i.charCodeAt(--n);return(e>>>0).toString()};function Bg(r,i,e){return Fg(r.toString())+Fg(i.toString())+Fg(e)}const V0="stpp.ttml.im1t",Ug=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,G0=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,H0={left:"start",center:"center",right:"end",start:"start",end:"end"};function gD(r,i,e,n){const o=Vi(new Uint8Array(r),["mdat"]);if(0===o.length)return void n(new Error("Could not parse IMSC1 mdat"));const u=o.map(T=>Ca(T)),g=function S0(r,i,e=1,n=!1){return Od(r,i,1/e,n)}(i.baseTime,1,i.timescale);try{u.forEach(T=>e(function jg(r,i){const o=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const u={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},g=Object.keys(u).reduce((Ee,Ue)=>(Ee[Ue]=o.getAttribute(`ttp:${Ue}`)||u[Ue],Ee),{}),T="preserve"!==o.getAttribute("xml:space"),R=Vg(Gf(o,"styling","style")),G=Vg(Gf(o,"layout","region")),ne=Gf(o,"body","[begin]");return[].map.call(ne,Ee=>{const Ue=Y0(Ee,T);if(!Ue||!Ee.hasAttribute("begin"))return null;const Ge=mc(Ee.getAttribute("begin"),g),Xe=mc(Ee.getAttribute("dur"),g);let ht=mc(Ee.getAttribute("end"),g);if(null===Ge)throw il(Ee);if(null===ht){if(null===Xe)throw il(Ee);ht=Ge+Xe}const vt=new Bf(Ge-i,ht-i,Ue);vt.id=Bg(vt.startTime,vt.endTime,vt.text);const Kt=function K0(r,i,e){const n="http://www.w3.org/ns/ttml#styling";let o=null;const g=null!=r&&r.hasAttribute("style")?r.getAttribute("style"):null;return g&&e.hasOwnProperty(g)&&(o=e[g]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((T,R)=>{const G=Hf(i,n,R)||Hf(r,n,R)||Hf(o,n,R);return G&&(T[R]=G),T},{})}(G[Ee.getAttribute("region")],R[Ee.getAttribute("style")],R),{textAlign:un}=Kt;if(un){const cn=H0[un];cn&&(vt.lineAlign=cn),vt.align=un}return Vr(vt,Kt),vt}).filter(Ee=>null!==Ee)}(T,g)))}catch(T){n(T)}}function Gf(r,i,e){const n=r.getElementsByTagName(i)[0];return n?[].slice.call(n.querySelectorAll(e)):[]}function Vg(r){return r.reduce((i,e)=>{const n=e.getAttribute("xml:id");return n&&(i[n]=e),i},{})}function Y0(r,i){return[].slice.call(r.childNodes).reduce((e,n,o)=>{var u;return"br"===n.nodeName&&o?e+"\n":null!=(u=n.childNodes)&&u.length?Y0(n,i):i?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent},"")}function Hf(r,i,e){return r&&r.hasAttributeNS(i,e)?r.getAttributeNS(i,e):null}function il(r){return new Error(`Could not parse ttml timestamp ${r}`)}function mc(r,i){if(!r)return null;let e=Lg(r);return null===e&&(Ug.test(r)?e=function W0(r,i){const e=Ug.exec(r);return 3600*(0|e[1])+60*(0|e[2])+(0|e[3])+((0|e[4])+(0|e[5])/i.subFrameRate)/i.frameRate}(r,i):G0.test(r)&&(e=function z0(r,i){const e=G0.exec(r),n=Number(e[1]);switch(e[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/i.frameRate;case"t":return n/i.tickRate}return n}(r,i))),e}function _D(r,i){return!!r&&r.label===i.name&&!(r.textTrack1||r.textTrack2)}function iA(r,i,e,n){return Math.min(i,n)-Math.max(r,e)}class Hg{constructor(i){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=i,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(i){this.streamController=i}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:i}=this;i.on(Tt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),i.on(Tt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Tt.BUFFER_CODECS,this.onBufferCodecs,this),i.on(Tt.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:i}=this;i.off(Tt.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),i.off(Tt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Tt.BUFFER_CODECS,this.onBufferCodecs,this),i.off(Tt.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(i,e){const n=this.hls.levels[e.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(i,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null}onManifestParsed(i,e){const n=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,n.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onBufferCodecs(i,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const i=this.hls.levels;if(i.length){const e=this.hls;e.autoLevelCapping=this.getMaxLevel(i.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(i){const e=this.hls.levels;if(!e.length)return-1;const n=e.filter((o,u)=>this.isLevelAllowed(o)&&u<=i);return this.clientRect=null,Hg.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const i=this.media,e={width:0,height:0};if(i){const n=i.getBoundingClientRect();e.width=n.width,e.height=n.height,!e.width&&!e.height&&(e.width=n.right-n.left||i.width||0,e.height=n.bottom-n.top||i.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let i=1;if(!this.hls.config.ignoreDevicePixelRatio)try{i=self.devicePixelRatio}catch{}return i}isLevelAllowed(i){return!this.restrictedLevels.some(n=>i.bitrate===n.bitrate&&i.width===n.width&&i.height===n.height)}static getMaxLevelByMediaSize(i,e,n){if(null==i||!i.length)return-1;const o=(g,T)=>!T||g.width!==T.width||g.height!==T.height;let u=i.length-1;for(let g=0;g<i.length;g+=1){const T=i[g];if((T.width>=e||T.height>=n)&&o(T,i[g+1])){u=g;break}}return u}}const Yf="[eme]";let oA=(()=>{class r{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=r.CDMCleanupPromise?[r.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=sn.debug.bind(sn,Yf),this.log=sn.log.bind(sn,Yf),this.warn=sn.warn.bind(sn,Yf),this.error=sn.error.bind(sn,Yf),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Tt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Tt.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Tt.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Tt.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:o}=this.config,u=n[e];if(u)return u.licenseUrl;if(e===or.WIDEVINE&&o)return o;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:n}=this.config,o=n[e];if(o)return o.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,o=(T,R,G)=>!!T&&G.indexOf(T)===R,u=n.map(T=>T.audioCodec).filter(o),g=n.map(T=>T.videoCodec).filter(o);return u.length+g.length===0&&g.push("avc1.42e01e"),new Promise((T,R)=>{const G=ne=>{const Ee=ne.shift();this.getMediaKeysPromise(Ee,u,g).then(Ue=>T({keySystem:Ee,mediaKeys:Ue})).catch(Ue=>{ne.length?G(ne):R(Ue instanceof Ma?Ue:new Ma({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_ACCESS,error:Ue,fatal:!0},Ue.message))})};G(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:o}=this.config;if("function"!=typeof o){let u=`Configured requestMediaKeySystemAccess is not a function ${o}`;return null===hd&&"http:"===self.location.protocol&&(u=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(u))}return o(e,n)}getMediaKeysPromise(e,n,o){const u=function Ko(r,i,e,n){let o;switch(r){case or.FAIRPLAY:o=["cenc","sinf"];break;case or.WIDEVINE:case or.PLAYREADY:o=["cenc"];break;case or.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return function FM(r,i,e,n){return[{initDataTypes:r,persistentState:n.persistentState||"not-allowed",distinctiveIdentifier:n.distinctiveIdentifier||"not-allowed",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:i.map(u=>({contentType:`audio/mp4; codecs="${u}"`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:e.map(u=>({contentType:`video/mp4; codecs="${u}"`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}(o,i,e,n)}(e,n,o,this.config.drmSystemOptions),g=this.keySystemAccessPromises[e];let T=g?.keySystemAccess;if(!T){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(u)}`),T=this.requestMediaKeySystemAccess(e,u);const R=this.keySystemAccessPromises[e]={keySystemAccess:T};return T.catch(G=>{this.log(`Failed to obtain access to key-system "${e}": ${G}`)}),T.then(G=>{this.log(`Access for key-system "${G.keySystem}" obtained`);const ne=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),R.mediaKeys=G.createMediaKeys().then(Ee=>(this.log(`Media-keys created for "${e}"`),ne.then(Ue=>Ue?this.setMediaKeysServerCertificate(Ee,e,Ue):Ee))),R.mediaKeys.catch(Ee=>{this.error(`Failed to create media-keys for "${e}"}: ${Ee}`)}),R.mediaKeys})}return T.then(()=>g.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:o}){this.log(`Creating key-system session "${n}" keyId: ${ja_hexDump(e.keyId||[])}`);const u=o.createSession(),g={decryptdata:e,keySystem:n,mediaKeys:o,mediaKeysSession:u,keyStatus:"status-pending"};return this.mediaKeySessions.push(g),g}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const o=this.createMediaKeySessionContext(e),u=this.getKeyIdString(n);this.keyIdToKeySessionPromise[u]=this.generateRequestWithPreferredKeySession(o,"cenc",n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return ja_hexDump(e.keyId)}updateKeySession(e,n){var o;const u=e.mediaKeysSession;return this.log(`Updating key-session "${u.sessionId}" for keyID ${ja_hexDump((null==(o=e.decryptdata)?void 0:o.keyId)||[])}\n      } (data length: ${n&&n.byteLength})`),u.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,o)=>{const u=ac(this.config),g=e.map(by).filter(T=>!!T&&-1!==u.indexOf(T));return this.getKeySystemSelectionPromise(g).then(({keySystem:T})=>{const R=Ty(T);R?n(R):o(new Error(`Unable to find format for key-system "${T}"`))}).catch(o)})}loadKey(e){const n=e.keyInfo.decryptdata,o=this.getKeyIdString(n),u=`(keyId: ${o} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${u}`);let g=this.keyIdToKeySessionPromise[o];return g||(g=this.keyIdToKeySessionPromise[o]=this.getKeySystemForKeyPromise(n).then(({keySystem:T,mediaKeys:R})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${u}`),this.attemptSetMediaKeys(T,R).then(()=>{this.throwIfDestroyed();const G=this.createMediaKeySessionContext({keySystem:T,mediaKeys:R,decryptdata:n});return this.generateRequestWithPreferredKeySession(G,"cenc",n.pssh,"playlist-key")}))),g.catch(T=>this.handleError(T))),g}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),this.hls.trigger(Tt.ERROR,e instanceof Ma?e.data:{type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),o=this.keyIdToKeySessionPromise[n];if(!o){const u=by(e.keyFormat),g=u?[u]:ac(this.config);return this.attemptKeySystemAccess(g)}return o}getKeySystemSelectionPromise(e){if(e.length||(e=ac(this.config)),0===e.length)throw new Ma({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:n,initData:o}=e;if(this.debug(`"${e.type}" event: init data type: "${n}"`),null===o)return;let u,g;if("sinf"===n&&this.config.drmSystems[or.FAIRPLAY]){const Ee=ro(new Uint8Array(o));try{const Ue=fd(JSON.parse(Ee).sinf),Ge=dC(new Uint8Array(Ue));if(!Ge)return;u=Ge.subarray(8,24),g=or.FAIRPLAY}catch{return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const Ee=function hC(r){if(!(r instanceof ArrayBuffer)||r.byteLength<32)return null;const i={version:0,systemId:"",kids:null,data:null},e=new DataView(r),n=e.getUint32(0);if(r.byteLength!==n&&n>44||1886614376!==e.getUint32(4)||(i.version=e.getUint32(8)>>>24,i.version>1))return null;i.systemId=ja_hexDump(new Uint8Array(r,12,16));const u=e.getUint32(28);if(0===i.version){if(n-32<u)return null;i.data=new Uint8Array(r,32,u)}else if(1===i.version){i.kids=[];for(let g=0;g<u;g++)i.kids.push(new Uint8Array(r,32+16*g,16))}return i}(o);if(null===Ee)return;0===Ee.version&&"edef8ba979d64acea3c827dcd51d21ed"===Ee.systemId&&Ee.data&&(u=Ee.data.subarray(8,24)),g=function oc(r){if("edef8ba979d64acea3c827dcd51d21ed"===r)return or.WIDEVINE}(Ee.systemId)}if(!g||!u)return;const T=ja_hexDump(u),{keyIdToKeySessionPromise:R,mediaKeySessions:G}=this;let ne=R[T];for(let Ee=0;Ee<G.length;Ee++){const Ue=G[Ee],Ge=Ue.decryptdata;if(Ge.pssh||!Ge.keyId)continue;const Xe=ja_hexDump(Ge.keyId);if(T===Xe||-1!==Ge.uri.replace(/-/g,"").indexOf(T)){ne=R[Xe],delete R[Xe],Ge.pssh=new Uint8Array(o),Ge.keyId=u,ne=R[T]=ne.then(()=>this.generateRequestWithPreferredKeySession(Ue,n,o,"encrypted-event-key-match"));break}}ne||(ne=R[T]=this.getKeySystemSelectionPromise([g]).then(({keySystem:Ee,mediaKeys:Ue})=>{var Ge;this.throwIfDestroyed();const Xe=new bd("ISO-23001-7",T,null!=(Ge=Ty(Ee))?Ge:"");return Xe.pssh=new Uint8Array(o),Xe.keyId=u,this.attemptSetMediaKeys(Ee,Ue).then(()=>{this.throwIfDestroyed();const ht=this.createMediaKeySessionContext({decryptdata:Xe,keySystem:Ee,mediaKeys:Ue});return this.generateRequestWithPreferredKeySession(ht,n,o,"encrypted-event-no-match")})})),ne.catch(Ee=>this.handleError(Ee))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,n){const o=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const u=Promise.all(o).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(u),u.then(()=>{this.log(`Media-keys set for "${e}"`),o.push(u),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(g=>-1===o.indexOf(g))})}generateRequestWithPreferredKeySession(e,n,o,u){var g,T;const R=null==(g=this.config.drmSystems)||null==(T=g[e.keySystem])?void 0:T.generateRequest;if(R)try{const Ge=R.call(this.hls,n,o,e);if(!Ge)throw new Error("Invalid response from configured generateRequest filter");n=Ge.initDataType,o=e.decryptdata.pssh=Ge.initData?new Uint8Array(Ge.initData):null}catch(Ge){var G;if(this.warn(Ge.message),null!=(G=this.hls)&&G.config.debug)throw Ge}if(null===o)return this.log(`Skipping key-session request for "${u}" (no initData)`),Promise.resolve(e);const ne=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${u}": ${ne} (init data type: ${n} length: ${o?o.byteLength:null})`);const Ee=new Lf;e.mediaKeysSession.onmessage=Ge=>{const Xe=e.mediaKeysSession;if(!Xe)return void Ee.emit("error",new Error("invalid state"));const{messageType:ht,message:vt}=Ge;this.log(`"${ht}" message event for session "${Xe.sessionId}" message size: ${vt.byteLength}`),"license-request"===ht||"license-renewal"===ht?this.renewLicense(e,vt).catch(Lt=>{this.handleError(Lt),Ee.emit("error",Lt)}):"license-release"===ht?e.keySystem===or.FAIRPLAY&&(this.updateKeySession(e,rC("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${ht}"`)},e.mediaKeysSession.onkeystatuseschange=Ge=>{if(!e.mediaKeysSession)return void Ee.emit("error",new Error("invalid state"));this.onKeyStatusChange(e);const ht=e.keyStatus;Ee.emit("keyStatus",ht),"expired"===ht&&(this.warn(`${e.keySystem} expired for key ${ne}`),this.renewKeySession(e))};const Ue=new Promise((Ge,Xe)=>{Ee.on("error",Xe),Ee.on("keyStatus",ht=>{ht.startsWith("usable")?Ge():"output-restricted"===ht?Xe(new Ma({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===ht?Xe(new Ma({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${ht}"`)):"expired"===ht?Xe(new Error("key expired while generating request")):this.warn(`unhandled key status change "${ht}"`)})});return e.mediaKeysSession.generateRequest(n,o).then(()=>{var Ge;this.log(`Request generated for key-session "${null==(Ge=e.mediaKeysSession)?void 0:Ge.sessionId}" keyId: ${ne}`)}).catch(Ge=>{throw new Ma({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_NO_SESSION,error:Ge,fatal:!1},`Error generating key-session request: ${Ge}`)}).then(()=>Ue).catch(Ge=>{throw Ee.removeAllListeners(),this.removeSession(e),Ge}).then(()=>(Ee.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,o)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${ja_hexDump("buffer"in o?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o))} session keyId: ${ja_hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,u=new(0,n.loader)(n),g=this.getServerCertificateUrl(e);return g?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((T,R)=>{const G={responseType:"arraybuffer",url:g},ne=n.certLoadPolicy.default;u.load(G,{loadPolicy:ne,timeout:ne.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},{onSuccess:(Ge,Xe,ht,vt)=>{T(Ge.data)},onError:(Ge,Xe,ht,vt)=>{R(new Ma({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:ht,response:Ho({url:G.url,data:void 0},Ge)},`"${e}" certificate request failed (${g}). Status: ${Ge.code} (${Ge.text})`))},onTimeout:(Ge,Xe,ht)=>{R(new Ma({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:ht,response:{url:G.url,data:void 0}},`"${e}" certificate request timed out (${g})`))},onAbort:(Ge,Xe,ht)=>{R(new Error("aborted"))}})})):Promise.resolve()}setMediaKeysServerCertificate(e,n,o){return new Promise((u,g)=>{e.setServerCertificate(o).then(T=>{this.log(`setServerCertificate ${T?"success":"not supported by CDM"} (${o?.byteLength}) on "${n}"`),u(e)}).catch(T=>{g(new Ma({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:T,fatal:!0},T.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(o=>this.updateKeySession(e,new Uint8Array(o)).catch(u=>{throw new Ma({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:u,fatal:!0},u.message)}))}setupLicenseXHR(e,n,o,u){const g=this.config.licenseXhrSetup;return g?Promise.resolve().then(()=>{if(!o.decryptdata)throw new Error("Key removed");return g.call(this.hls,e,n,o,u)}).catch(T=>{if(!o.decryptdata)throw T;return e.open("POST",n,!0),g.call(this.hls,e,n,o,u)}).then(T=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:T||u})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:u}))}requestLicense(e,n){const o=this.config.keyLoadPolicy.default;return new Promise((u,g)=>{const T=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${T}`);const R=new XMLHttpRequest;R.responseType="arraybuffer",R.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return g(new Error("invalid state"));if(4===R.readyState)if(200===R.status){this._requestLicenseFailureCount=0;let G=R.response;this.log(`License received ${G instanceof ArrayBuffer?G.byteLength:G}`);const ne=this.config.licenseResponseCallback;if(ne)try{G=ne.call(this.hls,R,T,e)}catch(Ee){this.error(Ee)}u(G)}else{const G=o.errorRetry,ne=G?G.maxNumRetry:0;this._requestLicenseFailureCount++,this._requestLicenseFailureCount>ne||R.status>=400&&R.status<500?g(new Ma({type:mi.KEY_SYSTEM_ERROR,details:En.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:R,response:{url:T,data:void 0,code:R.status,text:R.statusText}},`License Request XHR failed (${T}). Status: ${R.status} (${R.statusText})`)):(this.warn(`Retrying license request, ${ne-this._requestLicenseFailureCount+1} attempts left`),this.requestLicense(e,n).then(u,g))}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=R,this.setupLicenseXHR(R,T,e,n).then(({xhr:G,licenseChallenge:ne})=>{G.send(ne)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const o=n.media;this.media=o,o.addEventListener("encrypted",this.onMediaEncrypted),o.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,n=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},bd.clearKeyUriToKeyIdMap();const o=n.length;r.CDMCleanupPromise=Promise.all(n.map(u=>this.removeSession(u)).concat(e?.setMediaKeys(null).catch(u=>{this.log(`Could not clear media keys: ${u}. media.src: ${e?.src}`)}))).then(()=>{o&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(u=>{this.log(`Could not close sessions and clear media keys: ${u}. media.src: ${e?.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(n&&this.config.emeEnabled&&!this.keyFormatPromise){const o=n.reduce((u,g)=>(-1===u.indexOf(g.keyFormat)&&u.push(g.keyFormat),u),[]);this.log(`Selecting key-system from session-keys ${o.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(o)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:o}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),n.onmessage=null,n.onkeystatuseschange=null,o&&o.readyState!==XMLHttpRequest.DONE&&o.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const u=this.mediaKeySessions.indexOf(e);return u>-1&&this.mediaKeySessions.splice(u,1),n.remove().catch(g=>{this.log(`Could not remove session: ${g}`)}).then(()=>n.close()).catch(g=>{this.log(`Could not close session: ${g}`)})}}}return r.CDMCleanupPromise=void 0,r})();class Ma extends Error{constructor(i,e){super(e),this.data=void 0,i.error||(i.error=new Error(e)),this.data=i,i.err=i.error}}class Cs{constructor(i){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=o=>{try{this.apply(o,{ot:"m",su:!this.initialized})}catch(u){sn.warn("Could not generate manifest CMCD data.",u)}},this.applyFragmentData=o=>{try{const u=o.frag,g=this.hls.levels[u.level],T=this.getObjectType(u),R={d:1e3*u.duration,ot:T};("v"===T||"a"===T||"av"==T)&&(R.br=g.bitrate/1e3,R.tb=this.getTopBandwidth(T)/1e3,R.bl=this.getBufferLength(T)),this.apply(o,R)}catch(u){sn.warn("Could not generate segment CMCD data.",u)}},this.hls=i;const e=this.config=i.config,{cmcd:n}=e;null!=n&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||Cs.uuid(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.registerListeners())}registerListeners(){const i=this.hls;i.on(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Tt.MEDIA_DETACHED,this.onMediaDetached,this),i.on(Tt.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const i=this.hls;i.off(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Tt.MEDIA_DETACHED,this.onMediaDetached,this),i.off(Tt.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(i,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(i,e){var n,o;this.audioBuffer=null==(n=e.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(o=e.tracks.video)?void 0:o.buffer}createData(){var i;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(i=this.media)?void 0:i.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(i,e={}){if(Vr(e,this.createData()),this.starved&&("i"===e.ot||"v"===e.ot||"av"===e.ot)&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering),this.useHeaders){const o=Cs.toHeaders(e);if(!Object.keys(o).length)return;i.headers||(i.headers={}),Vr(i.headers,o)}else{const o=Cs.toQuery(e);if(!o)return;i.url=Cs.appendQueryToUri(i.url,o)}}getObjectType(i){const{type:e}=i;return"subtitle"===e?"tt":"initSegment"===i.sn?"i":"audio"===e?"a":"main"===e?this.hls.audioTracks.length?"v":"av":void 0}getTopBandwidth(i){let n,e=0;const o=this.hls;if("a"===i)n=o.audioTracks;else{const u=o.maxAutoLevel;n=o.levels.slice(0,u>-1?u+1:o.levels.length)}for(const u of n)u.bitrate>e&&(e=u.bitrate);return e>0?e:NaN}getBufferLength(i){const e=this.hls.media,n="a"===i?this.audioBuffer:this.videoBuffer;return n&&e?1e3*mr.bufferInfo(n,e.currentTime,this.config.maxBufferHole).len:NaN}createPlaylistLoader(){const{pLoader:i}=this.config,e=this.applyPlaylistData,n=i||this.config.loader;return class{constructor(u){this.loader=void 0,this.loader=new n(u)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(u,g,T){e(u),this.loader.load(u,g,T)}}}createFragmentLoader(){const{fLoader:i}=this.config,e=this.applyFragmentData,n=i||this.config.loader;return class{constructor(u){this.loader=void 0,this.loader=new n(u)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(u,g,T){e(u),this.loader.load(u,g,T)}}}static uuid(){const i=URL.createObjectURL(new Blob),e=i.toString();return URL.revokeObjectURL(i),e.slice(e.lastIndexOf("/")+1)}static serialize(i){const e=[],n=G=>!Number.isNaN(G)&&null!=G&&""!==G&&!1!==G,o=G=>Math.round(G),u=G=>100*o(G/100),T={br:o,d:o,bl:u,dl:u,mtp:u,nor:G=>encodeURIComponent(G),rtp:u,tb:o},R=Object.keys(i||{}).sort();for(const G of R){let ne=i[G];if(!n(ne)||"v"===G&&1===ne||"pr"==G&&1===ne)continue;const Ee=T[G];Ee&&(ne=Ee(ne));const Ue=typeof ne;let Ge;Ge="ot"===G||"sf"===G||"st"===G?`${G}=${ne}`:"boolean"===Ue?G:"number"===Ue?`${G}=${ne}`:`${G}=${JSON.stringify(ne)}`,e.push(Ge)}return e.join(",")}static toHeaders(i){const e=Object.keys(i),n={},o=["Object","Request","Session","Status"],u=[{},{},{},{}],g={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const T of e)u[null!=g[T]?g[T]:1][T]=i[T];for(let T=0;T<u.length;T++){const R=Cs.serialize(u[T]);R&&(n[`CMCD-${o[T]}`]=R)}return n}static toQuery(i){return`CMCD=${encodeURIComponent(Cs.serialize(i))}`}static appendQueryToUri(i,e){if(!e)return i;const n=i.includes("?")?"&":"?";return`${i}${n}${e}`}}function yD(r,i,e,n){r&&Object.keys(i).forEach(o=>{const u=r.filter(g=>g.groupId===o).map(g=>{const T=Vr({},g);return T.details=void 0,T.attrs=new br(T.attrs),T.url=T.attrs.URI=bD(g.url,g.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",e),T.groupId=T.attrs["GROUP-ID"]=i[o],T.attrs["PATHWAY-ID"]=n,T});r.push(...u)})}function bD(r,i,e,n){const{HOST:o,PARAMS:u,[e]:g}=n;let T;i&&(T=g?.[i],T&&(r=T));const R=new self.URL(r);return o&&!T&&(R.host=o),u&&Object.keys(u).sort().forEach(G=>{G&&R.searchParams.set(G,u[G])}),R.href}const lA=/^age:\s*[\d.]+\s*$/im;class $0{constructor(i){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=i&&i.xhrSetup||null,this.stats=new ic,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const i=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),i&&(i.onreadystatechange=null,i.onprogress=null,4!==i.readyState&&(this.stats.aborted=!0,i.abort()))}abort(){var i;this.abortInternal(),null!=(i=this.callbacks)&&i.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(i,e,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=i,this.config=e,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:i,context:e}=this;if(!i)return;const n=this.loader=new self.XMLHttpRequest,o=this.stats;o.loading.first=0,o.loaded=0,o.aborted=!1;const u=this.xhrSetup;u?Promise.resolve().then(()=>{if(!this.stats.aborted)return u(n,e.url)}).catch(g=>(n.open("GET",e.url,!0),u(n,e.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(n,e,i)}).catch(g=>{this.callbacks.onError({code:n.status,text:g.message},e,n,o)}):this.openAndSendXhr(n,e,i)}openAndSendXhr(i,e,n){i.readyState||i.open("GET",e.url,!0);const o=this.context.headers,{maxTimeToFirstByteMs:u,maxLoadTimeMs:g}=n.loadPolicy;if(o)for(const T in o)i.setRequestHeader(T,o[T]);e.rangeEnd&&i.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),i.onreadystatechange=this.readystatechange.bind(this),i.onprogress=this.loadprogress.bind(this),i.responseType=e.responseType,self.clearTimeout(this.requestTimeout),n.timeout=u&&ci(u)?u:g,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),i.send()}readystatechange(){const{context:i,loader:e,stats:n}=this;if(!i||!e)return;const o=e.readyState,u=this.config;if(!n.aborted&&o>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),u.timeout!==u.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),u.timeout=u.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),u.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===o)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const g=e.status,T="text"!==e.responseType;if(g>=200&&g<300&&(T&&e.response||null!==e.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const R=T?e.response:e.responseText;if(n.loaded=n.total="arraybuffer"===e.responseType?R.byteLength:R.length,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;const ne=this.callbacks.onProgress;if(ne&&ne(n,i,R,e),!this.callbacks)return;this.callbacks.onSuccess({url:e.responseURL,data:R,code:g},n,i,e)}else{const R=u.loadPolicy.errorRetry;Cd(R,n.retry,!1,g)?this.retry(R):(sn.error(`${g} while loading ${i.url}`),this.callbacks.onError({code:g,text:e.statusText},i,e,n))}}}loadtimeout(){var i;const e=null==(i=this.config)?void 0:i.loadPolicy.timeoutRetry;if(Cd(e,this.stats.retry,!0))this.retry(e);else{sn.warn(`timeout while loading ${this.context.url}`);const o=this.callbacks;o&&(this.abortInternal(),o.onTimeout(this.stats,this.context,this.loader))}}retry(i){const{context:e,stats:n}=this;this.retryDelay=Tf(i,n.retry),n.retry++,sn.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${e.url}, retrying ${n.retry}/${i.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(i){const e=this.stats;e.loaded=i.loaded,i.lengthComputable&&(e.total=i.total)}getCacheAge(){let i=null;if(this.loader&&lA.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");i=e?parseFloat(e):null}return i}getResponseHeader(i){return this.loader&&new RegExp(`^${i}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(i):null}}const ED=/(\d+)-(\d+)\/(\d+)/;class q0{constructor(i){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=i.fetchSetup||Yg,this.controller=new self.AbortController,this.stats=new ic}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const i=this.response;null!=i&&i.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var i;this.abortInternal(),null!=(i=this.callbacks)&&i.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(i,e,n){const o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();const u=function J0(r,i){const e={method:"GET",mode:"cors",credentials:"same-origin",signal:i,headers:new self.Headers(Vr({},r.headers))};return r.rangeEnd&&e.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),e}(i,this.controller.signal),g=n.onProgress,T="arraybuffer"===i.responseType,R=T?"byteLength":"length",{maxTimeToFirstByteMs:G,maxLoadTimeMs:ne}=e.loadPolicy;this.context=i,this.config=e,this.callbacks=n,this.request=this.fetchSetup(i,u),self.clearTimeout(this.requestTimeout),e.timeout=G&&ci(G)?G:ne,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(o,i,this.response)},e.timeout),self.fetch(this.request).then(Ee=>{this.response=this.loader=Ee;const Ue=Math.max(self.performance.now(),o.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=ne,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(o,i,this.response)},ne-(Ue-o.loading.start)),!Ee.ok){const{status:Ge,statusText:Xe}=Ee;throw new Kg(Xe||"fetch, bad network response",Ge,Ee)}return o.loading.first=Ue,o.total=function Q0(r){const i=r.get("Content-Range");if(i){const n=function rl(r){const i=ED.exec(r);if(i)return parseInt(i[2])-parseInt(i[1])+1}(i);if(ci(n))return n}const e=r.get("Content-Length");if(e)return parseInt(e)}(Ee.headers)||o.total,g&&ci(e.highWaterMark)?this.loadProgressively(Ee,o,i,e.highWaterMark,g):T?Ee.arrayBuffer():"json"===i.responseType?Ee.json():Ee.text()}).then(Ee=>{const{response:Ue}=this;self.clearTimeout(this.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);const Ge=Ee[R];Ge&&(o.loaded=o.total=Ge);const Xe={url:Ue.url,data:Ee,code:Ue.status};g&&!ci(e.highWaterMark)&&g(o,i,Ee,Ue),n.onSuccess(Xe,o,i,Ue)}).catch(Ee=>{self.clearTimeout(this.requestTimeout),o.aborted||n.onError({code:Ee&&Ee.code||0,text:Ee?Ee.message:null},i,Ee?Ee.details:null,o)})}getCacheAge(){let i=null;if(this.response){const e=this.response.headers.get("age");i=e?parseFloat(e):null}return i}getResponseHeader(i){return this.response?this.response.headers.get(i):null}loadProgressively(i,e,n,o=0,u){const g=new tD,T=i.body.getReader(),R=()=>T.read().then(G=>{if(G.done)return g.dataLength&&u(e,n,g.flush(),i),Promise.resolve(new ArrayBuffer(0));const ne=G.value,Ee=ne.length;return e.loaded+=Ee,Ee<o||g.dataLength?(g.push(ne),g.dataLength>=o&&u(e,n,g.flush(),i)):u(e,n,ne,i),R()}).catch(()=>Promise.reject());return R()}}function Yg(r,i){return new self.Request(r.url,i)}class Kg extends Error{constructor(i,e,n){super(i),this.code=void 0,this.details=void 0,this.code=e,this.details=n}}const TD=/\s/,Wg={newCue(r,i,e,n){const o=[];let u,g,T,R,G;const ne=self.VTTCue||self.TextTrackCue;for(let Ue=0;Ue<n.rows.length;Ue++)if(u=n.rows[Ue],T=!0,R=0,G="",!u.isEmpty()){var Ee;for(let ht=0;ht<u.chars.length;ht++)TD.test(u.chars[ht].uchar)&&T?R++:(G+=u.chars[ht].uchar,T=!1);u.cueStartTime=i,i===e&&(e+=1e-4),R>=16?R--:R++;const Ge=jf(G.trim()),Xe=Bg(i,e,Ge);null!=r&&null!=(Ee=r.cues)&&Ee.getCueById(Xe)||(g=new ne(i,e,Ge),g.id=Xe,g.line=Ue+1,g.align="left",g.position=10+Math.min(80,10*Math.floor(8*R/32)),o.push(g))}return r&&o.length&&(o.sort((Ue,Ge)=>"auto"===Ue.line||"auto"===Ge.line?0:Ue.line>8&&Ge.line>8?Ge.line-Ue.line:Ue.line-Ge.line),o.forEach(Ue=>Wy(r,Ue))),o}},Wf=Ho(Ho({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:$0,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class qM{constructor(i){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=i;const e=i.config;this.bwEstimator=new $M(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:i}=this;i.on(Tt.FRAG_LOADING,this.onFragLoading,this),i.on(Tt.FRAG_LOADED,this.onFragLoaded,this),i.on(Tt.FRAG_BUFFERED,this.onFragBuffered,this),i.on(Tt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(Tt.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:i}=this;i.off(Tt.FRAG_LOADING,this.onFragLoading,this),i.off(Tt.FRAG_LOADED,this.onFragLoaded,this),i.off(Tt.FRAG_BUFFERED,this.onFragBuffered,this),i.off(Tt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(Tt.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(i,e){var n;const o=e.frag;this.ignoreFragment(o)||(this.fragCurrent=o,this.partCurrent=null!=(n=e.part)?n:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(i,e){this.clearTimer()}getTimeToLoadFrag(i,e,n,o){return i+n/e+(o?this.lastLevelLoadSec:0)}onLevelLoaded(i,e){const n=this.hls.config,{total:o,bwEstimate:u}=e.stats;ci(o)&&ci(u)&&(this.lastLevelLoadSec=8*o/u),e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:i,partCurrent:e,hls:n}=this,{autoLevelEnabled:o,media:u}=n;if(!i||!u)return;const g=performance.now(),T=e?e.stats:i.stats,R=e?e.duration:i.duration,G=g-T.loading.start;if(T.aborted||T.loaded&&T.loaded===T.total||0===i.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!o||u.paused||!u.playbackRate||!u.readyState)return;const ne=n.mainForwardBufferInfo;if(null===ne)return;const Ee=this.bwEstimator.getEstimateTTFB(),Ue=Math.abs(u.playbackRate);if(G<=Math.max(Ee,R/(2*Ue)*1e3))return;const Ge=ne.len/Ue;if(Ge>=2*R/Ue)return;const Xe=T.loading.first?T.loading.first-T.loading.start:-1,ht=T.loaded&&Xe>-1,vt=this.bwEstimator.getEstimate(),{levels:Lt,minAutoLevel:Zt}=n,un=T.total||Math.max(T.loaded,Math.round(R*Lt[i.level].maxBitrate/8));let cn=G-Xe;cn<1&&ht&&(cn=Math.min(G,8*T.loaded/vt));const Sn=ht?1e3*T.loaded/cn:0,gn=Sn?(un-T.loaded)/Sn:8*un/vt+Ee/1e3;if(gn<=Ge)return;const An=Sn?8*Sn:vt;let _n,Vn=Number.POSITIVE_INFINITY;for(_n=i.level-1;_n>Zt&&(Vn=this.getTimeToLoadFrag(Ee/1e3,An,R*Lt[_n].maxBitrate,!Lt[_n].details),!(Vn<Ge));_n--);Vn>=gn||Vn>10*R||(n.nextLoadLevel=_n,ht?this.bwEstimator.sample(G-Math.min(Ee,Xe),T.loaded):this.bwEstimator.sampleTTFB(G),this.clearTimer(),sn.warn(`[abr] Fragment ${i.sn}${e?" part "+e.index:""} of level ${i.level} is loading too slowly;\n      Time to underbuffer: ${Ge.toFixed(3)} s\n      Estimated load time for current fragment: ${gn.toFixed(3)} s\n      Estimated load time for down switch fragment: ${Vn.toFixed(3)} s\n      TTFB estimate: ${Xe}\n      Current BW estimate: ${ci(vt)?(vt/1024).toFixed(3):"Unknown"} Kb/s\n      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s\n      Aborting and switching to level ${_n}`),i.loader&&(this.fragCurrent=this.partCurrent=null,i.abortRequests()),n.trigger(Tt.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:e,stats:T}))}onFragLoaded(i,{frag:e,part:n}){const o=n?n.stats:e.stats;if("main"===e.type&&this.bwEstimator.sampleTTFB(o.loading.first-o.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const g=this.hls.levels[e.level],T=(g.loaded?g.loaded.bytes:0)+o.loaded,R=(g.loaded?g.loaded.duration:0)+(n?n.duration:e.duration);g.loaded={bytes:T,duration:R},g.realBitrate=Math.round(8*T/R)}e.bitrateTest&&(this.onFragBuffered(Tt.FRAG_BUFFERED,{stats:o,frag:e,part:n,id:e.type}),e.bitrateTest=!1)}}onFragBuffered(i,e){const{frag:n,part:o}=e,u=null!=o&&o.stats.loaded?o.stats:n.stats;if(u.aborted||this.ignoreFragment(n))return;const g=u.parsing.end-u.loading.start-Math.min(u.loading.first-u.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(g,u.loaded),u.bwEstimate=this.bwEstimator.getEstimate(),this.bitrateTestDelay=n.bitrateTest?g/1e3:0}ignoreFragment(i){return"main"!==i.type||"initSegment"===i.sn}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const i=this._nextAutoLevel;if(-1!==i&&!this.bwEstimator.canEstimate())return i;let n=this.getNextABRAutoLevel();if(-1!==i){const o=this.hls.levels;if(o.length>Math.max(i,n)&&o[i].loadError<=o[n].loadError)return i}return-1!==i&&(n=Math.min(i,n)),n}getNextABRAutoLevel(){const{fragCurrent:i,partCurrent:e,hls:n}=this,{maxAutoLevel:o,config:u,minAutoLevel:g,media:T}=n,R=e?e.duration:i?i.duration:0,G=T&&0!==T.playbackRate?Math.abs(T.playbackRate):1,ne=this.bwEstimator?this.bwEstimator.getEstimate():u.abrEwmaDefaultEstimate,Ee=n.mainForwardBufferInfo,Ue=(Ee?Ee.len:0)/G;let Ge=this.findBestLevel(ne,g,o,Ue,u.abrBandWidthFactor,u.abrBandWidthUpFactor);if(Ge>=0)return Ge;sn.trace(`[abr] ${Ue?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let Xe=R?Math.min(R,u.maxStarvationDelay):u.maxStarvationDelay,ht=u.abrBandWidthFactor,vt=u.abrBandWidthUpFactor;if(!Ue){const Lt=this.bitrateTestDelay;Lt&&(Xe=(R?Math.min(R,u.maxLoadingDelay):u.maxLoadingDelay)-Lt,sn.trace(`[abr] bitrate test took ${Math.round(1e3*Lt)}ms, set first fragment max fetchDuration to ${Math.round(1e3*Xe)} ms`),ht=vt=1)}return Ge=this.findBestLevel(ne,g,o,Ue+Xe,ht,vt),Math.max(Ge,0)}findBestLevel(i,e,n,o,u,g){var T;const{fragCurrent:R,partCurrent:G,lastLoadedFragLevel:ne}=this,{levels:Ee}=this.hls,Ue=Ee[ne],Ge=!(null==Ue||null==(T=Ue.details)||!T.live),Xe=Ue?.codecSet,ht=G?G.duration:R?R.duration:0,vt=this.bwEstimator.getEstimateTTFB()/1e3;let Lt=e,Zt=-1;for(let Kt=n;Kt>=e;Kt--){const un=Ee[Kt];if(!un||Xe&&un.codecSet!==Xe){un&&(Lt=Math.min(Kt,Lt),Zt=Math.max(Kt,Zt));continue}-1!==Zt&&sn.trace(`[abr] Skipped level(s) ${Lt}-${Zt} with CODECS:"${Ee[Zt].attrs.CODECS}"; not compatible with "${Ue.attrs.CODECS}"`);const cn=un.details,Sn=(G?cn?.partTarget:cn?.averagetargetduration)||ht;let gn;gn=Kt<=ne?u*i:g*i;const An=Ee[Kt].maxBitrate,Vn=this.getTimeToLoadFrag(vt,gn,An*Sn,void 0===cn);if(sn.trace(`[abr] level:${Kt} adjustedbw-bitrate:${Math.round(gn-An)} avgDuration:${Sn.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${Vn.toFixed(1)}`),gn>An&&(0===Vn||!ci(Vn)||Ge&&!this.bitrateTestDelay||Vn<o))return Kt}return-1}set nextAutoLevel(i){this._nextAutoLevel=i}},bufferController:class oD{constructor(i){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:e,mediaSource:n}=this;sn.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(Tt.MEDIA_ATTACHED,{media:e})),n&&n.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{sn.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{sn.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:e,_objectUrl:n}=this;e&&e.src!==n&&sn.error(`Media element src was set while attaching MediaSource (${n} > ${e.src})`)},this.hls=i,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:i}=this;i.on(Tt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Tt.BUFFER_RESET,this.onBufferReset,this),i.on(Tt.BUFFER_APPENDING,this.onBufferAppending,this),i.on(Tt.BUFFER_CODECS,this.onBufferCodecs,this),i.on(Tt.BUFFER_EOS,this.onBufferEos,this),i.on(Tt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(Tt.LEVEL_UPDATED,this.onLevelUpdated,this),i.on(Tt.FRAG_PARSED,this.onFragParsed,this),i.on(Tt.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:i}=this;i.off(Tt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Tt.BUFFER_RESET,this.onBufferReset,this),i.off(Tt.BUFFER_APPENDING,this.onBufferAppending,this),i.off(Tt.BUFFER_CODECS,this.onBufferCodecs,this),i.off(Tt.BUFFER_EOS,this.onBufferEos,this),i.off(Tt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(Tt.LEVEL_UPDATED,this.onLevelUpdated,this),i.off(Tt.FRAG_PARSED,this.onFragParsed,this),i.off(Tt.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new L0(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(i,e){let n=2;(e.audio&&!e.video||!e.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,sn.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(i,e){const n=this.media=e.media;if(n&&k0){const o=this.mediaSource=new k0;o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(o),this._objectUrl=n.src,n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:i,mediaSource:e,_objectUrl:n}=this;if(e){if(sn.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(o){sn.warn(`[buffer-controller]: onMediaDetaching: ${o.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),i&&(i.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),i.src===n?(i.removeAttribute("src"),i.load()):sn.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(Tt.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(i=>{const e=this.sourceBuffer[i];try{e&&(this.removeBufferListeners(i),this.mediaSource&&this.mediaSource.removeSourceBuffer(e),this.sourceBuffer[i]=void 0)}catch(n){sn.warn(`[buffer-controller]: Failed to reset the ${i} buffer`,n)}}),this._initSourceBuffer()}onBufferCodecs(i,e){const n=this.getSourceBufferTypes().length;Object.keys(e).forEach(o=>{if(n){const u=this.tracks[o];if(u&&"function"==typeof u.buffer.changeType){const{id:g,codec:T,levelCodec:R,container:G,metadata:ne}=e[o],Ee=(u.levelCodec||u.codec).replace(F0,"$1"),Ue=(R||T).replace(F0,"$1");Ee!==Ue&&(this.appendChangeType(o,`${G};codecs=${R||T}`),sn.log(`[buffer-controller]: switching codec ${Ee} to ${Ue}`),this.tracks[o]={buffer:u.buffer,codec:T,container:G,levelCodec:R,metadata:ne,id:g})}}else this.pendingTracks[o]=e[o]}),!n&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())}appendChangeType(i,e){const{operationQueue:n}=this,o={execute:()=>{const u=this.sourceBuffer[i];u&&(sn.log(`[buffer-controller]: changing ${i} sourceBuffer type to ${e}`),u.changeType(e)),n.shiftAndExecuteNext(i)},onStart:()=>{},onComplete:()=>{},onError:u=>{sn.warn(`[buffer-controller]: Failed to change ${i} SourceBuffer type`,u)}};n.append(o,i)}onBufferAppending(i,e){const{hls:n,operationQueue:o,tracks:u}=this,{data:g,type:T,frag:R,part:G,chunkMeta:ne}=e,Ee=ne.buffering[T],Ue=self.performance.now();Ee.start=Ue;const Ge=R.stats.buffering,Xe=G?G.stats.buffering:null;0===Ge.start&&(Ge.start=Ue),Xe&&0===Xe.start&&(Xe.start=Ue);const ht=u.audio;let vt=!1;"audio"===T&&"audio/mpeg"===ht?.container&&(vt=!this.lastMpegAudioChunk||1===ne.id||this.lastMpegAudioChunk.sn!==ne.sn,this.lastMpegAudioChunk=ne);const Lt=R.start;o.append({execute:()=>{if(Ee.executeStart=self.performance.now(),vt){const Kt=this.sourceBuffer[T];if(Kt){const un=Lt-Kt.timestampOffset;Math.abs(un)>=.1&&(sn.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${Lt} (delta: ${un}) sn: ${R.sn})`),Kt.timestampOffset=Lt)}}this.appendExecutor(g,T)},onStart:()=>{},onComplete:()=>{const Kt=self.performance.now();Ee.executeEnd=Ee.end=Kt,0===Ge.first&&(Ge.first=Kt),Xe&&0===Xe.first&&(Xe.first=Kt);const{sourceBuffer:un}=this,cn={};for(const Sn in un)cn[Sn]=mr.getBuffered(un[Sn]);this.appendError=0,this.hls.trigger(Tt.BUFFER_APPENDED,{type:T,frag:R,part:G,chunkMeta:ne,parent:R.type,timeRanges:cn})},onError:Kt=>{sn.error(`[buffer-controller]: Error encountered while trying to append to the ${T} SourceBuffer`,Kt);const un={type:mi.MEDIA_ERROR,parent:R.type,details:En.BUFFER_APPEND_ERROR,frag:R,part:G,chunkMeta:ne,error:Kt,err:Kt,fatal:!1};Kt.code===DOMException.QUOTA_EXCEEDED_ERR?un.details=En.BUFFER_FULL_ERROR:(this.appendError++,un.details=En.BUFFER_APPEND_ERROR,this.appendError>n.config.appendErrorMaxRetry&&(sn.error(`[buffer-controller]: Failed ${n.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),un.fatal=!0)),n.trigger(Tt.ERROR,un)}},T)}onBufferFlushing(i,e){const{operationQueue:n}=this,o=u=>({execute:this.removeExecutor.bind(this,u,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(Tt.BUFFER_FLUSHED,{type:u})},onError:g=>{sn.warn(`[buffer-controller]: Failed to remove from ${u} SourceBuffer`,g)}});e.type?n.append(o(e.type),e.type):this.getSourceBufferTypes().forEach(u=>{n.append(o(u),u)})}onFragParsed(i,e){const{frag:n,part:o}=e,u=[],g=o?o.elementaryStreams:n.elementaryStreams;g.audiovideo?u.push("audiovideo"):(g.audio&&u.push("audio"),g.video&&u.push("video")),0===u.length&&sn.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(()=>{const R=self.performance.now();n.stats.buffering.end=R,o&&(o.stats.buffering.end=R),this.hls.trigger(Tt.FRAG_BUFFERED,{frag:n,part:o,stats:o?o.stats:n.stats,id:n.type})},u)}onFragChanged(i,e){this.flushBackBuffer()}onBufferEos(i,e){this.getSourceBufferTypes().reduce((o,u)=>{const g=this.sourceBuffer[u];return g&&(!e.type||e.type===u)&&(g.ending=!0,g.ended||(g.ended=!0,sn.log(`[buffer-controller]: ${u} sourceBuffer now EOS`))),o&&!(g&&!g.ended)},!0)&&(sn.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(u=>{const g=this.sourceBuffer[u];g&&(g.ending=!1)});const{mediaSource:o}=this;o&&"open"===o.readyState?(sn.log("[buffer-controller]: Calling mediaSource.endOfStream()"),o.endOfStream()):o&&sn.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`)}))}onLevelUpdated(i,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:i,details:e,media:n,sourceBuffer:o}=this;if(!n||null===e)return;const u=this.getSourceBufferTypes();if(!u.length)return;const g=e.live&&null!==i.config.liveBackBufferLength?i.config.liveBackBufferLength:i.config.backBufferLength;if(!ci(g)||g<0)return;const T=n.currentTime,R=e.levelTargetDuration,G=Math.max(g,R),ne=Math.floor(T/R)*R-G;u.forEach(Ee=>{const Ue=o[Ee];if(Ue){const Ge=mr.getBuffered(Ue);if(Ge.length>0&&ne>Ge.start(0)){if(i.trigger(Tt.BACK_BUFFER_REACHED,{bufferEnd:ne}),e.live)i.trigger(Tt.LIVE_BACK_BUFFER_REACHED,{bufferEnd:ne});else if(Ue.ended&&Ge.end(Ge.length-1)-T<2*R)return void sn.info(`[buffer-controller]: Cannot flush ${Ee} back buffer while SourceBuffer is in ended state`);i.trigger(Tt.BUFFER_FLUSHING,{startOffset:0,endOffset:ne,type:Ee})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:i,hls:e,media:n,mediaSource:o}=this,u=i.fragments[0].start+i.totalduration,g=n.duration,T=ci(o.duration)?o.duration:0;i.live&&e.config.liveDurationInfinity?(sn.log("[buffer-controller]: Media Source duration is set to Infinity"),o.duration=1/0,this.updateSeekableRange(i)):(u>T&&u>g||!ci(g))&&(sn.log(`[buffer-controller]: Updating Media Source duration to ${u.toFixed(3)}`),o.duration=u)}updateSeekableRange(i){const e=this.mediaSource,n=i.fragments;if(n.length&&i.live&&null!=e&&e.setLiveSeekableRange){const u=Math.max(0,n[0].start),g=Math.max(u,u+i.totalduration);e.setLiveSeekableRange(u,g)}}checkPendingTracks(){const{bufferCodecEventsExpected:i,operationQueue:e,pendingTracks:n}=this,o=Object.keys(n).length;if(o&&!i||2===o){this.createSourceBuffers(n),this.pendingTracks={};const u=this.getSourceBufferTypes();if(u.length)this.hls.trigger(Tt.BUFFER_CREATED,{tracks:this.tracks}),u.forEach(g=>{e.executeNext(g)});else{const g=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:g,reason:g.message})}}}createSourceBuffers(i){const{sourceBuffer:e,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const o in i)if(!e[o]){const u=i[o];if(!u)throw Error(`source buffer exists for track ${o}, however track does not`);const g=u.levelCodec||u.codec,T=`${u.container};codecs=${g}`;sn.log(`[buffer-controller]: creating sourceBuffer(${T})`);try{const R=e[o]=n.addSourceBuffer(T),G=o;this.addBufferListener(G,"updatestart",this._onSBUpdateStart),this.addBufferListener(G,"updateend",this._onSBUpdateEnd),this.addBufferListener(G,"error",this._onSBUpdateError),this.tracks[o]={buffer:R,codec:g,container:u.container,levelCodec:u.levelCodec,metadata:u.metadata,id:u.id}}catch(R){sn.error(`[buffer-controller]: error while trying to add sourceBuffer: ${R.message}`),this.hls.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:R,mimeType:T})}}}_onSBUpdateStart(i){const{operationQueue:e}=this;e.current(i).onStart()}_onSBUpdateEnd(i){const{operationQueue:e}=this;e.current(i).onComplete(),e.shiftAndExecuteNext(i)}_onSBUpdateError(i,e){const n=new Error(`${i} SourceBuffer error`);sn.error(`[buffer-controller]: ${n}`,e),this.hls.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.BUFFER_APPENDING_ERROR,error:n,fatal:!1});const o=this.operationQueue.current(i);o&&o.onError(e)}removeExecutor(i,e,n){const{media:o,mediaSource:u,operationQueue:g,sourceBuffer:T}=this,R=T[i];if(!o||!u||!R)return sn.warn(`[buffer-controller]: Attempting to remove from the ${i} SourceBuffer, but it does not exist`),void g.shiftAndExecuteNext(i);const G=ci(o.duration)?o.duration:1/0,ne=ci(u.duration)?u.duration:1/0,Ee=Math.max(0,e),Ue=Math.min(n,G,ne);Ue>Ee&&!R.ending?(R.ended=!1,sn.log(`[buffer-controller]: Removing [${Ee},${Ue}] from the ${i} SourceBuffer`),R.remove(Ee,Ue)):g.shiftAndExecuteNext(i)}appendExecutor(i,e){const{operationQueue:n,sourceBuffer:o}=this,u=o[e];if(!u)return sn.warn(`[buffer-controller]: Attempting to append to the ${e} SourceBuffer, but it does not exist`),void n.shiftAndExecuteNext(e);u.ended=!1,u.appendBuffer(i)}blockBuffers(i,e=this.getSourceBufferTypes()){if(!e.length)return sn.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(i);const{operationQueue:n}=this,o=e.map(u=>n.appendBlocker(u));Promise.all(o).then(()=>{i(),e.forEach(u=>{const g=this.sourceBuffer[u];null!=g&&g.updating||n.shiftAndExecuteNext(u)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(i,e,n){const o=this.sourceBuffer[i];if(!o)return;const u=n.bind(this,i);this.listeners[i].push({event:e,listener:u}),o.addEventListener(e,u)}removeBufferListeners(i){const e=this.sourceBuffer[i];e&&this.listeners[i].forEach(n=>{e.removeEventListener(n.event,n.listener)})}},capLevelController:Hg,errorController:class xC{constructor(i){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=i,this.log=sn.log.bind(sn,"[info]:"),this.warn=sn.warn.bind(sn,"[warning]:"),this.error=sn.error.bind(sn,"[error]:"),this.registerListeners()}registerListeners(){const i=this.hls;i.on(Tt.ERROR,this.onError,this),i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const i=this.hls;i&&(i.off(Tt.ERROR,this.onError,this),i.off(Tt.ERROR,this.onErrorOut,this),i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(i){this.playlistError=0}stopLoad(){}getVariantLevelIndex(i){return"main"===i?.type?i.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(i,e){var n,o;if(e.fatal)return;const u=this.hls,g=e.context;switch(e.details){case En.FRAG_LOAD_ERROR:case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_ERROR:case En.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case En.FRAG_PARSING_ERROR:if(null!=(n=e.frag)&&n.gap)return void(e.errorAction={action:0,flags:0});case En.FRAG_GAP:case En.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=2);case En.LEVEL_EMPTY_ERROR:case En.LEVEL_PARSING_ERROR:{var T,R;const G="main"===e.parent?e.level:u.loadLevel;e.details===En.LEVEL_EMPTY_ERROR&&null!=(T=e.context)&&null!=(R=T.levelDetails)&&R.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,G):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,G))}return;case En.LEVEL_LOAD_ERROR:case En.LEVEL_LOAD_TIMEOUT:return void("number"==typeof g?.level&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,g.level)));case En.AUDIO_TRACK_LOAD_ERROR:case En.AUDIO_TRACK_LOAD_TIMEOUT:case En.SUBTITLE_LOAD_ERROR:case En.SUBTITLE_TRACK_LOAD_TIMEOUT:if(g){const G=u.levels[u.loadLevel];if(G&&("audioTrack"===g.type&&g.groupId===G.audioGroupId||"subtitleTrack"===g.type&&g.groupId===G.textGroupId))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,u.loadLevel),e.errorAction.action=2,void(e.errorAction.flags=1)}return;case En.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const G=u.levels[u.loadLevel],ne=G?.attrs["HDCP-LEVEL"];ne&&(e.errorAction={action:2,flags:2,hdcpLevel:ne})}return;case En.BUFFER_ADD_CODEC_ERROR:case En.REMUX_ALLOC_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(o=e.level)?o:u.loadLevel));case En.INTERNAL_EXCEPTION:case En.BUFFER_APPENDING_ERROR:case En.BUFFER_APPEND_ERROR:case En.BUFFER_FULL_ERROR:case En.LEVEL_SWITCH_ERROR:case En.BUFFER_STALLED_ERROR:case En.BUFFER_SEEK_OVER_HOLE:case En.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:0,flags:0})}if(e.type===mi.KEY_SYSTEM_ERROR){const G=this.getVariantLevelIndex(e.frag);return e.levelRetry=!1,void(e.errorAction=this.getLevelSwitchAction(e,G))}}getPlaylistRetryOrSwitchAction(i,e){var n;const u=e0(this.hls.config.playlistLoadPolicy,i),g=this.playlistError++,T=null==(n=i.response)?void 0:n.code;if(Cd(u,g,Ef(i),T))return{action:5,flags:0,retryConfig:u,retryCount:g};const G=this.getLevelSwitchAction(i,e);return u&&(G.retryConfig=u,G.retryCount=g),G}getFragRetryOrSwitchAction(i){const e=this.hls,n=this.getVariantLevelIndex(i.frag),o=e.levels[n],{fragLoadPolicy:u,keyLoadPolicy:g}=e.config,T=e0(i.details.startsWith("key")?g:u,i),R=e.levels.reduce((Ee,Ue)=>Ee+Ue.fragmentError,0);if(o){var G;i.details!==En.FRAG_GAP&&o.fragmentError++;const Ee=null==(G=i.response)?void 0:G.code;if(Cd(T,R,Ef(i),Ee))return{action:5,flags:0,retryConfig:T,retryCount:R}}const ne=this.getLevelSwitchAction(i,n);return T&&(ne.retryConfig=T,ne.retryCount=R),ne}getLevelSwitchAction(i,e){const n=this.hls;null==e&&(e=n.loadLevel);const o=this.hls.levels[e];if(o&&(o.loadError++,n.autoLevelEnabled)){var u,g;let T=-1;const{levels:R,loadLevel:G,minAutoLevel:ne,maxAutoLevel:Ee}=n,Ue=null==(u=i.frag)?void 0:u.type,{type:Ge,groupId:Xe}=null!=(g=i.context)?g:{};for(let ht=R.length;ht--;){const vt=(ht+G)%R.length;if(vt!==G&&vt>=ne&&vt<=Ee&&0===R[vt].loadError){const Lt=R[vt];if(i.details===En.FRAG_GAP&&i.frag){const Zt=R[vt].details;if(Zt){const Kt=Dd(i.frag,Zt.fragments,i.frag.start);if(null!=Kt&&Kt.gap)continue}}else{if("audioTrack"===Ge&&Xe===Lt.audioGroupId||"subtitleTrack"===Ge&&Xe===Lt.textGroupId)continue;if("audio"===Ue&&o.audioGroupId===Lt.audioGroupId||"subtitle"===Ue&&o.textGroupId===Lt.textGroupId)continue}T=vt;break}}if(T>-1&&n.loadLevel!==T)return i.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:T}}return{action:2,flags:1}}onErrorOut(i,e){var n;switch(null==(n=e.errorAction)?void 0:n.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(e),!e.errorAction.resolved&&e.details!==En.FRAG_GAP&&(e.fatal=!0)}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(i){const e=this.hls,n=i.errorAction;if(!n)return;const{flags:o,hdcpLevel:u,nextAutoLevel:g}=n;switch(o){case 0:this.switchLevel(i,g);break;case 1:n.resolved||(n.resolved=this.redundantFailover(i));break;case 2:u&&(e.maxHdcpLevel=vf[vf.indexOf(u)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}n.resolved||this.switchLevel(i,g)}switchLevel(i,e){void 0!==e&&i.errorAction&&(this.warn(`switching to level ${e} after ${i.details}`),this.hls.nextAutoLevel=e,i.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(i){const{hls:e,penalizedRenditions:n}=this,o="main"===i.parent?i.level:e.loadLevel,u=e.levels[o],g=u.url.length,T=i.frag?i.frag.urlId:u.urlId;u.urlId===T&&(!i.frag||u.details)&&this.penalizeRendition(u,i);for(let R=1;R<g;R++){const G=(T+R)%g,ne=n[G];if(!ne||MC(ne,i,n[T]))return this.warn(`Switching to Redundant Stream ${G+1}/${g}: "${u.url[G]}" after ${i.details}`),this.playlistError=0,e.levels.forEach(Ee=>{Ee.urlId=G}),e.nextLoadLevel=o,!0}return!1}penalizeRendition(i,e){const{penalizedRenditions:n}=this,o=n[i.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};o.lastErrorPerfMs=performance.now(),o.errors.push(e),o.details=i.details,n[i.urlId]=o}},fpsController:class rA{constructor(i){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=i,this.registerListeners()}setStreamController(i){this.streamController=i}registerListeners(){this.hls.on(Tt.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(Tt.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(i,e){const n=this.hls.config;if(n.capLevelOnFPSDrop){const o=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=o,o&&"function"==typeof o.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(i,e,n){const o=performance.now();if(e){if(this.lastTime){const g=n-this.lastDroppedFrames,T=e-this.lastDecodedFrames,R=1e3*g/(o-this.lastTime),G=this.hls;if(G.trigger(Tt.FPS_DROP,{currentDropped:g,currentDecoded:T,totalDroppedFrames:n}),R>0&&g>G.config.fpsDroppedMonitoringThreshold*T){let ne=G.currentLevel;sn.warn("drop FPS ratio greater than max allowed value for currentLevel: "+ne),ne>0&&(-1===G.autoLevelCapping||G.autoLevelCapping>=ne)&&(ne-=1,G.trigger(Tt.FPS_DROP_LEVEL_CAPPING,{level:ne,droppedLevel:G.currentLevel}),G.autoLevelCapping=ne,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=n,this.lastDecodedFrames=e}}checkFPSInterval(){const i=this.media;if(i)if(this.isVideoPlaybackQualityAvailable){const e=i.getVideoPlaybackQuality();this.checkFPS(i,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(i,i.webkitDecodedFrameCount,i.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:hd,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},function cA(){return{cueHandler:Wg,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:class rD extends dg{constructor(i,e,n){super(i,e,n,"[subtitle-stream-controller]","subtitle"),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:i}=this;i.on(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.LEVEL_LOADED,this.onLevelLoaded,this),i.on(Tt.ERROR,this.onError,this),i.on(Tt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.on(Tt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),i.on(Tt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.on(Tt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),i.on(Tt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.on(Tt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.LEVEL_LOADED,this.onLevelLoaded,this),i.off(Tt.ERROR,this.onError,this),i.off(Tt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.off(Tt.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),i.off(Tt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.off(Tt.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),i.off(Tt.BUFFER_FLUSHING,this.onBufferFlushing,this),i.off(Tt.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(i){this.stopLoad(),this.state="IDLE",this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(i,e){this.mainDetails=e.details}onSubtitleFragProcessed(i,e){const{frag:n,success:o}=e;if(this.fragPrevious=n,this.state="IDLE",!o)return;const u=this.tracksBuffered[this.currentTrackId];if(!u)return;let g;const T=n.start;for(let G=0;G<u.length;G++)if(T>=u[G].start&&T<=u[G].end){g=u[G];break}const R=n.start+n.duration;g?g.end=R:(g={start:T,end:R},u.push(g)),this.fragmentTracker.fragBuffered(n)}onBufferFlushing(i,e){const{startOffset:n,endOffset:o}=e;if(0===n&&o!==Number.POSITIVE_INFINITY){const u=o-1;if(u<=0)return;e.endOffsetSubtitles=Math.max(0,u),this.tracksBuffered.forEach(g=>{for(let T=0;T<g.length;)if(g[T].end<=u)g.shift();else{if(!(g[T].start<u))break;g[T].start=u,T++}}),this.fragmentTracker.removeFragmentsInRange(n,u,"subtitle")}}onFragBuffered(i,e){var n;this.loadedmetadata||"main"!==e.frag.type||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}onError(i,e){const n=e.frag;"subtitle"===n?.type&&(this.fragCurrent&&this.fragCurrent.abortRequests(),"STOPPED"!==this.state&&(this.state="IDLE"))}onSubtitleTracksUpdated(i,{subtitleTracks:e}){wg(this.levels,e)?this.levels=e.map(n=>new $s(n)):(this.tracksBuffered=[],this.levels=e.map(n=>{const o=new $s(n);return this.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,"subtitle"),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(i,e){if(this.currentTrackId=e.id,!this.levels.length||-1===this.currentTrackId)return void this.clearInterval();const n=this.levels[this.currentTrackId];this.mediaBuffer=null!=n&&n.details?this.mediaBufferTimeRanges:null,n&&this.setInterval(500)}onSubtitleTrackLoaded(i,e){var n;const{details:o,id:u}=e,{currentTrackId:g,levels:T}=this;if(!T.length)return;const R=T[g];if(u>=T.length||u!==g||!R)return;this.mediaBuffer=this.mediaBufferTimeRanges;let G=0;if(o.live||null!=(n=R.details)&&n.live){const ne=this.mainDetails;if(o.deltaUpdateFailed||!ne)return;const Ee=ne.fragments[0];R.details?(G=this.alignPlaylists(o,R.details),0===G&&Ee&&(G=Ee.start,bf(o,G))):o.hasProgramDateTime&&ne.hasProgramDateTime?(Ad(o,ne),G=o.fragments[0].start):Ee&&(G=Ee.start,bf(o,G))}R.details=o,this.levelLastLoaded=u,!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(R.details,G),this.tick(),o.live&&!this.fragCurrent&&this.media&&"IDLE"===this.state&&(Dd(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),R.details=void 0))}_handleFragmentLoadComplete(i){const{frag:e,payload:n}=i,o=e.decryptdata,u=this.hls;if(!this.fragContextChanged(e)&&n&&n.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){const g=performance.now();this.decrypter.decrypt(new Uint8Array(n),o.key.buffer,o.iv.buffer).catch(T=>{throw u.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.FRAG_DECRYPT_ERROR,fatal:!1,error:T,reason:T.message,frag:e}),T}).then(T=>{const R=performance.now();u.trigger(Tt.FRAG_DECRYPTED,{frag:e,payload:T,stats:{tstart:g,tdecrypt:R}})}).catch(T=>{this.warn(`${T.name}: ${T.message}`),this.state="IDLE"})}}doTick(){if(this.media){if("IDLE"===this.state){const{currentTrackId:i,levels:e}=this,n=e[i];if(!e.length||!n||!n.details)return;const{config:o}=this,u=this.getLoadPosition(),g=mr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],u,o.maxBufferHole),{end:T,len:R}=g,G=this.getFwdBufferInfo(this.media,"main"),ne=n.details;if(R>this.getMaxBufferLength(G?.len)+ne.levelTargetDuration)return;const Ue=ne.fragments,Ge=Ue.length,Xe=ne.edge;let ht=null;const vt=this.fragPrevious;if(T<Xe){const Lt=o.maxFragLookUpTolerance,Zt=T>Xe-Lt?0:Lt;ht=Dd(vt,Ue,Math.max(Ue[0].start,T),Zt),!ht&&vt&&vt.start<Ue[0].start&&(ht=Ue[0])}else ht=Ue[Ge-1];if(!ht)return;if(ht=this.mapToInitFragWhenRequired(ht),"initSegment"!==ht.sn){const Zt=Ue[ht.sn-ne.startSN-1];Zt&&Zt.cc===ht.cc&&"NOT_LOADED"===this.fragmentTracker.getState(Zt)&&(ht=Zt)}"NOT_LOADED"===this.fragmentTracker.getState(ht)&&this.loadFragment(ht,n,T)}}else this.state="IDLE"}getMaxBufferLength(i){const e=super.getMaxBufferLength();return i?Math.max(e,i):e}loadFragment(i,e,n){this.fragCurrent=i,"initSegment"===i.sn?this._loadInitSegment(i,e):(this.startFragRequested=!0,super.loadFragment(i,e,n))}get mediaBufferTimeRanges(){return new QM(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class XM extends rg{constructor(i){super(i,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(i){this._subtitleDisplay=i,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:i}=this;i.on(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Tt.LEVEL_LOADING,this.onLevelLoading,this),i.on(Tt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(Tt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.on(Tt.ERROR,this.onError,this)}unregisterListeners(){const{hls:i}=this;i.off(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Tt.LEVEL_LOADING,this.onLevelLoading,this),i.off(Tt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(Tt.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),i.off(Tt.ERROR,this.onError,this)}onMediaAttached(i,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(i){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,i)}onMediaDetaching(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Ig(this.media.textTracks).forEach(e=>{lc(e)}),this.subtitleTrack=-1,this.media=null)}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(i,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(i,e){const{id:n,details:o}=e,{trackId:u}=this,g=this.tracksInGroup[u];if(!g)return void this.warn(`Invalid subtitle track id ${n}`);const T=g.details;g.details=e.details,this.log(`subtitle track ${n} loaded [${o.startSN}-${o.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,T)}onLevelLoading(i,e){this.switchLevel(e.level)}onLevelSwitching(i,e){this.switchLevel(e.level)}switchLevel(i){const e=this.hls.levels[i];if(null==e||!e.textGroupIds)return;const n=e.textGroupIds[e.urlId],o=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==n){const u=this.tracks.filter(R=>!n||R.groupId===n);this.tracksInGroup=u;const g=this.findTrackId(o?.name)||this.findTrackId();this.groupId=n||null;const T={subtitleTracks:u};this.log(`Updating subtitle tracks, ${u.length} track(s) found in "${n}" group-id`),this.hls.trigger(Tt.SUBTITLE_TRACKS_UPDATED,T),-1!==g&&this.setSubtitleTrack(g,o)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId,o)}findTrackId(i){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){const o=e[n];if((!this.selectDefaultTrack||o.default)&&(!i||i===o.name))return o.id}return-1}onError(i,e){e.fatal||!e.context||"subtitleTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&this.checkRetry(e)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(i){this.selectDefaultTrack=!1,this.setSubtitleTrack(i,this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0)}loadPlaylist(i){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const n=e.id,o=e.groupId;let u=e.url;if(i)try{u=i.addDirectives(u)}catch(g){this.warn(`Could not construct new URL with HLS Delivery Directives: ${g}`)}this.log(`Loading subtitle playlist for id ${n}`),this.hls.trigger(Tt.SUBTITLE_TRACK_LOADING,{url:u,id:n,groupId:o,deliveryDirectives:i||null})}}toggleTrackModes(i){const{media:e,trackId:n}=this;if(!e)return;const o=Ig(e.textTracks),u=o.filter(T=>T.groupId===this.groupId);if(-1===i)[].slice.call(o).forEach(T=>{T.mode="disabled"});else{const T=u[n];T&&(T.mode="disabled")}const g=u[i];g&&(g.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(i,e){var n;const o=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=i);if(this.trackId!==i&&this.toggleTrackModes(i),this.trackId===i&&(-1===i||null!=(n=o[i])&&n.details)||i<-1||i>=o.length)return;this.clearTimer();const u=o[i];if(this.log(`Switching to subtitle-track ${i}`+(u?` "${u.name}" lang:${u.lang} group:${u.groupId}`:"")),this.trackId=i,u){const{id:g,groupId:T="",name:R,type:G,url:ne}=u;this.hls.trigger(Tt.SUBTITLE_TRACK_SWITCH,{id:g,groupId:T,name:R,type:G,url:ne});const Ee=this.switchParams(u.url,e?.details);this.loadPlaylist(Ee)}else this.hls.trigger(Tt.SUBTITLE_TRACK_SWITCH,{id:i})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let i=-1;const e=Ig(this.media.textTracks);for(let n=0;n<e.length;n++)if("hidden"===e[n].mode)i=n;else if("showing"===e[n].mode){i=n;break}this.subtitleTrack!==i&&(this.subtitleTrack=i)}},timelineController:class pD{constructor(i){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=i,this.config=i.config,this.Cues=i.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const e=new kd(this,"textTrack1"),n=new kd(this,"textTrack2"),o=new kd(this,"textTrack3"),u=new kd(this,"textTrack4");this.cea608Parser1=new Pg(1,e,n),this.cea608Parser2=new Pg(3,o,u)}i.on(Tt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.on(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(Tt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.on(Tt.FRAG_LOADING,this.onFragLoading,this),i.on(Tt.FRAG_LOADED,this.onFragLoaded,this),i.on(Tt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),i.on(Tt.FRAG_DECRYPTED,this.onFragDecrypted,this),i.on(Tt.INIT_PTS_FOUND,this.onInitPtsFound,this),i.on(Tt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),i.on(Tt.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:i}=this;i.off(Tt.MEDIA_ATTACHING,this.onMediaAttaching,this),i.off(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(Tt.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),i.off(Tt.FRAG_LOADING,this.onFragLoading,this),i.off(Tt.FRAG_LOADED,this.onFragLoaded,this),i.off(Tt.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),i.off(Tt.FRAG_DECRYPTED,this.onFragDecrypted,this),i.off(Tt.INIT_PTS_FOUND,this.onInitPtsFound,this),i.off(Tt.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),i.off(Tt.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(i,e,n,o,u){let g=!1;for(let T=u.length;T--;){const R=u[T],G=iA(R[0],R[1],e,n);if(G>=0&&(R[0]=Math.min(R[0],e),R[1]=Math.max(R[1],n),g=!0,G/(n-e)>.5))return}if(g||u.push([e,n]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[i],e,n,o);else{const T=this.Cues.newCue(null,e,n,o);this.hls.trigger(Tt.CUES_PARSED,{type:"captions",cues:T,track:i})}}onInitPtsFound(i,{frag:e,id:n,initPTS:o,timescale:u}){const{unparsedVttFrags:g}=this;"main"===n&&(this.initPTS[e.cc]={baseTime:o,timescale:u}),g.length&&(this.unparsedVttFrags=[],g.forEach(T=>{this.onFragLoaded(Tt.FRAG_LOADED,T)}))}getExistingTrack(i){const{media:e}=this;if(e)for(let n=0;n<e.textTracks.length;n++){const o=e.textTracks[n];if(o[i])return o}return null}createCaptionsTrack(i){this.config.renderTextTracksNatively?this.createNativeTrack(i):this.createNonNativeTrack(i)}createNativeTrack(i){if(this.captionsTracks[i])return;const{captionsProperties:e,captionsTracks:n,media:o}=this,{label:u,languageCode:g}=e[i],T=this.getExistingTrack(i);if(T)n[i]=T,lc(n[i]),zm(n[i],o);else{const R=this.createTextTrack("captions",u,g);R&&(R[i]=!0,n[i]=R)}}createNonNativeTrack(i){if(this.nonNativeCaptionsTracks[i])return;const e=this.captionsProperties[i];if(!e)return;const o={_id:i,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[i]=o,this.hls.trigger(Tt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[o]})}createTextTrack(i,e,n){const o=this.media;if(o)return o.addTextTrack(i,e,n)}onMediaAttaching(i,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:i}=this;Object.keys(i).forEach(e=>{lc(i[e]),delete i[e]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:i}=this;if(!i)return;const e=i.textTracks;if(e)for(let n=0;n<e.length;n++)lc(e[n])}onSubtitleTracksUpdated(i,e){const n=e.subtitleTracks||[],o=n.some(u=>u.textCodec===V0);if(this.config.enableWebVTT||o&&this.config.enableIMSC1){if(wg(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const g=this.media?this.media.textTracks:null;this.tracks.forEach((T,R)=>{let G;if(g&&R<g.length){let ne=null;for(let Ee=0;Ee<g.length;Ee++)if(_D(g[Ee],T)){ne=g[Ee];break}ne&&(G=ne)}if(G)lc(G);else{const ne=this._captionsOrSubtitlesFromCharacteristics(T);G=this.createTextTrack(ne,T.name,T.lang),G&&(G.mode="disabled")}G&&(G.groupId=T.groupId,this.textTracks.push(G))})}else if(this.tracks.length){const g=this.tracks.map(T=>({label:T.name,kind:T.type.toLowerCase(),default:T.default,subtitleTrack:T}));this.hls.trigger(Tt.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:g})}}}_captionsOrSubtitlesFromCharacteristics(i){if(i.attrs.CHARACTERISTICS){const e=/transcribes-spoken-dialog/gi.test(i.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(i.attrs.CHARACTERISTICS);if(e&&n)return"captions"}return"subtitles"}onManifestLoaded(i,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach(n=>{const o=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!o)return;const g=this.captionsProperties[`textTrack${o[1]}`];g&&(g.label=n.name,n.lang&&(g.languageCode=n.lang),g.media=n)})}closedCaptionsForLevel(i){const e=this.hls.levels[i.level];return e?.attrs["CLOSED-CAPTIONS"]}onFragLoading(i,e){const{cea608Parser1:n,cea608Parser2:o,lastSn:u,lastPartIndex:g}=this;if(this.enabled&&n&&o&&"main"===e.frag.type){var T,R;const G=e.frag.sn,ne=null!=(T=null==e||null==(R=e.part)?void 0:R.index)?T:-1;G===u+1||G===u&&ne===g+1||(n.reset(),o.reset()),this.lastSn=G,this.lastPartIndex=ne}}onFragLoaded(i,e){const{frag:n,payload:o}=e;if("subtitle"===n.type)if(o.byteLength){const u=n.decryptdata;if(null==u||!u.encrypted||"stats"in e){const T=this.tracks[n.level],R=this.vttCCs;R[n.cc]||(R[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),T&&T.textCodec===V0?this._parseIMSC1(n,o):this._parseVTTs(e)}}else this.hls.trigger(Tt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(i,e){const n=this.hls;gD(e,this.initPTS[i.cc],o=>{this._appendCues(o,i.level),n.trigger(Tt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},o=>{sn.log(`Failed to parse IMSC1: ${o}`),n.trigger(Tt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:o})})}_parseVTTs(i){var e;const{frag:n,payload:o}=i,{initPTS:u,unparsedVttFrags:g}=this,T=u.length-1;if(!u[n.cc]&&-1===T)return void g.push(i);const R=this.hls;!function j0(r,i,e,n,o,u,g){const T=new fD,R=Ca(new Uint8Array(r)).trim().replace(nA,"\n").split("\n"),G=[],ne=i?function Af(r,i=1){return Od(r,9e4,1/i)}(i.baseTime,i.timescale):0;let Xe,Ee="00:00.000",Ue=0,Ge=0,ht=!0;T.oncue=function(vt){const Lt=e[n];let Zt=e.ccOffset;const Kt=(Ue-ne)/9e4;if(null!=Lt&&Lt.new&&(void 0!==Ge?Zt=e.ccOffset=Lt.start:function(i,e,n){let o=i[e],u=i[o.prevCC];if(!u||!u.new&&o.new)return i.ccOffset=i.presentationOffset=o.start,void(o.new=!1);for(;null!=(g=u)&&g.new;){var g;i.ccOffset+=o.start-u.start,o.new=!1,o=u,u=i[o.prevCC]}i.presentationOffset=n}(e,n,Kt)),Kt){if(!i)return void(Xe=new Error("Missing initPTS for VTT MPEGTS"));Zt=Kt-e.presentationOffset}const un=vt.endTime-vt.startTime,cn=ua(9e4*(vt.startTime+Zt-Ge),9e4*o)/9e4;vt.startTime=Math.max(cn,0),vt.endTime=Math.max(cn+un,0);const Sn=vt.text.trim();vt.text=decodeURIComponent(encodeURIComponent(Sn)),vt.id||(vt.id=Bg(vt.startTime,vt.endTime,Sn)),vt.endTime>0&&G.push(vt)},T.onparsingerror=function(vt){Xe=vt},T.onflush=function(){Xe?g(Xe):u(G)},R.forEach(vt=>{if(ht){if(Vf(vt,"X-TIMESTAMP-MAP=")){ht=!1,vt.slice(16).split(",").forEach(Lt=>{Vf(Lt,"LOCAL:")?Ee=Lt.slice(6):Vf(Lt,"MPEGTS:")&&(Ue=parseInt(Lt.slice(7)))});try{Ge=function(i){let e=parseInt(i.slice(-3));const n=parseInt(i.slice(-6,-4)),o=parseInt(i.slice(-9,-7)),u=i.length>9?parseInt(i.substring(0,i.indexOf(":"))):0;if(!(ci(e)&&ci(n)&&ci(o)&&ci(u)))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${i}`);return e+=1e3*n,e+=6e4*o,e+=36e5*u,e}(Ee)/1e3}catch(Lt){Xe=Lt}return}""===vt&&(ht=!1)}T.parse(vt+"\n")}),T.flush()}(null!=(e=n.initSegment)&&e.data?Zs(n.initSegment.data,new Uint8Array(o)):o,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,ne=>{this._appendCues(ne,n.level),R.trigger(Tt.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},ne=>{const Ee="Missing initPTS for VTT MPEGTS"===ne.message;Ee?g.push(i):this._fallbackToIMSC1(n,o),sn.log(`Failed to parse VTT cue: ${ne}`),!(Ee&&T>n.cc)&&R.trigger(Tt.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:ne})})}_fallbackToIMSC1(i,e){const n=this.tracks[i.level];n.textCodec||gD(e,this.initPTS[i.cc],()=>{n.textCodec=V0,this._parseIMSC1(i,e)},()=>{n.textCodec="wvtt"})}_appendCues(i,e){const n=this.hls;if(this.config.renderTextTracksNatively){const o=this.textTracks[e];if(!o||"disabled"===o.mode)return;i.forEach(u=>Wy(o,u))}else{const o=this.tracks[e];if(!o)return;n.trigger(Tt.CUES_PARSED,{type:"subtitles",cues:i,track:o.default?"default":"subtitles"+e})}}onFragDecrypted(i,e){const{frag:n}=e;"subtitle"===n.type&&this.onFragLoaded(Tt.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(i,e){const{cea608Parser1:n,cea608Parser2:o}=this;if(!this.enabled||!n||!o)return;const{frag:u,samples:g}=e;if("main"!==u.type||"NONE"!==this.closedCaptionsForLevel(u))for(let T=0;T<g.length;T++){const R=g[T].bytes;if(R){const G=this.extractCea608Data(R);n.addData(g[T].pts,G[0]),o.addData(g[T].pts,G[1])}}}onBufferFlushing(i,{startOffset:e,endOffset:n,endOffsetSubtitles:o,type:u}){const{media:g}=this;if(g&&!(g.currentTime<n)){if(!u||"video"===u){const{captionsTracks:T}=this;Object.keys(T).forEach(R=>Zm(T[R],e,n))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==o){const{textTracks:T}=this;Object.keys(T).forEach(R=>Zm(T[R],e,o))}}}extractCea608Data(i){const e=[[],[]],n=31&i[0];let o=2;for(let u=0;u<n;u++){const g=i[o++],T=127&i[o++],R=127&i[o++];if((0!==T||0!==R)&&0!=(4&g)){const ne=3&g;(0===ne||1===ne)&&(e[ne].push(T),e[ne].push(R))}}return e}},audioStreamController:class N0 extends dg{constructor(i,e,n){super(i,e,n,"[audio-stream-controller]","audio"),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:i}=this;i.on(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.on(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.LEVEL_LOADED,this.onLevelLoaded,this),i.on(Tt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),i.on(Tt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.on(Tt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.on(Tt.ERROR,this.onError,this),i.on(Tt.BUFFER_RESET,this.onBufferReset,this),i.on(Tt.BUFFER_CREATED,this.onBufferCreated,this),i.on(Tt.BUFFER_FLUSHED,this.onBufferFlushed,this),i.on(Tt.INIT_PTS_FOUND,this.onInitPtsFound,this),i.on(Tt.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:i}=this;i.off(Tt.MEDIA_ATTACHED,this.onMediaAttached,this),i.off(Tt.MEDIA_DETACHING,this.onMediaDetaching,this),i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.LEVEL_LOADED,this.onLevelLoaded,this),i.off(Tt.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),i.off(Tt.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.off(Tt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.off(Tt.ERROR,this.onError,this),i.off(Tt.BUFFER_RESET,this.onBufferReset,this),i.off(Tt.BUFFER_CREATED,this.onBufferCreated,this),i.off(Tt.BUFFER_FLUSHED,this.onBufferFlushed,this),i.off(Tt.INIT_PTS_FOUND,this.onInitPtsFound,this),i.off(Tt.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(i,{frag:e,id:n,initPTS:o,timescale:u}){if("main"===n){const g=e.cc;this.initPTS[e.cc]={baseTime:o,timescale:u},this.log(`InitPTS for cc: ${g} found from main: ${o}`),this.videoTrackCC=g,"WAITING_INIT_PTS"===this.state&&this.tick()}}startLoad(i){if(!this.levels)return this.startPosition=i,void(this.state="STOPPED");const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===i?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),i=e,this.state="IDLE"):(this.loadedmetadata=!1,this.state="WAITING_TRACK"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=i,this.tick()}doTick(){switch(this.state){case"IDLE":this.doTickIdle();break;case"WAITING_TRACK":{var i;const{levels:n,trackId:o}=this,u=null==n||null==(i=n[o])?void 0:i.details;if(u){if(this.waitForCdnTuneIn(u))break;this.state="WAITING_INIT_PTS"}break}case"FRAG_LOADING_WAITING_RETRY":{var e;const n=performance.now(),o=this.retryDate;(!o||n>=o||null!=(e=this.media)&&e.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state="IDLE");break}case"WAITING_INIT_PTS":{const n=this.waitingData;if(n){const{frag:o,part:u,cache:g,complete:T}=n;if(void 0!==this.initPTS[o.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state="FRAG_LOADING";const G={frag:o,part:u,payload:g.flush(),networkDetails:null};this._handleFragmentLoadProgress(G),T&&super._handleFragmentLoadComplete(G)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${o.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const R=this.getLoadPosition(),G=mr.bufferInfo(this.mediaBuffer,R,this.config.maxBufferHole);ig(G.end,this.config.maxFragLookUpTolerance,o)<0&&(this.log(`Waiting fragment cc (${o.cc}) @ ${o.start} cancelled because another fragment at ${G.end} is needed`),this.clearWaitingFragment())}}else this.state="IDLE"}}this.onTickEnd()}clearWaitingFragment(){const i=this.waitingData;i&&(this.fragmentTracker.removeFragment(i.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state="IDLE")}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:i}=this;null!=i&&i.readyState&&(this.lastCurrentTime=i.currentTime)}doTickIdle(){const{hls:i,levels:e,media:n,trackId:o}=this;if(null==e||!e[o]||!n&&(this.startFragRequested||!i.config.startFragPrefetch))return;const g=e[o],T=g.details;if(!T||T.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(T))return void(this.state="WAITING_TRACK");const R=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&R&&(this.bufferFlushed=!1,this.afterBufferFlushed(R,"audio","audio"));const G=this.getFwdBufferInfo(R,"audio");if(null===G)return;const{bufferedTrack:ne,switchingTrack:Ee}=this;if(!Ee&&this._streamEnded(G,T))return i.trigger(Tt.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");const Ue=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,"main"),Ge=G.len,Xe=this.getMaxBufferLength(Ue?.len);if(Ge>=Xe&&!Ee)return;const vt=T.fragments[0].start;let Lt=G.end;if(Ee&&n){const cn=this.getLoadPosition();ne&&Ee.attrs!==ne.attrs&&(Lt=cn),T.PTSKnown&&cn<vt&&(G.end>vt||G.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=vt+.05)}let Zt=this.getNextFragment(Lt,T),Kt=!1;if(Zt&&this.isLoopLoading(Zt,Lt)&&(Kt=!!Zt.gap,Zt=this.getNextFragmentLoopLoading(Zt,T,G,"main",Xe)),!Zt)return void(this.bufferFlushed=!0);const un=Ue&&Zt.start>Ue.end+T.targetduration;if(un||(null==Ue||!Ue.len)&&G.len){const cn=this.getAppendedFrag(Zt.start,"main");if(null===cn||(Kt||(Kt=!!cn.gap||!!un&&0===Ue.len),un&&!Kt||Kt&&G.nextStart&&G.nextStart<cn.end))return}this.loadFragment(Zt,g,Lt)}getMaxBufferLength(i){const e=super.getMaxBufferLength();return i?Math.min(Math.max(e,i),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(i,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map(n=>new $s(n))}onAudioTrackSwitching(i,e){const n=!!e.url;this.trackId=e.id;const{fragCurrent:o}=this;o&&(o.abortRequests(),this.removeUnbufferedFrags(o.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=e,this.state="IDLE"):(this.switchingTrack=null,this.bufferedTrack=e,this.state="STOPPED"),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(i,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(Tt.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(i,e){var n;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:o}=this,{details:u,id:g}=e;if(!o)return void this.warn(`Audio tracks were reset while loading level ${g}`);this.log(`Track ${g} loaded [${u.startSN},${u.endSN}]${u.lastPartSn?`[part-${u.lastPartSn}-${u.lastPartIndex}]`:""},duration:${u.totalduration}`);const T=o[g];let R=0;if(u.live||null!=(n=T.details)&&n.live){const G=this.mainDetails;if(u.fragments[0]||(u.deltaUpdateFailed=!0),u.deltaUpdateFailed||!G)return;!T.details&&u.hasProgramDateTime&&G.hasProgramDateTime?(Ad(u,G),R=u.fragments[0].start):R=this.alignPlaylists(u,T.details)}T.details=u,this.levelLastLoaded=g,!this.startFragRequested&&(this.mainDetails||!u.live)&&this.setStartPosition(T.details,R),"WAITING_TRACK"===this.state&&!this.waitForCdnTuneIn(u)&&(this.state="IDLE"),this.tick()}_handleFragmentLoadProgress(i){var e;const{frag:n,part:o,payload:u}=i,{config:g,trackId:T,levels:R}=this;if(!R)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const G=R[T];if(!G)return void this.warn("Audio track is undefined on fragment load progress");const ne=G.details;if(!ne)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const Ee=g.defaultAudioCodec||G.audioCodec||"mp4a.40.2";let Ue=this.transmuxer;Ue||(Ue=this.transmuxer=new xg(this.hls,"audio",this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const Ge=this.initPTS[n.cc],Xe=null==(e=n.initSegment)?void 0:e.data;if(void 0!==Ge){const vt=o?o.index:-1,Zt=new Js(n.level,n.sn,n.stats.chunkCount,u.byteLength,vt,-1!==vt);Ue.push(u,Xe,Ee,"",n,o,ne.totalduration,!1,Zt,Ge)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${ne.startSN} ,${ne.endSN}],track ${T}`);const{cache:ht}=this.waitingData=this.waitingData||{frag:n,part:o,cache:new tD,complete:!1};ht.push(new Uint8Array(u)),this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS"}}_handleFragmentLoadComplete(i){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(i)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(i,e){const n=e.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(i,e){const{frag:n,part:o}=e;if("audio"===n.type)if(this.fragContextChanged(n))this.warn(`Fragment ${n.sn}${o?" p: "+o.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==n.sn){this.fragPrevious=n;const u=this.switchingTrack;u&&(this.bufferedTrack=u,this.switchingTrack=null,this.hls.trigger(Tt.AUDIO_TRACK_SWITCHED,Ho({},u)))}this.fragBufferedComplete(n,o)}else if(!this.loadedmetadata&&"main"===n.type){const u=this.videoBuffer||this.media;u&&mr.getBuffered(u).length&&(this.loadedmetadata=!0)}}onError(i,e){var n;if(e.fatal)this.state="ERROR";else switch(e.details){case En.FRAG_GAP:case En.FRAG_PARSING_ERROR:case En.FRAG_DECRYPT_ERROR:case En.FRAG_LOAD_ERROR:case En.FRAG_LOAD_TIMEOUT:case En.KEY_LOAD_ERROR:case En.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError("audio",e);break;case En.AUDIO_TRACK_LOAD_ERROR:case En.AUDIO_TRACK_LOAD_TIMEOUT:case En.LEVEL_PARSING_ERROR:!e.levelRetry&&"WAITING_TRACK"===this.state&&"audioTrack"===(null==(n=e.context)?void 0:n.type)&&(this.state="IDLE");break;case En.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case En.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushed(i,{type:e}){"audio"===e&&(this.bufferFlushed=!0,"ENDED"===this.state&&(this.state="IDLE"))}_handleTransmuxComplete(i){var e;const n="audio",{hls:o}=this,{remuxResult:u,chunkMeta:g}=i,T=this.getCurrentContext(g);if(!T)return void this.resetWhenMissingContext(g);const{frag:R,part:G,level:ne}=T,{details:Ee}=ne,{audio:Ue,text:Ge,id3:Xe,initSegment:ht}=u;if(!this.fragContextChanged(R)&&Ee){if(this.state="PARSING",this.switchingTrack&&Ue&&this.completeAudioSwitch(this.switchingTrack),null!=ht&&ht.tracks){const vt=R.initSegment||R;this._bufferInitSegment(ht.tracks,vt,g),o.trigger(Tt.FRAG_PARSING_INIT_SEGMENT,{frag:vt,id:n,tracks:ht.tracks})}if(Ue){const{startPTS:vt,endPTS:Lt,startDTS:Zt,endDTS:Kt}=Ue;G&&(G.elementaryStreams.audio={startPTS:vt,endPTS:Lt,startDTS:Zt,endDTS:Kt}),R.setElementaryStreamInfo("audio",vt,Lt,Zt,Kt),this.bufferFragmentData(Ue,R,G,g)}if(null!=Xe&&null!=(e=Xe.samples)&&e.length){const vt=Vr({id:n,frag:R,details:Ee},Xe);o.trigger(Tt.FRAG_PARSING_METADATA,vt)}if(Ge){const vt=Vr({id:n,frag:R,details:Ee},Ge);o.trigger(Tt.FRAG_PARSING_USERDATA,vt)}}else this.fragmentTracker.removeFragment(R)}_bufferInitSegment(i,e,n){if("PARSING"!==this.state)return;i.video&&delete i.video;const o=i.audio;if(!o)return;o.levelCodec=o.codec,o.id="audio",this.log(`Init audio buffer, container:${o.container}, codecs[parsed]=[${o.codec}]`),this.hls.trigger(Tt.BUFFER_CODECS,i);const u=o.initSegment;null!=u&&u.byteLength&&this.hls.trigger(Tt.BUFFER_APPENDING,{type:"audio",frag:e,part:null,chunkMeta:n,parent:e.type,data:u}),this.tick()}loadFragment(i,e,n){const o=this.fragmentTracker.getState(i);var u;this.fragCurrent=i,this.switchingTrack||"NOT_LOADED"===o||"PARTIAL"===o?"initSegment"===i.sn?this._loadInitSegment(i,e):null!=(u=e.details)&&u.live&&!this.initPTS[i.cc]?(this.log(`Waiting for video PTS in continuity counter ${i.cc} of live stream before loading audio fragment ${i.sn} of level ${this.trackId}`),this.state="WAITING_INIT_PTS"):(this.startFragRequested=!0,super.loadFragment(i,e,n)):this.clearTrackerIfNeeded(i)}completeAudioSwitch(i){const{hls:e,media:n,bufferedTrack:o}=this,u=o?.attrs,g=i.attrs;n&&u&&(u.CHANNELS!==g.CHANNELS||u.NAME!==g.NAME||u.LANGUAGE!==g.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=i,this.switchingTrack=null,e.trigger(Tt.AUDIO_TRACK_SWITCHED,Ho({},i))}},audioTrackController:class Ag extends rg{constructor(i){super(i,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:i}=this;i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Tt.LEVEL_LOADING,this.onLevelLoading,this),i.on(Tt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.on(Tt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.on(Tt.ERROR,this.onError,this)}unregisterListeners(){const{hls:i}=this;i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Tt.LEVEL_LOADING,this.onLevelLoading,this),i.off(Tt.LEVEL_SWITCHING,this.onLevelSwitching,this),i.off(Tt.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),i.off(Tt.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(i,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(i,e){const{id:n,groupId:o,details:u}=e,g=this.tracksInGroup[n];if(!g||g.groupId!==o)return void this.warn(`Track with id:${n} and group:${o} not found in active group ${g.groupId}`);const T=g.details;g.details=e.details,this.log(`audio-track ${n} "${g.name}" lang:${g.lang} group:${o} loaded [${u.startSN}-${u.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,T)}onLevelLoading(i,e){this.switchLevel(e.level)}onLevelSwitching(i,e){this.switchLevel(e.level)}switchLevel(i){const e=this.hls.levels[i];if(null==e||!e.audioGroupIds)return;const n=e.audioGroupIds[e.urlId];if(this.groupId!==n){this.groupId=n||null;const o=this.tracks.filter(g=>!n||g.groupId===n);this.selectDefaultTrack&&!o.some(g=>g.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=o;const u={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group:${n}`),this.hls.trigger(Tt.AUDIO_TRACKS_UPDATED,u),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(i,e){e.fatal||!e.context||"audioTrack"===e.context.type&&e.context.id===this.trackId&&e.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(e))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(i){this.selectDefaultTrack=!1,this.setAudioTrack(i)}setAudioTrack(i){const e=this.tracksInGroup;if(i<0||i>=e.length)return void this.warn("Invalid id passed to audio-track controller");this.clearTimer();const n=this.currentTrack,o=e[i],{groupId:u,name:g}=o;if(this.log(`Switching to audio-track ${i} "${g}" lang:${o.lang} group:${u}`),this.trackId=i,this.currentTrack=o,this.selectDefaultTrack=!1,this.hls.trigger(Tt.AUDIO_TRACK_SWITCHING,Ho({},o)),o.details&&!o.details.live)return;const T=this.switchParams(o.url,n?.details);this.loadPlaylist(T)}selectInitialTrack(){const i=this.tracksInGroup,e=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==e)this.setAudioTrack(e);else{const n=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${i.length}`);this.warn(n.message),this.hls.trigger(Tt.ERROR,{type:mi.MEDIA_ERROR,details:En.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:n})}}findTrackId(i){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){const o=e[n];if((!this.selectDefaultTrack||o.default)&&(!i||void 0!==i.attrs["STABLE-RENDITION-ID"]&&i.attrs["STABLE-RENDITION-ID"]===o.attrs["STABLE-RENDITION-ID"]||i.name===o.name&&i.lang===o.lang))return o.id}return-1}loadPlaylist(i){super.loadPlaylist();const e=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(e)){const n=e.id,o=e.groupId;let u=e.url;if(i)try{u=i.addDirectives(u)}catch(g){this.warn(`Could not construct new URL with HLS Delivery Directives: ${g}`)}this.log(`loading audio-track playlist ${n} "${e.name}" lang:${e.lang} group:${o}`),this.clearTimer(),this.hls.trigger(Tt.AUDIO_TRACK_LOADING,{url:u,id:n,groupId:o,deliveryDirectives:i||null})}}},emeController:oA,cmcdController:Cs,contentSteeringController:class sA{constructor(i){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=i,this.log=sn.log.bind(sn,"[content-steering]:"),this.registerListeners()}registerListeners(){const i=this.hls;i.on(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.on(Tt.MANIFEST_LOADED,this.onManifestLoaded,this),i.on(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.on(Tt.ERROR,this.onError,this)}unregisterListeners(){const i=this.hls;i&&(i.off(Tt.MANIFEST_LOADING,this.onManifestLoading,this),i.off(Tt.MANIFEST_LOADED,this.onManifestLoaded,this),i.off(Tt.MANIFEST_PARSED,this.onManifestParsed,this),i.off(Tt.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const i=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,i)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(i){const e=this.levels;e&&(this.levels=e.filter(n=>n!==i))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(i,e){const{contentSteering:n}=e;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(i,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(i,e){const{errorAction:n}=e;if(2===n?.action&&1===n.flags){let o=this.pathwayPriority;const u=this.pathwayId;this.penalizedPathways[u]||(this.penalizedPathways[u]=performance.now()),!o&&this.levels&&(o=this.levels.reduce((g,T)=>(-1===g.indexOf(T.pathwayId)&&g.push(T.pathwayId),g),[])),o&&o.length>1&&(this.updatePathwayPriority(o),n.resolved=this.pathwayId!==u)}}filterParsedLevels(i){this.levels=i;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const n=i[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),e=this.getLevelsForPathway(n),this.pathwayId=n}return e.length!==i.length?(this.log(`Found ${e.length}/${i.length} levels in Pathway "${this.pathwayId}"`),e):i}getLevelsForPathway(i){return null===this.levels?[]:this.levels.filter(e=>i===e.pathwayId)}updatePathwayPriority(i){let e;this.pathwayPriority=i;const n=this.penalizedPathways,o=performance.now();Object.keys(n).forEach(u=>{o-n[u]>3e5&&delete n[u]});for(let u=0;u<i.length;u++){const g=i[u];if(n[g])continue;if(g===this.pathwayId)return;const T=this.hls.nextLoadLevel,R=this.hls.levels[T];if(e=this.getLevelsForPathway(g),e.length>0){this.log(`Setting Pathway to "${g}"`),this.pathwayId=g,this.hls.trigger(Tt.LEVELS_UPDATED,{levels:e});const G=this.hls.levels[T];R&&G&&this.levels&&(G.attrs["STABLE-VARIANT-ID"]!==R.attrs["STABLE-VARIANT-ID"]&&G.bitrate!==R.bitrate&&this.log(`Unstable Pathways change from bitrate ${R.bitrate} to ${G.bitrate}`),this.hls.nextLoadLevel=T);break}}}clonePathways(i){const e=this.levels;if(!e)return;const n={},o={};i.forEach(u=>{const{ID:g,"BASE-ID":T,"URI-REPLACEMENT":R}=u;if(e.some(ne=>ne.pathwayId===g))return;const G=this.getLevelsForPathway(T).map(ne=>{const Ee=Vr({},ne);Ee.details=void 0,Ee.url=bD(ne.uri,ne.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",R);const Ue=new br(ne.attrs);Ue["PATHWAY-ID"]=g;const Ge=Ue.AUDIO&&`${Ue.AUDIO}_clone_${g}`,Xe=Ue.SUBTITLES&&`${Ue.SUBTITLES}_clone_${g}`;Ge&&(n[Ue.AUDIO]=Ge,Ue.AUDIO=Ge),Xe&&(o[Ue.SUBTITLES]=Xe,Ue.SUBTITLES=Xe),Ee.attrs=Ue;const ht=new $s(Ee);return Es(ht,"audio",Ge),Es(ht,"text",Xe),ht});e.push(...G),yD(this.audioTracks,n,R,g),yD(this.subtitleTracks,o,R,g)})}loadSteeringManifest(i){const e=this.hls.config,n=e.loader;let o;this.loader&&this.loader.destroy(),this.loader=new n(e);try{o=new self.URL(i)}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${i}`)}if("data:"!==o.protocol){const ne=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);o.searchParams.set("_HLS_pathway",this.pathwayId),o.searchParams.set("_HLS_throughput",""+ne)}const u={responseType:"json",url:o.href},g=e.steeringManifestLoadPolicy.default,T=g.errorRetry||g.timeoutRetry||{},R={loadPolicy:g,timeout:g.maxLoadTimeMs,maxRetry:T.maxNumRetry||0,retryDelay:T.retryDelayMs||0,maxRetryDelay:T.maxRetryDelayMs||0},G={onSuccess:(ne,Ee,Ue,Ge)=>{this.log(`Loaded steering manifest: "${o}"`);const Xe=ne.data;if(1!==Xe.VERSION)return void this.log(`Steering VERSION ${Xe.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=Xe.TTL;const{"RELOAD-URI":ht,"PATHWAY-CLONES":vt,"PATHWAY-PRIORITY":Lt}=Xe;if(ht)try{this.uri=new self.URL(ht,o).href}catch{return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${ht}`)}this.scheduleRefresh(this.uri||Ue.url),vt&&this.clonePathways(vt),Lt&&this.updatePathwayPriority(Lt)},onError:(ne,Ee,Ue,Ge)=>{if(this.log(`Error loading steering manifest: ${ne.code} ${ne.text} (${Ee.url})`),this.stopLoad(),410===ne.code)return this.enabled=!1,void this.log(`Steering manifest ${Ee.url} no longer available`);let Xe=1e3*this.timeToLoad;if(429!==ne.code)this.scheduleRefresh(this.uri||Ee.url,Xe);else{const ht=this.loader;if("function"==typeof ht?.getResponseHeader){const vt=ht.getResponseHeader("Retry-After");vt&&(Xe=1e3*parseFloat(vt))}this.log(`Steering manifest ${Ee.url} rate limited`)}},onTimeout:(ne,Ee,Ue)=>{this.log(`Timeout loading steering manifest (${Ee.url})`),this.scheduleRefresh(this.uri||Ee.url)}};this.log(`Requesting steering manifest: ${o}`),this.loader.load(u,R,G)}scheduleRefresh(i,e=1e3*this.timeToLoad){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(i)},e)}}});function X0(r){return r&&"object"==typeof r?Array.isArray(r)?r.map(X0):Object.keys(r).reduce((i,e)=>(i[e]=X0(r[e]),i),{}):r}let ol=(()=>{class r{static get version(){return"1.4.10"}static isSupported(){return function Df(){const r=Ed();if(!r)return!1;const i=ug();return!(!r||"function"!=typeof r.isTypeSupported||!r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||i&&(!i.prototype||"function"!=typeof i.prototype.appendBuffer||"function"!=typeof i.prototype.remove))}()}static get Events(){return Tt}static get ErrorTypes(){return mi}static get ErrorDetails(){return En}static get DefaultConfig(){return r.defaultConfig?r.defaultConfig:Wf}static set DefaultConfig(e){r.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Lf,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,function my(r,i){if(self.console&&!0===r||"object"==typeof r){!function hy(r,...i){i.forEach(function(e){ud[e]=r[e]?r[e].bind(r):function nC(r){const i=self.console[r];return i?i.bind(self.console,`[${r}] >`):zs}(e)})}(r,"debug","log","info","warn","error");try{ud.log(`Debug logs enabled for "${i}" in hls.js version 1.4.10`)}catch{ud=km}}else ud=km}(e.debug||!1,"Hls instance");const n=this.config=function dA(r,i){if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==i.liveMaxLatencyDurationCount&&(void 0===i.liveSyncDurationCount||i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(void 0===i.liveSyncDuration||i.liveMaxLatencyDuration<=i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const e=X0(r),o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach(u=>{const g=`${"level"===u?"playlist":u}LoadPolicy`,T=void 0===i[g],R=[];o.forEach(G=>{const ne=`${u}Loading${G}`,Ee=i[ne];if(void 0!==Ee&&T){R.push(ne);const Ue=e[g].default;switch(i[g]={default:Ue},G){case"TimeOut":Ue.maxLoadTimeMs=Ee,Ue.maxTimeToFirstByteMs=Ee;break;case"MaxRetry":Ue.errorRetry.maxNumRetry=Ee,Ue.timeoutRetry.maxNumRetry=Ee;break;case"RetryDelay":Ue.errorRetry.retryDelayMs=Ee,Ue.timeoutRetry.retryDelayMs=Ee;break;case"MaxRetryTimeout":Ue.errorRetry.maxRetryDelayMs=Ee,Ue.timeoutRetry.maxRetryDelayMs=Ee}}}),R.length&&sn.warn(`hls.js config: "${R.join('", "')}" setting(s) are deprecated, use "${g}": ${JSON.stringify(i[g])}`)}),Ho(Ho({},e),i)}(r.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,n.progressive&&function eb(r){const i=r.loader;i!==q0&&i!==$0?(sn.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):function Kf(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}()&&(r.loader=q0,r.progressive=!0,r.enableSoftwareAES=!0,sn.log("[config]: Progressive streaming enabled, using FetchLoader"))}(n);const{abrController:o,bufferController:u,capLevelController:g,errorController:T,fpsController:R}=n,G=new T(this),ne=this.abrController=new o(this),Ee=this.bufferController=new u(this),Ue=this.capLevelController=new g(this),Ge=new R(this),Xe=new EC(this),ht=new zy(this),vt=n.contentSteeringController,Lt=vt?new vt(this):null,Zt=this.levelController=new AC(this,Lt),Kt=new a0(this),un=new s0(this.config),cn=this.streamController=new ZM(this,Kt,un);Ue.setStreamController(cn),Ge.setStreamController(cn);const Sn=[Xe,Zt,cn];Lt&&Sn.splice(1,0,Lt),this.networkControllers=Sn;const gn=[ne,Ee,Ue,Ge,ht,Kt];this.audioTrackController=this.createController(n.audioTrackController,Sn);const An=n.audioStreamController;An&&Sn.push(new An(this,Kt,un)),this.subtitleTrackController=this.createController(n.subtitleTrackController,Sn);const Vn=n.subtitleStreamController;Vn&&Sn.push(new Vn(this,Kt,un)),this.createController(n.timelineController,gn),un.emeController=this.emeController=this.createController(n.emeController,gn),this.cmcdController=this.createController(n.cmcdController,gn),this.latencyController=this.createController(cc,gn),this.coreComponents=gn,Sn.push(G);const _n=G.onErrorOut;"function"==typeof _n&&this.on(Tt.ERROR,_n,G)}createController(e,n){if(e){const o=new e(this);return n&&n.push(o),o}return null}on(e,n,o=this){this._emitter.on(e,n,o)}once(e,n,o=this){this._emitter.once(e,n,o)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,o=this,u){this._emitter.off(e,n,o,u)}listeners(e){return this._emitter.listeners(e)}emit(e,n,o){return this._emitter.emit(e,n,o)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(o){sn.error("An internal error happened while handling event "+e+'. Error message: "'+o.message+'". Here is a stacktrace:',o),this.trigger(Tt.ERROR,{type:mi.OTHER_ERROR,details:En.INTERNAL_EXCEPTION,fatal:!1,event:e,error:o})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){sn.log("destroy"),this.trigger(Tt.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){sn.log("attachMedia"),this._media=e,this.trigger(Tt.MEDIA_ATTACHING,{media:e})}detachMedia(){sn.log("detachMedia"),this.trigger(Tt.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const n=this.media,o=this.url,u=this.url=Lm.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});sn.log(`loadSource:${u}`),n&&o&&(o!==u||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(Tt.MANIFEST_LOADING,{url:e})}startLoad(e=-1){sn.log(`startLoad(${e})`),this.networkControllers.forEach(n=>{n.startLoad(e)})}stopLoad(){sn.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){sn.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){sn.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,n=0){this.levelController.removeLevel(e,n)}get levels(){return this.levelController.levels||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){sn.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){sn.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){sn.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){sn.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){sn.log(`set startLevel:${e}`),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(sn.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){vf.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const o=e.length;for(let u=0;u<o;u++)if(e[u].maxBitrate>=n)return u;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:o}=this;let u;if(u=-1===n&&e&&e.length?e.length-1:n,o)for(let g=u;g--;){const T=e[g].attrs["HDCP-LEVEL"];if(T&&T<=o)return g}return u}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return!!e&&e.subtitleDisplay}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}return r.defaultConfig=void 0,r})();function SD(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.onClickDialogAction(u))}),t._uU(1),t.qZA()}if(2&r){const e=i.$implicit;t.xp6(1),t.Oqu(e.text)}}let tb=(()=>{class r{constructor(e,n){this.dialog=e,this.options=n}onClickDialogAction(e){this.dialog.close(e)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ni.so),t.Y36(ni.WI))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-custom-dialog-options"]],decls:9,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"custom-dialog-message"],[1,"modal-footer"],[1,"custom-dialog-options"],["ngFor","",3,"ngForOf"],["type","button",1,"custom-dialog-button",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h5",1),t._uU(2),t.qZA()(),t.TgZ(3,"div",2)(4,"div",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.YNc(8,SD,2,1,"ng-template",6),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(o.options.title),t.xp6(3),t.hij(" ",o.options.message," "),t.xp6(3),t.Q6J("ngForOf",o.options.actions))},dependencies:[p.sg],styles:[".modal-container[_ngcontent-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px;height:100%;left:0;pointer-events:auto;position:absolute;top:0;width:100%;z-index:1014}.modal-backdrop[_ngcontent-%COMP%]{align-items:center;background-color:#6669;display:flex;height:100%;justify-content:center;overflow-y:scroll;width:100%;opacity:1}.modal-small[_ngcontent-%COMP%]{opacity:1;transform:none;width:480px;display:flex;max-height:90%;transform-origin:center center}.modal-content[_ngcontent-%COMP%]{background-color:#2d2d2d;display:flex;flex-direction:column;flex-grow:1;position:relative;width:100%}button.modal-content-close-button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3;font-size:18px;height:60px;line-height:60px;position:absolute;right:0;text-align:center;top:0;width:60px;z-index:1}button.modal-content-close-button[_ngcontent-%COMP%]:hover{color:#fff}.modal-header[_ngcontent-%COMP%]{color:#fff;flex-shrink:0;font-size:18px;max-width:100%;min-width:0;overflow:hidden!important;padding:15px 60px 15px 30px;text-overflow:ellipsis;white-space:nowrap!important}.confirm-modal-body[_ngcontent-%COMP%]{background-color:#00000026;flex-grow:1;padding:0;color:#ffffffbf;word-break:break-word;overflow-y:auto;overflow-x:hidden}.inner-modal-body[_ngcontent-%COMP%]{padding:30px}.inner-modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px}label.confirm-modal-accord-label[_ngcontent-%COMP%]{color:#ffffffbf;display:flex;margin-top:25px;-webkit-user-select:none;user-select:none;font-weight:400;margin-bottom:5px}input.confirm-message-accord-input[_ngcontent-%COMP%]{line-height:normal;box-sizing:border-box;padding:0;background-image:none;margin-right:5px}.modal-footer[_ngcontent-%COMP%]{align-items:center;display:flex;flex-shrink:0;justify-content:flex-end;padding:15px 30px}button.confirm-modal-button[_ngcontent-%COMP%]{min-width:65px;padding:5px 20px;background-color:#ffffff40;border-radius:4px;color:#fff;display:inline-block;transition:background-color .2s,color .2s;vertical-align:middle;white-space:nowrap;overflow:hidden;text-align:center;border:0;cursor:pointer;margin:0;outline:none}button.confirm-modal-button.cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff26;color:#fff}button.confirm-modal-button.confirm[_ngcontent-%COMP%]{min-width:65px;background-color:#b32;color:#fff;margin-left:10px}button.confirm-modal-button.confirm.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;background-color:#832418;color:#ffffff73}button.confirm-modal-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ce3825}.spinner-button-label[_ngcontent-%COMP%]{left:0;position:relative;transition:left .2s,opacity .2s}"]})}return r})();const nb=["controlsContainer"],ib=["settingsContainer"],CD=["videoPrincipalContainer"],DD=["videoTarget"];function rb(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToPreviousEpisode())}),t._UZ(1,"i",56),t.qZA()}}function Zg(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToNextEpisode())}),t._UZ(1,"i",58),t.qZA()}}function hA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",59,60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",61),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw(2);return t.KtG(u.focusButton(o))}),t.qZA(),t._UZ(3,"i",62),t.qZA()}}function ob(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",63,64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.playOrPauseVideo())}),t.TgZ(2,"img",61),t.NdJ("error",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw(2);return t.KtG(u.focusButton(o))}),t.qZA(),t._UZ(3,"i",65),t.qZA()}}const $g=function(r){return{"show-controls":r}};function xD(r,i){if(1&r&&(t.TgZ(0,"div",66),t._uU(1," Cargando video... "),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(1,$g,e.showControls))}}const ab=function(r){return{selected:r}};function mA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw(3);return t.KtG(g.onClickPrincipalSettingsOption(u))}),t._uU(1),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw(3);t.MGl("id","stream_option_",e.index,""),t.Q6J("ngClass",t.VKq(3,ab,n.currentSelectedPrincipalSettingOption&&e.index==n.currentSelectedPrincipalSettingOption.index)),t.xp6(1),t.hij(" ",e.name," ")}}function gA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw(4);return t.KtG(g.onClickStreamOption(u))}),t._uU(1),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw(4);t.hYB("id","stream_option_",n.currentSelectedPrincipalSettingOption.id,"_suboption_",e.index,""),t.Q6J("ngClass",t.VKq(4,ab,n.currentSelectedPrincipalSettingOption.selectedOption&&n.currentSelectedPrincipalSettingOption.selectedOption.index==e.index)),t.xp6(1),t.hij(" ",e.name," ")}}function MD(r,i){if(1&r&&(t.TgZ(0,"section",78),t.YNc(1,gA,2,6,"ng-template",75),t.qZA()),2&r){const e=t.oxw(3);t.MGl("id","streams_suboptions_section_",e.currentSelectedPrincipalSettingOption.index,""),t.xp6(1),t.Q6J("ngForOf",e.currentSelectedPrincipalSettingOption.listOptions)}}function AD(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"section",67,68)(2,"div",69)(3,"section",70)(4,"div",71)(5,"div",72)(6,"button",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hideSettings())}),t._UZ(7,"i",11),t.qZA()()()(),t.TgZ(8,"section",74),t.YNc(9,mA,2,5,"ng-template",75),t.qZA(),t.YNc(10,MD,2,2,"section",76),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(9),t.Q6J("ngForOf",e.listPrincipalSettingsOptions),t.xp6(1),t.Q6J("ngIf",e.currentSelectedPrincipalSettingOption)}}function wD(r,i){if(1&r&&t._UZ(0,"div",79),2&r){const e=i.$implicit,n=t.oxw(3);t.Udp("display",n.checkIfDisplaySubtitles(e)?"block":"none"),t.Q6J("innerHtml",e.text,t.oJD)}}function ID(r,i){if(1&r&&t.YNc(0,wD,1,3,"ng-template",75),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.currentSubtitleData)}}function sb(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"video",80,81),t.NdJ("error",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onErrorVideo())})("loadedmetadata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedMetadata())})("loadeddata",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onLoadedData())})("ended",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.OnEndedVideo())}),t.qZA()}}const lb=function(r){return{show:r}};function pA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",4,5),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw();return t.KtG(!u.sharedService.isMobileDevice()&&u.onClickVideoContainer(o))})("touchstart",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw();return t.KtG(u.sharedService.isMobileDevice()&&u.onTouchVideoContainer(o))})("mousemove",function(){t.CHM(e);const o=t.MAs(1),u=t.oxw();return t.KtG(u.onMouseMoveVideoContainer(o))}),t.TgZ(2,"div",6)(3,"section",7,8)(5,"section",9)(6,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeVideo())}),t._UZ(7,"i",11),t.qZA(),t.TgZ(8,"div",12),t._uU(9),t.qZA()(),t.TgZ(10,"div",13)(11,"div",14)(12,"section",15)(13,"button",16)(14,"div",17,18),t._uU(16),t.qZA(),t.TgZ(17,"div",19)(18,"div",20),t.NdJ("contextmenu",function(){t.CHM(e);const o=t.MAs(23),u=t.oxw();return t.KtG(!u.sharedService.isMobileDevice()&&u.onClickSlider(o))})("click",function(){t.CHM(e);const o=t.MAs(23),u=t.oxw();return t.KtG(u.onClickSlider(o))})("touchend",function(){t.CHM(e);const o=t.MAs(23),u=t.oxw();return t.KtG(u.sharedService.isMobileDevice()&&u.onClickSlider(o))})("touchstart",function(o){t.CHM(e);const u=t.MAs(23),g=t.MAs(15),T=t.oxw();return t.KtG(T.sharedService.isMobileDevice()&&T.onTouchStartSlider(o,u,g))})("touchmove",function(o){t.CHM(e);const u=t.MAs(23),g=t.MAs(15),T=t.oxw();return t.KtG(T.sharedService.isMobileDevice()&&T.onTouchMoveSlider(o,u,g))})("mousedown",function(o){t.CHM(e);const u=t.MAs(23),g=t.oxw();return t.KtG(g.onMouseDownSlider(o,u))})("mousemove",function(o){t.CHM(e);const u=t.MAs(23),g=t.oxw();return t.KtG(g.onMouseMoveSlider(o,u))}),t._UZ(19,"div",21,22),t.TgZ(21,"div",23)(22,"div",24,25)(24,"div",26,25),t._UZ(26,"div",27,28),t.qZA()()()()(),t.TgZ(28,"div",17,29),t._uU(30),t.qZA()()(),t.TgZ(31,"section",30)(32,"div",31),t.YNc(33,rb,2,0,"button",32),t.qZA(),t.TgZ(34,"div",33)(35,"div",34),t.YNc(36,Zg,2,0,"button",35),t.TgZ(37,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeObjectContain())}),t._UZ(38,"i",37),t.qZA(),t.TgZ(39,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleFullScreenVideo())}),t._UZ(40,"i",39),t.qZA(),t.TgZ(41,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showSettings())}),t._UZ(42,"i",41),t.qZA()()()(),t.TgZ(43,"div",42)(44,"div",43)(45,"section",44)(46,"button",45),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.rewindVideo())}),t._UZ(47,"i",46),t.qZA(),t.YNc(48,hA,4,0,"button",47),t.YNc(49,ob,4,0,"button",48),t.TgZ(50,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.forwardVideo())}),t._UZ(51,"i",50),t.qZA()()()()()()(),t.YNc(52,xD,2,3,"div",51),t.YNc(53,AD,11,2,"section",52),t.YNc(54,ID,1,1,"ng-template",53),t.YNc(55,sb,2,0,"video",54),t.qZA()()}if(2&r){const e=t.MAs(15),n=t.MAs(20),o=t.MAs(29),u=t.oxw();t.xp6(3),t.Q6J("ngClass",t.VKq(22,lb,u.showControls)),t.xp6(6),t.hij(" ",u.builderVideo.TranscodePrepareVideo.Title," "),t.xp6(5),t.Udp("visibility",u.showControls?"":"hidden"),t.xp6(2),t.hij(" ",u.getVideoTime()," "),t.xp6(1),t.Udp("width","calc(100% - "+(e.offsetWidth+o.offsetWidth)+"px)"),t.xp6(5),t.Udp("width",n.offsetWidth+"px"),t.xp6(4),t.Udp("width",u.getSliderPogressWidth()),t.xp6(2),t.Udp("visibility",u.showControls?"":"hidden"),t.xp6(2),t.hij(" ",u.getDurationTime()," "),t.xp6(3),t.Q6J("ngIf",u.isEnablePreviousEpisodeButton()),t.xp6(3),t.Q6J("ngIf",u.isEnableNextEpisodeButton()),t.xp6(12),t.Q6J("ngIf",!u.isPlayingVideo()),t.xp6(1),t.Q6J("ngIf",u.isPlayingVideo()),t.xp6(3),t.Q6J("ngIf",!u.loadedData),t.xp6(1),t.Q6J("ngIf",u.showingSettings),t.xp6(1),t.Q6J("ngIf",u.currentSubtitleData),t.xp6(1),t.Q6J("ngIf",u.showVideoTarget)}}let OD=(()=>{class r{constructor(e,n,o,u,g){this.dialog=e,this.restProvider=n,this.sharedService=o,this.ref=u,this.http=g,this.outputCloseVideo=new t.vpe,this._window=window,this.showVideo=!0,this.lastCurrentTime=0,this.showControls=!1,this.currentSubtitleData=void 0,this.haveError=!1,this.currentEpisode={},this.lastClickSeekButton=new Date,this.countSeekSecondsToAdvance=0,this.isUpdatingVideoSource=!1,this.showingSettings=!1,this.listPrincipalSettingsOptions=[{index:0,name:"AUDIO",listOptions:[],selectedOption:null},{index:1,name:"SUBT\xcdTULOS",listOptions:[],selectedOption:null}],this.lastRealVideoTime=0,this.initializeVideo=!1,this.showVideoTarget=!1,this.loadedData=!1,this.beforeUnloadFunction=!1}ngOnInit(){let e=this;this.customMouseOutEvent=function(o){e.sliderContainer&&e.sliderContainer.startMove&&e.onClickSlider(e.sliderContainer)},window.addEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction=function(o){e.deleteAllProcessesAndDirectories()},window.addEventListener("beforeunload",this.beforeUnloadFunction),this.detectChangesInterval=window.setInterval(function(){e.ref.detectChanges()},0),this.updateVideoProfileInterval=window.setInterval(function(){e.UpdateVideoProfile()},1e4),this.initializeVideoData()}ngOnDestroy(){this.dashMediaPlayer&&(this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy()),this.hls&&(this.hls.detachMedia(),this.hls.destroy()),this.detectChangesInterval&&window.clearInterval(this.detectChangesInterval),this.updateVideoProfileInterval&&window.clearInterval(this.updateVideoProfileInterval),this.customMouseOutEvent&&window.removeEventListener("click",this.customMouseOutEvent),this.beforeUnloadFunction&&window.removeEventListener("beforeunload",this.beforeUnloadFunction)}initializeVideoData(){this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=pi.Empty,this.restProvider.executeHttpMethodByUrl(tn.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(n=>{this.builderVideo.LoadStatus=pi.Generated;const o=Vl().decode(n);let u=JSON.parse(o);this.builderVideo.TranscodeRunVideo=u,this.builderVideo.TranscodePrepareVideo=u.TranscodePrepareVideo,this.initializeStreams(),setTimeout(()=>{this.executeHideControls()},1e3),this.onInitializeVideo()},n=>{this.showLoadVideoErrorActionsDialog(),console.error(n)})}onTouchVideoContainer(e){this.showingSettings||this.sharedService.isMobileDevice()&&this.showControlsTemporarily(e)}onClickVideoContainer(e){this.showingSettings||(e.clicked=!0,setTimeout(()=>{e.clicked=!1},2e3),this.sharedService.isMobileDevice()||this.showControlsTemporarily(e))}onTouchStartSlider(e,n,o){this.sliderContainer=n,n.startMove=!0,this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/n.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}onTouchMoveSlider(e,n,o){n.startMove&&(this.lastTmpVideoTime=(e.changedTouches[0].clientX-o.offsetWidth-8-4)/n.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100)}goToNextEpisode(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1,u=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(g=>g.EpisodeNumber==o);if(-1!=u)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[u]);else{let g=e+1,T=this.builderVideo.ItemDetail.ListSeasons.findIndex(R=>R.SeasonNumber==g);if(-1!=T){let R=this.builderVideo.ItemDetail.ListSeasons[T];this.builderVideo.ItemDetail.CurrentSeason=R,R&&R.ListEpisodes&&R.ListEpisodes.length&&this.getVideoByEpisode(R.ListEpisodes[0])}}}}getVideoByEpisode(e){this.deleteAllProcessesAndDirectories();var n=this.sharedService.GetTranscodeVideoFromEpisode(e);this.builderVideo.TranscodePrepareVideo=n,this.builderVideo.ItemDetail.ListSeasons&&(this.builderVideo.ItemDetail.CurrentSeason=this.builderVideo.ItemDetail.ListSeasons.find(u=>u.SeasonNumber==e.SeasonNumber),this.builderVideo.ItemDetail.CurrentEpisode=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.find(u=>u.EpisodeNumber==e.EpisodeNumber)),this.lastRealVideoTime=0,this.resetStream(),this.sharedService.listProcessGUIDs.push(this.builderVideo.TranscodePrepareVideo.ProcessGUID),this.builderVideo.LoadStatus=pi.Empty,this.restProvider.executeHttpMethodByUrl(tn.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos/GetVideoData",this.builderVideo.TranscodePrepareVideo).then(u=>{this.builderVideo.LoadStatus=pi.Generated;const g=Vl().decode(u);let T=JSON.parse(g);this.builderVideo.TranscodeRunVideo=T,this.builderVideo.TranscodePrepareVideo=T.TranscodePrepareVideo,this.initializeStreams(),this.getVideoSource()},u=>{this.showLoadVideoErrorActionsDialog(),console.error(u)})}goToPreviousEpisode(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1,u=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(g=>g.EpisodeNumber==o);if(-1!=u)this.getVideoByEpisode(this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes[u]);else{let g=e+1,T=this.builderVideo.ItemDetail.ListSeasons.findIndex(R=>R.SeasonNumber==g);if(-1!=T){let R=this.builderVideo.ItemDetail.ListSeasons[T];this.builderVideo.ItemDetail.CurrentSeason=R,R&&R.ListEpisodes&&R.ListEpisodes.length&&this.getVideoByEpisode(R.ListEpisodes[R.ListEpisodes.length-1])}}}}isEnablePreviousEpisodeButton(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber-1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(g=>g.EpisodeNumber==o))return!0;{let g=e-1,T=this.builderVideo.ItemDetail.ListSeasons.findIndex(R=>R.SeasonNumber==g);if(-1!=T){let R=this.builderVideo.ItemDetail.ListSeasons[T];return!!(R&&R.ListEpisodes&&R.ListEpisodes.length)}return!1}}return!1}isEnableNextEpisodeButton(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.ItemDetail.ListSeasons&&this.builderVideo.ItemDetail.ListSeasons.length>0&&this.builderVideo.ItemDetail.CurrentSeason){let e=this.builderVideo.ItemDetail.CurrentSeason.SeasonNumber,o=this.builderVideo.ItemDetail.CurrentEpisode.EpisodeNumber+1;if(-1!=this.builderVideo.ItemDetail.CurrentSeason.ListEpisodes.findIndex(g=>g.EpisodeNumber==o))return!0;{let g=e+1,T=this.builderVideo.ItemDetail.ListSeasons.findIndex(R=>R.SeasonNumber==g);if(-1!=T){let R=this.builderVideo.ItemDetail.ListSeasons[T];return!!(R&&R.ListEpisodes&&R.ListEpisodes.length)}return!1}}return!1}showSettings(){this.showControls=!1,this.ref.detectChanges(),this.showingSettings=!0,this.ref.detectChanges()}hideSettings(){this.showingSettings=!1,this.ref.detectChanges()}onClickPrincipalSettingsOption(e){this.currentSelectedPrincipalSettingOption=e}onClickStreamOption(e){this.currentSelectedPrincipalSettingOption.selectedOption=e,this.showingSettings=!1,this.ref.detectChanges(),0==this.currentSelectedPrincipalSettingOption.index&&(this.hls.audioTrack=e.index),1==this.currentSelectedPrincipalSettingOption.index&&(1e6==e.index?this.hls.subtitleDisplay=!1:(this.hls.subtitleTrack=e.index,this.hls.subtitleDisplay=!0))}getSubtitle(e){let n=this;this.http.get(e,{responseType:"text"}).subscribe(o=>{o&&(0,lf.Q)(o)&&(0,lf.Q)(o).entries?(n.currentSubtitleData=(0,lf.Q)(o).entries,0==n.currentSubtitleData.length?setTimeout(()=>{n.getSubtitle(e)},1e3):n.ref.detectChanges()):(console.error("No hay data en los subtitulos aun"),setTimeout(()=>{n.getSubtitle(e)},1e3))},o=>{console.error(o),setTimeout(()=>{n.getSubtitle(e)},1e3)})}showSubtitle(){}closeVideo(){document.fullscreenElement&&document.exitFullscreen(),this.deleteAllProcessesAndDirectories(),this.outputCloseVideo.emit(!0)}focusButton(e){e.focus(),this.sharedService.currentSelectedElement=e}ngAfterViewInit(){}getConfirmMessage(){var e="Vacio";switch(this.builderVideo.LoadStatus){case pi.Empty:e="Vac\xedo";break;case pi.Generated:e="Generado";break;case pi.Initialized:e="Inicializado";break;case pi.LoadedMetada:e="Cargado Metadata";break;case pi.LoadedData:e="Cargado Data"}return"Hubo un error al intentar reproducir el video, se quedo con el estado de "+e+", desea intentarlo de nuevo?"}updateAudioAndVideoList(){if(this.listPrincipalSettingsOptions[0].listOptions=[],this.listPrincipalSettingsOptions[0].selectedOption=void 0,this.listPrincipalSettingsOptions[1].listOptions=[],this.listPrincipalSettingsOptions[1].selectedOption=void 0,this.builderVideo.TranscodePrepareVideo.ListAudioStreams&&this.builderVideo.TranscodePrepareVideo.ListAudioStreams.length>0&&(this.builderVideo.TranscodePrepareVideo.ListAudioStreams.forEach(e=>{let n="";"spa"==e.language&&(n="Espa\xf1ol"),"eng"==e.language&&(n="Ingles"),e.title&&(n=n+" ("+e.title+")"),e.name=n}),this.listPrincipalSettingsOptions[0].listOptions=this.builderVideo.TranscodePrepareVideo.ListAudioStreams,this.listPrincipalSettingsOptions[0].selectedOption=this.builderVideo.TranscodePrepareVideo.ListAudioStreams.find(e=>1==e.isDefault)),this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams&&this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.length>0){this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.forEach(o=>{let u="";"spa"==o.language&&(u="Espa\xf1ol"),"eng"==o.language&&(u="Ingles"),o.title&&(u=u+" ("+o.title+")"),o.name=u});let e=[];e.push({index:1e6,name:"Ninguno"}),e=e.concat(this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams),this.listPrincipalSettingsOptions[1].listOptions=e;let n=this.builderVideo.TranscodePrepareVideo.ListSubtitlesStreams.find(o=>1==o.isDefault);null==n&&(n=e.find(o=>1e6==o.index)),this.listPrincipalSettingsOptions[1].selectedOption=n}this.currentSelectedPrincipalSettingOption=this.listPrincipalSettingsOptions[0]}initializeStreams(){this.updateAudioAndVideoList(),this.lastRealVideoTime=null!=this.builderVideo.TranscodePrepareVideo.CurrentTime?this.builderVideo.TranscodePrepareVideo.CurrentTime:0}UpdateVideoProfile(){if(null!=this.builderVideo.TranscodePrepareVideo.TotalSeconds){var e=0;this.getCurrentVideoTime()>0&&this.getCurrentVideoTime()<=this.builderVideo.TranscodePrepareVideo.TotalSeconds&&((e=this.getCurrentVideoTime())-20<0?e=0:e-=20),this.restProvider.executeSinovadApiService(tn.PUT,"/videos/UpdateVideoProfile",{VideoId:this.builderVideo.TranscodePrepareVideo.VideoId,ProfileId:this.sharedService.currentProfile.Id,DurationTime:this.builderVideo.TranscodePrepareVideo.TotalSeconds,CurrentTime:e}).then(o=>{},o=>{console.error(o)})}}executeHideControls(){this.sliderContainer&&this.sliderContainer.startMove?setTimeout(()=>{this.executeHideControls()},2e3):this.showControls=!1}getDurationTime(){return this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.getFormatTime(this.builderVideo.TranscodePrepareVideo.TotalSeconds):"00:00:00"}getFormatTime(e){var n=parseInt(e,10),o=Math.floor(n/3600),u=Math.floor((n-3600*o)/60),g=n-3600*o-60*u;return o<10&&(o="0"+o),u<10&&(u="0"+u),g<10&&(g="0"+g),o+":"+u+":"+g}getVideoTime(){if(this.lastTmpVideoTime)return this.getFormatTime(this.lastTmpVideoTime);{let e=this.getCurrentVideoTime();return null!=e&&e>0?this.getFormatTime(e):"00:00:00"}}onMouseDownSlider(e,n){this.sliderContainer=n,n.startMove=!0,this.calculateNewTimeToGo(e,n)}onMouseMoveSlider(e,n){n.startMove&&this.calculateNewTimeToGo(e,n)}calculateNewTimeToGo(e,n){this.lastTmpVideoTime=e.offsetX/n.offsetWidth*100*this.builderVideo.TranscodePrepareVideo.TotalSeconds/100}resetStream(){this.showVideoTarget=!1,this.loadedData=!1,null!=this.dashMediaPlayer&&(this.dashMediaPlayer.resetSettings(),this.dashMediaPlayer.reset(),this.dashMediaPlayer.destroy(),this.dashMediaPlayer=void 0),this.hls&&(this.hls.destroy(),this.hls=void 0)}onClickSlider(e){if(this.lastTmpVideoTime){if(e.startMove=!1,this.lastTmpVideoTime>this.getCurrentVideoTime()){let n=this.lastTmpVideoTime-this.getCurrentVideoTime();this.executeForwardVideo(n)}else if(this.lastTmpVideoTime<this.getCurrentVideoTime()){let n=this.getCurrentVideoTime()-this.lastTmpVideoTime;this.executeRewindVideo(n)}this.lastTmpVideoTime=void 0}}updateVideoData(e){this.deleteAllProcessesAndDirectories();let n=on();this.sharedService.listProcessGUIDs.push(n),this.builderVideo.TranscodePrepareVideo.TimeSpan=e.toString(),this.builderVideo.TranscodePrepareVideo.ProcessGUID=n,this.builderVideo.LoadStatus=pi.Empty,this.restProvider.executeHttpMethodByUrl(tn.POST,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos/UpdateVideoData",this.builderVideo.TranscodePrepareVideo).then(u=>{this.builderVideo.LoadStatus=pi.Generated;const g=Vl().decode(u);let T=JSON.parse(g);this.builderVideo.TranscodeRunVideo=T,this.updateAudioAndVideoList(),this.getVideoSource()},u=>{this.showLoadVideoErrorActionsDialog(),console.error(u)})}deleteAllProcessesAndDirectories(){this.sharedService.listProcessGUIDs&&this.sharedService.listProcessGUIDs.length>0&&this.deleteProcessesAndDirectories()}deleteProcessesAndDirectories(){var e=this.sharedService.listProcessGUIDs.join(",");this.restProvider.executeHttpMethodByUrl(tn.DELETE,this.builderVideo.TranscodePrepareVideo.MediaServerUrl+"/api/transcodeVideos?guids="+e).then(o=>{const u=Vl().decode(o);let g=JSON.parse(u);if(g&&g.length>0&&this.sharedService.listProcessGUIDs.length>0)for(var T=0;T<g.length;T++){let R=g[T],G=this.sharedService.listProcessGUIDs.findIndex(ne=>ne==R);-1!=G&&this.sharedService.listProcessGUIDs.splice(G,1)}},o=>{console.error(o)})}getSliderPogressWidth(){if(this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.TotalSeconds){let e=this.builderVideo.TranscodePrepareVideo.TotalSeconds,o=(this.lastTmpVideoTime?this.lastTmpVideoTime:this.getCurrentVideoTime())/e*100;return o>100&&(o=100),o+"%"}return 0}OnEndedVideo(){this.isEnableNextEpisodeButton()&&this.goToNextEpisode()}isPlayingVideo(){return this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==tt.MPEGDASH?!(!this.dashMediaPlayer||this.dashMediaPlayer.isPaused()):!(!this.videoTarget||0!=this.videoTarget.nativeElement.paused)}playOrPauseVideo(){console.log("subtitle tracks"),console.log(this.hls.subtitleTracks),console.log("audio tracks"),console.log(this.hls.audioTracks),this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==tt.MPEGDASH?this.dashMediaPlayer&&(this.dashMediaPlayer.isPaused()?this.dashMediaPlayer.play():this.dashMediaPlayer.pause()):this.videoTarget&&(this.videoTarget.nativeElement.paused?this.videoTarget.nativeElement.play():this.videoTarget.nativeElement.pause())}showVideoInFullScreen(){this.toggleFullScreenVideo()}toggleFullScreenVideo(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}displayVideoUsingDash(e){let n=this;this.dashMediaPlayer=Ws.MediaPlayer().create(),this.dashMediaPlayer.updateSettings({streaming:{gaps:{jumpGaps:!0,jumpLargeGaps:!0,enableSeekFix:!0,enableStallFix:!0},buffer:{bufferPruningInterval:this.builderVideo.TranscodePrepareVideo.TotalSeconds,bufferToKeep:this.builderVideo.TranscodePrepareVideo.TotalSeconds}}}),this.dashMediaPlayer.initialize(this.videoTarget.nativeElement,e),this.dashMediaPlayer.on(Ws.MediaPlayer.events.ERROR,function(o){console.log(o),console.error("hubo un error")}),this.dashMediaPlayer.on(Ws.MediaPlayer.events.PLAYBACK_ERROR,function(o){console.log(o),console.error("hubo un error de playback")}),this.dashMediaPlayer.on(Ws.MediaPlayer.events.PLAYBACK_WAITING,function(o){console.error("PLAYBACK_WAITING"),console.log(o)}),this.dashMediaPlayer.on(Ws.MediaPlayer.events.BUFFER_EMPTY,function(o){console.error("BUFFER_EMPTY"),console.log(o)}),this.dashMediaPlayer.on(Ws.MediaPlayer.events.STREAM_INITIALIZED,function(o){console.error("STREAM_INITIALIZED"),n.initializeVideo=!0,console.log(o)}),this.ref.detectChanges(),this.dashMediaPlayer.play(),this.showVideoInFullScreen()}onInitializeVideo(){this.executeInitializeVideo()}getCurrentVideoTime(){return this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==tt.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()?this.lastRealVideoTime+this.dashMediaPlayer.time():this.lastRealVideoTime:this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime?this.lastRealVideoTime+this.videoTarget.nativeElement.currentTime:this.lastRealVideoTime}checkIfDisplaySubtitles(e){let o=1e3*(this.getCurrentVideoTime()-1);return e.from<=o&&e.to>=o}onDeclineReplyVideo(){this.closeVideo()}onConfirmReplyVideo(){this.lastRealVideoTime=this.getCurrentVideoTime()-2>=0?this.getCurrentVideoTime()-2:0,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)}onLoadedMetadata(){this.builderVideo.LoadStatus=pi.LoadedMetada,console.log("onLoadedMetadata")}onLoadedData(){console.log("onLoadedData"),this.builderVideo.LoadStatus=pi.LoadedData,this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play())}onErrorVideo(){console.log("onErrorVideo")}executeInitializeVideo(){this.getVideoSource()}testAnyVideo(){}getVideoSource(){this.http.get(this.builderVideo.TranscodeRunVideo.VideoPath,{headers:void 0,responseType:"blob"}).subscribe(e=>{this.builderVideo.LoadStatus=pi.Initialized,this.showVideoTarget=!0,this.ref.detectChanges(),-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("mpd")?this.displayVideoUsingDash(this.builderVideo.TranscodeRunVideo.VideoPath):-1!=this.builderVideo.TranscodeRunVideo.VideoPath.indexOf("m3u8")?this.displayVideoUsingHLS(this.builderVideo.TranscodeRunVideo.VideoPath):(this.videoTarget.nativeElement.src=this.builderVideo.TranscodeRunVideo.VideoPath,this.videoTarget.nativeElement.currentTime=this.lastRealVideoTime,this.lastRealVideoTime=0,this.videoTarget.nativeElement.play())},e=>{console.error(e),this.showLoadVideoErrorActionsDialog()})}displayVideoUsingHLS(e){let n=this;setTimeout(()=>{n.builderVideo.LoadStatus!=pi.LoadedData&&n.showLoadVideoErrorActionsDialog()},1e4,n),this.showVideoInFullScreen(),ol.isSupported()?(this.hls=new ol,this.hls.attachMedia(this.videoTarget.nativeElement),this.hls.loadSource(e),this.hls.on(ol.Events.MEDIA_ATTACHED,function(o){console.log("MEDIA_ATTACHED"),console.log(o)}),this.hls.on(ol.Events.AUDIO_TRACK_LOADED,function(o){console.log("AUDIO_LOADED"),console.log(o)}),this.hls.on(ol.Events.MANIFEST_LOADED,function(o){console.log("MANIFEST_LOADED"),console.log(o)}),this.hls.on(ol.Events.MANIFEST_PARSED,function(o){console.log("MANIFEST_PARSED"),console.log(o)}),this.hls.on(ol.Events.ERROR,function(o){n.videoTarget.nativeElement.CurrentTime=n.videoTarget.nativeElement.CurrentTime+1,console.error("Ocurrio un error"),console.log(o)})):(this.loadedData=!0,this.videoTarget&&(this.videoTarget.nativeElement.src=e,this.videoTarget.nativeElement.currentTime=0,this.videoTarget.nativeElement.play()))}onChangeObjectContain(){"contain"==this.videoTarget.nativeElement.style.objectFit||""==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="cover":"cover"==this.videoTarget.nativeElement.style.objectFit?this.videoTarget.nativeElement.style.objectFit="fill":"fill"==this.videoTarget.nativeElement.style.objectFit&&(this.videoTarget.nativeElement.style.objectFit="contain")}callUpdateVideoData(e){let n=on();this.lastTimeSpanChangeGUID=n,setTimeout(()=>{n==this.lastTimeSpanChangeGUID&&this.updateVideoData(e)},1e3)}rewindVideo(){this.executeRewindVideo(10)}executeRewindVideo(e){this.initializeVideo=!1;let n=0;n=this.getCurrentVideoTime()-e>=0?e:this.getCurrentVideoTime(),this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==tt.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.time()>n?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()-n):(this.lastRealVideoTime=this.getCurrentVideoTime()-n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.currentTime>n?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime-n:(this.lastRealVideoTime=this.getCurrentVideoTime()-n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}forwardVideo(){this.executeForwardVideo(10)}executeForwardVideo(e){if(this.initializeVideo=!1,this.getCurrentVideoTime()<this.builderVideo.TranscodePrepareVideo.TotalSeconds){let n=0;n=this.getCurrentVideoTime()+e>this.builderVideo.TranscodePrepareVideo.TotalSeconds?this.builderVideo.TranscodePrepareVideo.TotalSeconds>this.getCurrentVideoTime()?this.builderVideo.TranscodePrepareVideo.TotalSeconds-this.getCurrentVideoTime():0:e,this.builderVideo.TranscodePrepareVideo&&this.builderVideo.TranscodePrepareVideo.VideoTransmissionTypeId==tt.MPEGDASH?this.dashMediaPlayer&&this.dashMediaPlayer.duration()-this.dashMediaPlayer.time()>=n?this.dashMediaPlayer.seek(this.dashMediaPlayer.time()+n):(this.lastRealVideoTime=this.getCurrentVideoTime()+n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime)):this.videoTarget&&null!=this.videoTarget.nativeElement.duration&&null!=this.videoTarget.nativeElement.currentTime&&this.videoTarget.nativeElement.duration-this.videoTarget.nativeElement.currentTime>=n?this.videoTarget.nativeElement.currentTime=this.videoTarget.nativeElement.currentTime+n:(this.lastRealVideoTime=this.getCurrentVideoTime()+n,this.resetStream(),this.callUpdateVideoData(this.lastRealVideoTime))}}onMouseMoveVideoContainer(e){!this.showControls&&!e.clicked&&!this.showingSettings&&this.showControlsTemporarily(e)}executeShowControlsTemporarily(e,n){this.showControls=!0,this.ref.detectChanges(),setTimeout(()=>{e.guid==n&&this.executeHideControls()},2e3)}showControlsTemporarily(e){if(!this.showControls){let n=on();e.guid=n,this.sharedService.isMobileDevice()?setTimeout(()=>{this.executeShowControlsTemporarily(e,n)},250):this.executeShowControlsTemporarily(e,n)}}toogleVideoControls(e){this.showControls?this.showControls=!0:this.showControlsTemporarily(e)}showLoadVideoErrorActionsDialog(){var e=new ni.vA;e.disableClose=!0,e.data={title:"Mensaje",message:this.getConfirmMessage(),actions:[{text:"No",key:"No"},{text:"Si",key:"Si"}]},this.dialog.open(tb,e).afterClosed().subscribe(n=>{"Si"==n.key&&this.onConfirmReplyVideo(),"No"==n.key&&this.onDeclineReplyVideo()})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ni.uw),t.Y36(si),t.Y36(rt),t.Y36(t.sBO),t.Y36(le))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-video"]],viewQuery:function(n,o){if(1&n&&(t.Gf(nb,5),t.Gf(ib,5),t.Gf(CD,5),t.Gf(DD,5)),2&n){let u;t.iGM(u=t.CRH())&&(o.controlsContainer=u.first),t.iGM(u=t.CRH())&&(o.settingsContainer=u.first),t.iGM(u=t.CRH())&&(o.videoPrincipalContainer=u.first),t.iGM(u=t.CRH())&&(o.videoTarget=u.first)}},inputs:{builderVideo:"builderVideo"},outputs:{outputCloseVideo:"outputCloseVideo"},decls:4,vars:1,consts:[[1,"sinovad-container-video"],["id","videoPrincipalContainer",1,"sinovad-video-principal-container","sinovad-custom-container",2,"width","100%","height","100%"],["videoPrincipalContainer",""],["class","sinovad-video-container",3,"click","touchstart","mousemove",4,"ngIf"],[1,"sinovad-video-container",3,"click","touchstart","mousemove"],["videoContainer",""],[1,"sinovad-full-screen-video-container"],["tabindex","0",1,"sinovad-controls-container",3,"ngClass"],["controlsContainer",""],["id","videoHeaderSection","tabindex","0",1,"sinovad-video-header-section"],["id","backVideoButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"sinovad-video-header-section-title-container"],[1,"sinovad-full-screen-video-popup-footer"],[2,"width","100%"],["id","section_progress_bar",1,"sinovad-progress-bar-container"],["id","sliderButton",1,"sinovad-progress-bar"],[1,"sinovad-current-time"],["controlLeft",""],[1,"sinovad-slider-container"],["tabindex","-1",1,"sinovad-slider-content",3,"contextmenu","click","touchend","touchstart","touchmove","mousedown","mousemove"],[1,"sinovad-slider-fills"],["silderFills",""],[2,"width","0px"],[1,"sinovad-slider-fills-progress-container"],["sliderContainer",""],[1,"sinovad-slider-fills-progress-content"],[1,"sinovad-slider-fills-progress"],["silderProgress",""],["controlRight",""],["id","section_video_secondary_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-episode-buttons-section","sinovad-section"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-left"],["id","previousButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],[1,"sinovad-full-screen-video-popup-episode-buttons-section-right"],[2,"display","flex","align-items","center","float","right"],["id","nextButton","class","sinovad-video-control-button",3,"click",4,"ngIf"],["id","aspectRatio",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-maximize"],["id","fullScreenButton",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-expand"],["id","settingsOption",1,"sinovad-video-control-button",2,"margin-left","20px",3,"click"],[1,"fa-solid","fa-gear"],[1,"sinovad-section",2,"display","flex","height","50px"],[1,"sinovad-full-screen-video-popup-footer-center"],["id","section_video_principal_buttons","tabindex","0",1,"sinovad-full-screen-video-popup-footer-center-content"],["id","rewindButton",1,"sinovad-video-control-button",2,"margin-right","25px",3,"click"],[1,"fa-solid","fa-rotate-left"],["id","playButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","stopButton","class","sinovad-video-control-button principal",3,"click",4,"ngIf"],["id","forwardButton",1,"sinovad-video-control-button",2,"margin-left","25px",3,"click"],[1,"fa-solid","fa-rotate-right"],["class","sinovad-loading-video",3,"ngClass",4,"ngIf"],["class","easy-media-settings-section-container","tabindex","0",4,"ngIf"],[3,"ngIf"],["id","video","class","sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended",4,"ngIf"],["id","previousButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-backward-step"],["id","nextButton",1,"sinovad-video-control-button",3,"click"],[1,"fa-solid","fa-forward-step"],["id","playButton",1,"sinovad-video-control-button","principal",3,"click"],["playButton",""],["src","",2,"display","none",3,"error"],[1,"fa-solid","fa-play"],["id","stopButton",1,"sinovad-video-control-button","principal",3,"click"],["stopButton",""],[1,"fa-solid","fa-pause"],[1,"sinovad-loading-video",3,"ngClass"],["tabindex","0",1,"easy-media-settings-section-container"],["settingsContainer",""],[1,"easy-media-settings-section-content"],["id","section_settings_back_button","tabindex","0",1,"sinovad-settings-options-header-section"],[1,"sinovad-settings-section-container-left"],[1,"sinovad-settings-section-content-left"],["id","closeSettings",1,"sinovad-video-control-button",3,"click"],["id","streams_options_section","tabindex","0",1,"sinovad-settings-options-section"],["ngFor","",3,"ngForOf"],["class","sinovad-settings-suboptions-section","tabindex","0",3,"id",4,"ngIf"],[3,"id","ngClass","click"],["tabindex","0",1,"sinovad-settings-suboptions-section",3,"id"],[1,"sinovad-subtitles-forzed-section",3,"innerHtml"],["id","video",1,"sinovad-custom-video",3,"error","loadedmetadata","loadeddata","ended"],["videoTarget",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1,2),t.YNc(3,pA,56,24,"div",3),t.qZA()()),2&n&&(t.xp6(3),t.Q6J("ngIf",o.showVideo))},dependencies:[p.mk,p.sg,p.O5],styles:[".sinovad-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1054;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}video[_ngcontent-%COMP%]::cue{background-color:transparent;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-loading-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;padding-bottom:0;left:0;background-color:#000;z-index:9999;display:flex;align-items:center;justify-content:center;font-size:30px;color:#fff}.sinovad-loading-video.show-controls[_ngcontent-%COMP%]{padding-bottom:300px;top:150px}.easy-media-settings-section-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;background:rgba(0,0,0,.5);padding:0 0 50px;z-index:99999}.easy-media-settings-section-content[_ngcontent-%COMP%]{display:block}.sinovad-settings-options-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:48px;border-bottom:1px solid #dedede;margin-bottom:50px}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:20px;background-color:transparent;border:none;font-size:30px;border-radius:5px;cursor:pointer}.sinovad-settings-options-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-options-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:40px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;outline:none;padding:10px;background-color:transparent;border:none;font-size:30px;cursor:pointer;margin-right:6px;border-radius:5px}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{color:#000;background-color:#fff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{color:#007bff}.sinovad-settings-suboptions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{color:#007bff!important}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-full-screen-video-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.sinovad-full-screen-video-popup[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.sinovad-video-header-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5);padding-left:10px;padding-top:10px}.sinovad-full-screen-video-popup-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;padding-left:0;z-index:999;display:flex;width:100%;background:rgba(0,0,0,.5)}.sinovad-progress-bar-container[_ngcontent-%COMP%]{width:100%;outline:none}.sinovad-progress-bar[_ngcontent-%COMP%]{height:40px;pointer-events:auto;position:relative;width:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px;border:none;border-radius:0;outline:none;background:transparent;opacity:.7}.sinovad-progress-bar[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus{opacity:1}.sinovad-progress-bar[_ngcontent-%COMP%]:focus-visible{opacity:1}.sinovad-slider-container[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;height:100%;pointer-events:auto;position:relative;touch-action:none;padding-left:8px;padding-right:8px;border:none;border-radius:0;outline:none;background:transparent}.sinovad-slider-content[_ngcontent-%COMP%]{height:100%;padding-top:20px;cursor:pointer;outline:none}.sinovad-slider-fills[_ngcontent-%COMP%]{height:3px;overflow:hidden;pointer-events:none;width:100%;background:white;opacity:.5}.sinovad-slider-fills-progress-container[_ngcontent-%COMP%]{position:relative}.sinovad-slider-fills-progress-content[_ngcontent-%COMP%]{width:100%;height:8px;margin-top:-6px}.sinovad-slider-fills-progress[_ngcontent-%COMP%]{cursor:pointer;background:white;height:100%;width:0%}.sinovad-settings-options-header-section[_ngcontent-%COMP%]{display:flex;margin-left:10px;margin-top:10px}.sinovad-settings-section-container-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;float:left}.sinovad-settings-section-content-left[_ngcontent-%COMP%]{position:relative}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-controls-container[_ngcontent-%COMP%]{z-index:-99;pointer-events:none}.sinovad-controls-container.show[_ngcontent-%COMP%]{z-index:unset;pointer-events:unset}.sinovad-custom-video[_ngcontent-%COMP%]{width:100%;height:100%}.sinovad-full-screen-video-popup-episode-buttons-section[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:40px}.sinovad-full-screen-video-popup-episode-buttons-section-left[_ngcontent-%COMP%]{display:block;float:left;width:100%;padding-left:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]{display:block;float:right;width:100%;padding-right:10px}.sinovad-full-screen-video-popup-episode-buttons-section-right[_ngcontent-%COMP%]   .sinovad-video-control-button[_ngcontent-%COMP%]{float:right}.sinovad-full-screen-video-popup-footer-left[_ngcontent-%COMP%]{display:block;float:left;width:170px}.sinovad-full-screen-video-popup-footer-left-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;color:#fff}.sinovad-current-time[_ngcontent-%COMP%]{color:#fff;font-size:25px}.sinovad-full-screen-video-popup-footer-center[_ngcontent-%COMP%]{display:block;float:left;width:100%}.sinovad-full-screen-video-popup-footer-center-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:left;width:100%;height:100%;justify-content:center}.sinovad-full-screen-video-popup-footer-right[_ngcontent-%COMP%]{width:100px;display:block;float:right}.sinovad-full-screen-video-popup-footer-right-content[_ngcontent-%COMP%]{display:flex;align-items:center;float:right;height:100%}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;color:#fff;justify-content:center;width:100%;padding-right:70px}.sinovad-subtitles-forzed-section[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:10px;font-size:45px;color:#ff0;text-align:center;font-weight:700;text-shadow:2px 2px black}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;color:#fff;padding:10px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;font-weight:700}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px;font-size:18px;border-radius:5px}.sinovad-custom-video-object-fit[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#000}.sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-video-control-button[_ngcontent-%COMP%]{color:#fff;background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10px;opacity:.9;font-size:25px;border-radius:100px;min-width:45px}.sinovad-video-control-button[_ngcontent-%COMP%]:hover{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus-visible{background:white;color:#000;opacity:1}.sinovad-video-control-button[_ngcontent-%COMP%]:focus{background:white;color:#000;opacity:1}@media only screen and (min-width: 2048px){.sinovad-video-control-button[_ngcontent-%COMP%], .sinovad-video-header-section-title-container[_ngcontent-%COMP%]{font-size:35px}}@media only screen and (max-width: 767px){video[_ngcontent-%COMP%]::cue{font-size:25px}}"]})}return r})(),qg=(()=>{class r{constructor(e,n,o,u){this.router=e,this.factoryResolver=n,this.injector=o,this.applicationRef=u,this.video$=new Zn.x}show(e){null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const o=this.factoryResolver.resolveComponentFactory(OD).create(this.injector);this.lastViewRef=o.hostView,this.applicationRef.attachView(o.hostView);let u=this;o.instance.builderVideo=e,o.instance.outputCloseVideo.subscribe(R=>{u.router.navigateByUrl("/home"),o.destroy(),u.applicationRef.detachView(o.hostView)});const g=o.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(g)}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(kn.F0),t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const db=["container"];function PD(r,i){if(1&r&&(t.TgZ(0,"div",9)(1,"span",14),t._uU(2,"Director: "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&r){const e=t.oxw(2);t.xp6(4),t.Oqu(e.detail.Directors)}}function Jg(r,i){if(1&r&&(t.TgZ(0,"div",9)(1,"span",14),t._uU(2,"Reparto: "),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.qZA()()),2&r){const e=t.oxw(2);t.xp6(4),t.Oqu(e.detail.Actors)}}function RD(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar"),t.qZA()(),t.TgZ(4,"div",17),t._UZ(5,"div",18),t.qZA(),t.TgZ(6,"div",19),t._uU(7),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(5),t.Udp("width",e.getWidthProgressItem(e.lastEpisodeWatched)),t.xp6(2),t.hij(" ",e.lastEpisodeWatched.Subtitle," ")}}function ND(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.showVideo())}),t._uU(1,"Ver desde el principio"),t.qZA(),t.TgZ(2,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.continueVideo())}),t._uU(3,"Continuar viendo"),t.qZA()}}function ub(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.showVideo())}),t._UZ(1,"i",22),t._uU(2," Ver ahora "),t.qZA()}}function fb(r,i){if(1&r&&(t.YNc(0,ND,4,0,"ng-template",2),t.YNc(1,ub,3,0,"ng-template",2)),2&r){const e=t.oxw(2);t.Q6J("ngIf",e.itemUserData),t.xp6(1),t.Q6J("ngIf",!e.itemUserData)}}function _A(r,i){if(1&r&&(t.TgZ(0,"div",23),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.detail.Overview," ")}}function LD(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"img",37),t.NdJ("error",function(){t.CHM(e),t.oxw();const o=t.MAs(12),u=t.MAs(7),g=t.MAs(18),T=t.oxw(2);return t.KtG(T.onInitializeItemsRow(o,u,g))}),t.qZA()}}const zf=function(r){return{selected:r}};function vA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",38)(1,"button",39),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw(3);return t.KtG(g.onClickSeason(u))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&r){const e=i.$implicit,n=t.oxw(3);t.xp6(1),t.MGl("id","section_season_",e.SeasonNumber,""),t.Q6J("ngClass",t.VKq(3,zf,e.SeasonNumber==n.detail.CurrentSeason.SeasonNumber)),t.xp6(2),t.Oqu(e.Name)}}function kD(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"section",40)(1,"button",41),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw(3);return t.KtG(g.onClickEpisode(u))}),t.TgZ(2,"div",42),t._UZ(3,"img",6),t.qZA(),t.TgZ(4,"div",43)(5,"div",44),t._uU(6),t.qZA(),t.TgZ(7,"div",45),t._uU(8),t.qZA()()()()}if(2&r){const e=i.$implicit,n=t.oxw(3);t.hYB("id","section_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(1),t.hYB("id","button_episode_s",e.SeasonNumber,"_e",e.EpisodeNumber,""),t.xp6(2),t.Q6J("src",n.getEpisodeImagePath(e),t.LSH),t.xp6(3),t.AsE(" ",e.EpisodeNumber,". ",e.Name," "),t.xp6(2),t.hij(" ",e.Overview," ")}}function yA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",24)(1,"div"),t._uU(2," EPISODIOS "),t.qZA(),t.TgZ(3,"div",25),t.YNc(4,LD,1,0,"img",26),t.TgZ(5,"div",3)(6,"div",27,28),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),g=t.MAs(18),T=t.oxw(2);return t.KtG(T.onClickButtonLeftScroll(o,u,g))}),t._UZ(8,"img",6),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",29,30)(13,"section",31,32),t.YNc(15,vA,4,5,"ng-template",33),t.qZA()(),t.TgZ(16,"div",3)(17,"div",34,35),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),g=t.MAs(18),T=t.oxw(2);return t.KtG(T.onClickButtonRightScroll(o,u,g))}),t._UZ(19,"img",6),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()(),t.TgZ(22,"div",36),t.YNc(23,kD,9,8,"ng-template",33),t.qZA()()}if(2&r){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",!e.startResize),t.xp6(4),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"left.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.detail.ListSeasons),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"right.png","GetImageURLByKey")),t.LSH),t.xp6(4),t.Q6J("ngForOf",e.detail.CurrentSeason.ListEpisodes)}}function bA(r,i){if(1&r&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._UZ(3,"img",6),t.qZA()()(),t.TgZ(4,"div",7)(5,"div",8),t._uU(6),t.qZA(),t.TgZ(7,"div",9),t._uU(8),t.qZA(),t.YNc(9,PD,5,1,"div",10),t.YNc(10,Jg,5,1,"div",10),t.TgZ(11,"section",11),t.YNc(12,RD,8,3,"ng-template",2),t.YNc(13,fb,2,2,"ng-template",2),t.qZA(),t.YNc(14,_A,2,1,"div",12),t.YNc(15,yA,24,15,"div",13),t.qZA()),2&r){const e=t.oxw(),n=t.MAs(1);t.xp6(2),t.Udp("width",n.clientWidth+"px"),t.xp6(1),t.Q6J("src",e.sharedService.getUrlByItemDetailMovieDataBase(e.detail),t.LSH),t.xp6(3),t.hij(" ",e.detail.Title," "),t.xp6(2),t.hij(" ",e.detail.Genres," "),t.xp6(1),t.Q6J("ngIf",e.detail.Directors),t.xp6(1),t.Q6J("ngIf",e.detail.Actors),t.xp6(2),t.Q6J("ngIf",e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",!e.lastEpisodeWatched),t.xp6(1),t.Q6J("ngIf",e.detail.ListSeasons)}}let hb=(()=>{class r{constructor(e,n,o){this.videoService=e,this.ref=n,this.sharedService=o,this._window=window,this.startResize=!1}getEpisodeImagePath(e){return null!=this.detail.TmdbId&&0!=this.detail.TmdbId?e.StillPath?this.sharedService.urlEpisodeDataBase+e.StillPath:this.sharedService.getUrlByItemDetailMovieDataBase(this.detail):e.StillPath}verifyIfShoOrHiddenScrollButtons(e,n,o){n.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,n,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,n,o)},250)}onClickButtonLeftScroll(e,n,o){e.scrollLeft=e.scrollLeft-20,this.verifyIfShoOrHiddenScrollButtons(e,n,o)}onClickButtonRightScroll(e,n,o){e.scrollLeft=e.scrollLeft+20,this.verifyIfShoOrHiddenScrollButtons(e,n,o)}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}ngOnInit(){}continueVideo(){}showVideo(){if(this.detail.Item.MediaType==at.Movie)this.getVideosByItem();else if(this.detail.ListSeasons&&this.detail.ListSeasons.length>0){let e=this.detail.ListSeasons[0];e.ListEpisodes&&e.ListEpisodes.length>0&&this.getVideoByEpisode(e.ListEpisodes[0])}}getVideosByItem(){this.videoService.show(this.sharedService.CreateBuilderVideoFromItem(this.detail.Item,this.detail))}onClickSeason(e){this.detail.CurrentSeason=e}onClickEpisode(e){this.getVideoByEpisode(e)}getVideoByEpisode(e){this.videoService.show(this.sharedService.CreateBuilderVideoFromEpisode(e,this.detail))}onResize(e){setTimeout(()=>{this.startResize=!0,this.ref.detectChanges(),this.startResize=!1,this.ref.detectChanges()},100)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(qg),t.Y36(t.sBO),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-item-view"]],viewQuery:function(n,o){if(1&n&&t.Gf(db,5),2&n){let u;t.iGM(u=t.CRH())&&(o.container=u.first)}},hostBindings:function(n,o){1&n&&t.NdJ("resize",function(g){return o.onResize(g)},!1,t.Jf7)},inputs:{detail:"detail"},decls:3,vars:1,consts:[["tabindex","0",1,"sinovad-item-view-container","sinovad-custom-container"],["container",""],[3,"ngIf"],[2,"width","0px","height","0px"],[1,"sinovad-item-view-background-container"],[2,"position","fixed"],[3,"src"],[1,"sinovad-item-view-principal-section"],[1,"sinovad-item-view-title-container"],[1,"sinovad-item-view-subtitle-container"],["class","sinovad-item-view-subtitle-container",4,"ngIf"],["id","section_principal_buttons",1,"sinovad-item-view-principal-button-container","sinovad-section"],["class","sinovad-item-view-summary-container",4,"ngIf"],["class","sinovad-item-view-seasons-container",4,"ngIf"],[2,"font-weight","bold"],[2,"font-weight","normal"],["id","continue_play",1,"",3,"click"],[1,"sinovad-item-progress-bar-container",2,"width","300px"],[1,"sinovad-item-progress-bar-content"],[2,"margin-top","5px"],["id","restart_play",1,"",3,"click"],["id","play_now",1,"",3,"click"],[1,"fa-solid","fa-play","me-1"],[1,"sinovad-item-view-summary-container"],[1,"sinovad-item-view-seasons-container"],[1,"sinovad-list-row-container"],["style","display:none;","src","",3,"error",4,"ngIf"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[1,"sinovad-list-row","sinovad-section"],["itemsRowContainer",""],["id","section_seasons",1,"sinovad-list-content"],["content",""],["ngFor","",3,"ngForOf"],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-view-episodes-container"],["src","",2,"display","none",3,"error"],[1,"sinovad-season-container"],[1,"sinovad-season-button",3,"id","ngClass","click"],[1,"sinovad-section",3,"id"],[1,"sinovad-episode-button",3,"id","click"],[1,"sinovad-episode-image-section"],[1,"sinovad-episode-detail-section"],[1,"sinovad-episode-title-section"],[1,"sinovad-overview-section"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1),t.YNc(2,bA,16,11,"ng-template",2),t.qZA()),2&n&&(t.xp6(2),t.Q6J("ngIf",o.detail))},dependencies:[p.mk,p.sg,p.O5,wo,p.Ov],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-episode-button[_ngcontent-%COMP%]{width:100%;cursor:pointer;display:flex;border-radius:5px;margin-bottom:15px;padding:0;border:none;background:transparent}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;font-weight:400;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:10}.sinovad-episode-title-section[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden;text-overflow:ellipsis;height:auto;white-space:pre-wrap;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.sinovad-episode-image-section[_ngcontent-%COMP%]{display:block}.sinovad-episode-detail-section[_ngcontent-%COMP%]{display:block;background-color:transparent;color:#fff;padding:20px;text-align:left;width:100%}.sinovad-video-container[_ngcontent-%COMP%]{width:100%;height:100%;background:black}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:10px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-item-view-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;outline:none}.sinovad-item-view-title-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:50px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;font-weight:700;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-background-container[_ngcontent-%COMP%]{position:relative}.sinovad-item-view-background-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;width:100%;opacity:.5}.sinovad-item-view-seasons-container[_ngcontent-%COMP%]{position:relative;width:100%;font-size:20px;color:#fff;padding-right:20px;padding-left:20px;padding-top:20px;font-weight:700}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:82px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4;max-width:unset;height:110px;display:none}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:82px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:110px;display:none;opacity:.4}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-season-container[_ngcontent-%COMP%]{padding-right:10px}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:10px 10px 4px;background:transparent;border:none}.sinovad-season-button[_ngcontent-%COMP%]:hover{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus-visible{border-bottom:4px solid #007bff}.sinovad-season-button[_ngcontent-%COMP%]:focus{border-bottom:4px solid #007bff!important}.sinovad-season-button.selected[_ngcontent-%COMP%]{border-bottom:4px solid #007bff}button[_ngcontent-%COMP%]{font-size:25px}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{display:none!important}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;border:4px solid transparent}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #007bff;height:205px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:15px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:13px;-webkit-line-clamp:7}.sinovad-season-button[_ngcontent-%COMP%]{font-size:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;font-size:25px;color:#fff;padding-left:20px;padding-top:20px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;border:none;background:white;color:#000;font-weight:700;padding:8px 20px;border-radius:5px;margin-right:10px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{background:#007bff;color:#fff}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background:#007bff;color:#fff}.sinovad-item-view-summary-container[_ngcontent-%COMP%]{position:relative;width:-moz-fit-content;width:fit-content;color:#fff;padding:20px;font-size:16px}@media only screen and (min-width: 2048px){.sinovad-item-view-summary-container[_ngcontent-%COMP%]{font-size:30px}.sinovad-item-view-principal-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-view-title-container[_ngcontent-%COMP%]{font-size:50px}.sinovad-item-view-subtitle-container[_ngcontent-%COMP%]{font-size:25px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px}.sinovad-episode-title-section[_ngcontent-%COMP%]{font-size:25px}.sinovad-overview-section[_ngcontent-%COMP%]{font-size:20px;-webkit-line-clamp:10}.sinovad-season-button[_ngcontent-%COMP%]{font-size:25px}}@media only screen and (max-width: 767px){.sinovad-episode-button[_ngcontent-%COMP%]{display:block;text-align:left;margin-bottom:20px}.sinovad-episode-detail-section[_ngcontent-%COMP%]{padding:0 8px}.sinovad-episode-image-section[_ngcontent-%COMP%]{margin-bottom:10px}.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset;width:100%;max-height:410px;object-fit:cover;object-position:top}.sinovad-episode-title-section[_ngcontent-%COMP%]{-webkit-line-clamp:2}.sinovad-episode-button[_ngcontent-%COMP%]:hover   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus-visible   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}.sinovad-episode-button[_ngcontent-%COMP%]:focus   .sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:unset}}@media only screen and (max-width: 575px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:320px}}@media only screen and (max-width: 475px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}}@media only screen and (max-width: 375px){.sinovad-episode-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}"]})}return r})();function EA(r,i){if(1&r&&t._UZ(0,"app-item-view",1),2&r){const e=t.oxw();t.Q6J("detail",e.detail)}}let FD=(()=>{class r{constructor(e,n,o,u){this.activeRoute=e,this.router=n,this.restProvider=o,this.sharedService=u}ngOnInit(){let e=this.activeRoute.snapshot.params.movieId;e?this.getMovieDetail(e):this.router.navigate(["404"],{skipLocationChange:!1})}getMovieDetail(e){this.restProvider.executeSinovadApiService(tn.GET,"/videos/GetMovieDataByUser?userId="+this.sharedService.userData.Id+"&movieId="+e).then(n=>{this.detail=n.Data},n=>{console.error(n),this.router.navigate(["404"],{skipLocationChange:!1})})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.gz),t.Y36(kn.F0),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-movie-detail"]],decls:1,vars:1,consts:[[3,"detail",4,"ngIf"],[3,"detail"]],template:function(n,o){1&n&&t.YNc(0,EA,1,1,"app-item-view",0),2&n&&t.Q6J("ngIf",o.detail)},dependencies:[p.O5,hb]})}return r})();function TA(r,i){if(1&r&&t._UZ(0,"app-item-view",1),2&r){const e=t.oxw();t.Q6J("detail",e.detail)}}let BD=(()=>{class r{constructor(e,n,o,u){this.activeRoute=e,this.router=n,this.restProvider=o,this.sharedService=u}ngOnInit(){let e=this.activeRoute.snapshot.params.tvSerieId;e?this.getTvSerieDetail(e):this.router.navigate(["404"],{skipLocationChange:!1})}getTvSerieDetail(e){this.restProvider.executeSinovadApiService(tn.GET,"/videos/GetTvSerieDataByUser?userId="+this.sharedService.userData.Id+"&tvSerieId="+e).then(o=>{o.Data.ListSeasons&&o.Data.ListSeasons.length>0&&(o.Data.CurrentSeason=o.Data.ListSeasons[0]),this.detail=o.Data},o=>{console.error(o)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.gz),t.Y36(kn.F0),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-tvserie-detail"]],decls:1,vars:1,consts:[[3,"detail",4,"ngIf"],[3,"detail"]],template:function(n,o){1&n&&t.YNc(0,TA,1,1,"app-item-view",0),2&n&&t.Q6J("ngIf",o.detail)},dependencies:[p.O5,hb]})}return r})();function SA(r,i){if(1&r&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.qZA()()()),2&r){const e=t.oxw();t.xp6(3),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," ")}}function UD(r,i){if(1&r&&(t.TgZ(0,"div",30)(1,"div",31),t._UZ(2,"div",32),t.qZA()()),2&r){const e=t.oxw().$implicit,n=t.MAs(2),o=t.oxw(3);t.xp6(1),t.Udp("width",n.clientWidth-8+"px"),t.xp6(1),t.Udp("width",o.getWidthProgressItem(e))}}function CA(r,i){if(1&r&&(t.TgZ(0,"div",33)(1,"span"),t._uU(2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.Title)}}function DA(r,i){if(1&r&&(t.TgZ(0,"div")(1,"div",34)(2,"span"),t._uU(3),t.qZA()()()),2&r){const e=t.oxw().$implicit;t.xp6(3),t.AsE("",e.Title," ",e.Subtitle,"")}}function xA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",23)(1,"button",24,25),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw(3);return t.KtG(g.onClickItem(u))}),t._UZ(3,"img",26),t.YNc(4,UD,3,4,"ng-template",27),t.qZA(),t.YNc(5,CA,3,1,"div",28),t.YNc(6,DA,4,2,"div",29),t.qZA()}if(2&r){const e=i.$implicit,n=t.oxw(3);t.xp6(1),t.hYB("id","item_",e.TvSerieId?e.TvSerieId:e.MovieId,"_",e.MediaType,""),t.xp6(2),t.Q6J("src",n.sharedService.getUrlByItemMovieDataBase(e),t.LSH),t.xp6(1),t.Q6J("ngIf",e.CurrentTime&&e.DurationTime),t.xp6(1),t.Q6J("ngIf",!e.Subtitle),t.xp6(1),t.Q6J("ngIf",e.Subtitle)}}function MA(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"section",10)(1,"div",11)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",12)(5,"div",13)(6,"div",14,15),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),g=t.MAs(18),T=t.oxw(2);return t.KtG(T.onClickButtonLeftScroll(o,u,g))}),t._UZ(8,"img",16),t.ALo(9,"async"),t.ALo(10,"formatDataPipe"),t.qZA()(),t.TgZ(11,"div",17,18)(13,"div",19,20),t.YNc(15,xA,7,6,"ng-template",4),t.qZA()(),t.TgZ(16,"div",13)(17,"div",21,22),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(12),u=t.MAs(7),g=t.MAs(18),T=t.oxw(2);return t.KtG(T.onClickButtonRightScroll(o,u,g))}),t._UZ(19,"img",16),t.ALo(20,"async"),t.ALo(21,"formatDataPipe"),t.qZA()()()()}if(2&r){const e=t.oxw().$implicit;t.MGl("id","section_",e.Id,""),t.xp6(3),t.Oqu(e.Name),t.xp6(5),t.Q6J("src",t.lcZ(9,5,t.xi3(10,7,"scroll-left.png","GetImageURLByKey")),t.LSH),t.xp6(7),t.Q6J("ngForOf",e.ListItems),t.xp6(4),t.Q6J("src",t.lcZ(20,10,t.xi3(21,12,"scroll-right.png","GetImageURLByKey")),t.LSH)}}function jD(r,i){if(1&r&&t.YNc(0,MA,22,15,"section",9),2&r){const e=i.$implicit;t.Q6J("ngIf",e.ListItems&&e.ListItems.length>0)}}let VD=(()=>{class r{constructor(e,n,o,u,g){this.router=e,this.videoService=n,this.restProvider=o,this.ref=u,this.sharedService=g,this.focus=new t.vpe,this.showLoadingApp=!0,this.itemsGroupList=[],this._window=window}getWidthProgressItem(e){return e.CurrentTime/e.DurationTime*100+"%"}onClickButtonLeftScroll(e,n,o){e.scrollLeft=e.scrollLeft-300,this.verifyIfShoOrHiddenScrollButtons(e,n,o)}onClickButtonRightScroll(e,n,o){e.scrollLeft=e.scrollLeft+300,this.verifyIfShoOrHiddenScrollButtons(e,n,o)}verifyIfShoOrHiddenScrollButtons(e,n,o){n.style.display=e.scrollLeft<=0?"none":"flex",o.style.display=e.scrollWidth==e.scrollLeft+e.offsetWidth?"none":"flex",this.ref.detectChanges()}onInitializeItemsRow(e,n,o){setTimeout(()=>{this.verifyIfShoOrHiddenScrollButtons(e,n,o)},250)}onSelectItem(e){e.scrollIntoView({block:"center"}),this.ref.detectChanges()}getAllProgramsByUser(e,n){this.restProvider.executeSinovadApiService(tn.GET,"/videos/GetAllTvProgramsOrganized?userId="+this.sharedService.userData.Id+"&profileId="+this.sharedService.currentProfile.Id+"&searchMovies="+e+"&searchTvSeries="+n).then(u=>{this.itemsGroupList=u.Data,this.ref.detectChanges(),this.focus.emit()},u=>{console.error(u)})}onClickItem(e){null!=e.CurrentTime&&e.ContinueVideo?this.continueVideoByItem(e):e.MovieId?this.getMovieDetail(e):e.TvSerieId&&this.getTvSerieDetail(e)}continueVideoByItem(e){this.restProvider.executeSinovadApiService(tn.GET,e.TvSerieId?"/videos/GetTvSerieDetail?userId="+this.sharedService.userData.Id+"&tvSerieId="+e.TvSerieId:"/videos/GetMovieDetail?movieId="+e.MovieId).then(o=>{let u=o.Data;u.Item=e;var g=this.sharedService.CreateBuilderVideoFromItem(e,u);this.videoService.show(g)},o=>{console.error(o)})}getMovieDetail(e){this.restProvider.executeSinovadApiService(tn.GET,"/videos/GetMovieDetail?movieId="+e.MovieId).then(n=>{let o=n.Data;o.Item=e,this.setDataAndShowItemView(o)},n=>{console.error(n)})}getTvSerieDetail(e){this.restProvider.executeSinovadApiService(tn.GET,"/videos/GetTvSerieDetail?userId="+this.sharedService.userData.Id+"&tvSerieId="+e.TvSerieId).then(o=>{let u=o.Data;u.Item=e,this.setDataAndShowItemView(u)},o=>{console.error(o)})}setDataAndShowItemView(e){e.ListSeasons&&e.ListSeasons.length>0&&(e.CurrentSeason=e.ListSeasons[0]),e.Item.MovieId?this.router.navigateByUrl("/moviedetail/"+e.Item.MovieId):e.Item.TvSerieId&&this.router.navigateByUrl("/tvseriedetail/"+e.Item.TvSerieId)}ngAfterViewInit(){this.sharedService.currentProfile&&(this.currentMediaTypeID==at.Movie?this.getAllProgramsByUser(!0,!1):this.getAllProgramsByUser(this.currentMediaTypeID!=at.TvSerie,!0))}ngOnInit(){}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(qg),t.Y36(si),t.Y36(t.sBO),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-horizontal-item-list"]],inputs:{currentMediaTypeID:"currentMediaTypeID",title:"title",subtitle:"subtitle"},outputs:{focus:"focus"},decls:5,vars:4,consts:[[1,"sinovadclient-principal-section"],[1,"sinovad-principal-item-list-container","sinovad-no-cordova"],["class","sinovad-media-header",4,"ngIf"],[1,"sinovad-list-container","sinovad-custom-container"],["ngFor","",3,"ngForOf"],[1,"sinovad-media-header"],[1,"sinovad-media-header-content"],[1,"title"],[1,"subtitle"],["tabindex","0",3,"id",4,"ngIf"],["tabindex","0",3,"id"],[1,"sinovad-list-row-title"],[1,"sinovad-list-row-container"],[2,"width","0px","height","0px"],[1,"sinovad-list-button-scroll-left",3,"click"],["scrollLeftButton",""],[3,"src"],["tabindex","0",1,"sinovad-list-row"],["itemsRowContainer",""],[1,"sinovad-list-content"],["content",""],[1,"sinovad-list-button-scroll-right",3,"click"],["scrollRightButton",""],[1,"sinovad-item-container"],[1,"sinovad-item-button-vertical",3,"id","click"],["itemContainer",""],["referrerpolicy","no-referrer",3,"src"],[3,"ngIf"],["class","sinovad-item-caption-container",4,"ngIf"],[4,"ngIf"],[1,"sinovad-item-progress-bar-absolute-container"],[1,"sinovad-item-progress-bar-container"],[1,"sinovad-item-progress-bar-content"],[1,"sinovad-item-caption-container"],[1,"sinovad-item-title-caption-container"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,SA,6,2,"div",2),t.TgZ(3,"div",3),t.YNc(4,jD,1,1,"ng-template",4),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",o.title),t.xp6(1),t.Udp("height",o.title?"calc(100% - 50px)":"100%"),t.xp6(1),t.Q6J("ngForOf",o.itemsGroupList))},dependencies:[p.sg,p.O5,p.Ov,wo],styles:["button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-principal-item-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%}.sinovadclient-principal-section[_ngcontent-%COMP%]{width:100%;background:#2d3744;color:#fff;height:100%}.sinovadclient-container-video[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:9999;display:flex;align-items:center;justify-content:center;background:black;top:0;left:0}.sinovad-media-header[_ngcontent-%COMP%]{padding:10px 0 10px 12px;height:65px;font-weight:700;font-family:sans-serif;display:block;border-bottom:1px solid #dedede;margin-left:16px;margin-right:16px;display:flex;align-items:center}.sinovad-media-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:30px;padding:6px 10px;border-radius:5px;border:none;cursor:pointer;font-size:16px}.sinovad-media-header-content[_ngcontent-%COMP%]{display:block}.title[_ngcontent-%COMP%]{font-size:16px}.subtitle[_ngcontent-%COMP%]{font-size:12px;color:#ffffffbf}.sinovadclient-title-section[_ngcontent-%COMP%]{margin:10px 10px 10px 16px;font-size:30px;font-weight:700}.sinovadclient-section[_ngcontent-%COMP%]{margin:10px}.sinovad-item-container[_ngcontent-%COMP%]{padding-right:10px;width:min-content;margin:6px;border-radius:6px}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#000;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-vertical-list-container[_ngcontent-%COMP%]{display:block;height:100%;width:100%;padding:10px;overflow-y:auto;overflow-x:hidden}.sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:center;font-family:sans-serif}.sinovad-item-title-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:700;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-item-subtitle-caption-container[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:400;padding-top:10px;text-align:left;font-family:sans-serif}.sinovad-list-container[_ngcontent-%COMP%]{padding:20px;overflow-x:hidden;overflow-y:auto;outline:none}.sinovad-list-content[_ngcontent-%COMP%]{display:flex}.sinovad-list-row[_ngcontent-%COMP%]{display:block;overflow-x:auto;outline:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]{position:relative;width:60px;height:220px;top:6px;display:flex;align-items:center;justify-content:center;cursor:pointer}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px;color:#fff;font-weight:700;font-family:sans-serif;padding:0 0 0 8px}.sinovad-list-row-container[_ngcontent-%COMP%]{display:flex;padding-top:10px;padding-bottom:10px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]{width:60px;height:220px;top:6px;right:60px;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset;height:60px;display:none}.sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover, .sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2);opacity:.6}.sinovad-item-progress-bar-absolute-container[_ngcontent-%COMP%]{width:0px;height:0px;margin-bottom:9px}.sinovad-item-progress-bar-container[_ngcontent-%COMP%]{width:100%;height:5px;background-color:#1e1a28;position:relative;margin-top:-9px;margin-left:4px}.sinovad-item-progress-bar-content[_ngcontent-%COMP%]{background-color:red;height:100%}.sinovad-list-button-scroll-right[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{display:block}.sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-left[_ngcontent-%COMP%], .sinovad-mobile-platform[_ngcontent-%COMP%]   .sinovad-list-button-scroll-right[_ngcontent-%COMP%]{display:none!important}.sinovad-item-button-vertical[_ngcontent-%COMP%]{min-width:170px;width:170px;height:220px;display:block;color:#000;cursor:pointer;text-align:center;padding:0;border-radius:unset;border:none;background:transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:unset;border-radius:10px;border:4px solid transparent}.sinovad-item-button-vertical[_ngcontent-%COMP%]   .sinovad-item-caption[_ngcontent-%COMP%]{position:absolute;margin-top:100px;font-size:20px;color:#fff;font-weight:700}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:180px;height:230px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus   img[_ngcontent-%COMP%]{border:4px solid #007bff}.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:14px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:20px}@media only screen and (min-width: 2048px){.sinovad-item-title-caption-container[_ngcontent-%COMP%], .sinovad-item-caption-container[_ngcontent-%COMP%]{font-size:20px}.sinovad-list-row-title[_ngcontent-%COMP%]{font-size:25px}.sinovad-item-button-vertical[_ngcontent-%COMP%]{width:230px;height:310px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:hover{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus-visible{width:240px;height:320px}.sinovad-item-button-vertical[_ngcontent-%COMP%]:focus{width:240px;height:320px}.sinovad-list-button-scroll-right[_ngcontent-%COMP%], .sinovad-list-button-scroll-left[_ngcontent-%COMP%]{height:310px}}"]})}return r})();function AA(r,i){if(1&r&&t._UZ(0,"app-horizontal-item-list",1),2&r){const e=t.oxw();t.Q6J("currentMediaTypeID",e.currentMediaTypeID)("title",e.title)("subtitle",e.subtitle)}}let l=(()=>{class r{constructor(e,n,o){this.activeRoute=e,this.router=n,this.sharedService=o,this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1}}ngOnInit(){var e=this.activeRoute.snapshot.params.serverGuid;if(null!=e){var n=this.sharedService.mediaServers.find(g=>g.Guid==e);if(n){this.mediaServer=n;var o=this.activeRoute.snapshot.params.libraryId,u=this.sharedService.libraries.find(g=>g.MediaServerId==this.mediaServer.Id&&g.Id==o);null!=u?(this.library=u,this.title=u.Name,this.subtitle=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName,this.currentMediaTypeID=u.MediaTypeCatalogDetailId):this.title=this.mediaServer.FamilyName?this.mediaServer.FamilyName:this.mediaServer.DeviceName}}else window.location.pathname.endsWith("movies")?(this.title="Pel\xedculas",this.currentMediaTypeID=at.Movie):window.location.pathname.endsWith("tvseries")&&(this.title="Series de Tv",this.currentMediaTypeID=at.TvSerie)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.gz),t.Y36(kn.F0),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-media-server"]],decls:1,vars:1,consts:[[3,"currentMediaTypeID","title","subtitle",4,"ngIf"],[3,"currentMediaTypeID","title","subtitle"]],template:function(n,o){1&n&&t.YNc(0,AA,1,3,"app-horizontal-item-list",0),2&n&&t.Q6J("ngIf",o.sharedService.currentProfile)},dependencies:[p.O5,VD],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]})}return r})();const d=[{path:"",children:[{path:"home",component:l,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"media/movies",component:l,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"media/tvseries",component:l,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"media/server/:serverGuid",component:l,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"media/server/:serverGuid/libraries/:libraryId",component:l,loadChildren:()=>C.e(377).then(C.bind(C,8377)).then(r=>r.MediaModule)},{path:"moviedetail/:movieId",component:FD,loadChildren:()=>Promise.resolve().then(C.bind(C,1292)).then(r=>Nm.MediaDetailModule)},{path:"tvseriedetail/:tvSerieId",component:BD,loadChildren:()=>Promise.resolve().then(C.bind(C,1292)).then(r=>Nm.MediaDetailModule)},{path:"search",component:Rm,loadChildren:()=>C.e(316).then(C.bind(C,6316)).then(r=>r.SearchModule)},{path:"select-profile",component:ty,loadChildren:()=>C.e(931).then(C.bind(C,6931)).then(r=>r.ProfilesModule)},{path:"add-profile",component:af,loadChildren:()=>C.e(931).then(C.bind(C,6931)).then(r=>r.ProfilesModule)},{path:"edit-profile/:profileGuid",component:Om,loadChildren:()=>C.e(931).then(C.bind(C,6931)).then(r=>r.ProfilesModule)},{path:"landing",component:z_,loadChildren:()=>C.e(325).then(C.bind(C,7325)).then(r=>r.LandingPageModule)},{path:"register",component:Xh,loadChildren:()=>C.e(166).then(C.bind(C,166)).then(r=>r.RegisterAcccountPageModule)},{path:"login",component:Y_,loadChildren:()=>C.e(660).then(C.bind(C,7660)).then(r=>r.LoginPageModule)},{path:"recover",component:ju,loadChildren:()=>C.e(264).then(C.bind(C,6264)).then(r=>r.RecoverPasswordPageModule)},{path:"reset/:base64Data",component:j_,loadChildren:()=>C.e(334).then(C.bind(C,9334)).then(r=>r.ResetPasswordPageModule)},{path:"confirm/:base64Data",component:L_,loadChildren:()=>C.e(271).then(C.bind(C,4271)).then(r=>r.ConfirmEmailPageModule)},{path:"404",component:$h,loadChildren:()=>C.e(170).then(C.bind(C,7170)).then(r=>r.NotFoundPageModule)},{path:"settings/server/:serverGuid/settings/general",component:$_,loadChildren:()=>C.e(527).then(C.bind(C,1527)).then(r=>r.ServerSettingsGeneralPageModule)},{path:"settings/server/:serverGuid/manage/libraries",component:Xv,loadChildren:()=>C.e(558).then(C.bind(C,7558)).then(r=>r.LibrariesModule)},{path:"settings/server/:serverGuid/settings/transcoder",component:sT,loadChildren:()=>C.e(211).then(C.bind(C,3211)).then(r=>r.TranscoderSettingssPageModule)},{path:"manage/movies",component:mm,loadChildren:()=>C.e(369).then(C.bind(C,3369)).then(r=>r.MoviesModule)},{path:"manage/tvseries",component:rf,loadChildren:()=>C.e(425).then(C.bind(C,5425)).then(r=>r.TvSeriesModule)},{path:"manage/genres",component:Wh,loadChildren:()=>C.e(153).then(C.bind(C,7153)).then(r=>r.GenresModule)},{path:"manage/menus",component:lm,loadChildren:()=>C.e(991).then(C.bind(C,3991)).then(r=>r.MenusModule)},{path:"manage/users",component:Wl,loadChildren:()=>C.e(417).then(C.bind(C,3417)).then(r=>r.UsersModule)},{path:"manage/roles",component:om,loadChildren:()=>C.e(111).then(C.bind(C,6111)).then(r=>r.RolesPageModule)},{path:"settings/account",component:Zi,loadChildren:()=>C.e(294).then(C.bind(C,8294)).then(r=>r.AccountPageModule)},{path:"",pathMatch:"full",redirectTo:"home"},{path:"web",pathMatch:"full",redirectTo:"home"},{path:"**",redirectTo:"/404"}]}];let f=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[c.b2,p.ez,kt.u5,Gs.m,kt.UX,TT,ST,kn.Bz.forChild(d)]})}return r})();function _(r,i){1&r&&t._UZ(0,"i",12)}const M=function(r){return{selected:r}};function j(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"a",3),t.NdJ("click",function(){const u=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.onClickDropDownMenuOption(u))}),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.qZA(),t.TgZ(5,"div",7),t._uU(6),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t.YNc(9,_,1,0,"i",10),t.qZA(),t.TgZ(10,"div",11),t._UZ(11,"i"),t.qZA()()()()}if(2&r){const e=i.$implicit;t.Q6J("ngClass",t.VKq(7,M,e.isSelected)),t.xp6(4),t.hij(" ",e.title," "),t.xp6(2),t.hij(" ",e.subtitle," "),t.xp6(3),t.Q6J("ngIf",e.isSelected),t.xp6(2),t.Tol(e.iconClass)}}function ee(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("clickOutside",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickOutside())}),t.YNc(1,j,12,9,"ng-template",2),t.qZA()}if(2&r){const e=t.oxw();t.Udp("width",e.width+"px")("top",e.top+"px")("left",e.left+"px"),t.xp6(1),t.Q6J("ngForOf",e.dropDownMenuOptions.listItems)}}let Te=(()=>{class r{constructor(e,n,o){this.ref=e,this.sharedService=n,this.router=o,this.hide=new t.vpe,this.clickItem=new t.vpe,this.show=!1}ngAfterViewInit(){this.showContent()}showContent(){var e=this;return Fu(function*(){yield e.sharedService.delay(100),e.show=!0,e.ref.detectChanges()})()}onClickOutside(){this.hide.emit(!0)}onClickDropDownMenuOption(e){this.clickItem.emit(e),this.router.navigateByUrl(e.path)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.sBO),t.Y36(rt),t.Y36(kn.F0))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-drop-down-servers"]],inputs:{dropDownMenuOptions:"dropDownMenuOptions",top:"top",left:"left",width:"width"},outputs:{hide:"hide",clickItem:"clickItem"},decls:1,vars:1,consts:[["class","sinovad-drop-down-menu-item-list",3,"width","top","left","clickOutside",4,"ngIf"],[1,"sinovad-drop-down-menu-item-list",3,"clickOutside"],["ngFor","",3,"ngForOf"],[1,"sinovad-drop-down-menu-item-container",3,"ngClass","click"],[1,"sinovad-drop-down-menu-item-content"],[1,"left"],[1,"title"],[1,"subtitle"],[1,"right"],[1,"selected-icon-container"],["class","fa-solid fa-check",4,"ngIf"],[1,"icon-container"],[1,"fa-solid","fa-check"]],template:function(n,o){1&n&&t.YNc(0,ee,2,7,"div",0),2&n&&t.Q6J("ngIf",o.show)},dependencies:[ps,p.mk,p.sg,p.O5],styles:[".sinovad-drop-down-menu-item-list[_ngcontent-%COMP%]{position:absolute;z-index:999999999;border-radius:5px;background:#131313;border:none;box-shadow:#00000080 0 0 18px;color:#fff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]{height:60px;padding:8px 10px 8px 25px;width:100%;word-wrap:break-word;display:block;font-size:13px;text-align:left;-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;color:#ffffffb3}a.sinovad-drop-down-menu-item-container.selected[_ngcontent-%COMP%]{color:#007bff}a.sinovad-drop-down-menu-item-container[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff14}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important;font-size:13px}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#ffffff4d;font-size:12px;max-width:100%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap!important}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .selected-icon-container[_ngcontent-%COMP%]{fill:currentcolor;display:inline-block;height:1em;line-height:1;position:relative;vertical-align:middle;width:1em;font-size:14px;margin-left:10px;top:0;color:#007bff;overflow:hidden}.sinovad-drop-down-menu-item-content[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-left:10px;margin-right:10px;color:#6b5}"]})}return r})(),ke=(()=>{class r{constructor(e,n,o){this.factoryResolver=e,this.injector=n,this.applicationRef=o,this.isShowing=!1}show(e){return new Promise((n,o)=>{null!=this.lastViewRef&&this.applicationRef.detachView(this.lastViewRef);const g=this.factoryResolver.resolveComponentFactory(Te).create(this.injector);this.lastViewRef=g.hostView,this.applicationRef.attachView(g.hostView);let T=this;const R=e.target.getBoundingClientRect();g.instance.dropDownMenuOptions=e,g.instance.left=R.left,g.instance.top=R.top+R.height,g.instance.width=R.width,g.instance.clickItem.subscribe(Ee=>{g.destroy(),T.applicationRef.detachView(g.hostView),T.isShowing=!1,n(Ee)}),g.instance.hide.subscribe(Ee=>{g.destroy(),T.applicationRef.detachView(g.hostView),T.isShowing=!1,o(!0)}),this.isShowing=!0;const G=g.hostView.rootNodes[0];document.getElementById("sinovadMainContainer").appendChild(G)})}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const nt=["mediaServerButton"],Et=function(r){return{selected:r}},Pt=function(){return["/settings/account"]};function rn(r,i){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.TgZ(4,"div",9)(5,"a",10)(6,"div",11),t._UZ(7,"div",12),t.TgZ(8,"div",13),t._uU(9," Cuenta "),t.qZA()()()()()),2&r){const e=t.oxw();t.xp6(3),t.AsE(" ",e.sharedService.userData.FirstName," ",e.sharedService.userData.LastName," "),t.xp6(1),t.Q6J("ngClass",t.VKq(4,Et,e.isSelectedAccountOption())),t.xp6(1),t.Q6J("routerLink",t.DdM(6,Pt))}}function ln(r,i){1&r&&t._UZ(0,"i",24)}function Dn(r,i){1&r&&t._UZ(0,"i",25)}function Gn(r,i){1&r&&t._UZ(0,"i",26)}function $n(r,i){1&r&&t._UZ(0,"i",27)}const oi=function(r,i){return{"icon-secure":r,"icon-alert":i}};function wn(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",14,15),t.NdJ("click",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.togleDropDownMediaServers(o))}),t.TgZ(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5),t.qZA(),t.YNc(6,ln,1,0,"i",19),t.YNc(7,Dn,1,0,"i",20),t.qZA(),t.TgZ(8,"div",21),t.YNc(9,Gn,1,0,"i",22),t.YNc(10,$n,1,0,"i",23),t.qZA()()()}if(2&r){const e=t.oxw();t.Q6J("ngClass",t.VKq(7,Et,e.isSelectedServerOption())),t.xp6(5),t.hij(" ",e.sharedService.selectedMediaServer.FamilyName?e.sharedService.selectedMediaServer.FamilyName:e.sharedService.selectedMediaServer.DeviceName," "),t.xp6(1),t.Q6J("ngIf",e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngIf",!e.dropDownServersService.isShowing),t.xp6(1),t.Q6J("ngClass",t.WLB(9,oi,e.sharedService.selectedMediaServer.isSecureConnection,!e.sharedService.selectedMediaServer.isSecureConnection)),t.xp6(1),t.Q6J("ngIf",e.sharedService.selectedMediaServer.isSecureConnection),t.xp6(1),t.Q6J("ngIf",!e.sharedService.selectedMediaServer.isSecureConnection)}}const Ci=function(r){return[r]};function Ni(r,i){if(1&r&&(t.TgZ(0,"div",9)(1,"a",10)(2,"div",11),t._UZ(3,"div",12),t.TgZ(4,"div",13),t._uU(5),t.qZA()()()()),2&r){const e=i.$implicit,n=t.oxw(3);t.Q6J("ngClass",t.VKq(3,Et,n.isSelectedSidebarOption(e))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,Ci,n.getOptionPath(e))),t.xp6(4),t.hij(" ",e.name," ")}}function Bi(r,i){if(1&r&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._uU(3),t.qZA()(),t.YNc(4,Ni,6,7,"ng-template",28),t.qZA()),2&r){const e=i.$implicit;t.xp6(3),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngForOf",e.listOptions)}}function _o(r,i){if(1&r&&t.YNc(0,Bi,5,2,"ng-template",28),2&r){const e=t.oxw();t.Q6J("ngForOf",e.serverModules)}}let Zf=(()=>{class r{constructor(e,n,o,u){this.dropDownServersService=e,this.activeRoute=n,this.ref=o,this.sharedService=u,this.prepareRouterOutlet=new t.vpe,this.collapseSidebar=new t.vpe,this.serverModules=[{index:2,order:2,name:"Ajustes",listOptions:[{index:3,name:"General",path:"/settings/server/{serverGuid}/settings/general"},{index:4,name:"Transcodificador",path:"/settings/server/{serverGuid}/settings/transcoder"}]},{index:3,order:3,name:"Gestionar",listOptions:[{index:7,name:"Bibliotecas",path:"/settings/server/{serverGuid}/manage/libraries"}]}]}ngOnInit(){this.setSelectedMediaServer()}setSelectedMediaServer(){if(this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid){var e=this.activeRoute.firstChild.firstChild.snapshot.params.serverGuid,n=this.sharedService.mediaServers.find(o=>o.Guid==e);n&&(this.sharedService.selectedMediaServer=n)}null==this.sharedService.selectedMediaServer&&this.sharedService.mediaServers&&this.sharedService.mediaServers.length>0&&(this.sharedService.selectedMediaServer=this.sharedService.mediaServers[0])}ngAfterViewInit(){}getOptionPath(e){return e.path.replace("{serverGuid}",this.sharedService.selectedMediaServer.Guid)}onClickModule(e){e.isCollapsed=!e.isCollapsed}togleDropDownMediaServers(e){this.showMediaServerMenuOptions(e)}showMediaServerMenuOptions(e){this.dropDownServersService.isShowing||this.dropDownServersService.show(this.getDropDownMenuOptions()).then(n=>{},n=>{})}getDropDownMenuOptions(){var e=void 0;if(this.mediaServerButton){let n=[];this.sharedService.mediaServers.forEach(u=>{n.push({title:u.FamilyName?u.FamilyName:u.DeviceName,subtitle:u.isSecureConnection?"Conexi\xf3n exitosa":"Sin conexi\xf3n",iconClass:u.isSecureConnection?"fa-solid fa-lock icon-secure":"fa-solid fa-triangle-exclamation icon-alert",path:"/settings/server/"+u.Guid+"/settings/general",isSelected:this.sharedService.selectedMediaServer.Id==u.Id})}),e={containerId:"sinovadMainContainer",target:this.mediaServerButton.nativeElement,listItems:n}}return e}isSelectedSidebarOption(e){return-1!=this.getOptionPath(e).indexOf(window.location.pathname)}isSelectedAccountOption(){return-1!="/settings/account".indexOf(window.location.pathname)}isSelectedServerOption(){return!!window.location.pathname.startsWith("/settings/server")}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(ke),t.Y36(kn.gz),t.Y36(t.sBO),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-account"]],viewQuery:function(n,o){if(1&n&&t.Gf(nt,5),2&n){let u;t.iGM(u=t.CRH())&&(o.mediaServerButton=u.first)}},outputs:{prepareRouterOutlet:"prepareRouterOutlet",collapseSidebar:"collapseSidebar"},decls:6,vars:3,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sidebar-container"],[1,"sidebar-content"],["role","navigation",4,"ngIf"],["class","media-server-button",3,"ngClass","click",4,"ngIf"],[3,"ngIf"],["role","navigation"],[1,"sidebar-list-header-container"],[1,"sidebar-list-header-content"],[1,"sidebar-list-item-container",3,"ngClass"],[3,"routerLink"],[1,"sidebar-link-container"],[1,"sidebar-link-icon"],[1,"sidebar-link-title"],[1,"media-server-button",3,"ngClass","click"],["mediaServerButton",""],[1,"content"],[1,"left"],[1,"first"],["class","fa-solid fa-caret-up",4,"ngIf"],["class","fa-solid fa-caret-down",4,"ngIf"],[1,"server-settings-menu-button-icon",3,"ngClass"],["class","fa-solid fa-lock",4,"ngIf"],["class","fa-solid fa-triangle-exclamation",4,"ngIf"],[1,"fa-solid","fa-caret-up"],[1,"fa-solid","fa-caret-down"],[1,"fa-solid","fa-lock"],[1,"fa-solid","fa-triangle-exclamation"],["ngFor","",3,"ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(g){return o.onClickOutsideSidebar(g)}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,rn,10,7,"div",3),t.YNc(4,wn,11,12,"button",4),t.YNc(5,_o,1,1,"ng-template",5),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("ngIf",o.sharedService.userData),t.xp6(1),t.Q6J("ngIf",o.sharedService.selectedMediaServer),t.xp6(1),t.Q6J("ngIf",o.sharedService.selectedMediaServer&&o.serverModules&&o.serverModules.length>0))},dependencies:[ps,p.mk,p.sg,p.O5,kn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sidebar-container[_ngcontent-%COMP%]{border-radius:4px;display:flex;flex:0 0 240px;flex-direction:column;height:calc(100% - 8px);margin:0;transform:translateZ(0);width:100%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif;font-size:13px}.sidebar-content[_ngcontent-%COMP%]{padding-bottom:60px;padding-top:10px}.sidebar-list-header-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-header-container[_ngcontent-%COMP%]   .sidebar-list-header-content[_ngcontent-%COMP%]{color:#ffffff4d;font-size:15px;height:45px;line-height:45px;max-width:100%;min-width:0;overflow:hidden!important;padding-left:25px;text-overflow:ellipsis;text-transform:capitalize;white-space:nowrap!important;flex-grow:1}.sidebar-list-item-container[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:flex;min-height:30px;position:relative}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;background:none;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none;display:block;flex-grow:1;overflow:hidden;padding:4px 0 2px 25px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]{display:flex}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-icon[_ngcontent-%COMP%]{font-size:13px;width:18px;flex-shrink:0;height:14px;color:#ffffffb3}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .sidebar-link-container[_ngcontent-%COMP%]   .sidebar-link-title[_ngcontent-%COMP%]{flex-grow:1;word-break:break-word}.sidebar-list-item-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff}.sidebar-list-item-container.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.media-server-button[_ngcontent-%COMP%]{background-color:#0000004d;font-size:13px;height:50px;line-height:50px;padding-left:25px;padding-right:15px;width:100%;-webkit-tap-highlight-color:transparent;color:#ffffffb3;border:0;border-radius:0;cursor:pointer;line-height:inherit;margin:0;outline:none;text-align:inherit;text-decoration:none;touch-action:manipulation;transition:color .2s;-webkit-user-select:none;user-select:none}.content[_ngcontent-%COMP%]{align-items:center;display:flex;height:100%;justify-content:space-between;width:100%}.left[_ngcontent-%COMP%]{flex-grow:1;line-height:1.5;max-width:85%;text-align:left;display:flex;align-items:center}.left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;max-width:100%;max-width:85%;min-width:0;overflow:hidden!important;text-overflow:ellipsis;vertical-align:top;white-space:nowrap!important;font-weight:700}.left[_ngcontent-%COMP%]   i.fa-caret-up[_ngcontent-%COMP%]{margin-left:7px;margin-top:2px}.left[_ngcontent-%COMP%]   i.fa-caret-down[_ngcontent-%COMP%]{margin-left:7px}.server-settings-menu-button-icon[_ngcontent-%COMP%]{display:flex;font-size:13px;margin-right:10px}.media-server-button.selected[_ngcontent-%COMP%]{color:#007bff}.media-server-button[_ngcontent-%COMP%]:hover{color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function GD(r,i){1&r&&t._UZ(0,"i",9)}function HD(r,i){1&r&&t._UZ(0,"i",10)}function Uw(r,i){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const jw=function(r){return[r]},Vw=function(r){return{active:r}};function Gw(r,i){if(1&r&&(t.TgZ(0,"li",12)(1,"a",13),t.YNc(2,Uw,1,3,"i",14),t.TgZ(3,"span",7),t._uU(4),t.qZA()()()),2&r){const e=i.$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,jw,e.Path))("ngClass",t.VKq(6,Vw,n.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function Hw(r,i){if(1&r&&(t.TgZ(0,"div")(1,"ul",11),t.YNc(2,Gw,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function Yw(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"button",4),t.NdJ("click",function(o){const g=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.onClickModule(g,o))}),t.YNc(2,GD,1,0,"i",5),t.YNc(3,HD,1,0,"i",6),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.YNc(6,Hw,3,1,"div",8),t.qZA()}if(2&r){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let Kw=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}onClickModule(e,n){n.preventDefault(),n.stopPropagation(),e.isCollapsed=!e.isCollapsed}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}isSelectedMenu(e){return-1!=e.Path.indexOf(window.location.pathname)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-administrator"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"click"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"],[3,"class",4,"ngIf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(g){return o.onClickOutsideSidebar(g)}),t.TgZ(1,"ul",1),t.YNc(2,Yw,7,4,"ng-template",2),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.listMenus))},dependencies:[ps,p.mk,p.sg,p.O5,kn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:200px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function Ww(r,i){1&r&&t._UZ(0,"i",10)}function zw(r,i){1&r&&t._UZ(0,"i",11)}function Zw(r,i){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}function $w(r,i){if(1&r&&t._UZ(0,"i"),2&r){const e=t.oxw().$implicit;t.Tol(e.IconClass)}}const wA=function(r){return[r]},IA=function(r){return{active:r}};function qw(r,i){if(1&r&&(t.TgZ(0,"li",13)(1,"a",14),t.YNc(2,$w,1,3,"i",7),t.TgZ(3,"span",8),t._uU(4),t.qZA()()()),2&r){const e=i.$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("routerLink",t.VKq(4,wA,e.Path))("ngClass",t.VKq(6,IA,n.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title)}}function Jw(r,i){if(1&r&&(t.TgZ(0,"div")(1,"ul",12),t.YNc(2,qw,5,8,"ng-template",2),t.qZA()()),2&r){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",e.ChildMenus)}}function Qw(r,i){if(1&r&&(t.TgZ(0,"li",3)(1,"button",4),t.YNc(2,Ww,1,0,"i",5),t.YNc(3,zw,1,0,"i",6),t.YNc(4,Zw,1,3,"i",7),t.TgZ(5,"span",8),t._uU(6),t.qZA()(),t.YNc(7,Jw,3,1,"div",9),t.qZA()),2&r){const e=i.$implicit,n=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(7,wA,e.Path))("ngClass",t.VKq(9,IA,n.isSelectedMenu(e))),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&e.isCollapsed),t.xp6(1),t.Q6J("ngIf",!e.IconClass&&!e.isCollapsed),t.xp6(1),t.Q6J("ngIf",e.IconClass),t.xp6(2),t.Oqu(e.Title),t.xp6(1),t.Q6J("ngIf",!e.isCollapsed)}}let Xw=(()=>{class r{constructor(e){this.sharedService=e,this.collapseSidebar=new t.vpe}ngOnInit(){}onClickModule(e){e.isCollapsed=!e.isCollapsed}isSelectedMenu(e){return-1!=decodeURIComponent(window.location.pathname).indexOf(e.Path)}onClickOutsideSidebar(e){this.collapseSidebar.emit(!0)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sidebar-media"]],outputs:{collapseSidebar:"collapseSidebar"},decls:3,vars:1,consts:[[1,"sidebar-backdrop",3,"clickOutside"],[1,"sinovad-sidebar-modules-list"],["ngFor","",3,"ngForOf"],[1,"sinovad-sidebar-module-element"],[1,"sinovad-sidebar-module-button",3,"routerLink","ngClass"],["class","fa-solid fa-chevron-right",4,"ngIf"],["class","fa-solid fa-chevron-down",4,"ngIf"],[3,"class",4,"ngIf"],[1,"ms-2"],[4,"ngIf"],[1,"fa-solid","fa-chevron-right"],[1,"fa-solid","fa-chevron-down"],[1,"sinovad-sidebar-options-list"],[1,"sinovad-sidebar-option-element"],[3,"routerLink","ngClass"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.NdJ("clickOutside",function(g){return o.onClickOutsideSidebar(g)}),t.TgZ(1,"ul",1),t.YNc(2,Qw,8,11,"ng-template",2),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngForOf",o.sharedService.mediaMenu))},dependencies:[ps,p.mk,p.sg,p.O5,kn.rH],styles:[".sidebar-backdrop[_ngcontent-%COMP%]{width:240px;height:100%;background:#0c0d11}.sinovad-sidebar-modules-list[_ngcontent-%COMP%]{display:block;padding:10px 10px 10px 20px;width:240px}.sinovad-sidebar-module-element[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-module-button[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:none;opacity:.75;width:100%;height:30px;text-align:left;font-size:16px;padding-top:10px}.sinovad-sidebar-module-button.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-module-button[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]{display:block}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]{display:flex;height:40px;align-items:center}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;height:100%;display:flex;align-items:center;opacity:.75;font-size:16px;width:100%;text-decoration:unset;color:#fff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.sinovad-sidebar-options-list[_ngcontent-%COMP%]   .sinovad-sidebar-option-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:#fff}@media only screen and (max-width: 767px){.sidebar-backdrop[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:999}}"]})}return r})();function e1(r,i){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.sharedService.getInitials(e.sharedService.currentProfile)," ")}}function t1(r,i){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(3);t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.sharedService.currentProfile.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function n1(r,i){if(1&r&&(t.TgZ(0,"span",11),t._uU(1),t.qZA(),t.YNc(2,e1,2,1,"div",12),t.YNc(3,t1,3,6,"img",12)),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.sharedService.currentProfile.FullName," "),t.xp6(1),t.Q6J("ngIf",null==e.sharedService.currentProfile.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.sharedService.currentProfile.AvatarPath)}}function r1(r,i){if(1&r&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&r){const e=t.oxw(2).$implicit,n=t.oxw(3);t.xp6(1),t.hij(" ",n.sharedService.getInitials(e)," ")}}function o1(r,i){if(1&r&&(t._UZ(0,"img",13),t.ALo(1,"async"),t.ALo(2,"formatDataPipe")),2&r){const e=t.oxw(2).$implicit;t.uIk("src",t.lcZ(1,1,t.xi3(2,3,e.Id,"GetAvatarImageURLByProfileId")),t.LSH)}}function a1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",15,5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,u=t.oxw(3);return t.KtG(u.onSelectProfile(o))}),t.YNc(3,r1,2,1,"div",12),t.YNc(4,o1,3,6,"img",12),t.TgZ(5,"span",11),t._uU(6),t.qZA()()()}if(2&r){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e.AvatarPath),t.xp6(1),t.Q6J("ngIf",null!=e.AvatarPath),t.xp6(2),t.hij(" ",e.FullName," ")}}function s1(r,i){if(1&r&&t.YNc(0,a1,7,3,"li",10),2&r){const e=i.$implicit,n=t.oxw(3);t.Q6J("ngIf",n.sharedService.currentProfile&&e.Id!=n.sharedService.currentProfile.Id)}}function l1(r,i){if(1&r&&t.YNc(0,s1,1,1,"ng-template",14),2&r){const e=t.oxw(2);t.Q6J("ngForOf",e.sharedService.listProfiles)}}function c1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"li",3)(1,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onClickAdminMode())}),t.TgZ(2,"span"),t._uU(3,"Mantenimiento"),t.qZA()()()}}function d1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"ul",2)(2,"li",3)(3,"a",4,5),t.YNc(5,n1,4,3,"ng-template",6),t.qZA()(),t._UZ(6,"div",7),t.TgZ(7,"div",8),t.YNc(8,l1,1,1,"ng-template",6),t.TgZ(9,"li",3)(10,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickEditProfilesButton())}),t.TgZ(11,"span"),t._uU(12,"Editar perfiles"),t.qZA()()(),t.TgZ(13,"li",3)(14,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickAccountOption())}),t.TgZ(15,"span"),t._uU(16,"Cuenta"),t.qZA()()(),t.YNc(17,c1,4,0,"li",10),t.TgZ(18,"li",3)(19,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.logOut())}),t.TgZ(20,"span"),t._uU(21,"Cerrar Sesi\xf3n"),t.qZA()()()()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.sharedService.currentProfile),t.xp6(3),t.Q6J("ngIf",e.sharedService.listProfiles&&e.sharedService.listProfiles.length>0),t.xp6(9),t.Q6J("ngIf",e.sharedService.listMenus&&e.sharedService.listMenus.length>0)}}let u1=(()=>{class r{constructor(e,n,o){this.ref=e,this.router=n,this.sharedService=o}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onClickEditProfilesButton(){this.sharedService.showSplashScreen=!0,this.ref.detectChanges(),this.router.navigateByUrl("/select-profile")}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickAccountOption(){this.router.navigateByUrl("/settings/account")}onClickAdminMode(){this.router.navigateByUrl(this.sharedService.listMenus[0].ChildMenus[0].Path)}logOut(){this.sharedService.currentProfile=void 0,this.sharedService.userData=void 0,this.sharedService.apiToken=void 0,localStorage.removeItem("apiToken"),this.router.navigateByUrl("/landing")}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(t.sBO),t.Y36(kn.F0),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-dropdown-user"]],decls:1,vars:1,consts:[["class","sinovad-user-dropdown",4,"ngIf"],[1,"sinovad-user-dropdown"],["role","menu",1,"sinovad-dropdown-list"],[1,"sinovad-avatar-item"],["id","avatar_button",1,"sinovad-avatar-button","principal"],["button",""],[3,"ngIf"],[1,"sinovad-separator-dropdown"],[1,"sinovad-bottom-list"],[3,"click"],["class","sinovad-avatar-item",4,"ngIf"],[1,"sinovad-fullname-profile","text-truncate"],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-initials-profile"],["ngFor","",3,"ngForOf"],["id","avatar_button",1,"sinovad-avatar-button",3,"click"]],template:function(n,o){1&n&&t.YNc(0,d1,22,3,"div",0),2&n&&t.Q6J("ngIf",!o.sharedService.showSplashScreen)},dependencies:[p.sg,p.O5,wo,p.Ov],styles:["[_nghost-%COMP%]{height:100%}.sinovad-user-dropdown[_ngcontent-%COMP%]{height:100%;display:flex;align-items:flex-start}ul.sinovad-dropdown-list[_ngcontent-%COMP%]{background:transparent;border:1px solid transparent;box-shadow:none;height:100%;max-height:72px;padding:0 20px;width:100px;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-separator-dropdown[_ngcontent-%COMP%], ul.sinovad-dropdown-list[_ngcontent-%COMP%]   .sinovad-bottom-list[_ngcontent-%COMP%]{display:none}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover{background:rgb(19,19,19);border:1px solid rgba(151,151,151,.34);box-shadow:#00000080 0 0 18px;height:auto;max-height:calc(100vh - 40px);padding-top:10px;padding-bottom:20px;width:240px;z-index:10;align-items:center;border-radius:4px;display:flex;flex-flow:row wrap;justify-content:flex-end;list-style:none;margin:0;position:absolute;right:0}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-separator-dropdown[_ngcontent-%COMP%]{width:100%;padding-left:10px;height:2px;background-color:#fff;display:block;margin-top:10px}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]{display:block}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]{margin-top:10px;width:200px;opacity:.7;font-size:16px;cursor:pointer}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}ul.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-bottom-list[_ngcontent-%COMP%]   .sinovad-avatar-item[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-avatar-button[_ngcontent-%COMP%]{display:block;padding-left:0;background:transparent;border:none;cursor:pointer;color:#fff;display:flex;align-items:center;text-decoration:unset}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block;margin-left:10px;font-size:20px;margin-right:10px}.sinovad-avatar-button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:25px;border:1px solid white;display:flex;align-items:center;justify-content:center;font-size:30px}.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 1024px){.sinovad-avatar-button.principal[_ngcontent-%COMP%]   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:none}.sinovad-dropdown-list[_ngcontent-%COMP%]:hover   .sinovad-fullname-profile[_ngcontent-%COMP%]{display:block}}"]})}return r})();const f1=["searchTarget"],OA=function(){return["/home"]};function h1(r,i){1&r&&(t.TgZ(0,"a",11),t._UZ(1,"i",12),t.qZA()),2&r&&t.Q6J("routerLink",t.DdM(1,OA))}const PA=function(r){return{focused:r}};function m1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"input",6,7),t.NdJ("ngModelChange",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.searchText=o)})("change",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeSearchValue())})("focus",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!0)})("blur",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isFocusSearch=!1)}),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickSearchButton())}),t._UZ(5,"i",9),t.qZA()(),t.TgZ(6,"div",15)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.showNavbarSearch=!1)}),t._UZ(8,"i",16),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,PA,e.isFocusSearch)),t.xp6(1),t.Q6J("ngModel",e.searchText)}}let g1=(()=>{class r{constructor(e,n,o){this.router=e,this.restProvider=n,this.sharedService=o,this.toggleSidebar=new t.vpe,this.selectOption=new t.vpe,this.toggleMenu=new t.vpe,this.searchText="",this.isFocusSearch=!1,this.showDropDown=!1,this.showNavbarSearch=!1}ngOnInit(){}ngAfterViewInit(){this.addClickEvent()}onClickSearchButton(){this.showNavbarSearch=!0}addClickEvent(){const e=document.getElementById("userDropDown");document.addEventListener("click",n=>{this.showDropDown=!!n.composedPath().includes(e)})}onClickHomeOption(){this.router.navigateByUrl("/home")}onClickOption(e){this.selectOption.emit(e)}onSelectProfile(e){this.sharedService.currentProfile=e,this.router.navigateByUrl("/home")}onClickChangeProfileButton(){this.sharedService.showSplashScreen=!0}onChangeSearchValue(){this.router.navigateByUrl(null!=this.searchText&&""!=this.searchText?"/search?text="+this.searchText:"/home"),this.searchText=""}onClickToggleSidebarButton(e){e.preventDefault(),e.stopPropagation(),this.toggleSidebar.emit(!0)}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(kn.F0),t.Y36(si),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-header"]],viewQuery:function(n,o){if(1&n&&t.Gf(f1,5),2&n){let u;t.iGM(u=t.CRH())&&(o.searchTarget=u.first)}},inputs:{showingSidebarAccount:"showingSidebarAccount",showingSidebarAdminMode:"showingSidebarAdminMode"},outputs:{toggleSidebar:"toggleSidebar",selectOption:"selectOption",toggleMenu:"toggleMenu"},decls:16,vars:14,consts:[[1,"nav-button-icon-container","toggle",3,"click"],[1,"fa-solid","fa-bars"],["class","nav-button-icon-container home",3,"routerLink",4,"ngIf"],[1,"sinovad-logo-button",3,"routerLink"],[3,"src"],[1,"sinovad-custom-search",3,"ngClass"],["type","text",3,"ngModel","ngModelChange","change","focus","blur"],["input",""],[3,"click"],[1,"fa-solid","fa-magnifying-glass"],["class","sinovad-navbar-search",4,"ngIf"],[1,"nav-button-icon-container","home",3,"routerLink"],[1,"fa-solid","fa-house"],[1,"sinovad-navbar-search"],[1,"sinovad-bottom-search",3,"ngClass"],[1,"sinovad-close-search-container"],[1,"fa","fa-times"]],template:function(n,o){1&n&&(t.TgZ(0,"header")(1,"nav")(2,"a",0),t.NdJ("click",function(g){return o.onClickToggleSidebarButton(g)}),t._UZ(3,"i",1),t.qZA(),t.YNc(4,h1,2,2,"a",2),t.TgZ(5,"a",3),t._UZ(6,"img",4),t.ALo(7,"async"),t.ALo(8,"formatDataPipe"),t.qZA(),t.TgZ(9,"div",5)(10,"input",6,7),t.NdJ("ngModelChange",function(g){return o.searchText=g})("change",function(){return o.onChangeSearchValue()})("focus",function(){return o.isFocusSearch=!0})("blur",function(){return o.isFocusSearch=!1}),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return o.onClickSearchButton()}),t._UZ(13,"i",9),t.qZA()(),t._UZ(14,"app-dropdown-user"),t.qZA(),t.YNc(15,m1,9,4,"div",10),t.qZA()),2&n&&(t.xp6(4),t.Q6J("ngIf",o.showingSidebarAccount||o.showingSidebarAdminMode),t.xp6(1),t.Q6J("routerLink",t.DdM(11,OA)),t.xp6(1),t.Q6J("src",t.lcZ(7,6,t.xi3(8,8,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH),t.xp6(3),t.Q6J("ngClass",t.VKq(12,PA,o.isFocusSearch&&!o.sharedService.isSmallDevice())),t.xp6(1),t.Q6J("ngModel",o.searchText),t.xp6(5),t.Q6J("ngIf",o.sharedService.isSmallDevice()&&o.showNavbarSearch))},dependencies:[kt.Fj,kt.JJ,kt.On,p.mk,p.O5,kn.rH,u1,wo,p.Ov],styles:[".nav-button-icon-container[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;color:#fff;font-size:24px;opacity:.7;display:none}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:block}.sinovad-logo-button[_ngcontent-%COMP%]{padding:0;border:none;margin-left:30px;cursor:pointer;text-decoration:unset;font-size:20px}.sinovad-logo-button[_ngcontent-%COMP%]   .first-span[_ngcontent-%COMP%]{color:#007bff;margin-right:6px}.sinovad-logo-button[_ngcontent-%COMP%]   .second-span[_ngcontent-%COMP%]{color:#fff}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;margin-bottom:6px}.sinovad-custom-search[_ngcontent-%COMP%]{display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-left:20px;background-color:#fff}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-custom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.nav-button-icon-container[_ngcontent-%COMP%]:hover{opacity:1}nav[_ngcontent-%COMP%]{background:black;color:#fff;flex-wrap:nowrap;justify-content:flex-start;display:flex;height:70px;align-items:center}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]{list-style-type:none;flex-direction:row;display:flex;height:100%;align-items:center;margin-bottom:0}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer;text-decoration:unset;height:100%;display:flex;align-items:center;padding-left:10px;padding-right:10px}.sinovad-navbar-search[_ngcontent-%COMP%]{background:black;display:flex;align-items:center;padding:10px 20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;height:30px;border-radius:5px;border:2px solid transparent;margin-right:20px;background-color:#fff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;padding-left:10px;width:100%}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;padding-right:8px;padding-left:8px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-bottom-search.focused[_ngcontent-%COMP%]{border:2px solid #007bff}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]{width:20px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;border-radius:0 7px 7px 0;opacity:.7;color:#fff;padding-right:8px;padding-left:8px;font-size:24px}.sinovad-navbar-search[_ngcontent-%COMP%]   .sinovad-close-search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 1024px){.sinovad-nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sinovad-custom-search[_ngcontent-%COMP%]{background:transparent}.sinovad-custom-search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:24px}.sinovad-custom-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 767px){.sinovad-logo-button[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}.sinovad-logo-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110px}.nav-button-icon-container.toggle[_ngcontent-%COMP%]{display:block}.nav-button-icon-container.home[_ngcontent-%COMP%]{display:none}}"]})}return r})();function p1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"app-header",10),t.NdJ("toggleSidebar",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onClickToggleSidebarButton())}),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("showingSidebarAccount",e.showingSidebarAccount)("showingSidebarAdminMode",e.showingSidebarAdminMode)}}function _1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-administrator",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function v1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-account",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function y1(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"app-sidebar-media",14),t.NdJ("collapseSidebar",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.isCollapsedSidebar=!0)}),t.qZA()}}function b1(r,i){if(1&r&&(t.TgZ(0,"section",11,12),t.YNc(2,_1,1,0,"app-sidebar-administrator",13),t.YNc(3,v1,1,0,"app-sidebar-account",13),t.YNc(4,y1,1,0,"app-sidebar-media",13),t.qZA()),2&r){const e=t.oxw();t.Udp("height","100%"),t.xp6(2),t.Q6J("ngIf",e.showingSidebarAdminMode),t.xp6(1),t.Q6J("ngIf",e.showingSidebarAccount),t.xp6(1),t.Q6J("ngIf",e.showingSidebarMedia)}}const E1=function(r){return{locked:r}};let T1=(()=>{class r{constructor(e){this.sharedService=e,this._window=window,this.isCollapsedSidebar=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1,this.showRouterChildWithFullDimentions=!0}onClickToggleSidebarButton(){this.isCollapsedSidebar=!this.isCollapsedSidebar}onActivate(e){this.isCollapsedSidebar=!0,this.sharedService.showSplashScreen=!1,(e instanceof $h||e instanceof Y_||e instanceof Xh||e instanceof ju||e instanceof j_||e instanceof z_||e instanceof L_||e instanceof ty)&&(this.showRouterChildWithFullDimentions=!0,this.showingSidebarMedia=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof Rm&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),(e instanceof l||e instanceof FD||e instanceof BD)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarMedia=!0,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!1),e instanceof Zi&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof sT&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof $_&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),e instanceof Xv&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!0,this.showingSidebarAdminMode=!1,this.showingSidebarMedia=!1),(e instanceof mm||e instanceof rf)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1),(e instanceof lm||e instanceof rf||e instanceof mm||e instanceof Wh||e instanceof Wl||e instanceof om)&&(this.showRouterChildWithFullDimentions=!1,this.showingSidebarAccount=!1,this.showingSidebarAdminMode=!0,this.showingSidebarMedia=!1)}onResize(e){}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-web-container"]],hostBindings:function(n,o){1&n&&t.NdJ("resize",function(g){return o.onResize(g)},!1,t.Jf7)},decls:13,vars:9,consts:[[1,"sinovad-page-container"],["header",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar",4,"ngIf"],[1,"sinovad-menu-body-container"],["menu",""],["id","menuContainer","class","sinovad-menu-container","tabindex","0",3,"height",4,"ngIf"],["id","bodyContainer","tabindex","0",1,"sinovad-body-container",3,"ngClass"],["principalContainer",""],[3,"activate"],["footer",""],[3,"showingSidebarAccount","showingSidebarAdminMode","toggleSidebar"],["id","menuContainer","tabindex","0",1,"sinovad-menu-container"],["menuContainer",""],[3,"collapseSidebar",4,"ngIf"],[3,"collapseSidebar"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",null,1),t.YNc(3,p1,1,2,"app-header",2),t.qZA(),t.TgZ(4,"div",3)(5,"div",null,4),t.YNc(7,b1,5,5,"section",5),t.qZA(),t.TgZ(8,"section",6,7)(10,"router-outlet",8),t.NdJ("activate",function(g){return o.onActivate(g)}),t.qZA()()(),t._UZ(11,"div",null,9),t.qZA()),2&n){const u=t.MAs(2),g=t.MAs(6),T=t.MAs(12);t.xp6(3),t.Q6J("ngIf",!o.showRouterChildWithFullDimentions),t.xp6(1),t.Udp("height","calc(100% - "+(u.offsetHeight+T.offsetHeight)+"px)"),t.xp6(3),t.Q6J("ngIf",!(o.showRouterChildWithFullDimentions||o.sharedService.isSmallDevice()&&o.isCollapsedSidebar)),t.xp6(1),t.Udp("width","calc(100% - "+g.offsetWidth+"px)"),t.Q6J("ngClass",t.VKq(7,E1,o.sharedService.isSmallDevice()&&!o.isCollapsedSidebar))}},dependencies:[p.mk,p.O5,Zf,Kw,Xw,g1,kn.lC],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovad-module-container[_ngcontent-%COMP%]{border-top:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;height:100%}.sinovad-header-container[_ngcontent-%COMP%]{height:60px;background:rgba(0,0,0,.15)}.sinovad-menu-body-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.sinovad-menu-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.6);position:relative}.sinovad-body-container[_ngcontent-%COMP%]{display:block;height:100%;overflow-y:auto;overflow-x:hidden}.sinovad-body-container.locked[_ngcontent-%COMP%]{pointer-events:none}"]})}return r})();function S1(r,i){if(1&r&&(t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5),t._UZ(5,"img",6),t.ALo(6,"async"),t.ALo(7,"formatDataPipe"),t.qZA()()()()),2&r){const e=t.MAs(2);t.xp6(5),t.Udp("width",e.offsetWidth/3+"px"),t.Q6J("src",t.lcZ(6,3,t.xi3(7,5,"sinovad-stream-large-logo.png","GetImageURLByKey")),t.LSH)}}let C1=(()=>{class r{constructor(e,n,o){this.restProvider=e,this.domSanitizer=n,this.sharedService=o}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(si),t.Y36(c.H7),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-splash-screen"]],decls:1,vars:1,consts:[["class","splash-screen-container",4,"ngIf"],[1,"splash-screen-container"],[1,"sinovad-splash-screen-container"],["container",""],[2,"text-align","center"],["role","status",1,"spinner-grow"],[3,"src"]],template:function(n,o){1&n&&t.YNc(0,S1,8,8,"div",0),2&n&&t.Q6J("ngIf",o.sharedService.showSplashScreen)},dependencies:[p.O5,p.Ov,wo],styles:[".splash-screen-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;position:absolute;z-index:99999;top:0;left:0}.sinovad-splash-screen-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.sinovad-splash-screen-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.spinner-grow[_ngcontent-%COMP%]{background:black;width:unset;height:unset}"]})}return r})();function D1(r,i){1&r&&t._UZ(0,"app-web-container")}let x1=(()=>{class r{constructor(e,n,o,u,g,T,R){this.libraryService=e,this.menuService=n,this.userService=o,this.profileService=u,this.serverService=g,this.ref=T,this.sharedService=R,this.showRootPage=!1}ngOnInit(){const e=window.location.search;if(""!=e){var n=new URLSearchParams(e).get("apiToken");null!=n&&localStorage.setItem("apiToken",n)}window.configurationData&&(this.sharedService.configurationData=window.configurationData),this.intervalCheckMediaServers=window.setInterval(function(){},15e3),localStorage.getItem("apiToken")?(this.sharedService.apiToken=localStorage.getItem("apiToken"),this.userService.getUser().then(u=>{this.menuService.getManageMenu(),this.menuService.getMediaMenu(),this.serverService.getMediaServers(),this.libraryService.getLibraries(),this.profileService.getAllProfiles().then(g=>{this.showRootPage=!0,this.ref.detectChanges()},g=>{console.error(g)})},u=>{console.error(u)}),this.ref.detectChanges()):(this.sharedService.apiToken=void 0,setTimeout(()=>{this.showRootPage=!0,this.ref.detectChanges()},100))}ngOnDestroy(){this.intervalCheckMediaServers&&window.clearInterval(this.intervalCheckMediaServers)}ngAfterViewInit(){let e=this;window.addEventListener("click",function(u){e.sharedService.configurationData.alwaysFullScreen&&e.showPageInFullScreen()})}showPageInFullScreen(){document.fullscreenElement||document.body.requestFullscreen&&document.body.requestFullscreen()}onResize(e){}static#e=this.\u0275fac=function(n){return new(n||r)(t.Y36(Yl),t.Y36(Xc),t.Y36(ed),t.Y36(td),t.Y36(nd),t.Y36(t.sBO),t.Y36(rt))};static#t=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-sinovad-web"]],hostBindings:function(n,o){1&n&&t.NdJ("resize",function(g){return o.onResize(g)},!1,t.Jf7)},decls:4,vars:1,consts:[["id","sinovadMainContainer",1,"sinovad-main-container"],["mainContainer",""],[4,"ngIf"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0,1),t.YNc(2,D1,1,0,"app-web-container",2),t.qZA(),t._UZ(3,"app-splash-screen")),2&n&&(t.xp6(2),t.Q6J("ngIf",o.showRootPage))},dependencies:[p.O5,T1,C1],styles:["[_nghost-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}.sinovad-main-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:#1F212B;overflow-y:hidden}"]})}return r})();var Er=C(6825);function RA(r){return new t.vHH(3e3,!1)}function gc(r){switch(r.length){case 0:return new Er.ZN;case 1:return r[0];default:return new Er.ZE(r)}}function NA(r,i,e=new Map,n=new Map){const o=[],u=[];let g=-1,T=null;if(i.forEach(R=>{const G=R.get("offset"),ne=G==g,Ee=ne&&T||new Map;R.forEach((Ue,Ge)=>{let Xe=Ge,ht=Ue;if("offset"!==Ge)switch(Xe=r.normalizePropertyName(Xe,o),ht){case Er.k1:ht=e.get(Ge);break;case Er.l3:ht=n.get(Ge);break;default:ht=r.normalizeStyleValue(Ge,Xe,ht,o)}Ee.set(Xe,ht)}),ne||u.push(Ee),T=Ee,g=G}),o.length)throw function $1(r){return new t.vHH(3502,!1)}();return u}function YD(r,i,e,n){switch(i){case"start":r.onStart(()=>n(e&&KD(e,"start",r)));break;case"done":r.onDone(()=>n(e&&KD(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&KD(e,"destroy",r)))}}function KD(r,i,e){const u=WD(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),g=r._data;return null!=g&&(u._data=g),u}function WD(r,i,e,n,o="",u=0,g){return{element:r,triggerName:i,fromState:e,toState:n,phaseName:o,totalTime:u,disabled:!!g}}function Aa(r,i,e){let n=r.get(i);return n||r.set(i,n=e),n}function LA(r){const i=r.indexOf(":");return[r.substring(1,i),r.slice(i+1)]}const sI=(()=>typeof document>"u"?null:document.documentElement)();function zD(r){const i=r.parentNode||r.host||null;return i===sI?null:i}let Bd=null,kA=!1;function FA(r,i){for(;i;){if(i===r)return!0;i=zD(i)}return!1}function BA(r,i,e){if(e)return Array.from(r.querySelectorAll(i));const n=r.querySelector(i);return n?[n]:[]}let UA=(()=>{class r{validateStyleProperty(e){return function cI(r){Bd||(Bd=function dI(){return typeof document<"u"?document.body:null}()||{},kA=!!Bd.style&&"WebkitAppearance"in Bd.style);let i=!0;return Bd.style&&!function lI(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in Bd.style,!i&&kA&&(i="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Bd.style)),i}(e)}matchesElement(e,n){return!1}containsElement(e,n){return FA(e,n)}getParentElement(e){return zD(e)}query(e,n,o){return BA(e,n,o)}computeStyle(e,n,o){return o||""}animate(e,n,o,u,g,T=[],R){return new Er.ZN(o,u)}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})(),ZD=(()=>{class r{static#e=this.NOOP=new UA}return r})();const uI=1e3,$D="ng-enter",mb="ng-leave",gb="ng-trigger",pb=".ng-trigger",VA="ng-animating",qD=".ng-animating";function al(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:JD(parseFloat(i[1]),i[2])}function JD(r,i){return"s"===i?r*uI:r}function _b(r,i,e){return r.hasOwnProperty("duration")?r:function hI(r,i,e){let o,u=0,g="";if("string"==typeof r){const T=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===T)return i.push(RA()),{duration:0,delay:0,easing:""};o=JD(parseFloat(T[1]),T[2]);const R=T[3];null!=R&&(u=JD(parseFloat(R),T[4]));const G=T[5];G&&(g=G)}else o=r;if(!e){let T=!1,R=i.length;o<0&&(i.push(function M1(){return new t.vHH(3100,!1)}()),T=!0),u<0&&(i.push(function A1(){return new t.vHH(3101,!1)}()),T=!0),T&&i.splice(R,0,RA())}return{duration:o,delay:u,easing:g}}(r,i,e)}function Qg(r,i={}){return Object.keys(r).forEach(e=>{i[e]=r[e]}),i}function GA(r){const i=new Map;return Object.keys(r).forEach(e=>{i.set(e,r[e])}),i}function pc(r,i=new Map,e){if(e)for(let[n,o]of e)i.set(n,o);for(let[n,o]of r)i.set(n,o);return i}function Ds(r,i,e){i.forEach((n,o)=>{const u=XD(o);e&&!e.has(o)&&e.set(o,r.style[u]),r.style[u]=n})}function Ud(r,i){i.forEach((e,n)=>{const o=XD(n);r.style[o]=""})}function Xg(r){return Array.isArray(r)?1==r.length?r[0]:(0,Er.vP)(r):r}const QD=new RegExp("{{\\s*(.+?)\\s*}}","g");function YA(r){let i=[];if("string"==typeof r){let e;for(;e=QD.exec(r);)i.push(e[1]);QD.lastIndex=0}return i}function ep(r,i,e){const n=r.toString(),o=n.replace(QD,(u,g)=>{let T=i[g];return null==T&&(e.push(function I1(r){return new t.vHH(3003,!1)}()),T=""),T.toString()});return o==n?r:o}function vb(r){const i=[];let e=r.next();for(;!e.done;)i.push(e.value),e=r.next();return i}const pI=/-+([a-z0-9])/g;function XD(r){return r.replace(pI,(...i)=>i[1].toUpperCase())}function wa(r,i,e){switch(i.type){case 7:return r.visitTrigger(i,e);case 0:return r.visitState(i,e);case 1:return r.visitTransition(i,e);case 2:return r.visitSequence(i,e);case 3:return r.visitGroup(i,e);case 4:return r.visitAnimate(i,e);case 5:return r.visitKeyframes(i,e);case 6:return r.visitStyle(i,e);case 8:return r.visitReference(i,e);case 9:return r.visitAnimateChild(i,e);case 10:return r.visitAnimateRef(i,e);case 11:return r.visitQuery(i,e);case 12:return r.visitStagger(i,e);default:throw function O1(r){return new t.vHH(3004,!1)}()}}function KA(r,i){return window.getComputedStyle(r)[i]}const yb="*";function yI(r,i){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(n=>function bI(r,i,e){if(":"==r[0]){const R=function EI(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return i.push(function K1(r){return new t.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof R)return void i.push(R);r=R}const n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function Y1(r){return new t.vHH(3015,!1)}()),i;const o=n[1],u=n[2],g=n[3];i.push(WA(o,g));"<"==u[0]&&!(o==yb&&g==yb)&&i.push(WA(g,o))}(n,e,i)):e.push(r),e}const bb=new Set(["true","1"]),Eb=new Set(["false","0"]);function WA(r,i){const e=bb.has(r)||Eb.has(r),n=bb.has(i)||Eb.has(i);return(o,u)=>{let g=r==yb||r==o,T=i==yb||i==u;return!g&&e&&"boolean"==typeof o&&(g=o?bb.has(r):Eb.has(r)),!T&&n&&"boolean"==typeof u&&(T=u?bb.has(i):Eb.has(i)),g&&T}}const TI=new RegExp("s*:selfs*,?","g");function ex(r,i,e,n){return new SI(r).build(i,e,n)}class SI{constructor(i){this._driver=i}build(i,e,n){const o=new xI(e);return this._resetContextStyleTimingState(o),wa(this,Xg(i),o)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,e){let n=e.queryCount=0,o=e.depCount=0;const u=[],g=[];return"@"==i.name.charAt(0)&&e.errors.push(function R1(){return new t.vHH(3006,!1)}()),i.definitions.forEach(T=>{if(this._resetContextStyleTimingState(e),0==T.type){const R=T,G=R.name;G.toString().split(/\s*,\s*/).forEach(ne=>{R.name=ne,u.push(this.visitState(R,e))}),R.name=G}else if(1==T.type){const R=this.visitTransition(T,e);n+=R.queryCount,o+=R.depCount,g.push(R)}else e.errors.push(function N1(){return new t.vHH(3007,!1)}())}),{type:7,name:i.name,states:u,transitions:g,queryCount:n,depCount:o,options:null}}visitState(i,e){const n=this.visitStyle(i.styles,e),o=i.options&&i.options.params||null;if(n.containsDynamicStyles){const u=new Set,g=o||{};n.styles.forEach(T=>{T instanceof Map&&T.forEach(R=>{YA(R).forEach(G=>{g.hasOwnProperty(G)||u.add(G)})})}),u.size&&(vb(u.values()),e.errors.push(function L1(r,i){return new t.vHH(3008,!1)}()))}return{type:0,name:i.name,style:n,options:o?{params:o}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;const n=wa(this,Xg(i.animation),e);return{type:1,matchers:yI(i.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:jd(i.options)}}visitSequence(i,e){return{type:2,steps:i.steps.map(n=>wa(this,n,e)),options:jd(i.options)}}visitGroup(i,e){const n=e.currentTime;let o=0;const u=i.steps.map(g=>{e.currentTime=n;const T=wa(this,g,e);return o=Math.max(o,e.currentTime),T});return e.currentTime=o,{type:3,steps:u,options:jd(i.options)}}visitAnimate(i,e){const n=function AI(r,i){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return tx(_b(r,i).duration,0,"");const e=r;if(e.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=tx(0,0,"");return u.dynamic=!0,u.strValue=e,u}const o=_b(e,i);return tx(o.duration,o.delay,o.easing)}(i.timings,e.errors);e.currentAnimateTimings=n;let o,u=i.styles?i.styles:(0,Er.oB)({});if(5==u.type)o=this.visitKeyframes(u,e);else{let g=i.styles,T=!1;if(!g){T=!0;const G={};n.easing&&(G.easing=n.easing),g=(0,Er.oB)(G)}e.currentTime+=n.duration+n.delay;const R=this.visitStyle(g,e);R.isEmptyStep=T,o=R}return e.currentAnimateTimings=null,{type:4,timings:n,style:o,options:null}}visitStyle(i,e){const n=this._makeStyleAst(i,e);return this._validateStyleAst(n,e),n}_makeStyleAst(i,e){const n=[],o=Array.isArray(i.styles)?i.styles:[i.styles];for(let T of o)"string"==typeof T?T===Er.l3?n.push(T):e.errors.push(new t.vHH(3002,!1)):n.push(GA(T));let u=!1,g=null;return n.forEach(T=>{if(T instanceof Map&&(T.has("easing")&&(g=T.get("easing"),T.delete("easing")),!u))for(let R of T.values())if(R.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:n,easing:g,offset:i.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(i,e){const n=e.currentAnimateTimings;let o=e.currentTime,u=e.currentTime;n&&u>0&&(u-=n.duration+n.delay),i.styles.forEach(g=>{"string"!=typeof g&&g.forEach((T,R)=>{const G=e.collectedStyles.get(e.currentQuerySelector),ne=G.get(R);let Ee=!0;ne&&(u!=o&&u>=ne.startTime&&o<=ne.endTime&&(e.errors.push(function F1(r,i,e,n,o){return new t.vHH(3010,!1)}()),Ee=!1),u=ne.startTime),Ee&&G.set(R,{startTime:u,endTime:o}),e.options&&function gI(r,i,e){const n=i.params||{},o=YA(r);o.length&&o.forEach(u=>{n.hasOwnProperty(u)||e.push(function w1(r){return new t.vHH(3001,!1)}())})}(T,e.options,e.errors)})})}visitKeyframes(i,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function B1(){return new t.vHH(3011,!1)}()),n;let u=0;const g=[];let T=!1,R=!1,G=0;const ne=i.steps.map(Lt=>{const Zt=this._makeStyleAst(Lt,e);let Kt=null!=Zt.offset?Zt.offset:function MI(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;i=parseFloat(e.get("offset")),e.delete("offset")}return i}(Zt.styles),un=0;return null!=Kt&&(u++,un=Zt.offset=Kt),R=R||un<0||un>1,T=T||un<G,G=un,g.push(un),Zt});R&&e.errors.push(function U1(){return new t.vHH(3012,!1)}()),T&&e.errors.push(function j1(){return new t.vHH(3200,!1)}());const Ee=i.steps.length;let Ue=0;u>0&&u<Ee?e.errors.push(function V1(){return new t.vHH(3202,!1)}()):0==u&&(Ue=1/(Ee-1));const Ge=Ee-1,Xe=e.currentTime,ht=e.currentAnimateTimings,vt=ht.duration;return ne.forEach((Lt,Zt)=>{const Kt=Ue>0?Zt==Ge?1:Ue*Zt:g[Zt],un=Kt*vt;e.currentTime=Xe+ht.delay+un,ht.duration=un,this._validateStyleAst(Lt,e),Lt.offset=Kt,n.styles.push(Lt)}),n}visitReference(i,e){return{type:8,animation:wa(this,Xg(i.animation),e),options:jd(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:9,options:jd(i.options)}}visitAnimateRef(i,e){return{type:10,animation:this.visitReference(i.animation,e),options:jd(i.options)}}visitQuery(i,e){const n=e.currentQuerySelector,o=i.options||{};e.queryCount++,e.currentQuery=i;const[u,g]=function CI(r){const i=!!r.split(/\s*,\s*/).find(e=>":self"==e);return i&&(r=r.replace(TI,"")),r=r.replace(/@\*/g,pb).replace(/@\w+/g,e=>pb+"-"+e.slice(1)).replace(/:animating/g,qD),[r,i]}(i.selector);e.currentQuerySelector=n.length?n+" "+u:u,Aa(e.collectedStyles,e.currentQuerySelector,new Map);const T=wa(this,Xg(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:g,animation:T,originalSelector:i.selector,options:jd(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(function G1(){return new t.vHH(3013,!1)}());const n="full"===i.timings?{duration:0,delay:0,easing:"full"}:_b(i.timings,e.errors,!0);return{type:12,animation:wa(this,Xg(i.animation),e),timings:n,options:null}}}class xI{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jd(r){return r?(r=Qg(r)).params&&(r.params=function DI(r){return r?Qg(r):null}(r.params)):r={},r}function tx(r,i,e){return{duration:r,delay:i,easing:e}}function nx(r,i,e,n,o,u,g=null,T=!1){return{type:1,element:r,keyframes:i,preStyleProps:e,postStyleProps:n,duration:o,delay:u,totalTime:o+u,easing:g,subTimeline:T}}class Tb{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,e){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const OI=new RegExp(":enter","g"),RI=new RegExp(":leave","g");function ix(r,i,e,n,o,u=new Map,g=new Map,T,R,G=[]){return(new NI).buildKeyframes(r,i,e,n,o,u,g,T,R,G)}class NI{buildKeyframes(i,e,n,o,u,g,T,R,G,ne=[]){G=G||new Tb;const Ee=new rx(i,e,G,o,u,ne,[]);Ee.options=R;const Ue=R.delay?al(R.delay):0;Ee.currentTimeline.delayNextStep(Ue),Ee.currentTimeline.setStyles([g],null,Ee.errors,R),wa(this,n,Ee);const Ge=Ee.timelines.filter(Xe=>Xe.containsAnimation());if(Ge.length&&T.size){let Xe;for(let ht=Ge.length-1;ht>=0;ht--){const vt=Ge[ht];if(vt.element===e){Xe=vt;break}}Xe&&!Xe.allowOnlyTimelineStyles()&&Xe.setStyles([T],null,Ee.errors,R)}return Ge.length?Ge.map(Xe=>Xe.buildKeyframes()):[nx(e,[],[],[],0,Ue,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){const n=e.subInstructions.get(e.element);if(n){const o=e.createSubContext(i.options),u=e.currentTimeline.currentTime,g=this._visitSubInstructions(n,o,o.options);u!=g&&e.transformIntoNewTimeline(g)}e.previousNode=i}visitAnimateRef(i,e){const n=e.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,n),this.visitReference(i.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,n){for(const o of i){const u=o?.delay;if(u){const g="number"==typeof u?u:al(ep(u,o?.params??{},e.errors));n.delayNextStep(g)}}}_visitSubInstructions(i,e,n){let u=e.currentTimeline.currentTime;const g=null!=n.duration?al(n.duration):null,T=null!=n.delay?al(n.delay):null;return 0!==g&&i.forEach(R=>{const G=e.appendInstructionToTimeline(R,g,T);u=Math.max(u,G.duration+G.delay)}),u}visitReference(i,e){e.updateOptions(i.options,!0),wa(this,i.animation,e),e.previousNode=i}visitSequence(i,e){const n=e.subContextCount;let o=e;const u=i.options;if(u&&(u.params||u.delay)&&(o=e.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Sb);const g=al(u.delay);o.delayNextStep(g)}i.steps.length&&(i.steps.forEach(g=>wa(this,g,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>n&&o.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){const n=[];let o=e.currentTimeline.currentTime;const u=i.options&&i.options.delay?al(i.options.delay):0;i.steps.forEach(g=>{const T=e.createSubContext(i.options);u&&T.delayNextStep(u),wa(this,g,T),o=Math.max(o,T.currentTimeline.currentTime),n.push(T.currentTimeline)}),n.forEach(g=>e.currentTimeline.mergeTimelineCollectedStyles(g)),e.transformIntoNewTimeline(o),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){const n=i.strValue;return _b(e.params?ep(n,e.params,e.errors):n,e.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){const n=e.currentAnimateTimings=this._visitTiming(i.timings,e),o=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),o.snapshotCurrentStyles());const u=i.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(n.duration),this.visitStyle(u,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){const n=e.currentTimeline,o=e.currentAnimateTimings;!o&&n.hasCurrentStyleProperties()&&n.forwardFrame();const u=o&&o.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(u):n.setStyles(i.styles,u,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){const n=e.currentAnimateTimings,o=e.currentTimeline.duration,u=n.duration,T=e.createSubContext().currentTimeline;T.easing=n.easing,i.styles.forEach(R=>{T.forwardTime((R.offset||0)*u),T.setStyles(R.styles,R.easing,e.errors,e.options),T.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(T),e.transformIntoNewTimeline(o+u),e.previousNode=i}visitQuery(i,e){const n=e.currentTimeline.currentTime,o=i.options||{},u=o.delay?al(o.delay):0;u&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Sb);let g=n;const T=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=T.length;let R=null;T.forEach((G,ne)=>{e.currentQueryIndex=ne;const Ee=e.createSubContext(i.options,G);u&&Ee.delayNextStep(u),G===e.element&&(R=Ee.currentTimeline),wa(this,i.animation,Ee),Ee.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,Ee.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(g),R&&(e.currentTimeline.mergeTimelineCollectedStyles(R),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){const n=e.parentContext,o=e.currentTimeline,u=i.timings,g=Math.abs(u.duration),T=g*(e.currentQueryTotal-1);let R=g*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":R=T-R;break;case"full":R=n.currentStaggerTime}const ne=e.currentTimeline;R&&ne.delayNextStep(R);const Ee=ne.currentTime;wa(this,i.animation,e),e.previousNode=i,n.currentStaggerTime=o.currentTime-Ee+(o.startTime-n.currentTimeline.startTime)}}const Sb={};class rx{constructor(i,e,n,o,u,g,T,R){this._driver=i,this.element=e,this.subInstructions=n,this._enterClassName=o,this._leaveClassName=u,this.errors=g,this.timelines=T,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Sb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=R||new Cb(this._driver,e,0),T.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;const n=i;let o=this.options;null!=n.duration&&(o.duration=al(n.duration)),null!=n.delay&&(o.delay=al(n.delay));const u=n.params;if(u){let g=o.params;g||(g=this.options.params={}),Object.keys(u).forEach(T=>{(!e||!g.hasOwnProperty(T))&&(g[T]=ep(u[T],g,this.errors))})}}_copyOptions(){const i={};if(this.options){const e=this.options.params;if(e){const n=i.params={};Object.keys(e).forEach(o=>{n[o]=e[o]})}}return i}createSubContext(i=null,e,n){const o=e||this.element,u=new rx(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,n||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(i),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(i){return this.previousNode=Sb,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,n){const o={duration:e??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},u=new LI(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,n,o,u,g){let T=[];if(o&&T.push(this.element),i.length>0){i=(i=i.replace(OI,"."+this._enterClassName)).replace(RI,"."+this._leaveClassName);let G=this._driver.query(this.element,i,1!=n);0!==n&&(G=n<0?G.slice(G.length+n,G.length):G.slice(0,n)),T.push(...G)}return!u&&0==T.length&&g.push(function H1(r){return new t.vHH(3014,!1)}()),T}}class Cb{constructor(i,e,n,o){this._driver=i,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new Cb(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Er.l3),this._currentKeyframe.set(e,Er.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,n,o){e&&this._previousKeyframe.set("easing",e);const u=o&&o.params||{},g=function kI(r,i){const e=new Map;let n;return r.forEach(o=>{if("*"===o){n=n||i.keys();for(let u of n)e.set(u,Er.l3)}else pc(o,e)}),e}(i,this._globalTimelineStyles);for(let[T,R]of g){const G=ep(R,u,n);this._pendingStyles.set(T,G),this._localTimelineStyles.has(T)||this._backFill.set(T,this._globalTimelineStyles.get(T)??Er.l3),this._updateStyle(T,G)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,n)=>{const o=this._styleSummary.get(n);(!o||e.time>o.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((T,R)=>{const G=pc(T,new Map,this._backFill);G.forEach((ne,Ee)=>{ne===Er.k1?i.add(Ee):ne===Er.l3&&e.add(Ee)}),n||G.set("offset",R/this.duration),o.push(G)});const u=i.size?vb(i.values()):[],g=e.size?vb(e.values()):[];if(n){const T=o[0],R=new Map(T);T.set("offset",0),R.set("offset",1),o=[T,R]}return nx(this.element,o,u,g,this.duration,this.startTime,this.easing,!1)}}class LI extends Cb{constructor(i,e,n,o,u,g,T=!1){super(i,e,g.delay),this.keyframes=n,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=T,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:n,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const u=[],g=n+e,T=e/g,R=pc(i[0]);R.set("offset",0),u.push(R);const G=pc(i[0]);G.set("offset",$A(T)),u.push(G);const ne=i.length-1;for(let Ee=1;Ee<=ne;Ee++){let Ue=pc(i[Ee]);const Ge=Ue.get("offset");Ue.set("offset",$A((e+Ge*n)/g)),u.push(Ue)}n=g,e=0,o="",i=u}return nx(this.element,i,this.preStyleProps,this.postStyleProps,n,e,o,!0)}}function $A(r,i=3){const e=Math.pow(10,i-1);return Math.round(r*e)/e}class ox{}const FI=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class BI extends ox{normalizePropertyName(i,e){return XD(i)}normalizeStyleValue(i,e,n,o){let u="";const g=n.toString().trim();if(FI.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)u="px";else{const T=n.match(/^[+-]?[\d\.]+([a-z]*)$/);T&&0==T[1].length&&o.push(function P1(r,i){return new t.vHH(3005,!1)}())}return g+u}}function qA(r,i,e,n,o,u,g,T,R,G,ne,Ee,Ue){return{type:0,element:r,triggerName:i,isRemovalTransition:o,fromState:e,fromStyles:u,toState:n,toStyles:g,timelines:T,queriedElements:R,preStyleProps:G,postStyleProps:ne,totalTime:Ee,errors:Ue}}const ax={};class JA{constructor(i,e,n){this._triggerName=i,this.ast=e,this._stateStyles=n}match(i,e,n,o){return function UI(r,i,e,n,o){return r.some(u=>u(i,e,n,o))}(this.ast.matchers,i,e,n,o)}buildStyles(i,e,n){let o=this._stateStyles.get("*");return void 0!==i&&(o=this._stateStyles.get(i?.toString())||o),o?o.buildStyles(e,n):new Map}build(i,e,n,o,u,g,T,R,G,ne){const Ee=[],Ue=this.ast.options&&this.ast.options.params||ax,Xe=this.buildStyles(n,T&&T.params||ax,Ee),ht=R&&R.params||ax,vt=this.buildStyles(o,ht,Ee),Lt=new Set,Zt=new Map,Kt=new Map,un="void"===o,cn={params:jI(ht,Ue),delay:this.ast.options?.delay},Sn=ne?[]:ix(i,e,this.ast.animation,u,g,Xe,vt,cn,G,Ee);let gn=0;if(Sn.forEach(Vn=>{gn=Math.max(Vn.duration+Vn.delay,gn)}),Ee.length)return qA(e,this._triggerName,n,o,un,Xe,vt,[],[],Zt,Kt,gn,Ee);Sn.forEach(Vn=>{const _n=Vn.element,Qn=Aa(Zt,_n,new Set);Vn.preStyleProps.forEach(yi=>Qn.add(yi));const zn=Aa(Kt,_n,new Set);Vn.postStyleProps.forEach(yi=>zn.add(yi)),_n!==e&&Lt.add(_n)});const An=vb(Lt.values());return qA(e,this._triggerName,n,o,un,Xe,vt,Sn,An,Zt,Kt,gn)}}function jI(r,i){const e=Qg(i);for(const n in r)r.hasOwnProperty(n)&&null!=r[n]&&(e[n]=r[n]);return e}class VI{constructor(i,e,n){this.styles=i,this.defaultParams=e,this.normalizer=n}buildStyles(i,e){const n=new Map,o=Qg(this.defaultParams);return Object.keys(i).forEach(u=>{const g=i[u];null!==g&&(o[u]=g)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((g,T)=>{g&&(g=ep(g,o,e));const R=this.normalizer.normalizePropertyName(T,e);g=this.normalizer.normalizeStyleValue(T,R,g,e),n.set(T,g)})}),n}}class HI{constructor(i,e,n){this.name=i,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new VI(o.style,o.options&&o.options.params||{},n))}),QA(this.states,"true","1"),QA(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new JA(i,o,this.states))}),this.fallbackTransition=function YI(r,i,e){return new JA(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,T)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,n,o){return this.transitionFactories.find(g=>g.match(i,e,n,o))||null}matchStyles(i,e,n){return this.fallbackTransition.buildStyles(i,e,n)}}function QA(r,i,e){r.has(i)?r.has(e)||r.set(e,r.get(i)):r.has(e)&&r.set(i,r.get(e))}const KI=new Tb;class WI{constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,e){const n=[],u=ex(this._driver,e,n,[]);if(n.length)throw function q1(r){return new t.vHH(3503,!1)}();this._animations.set(i,u)}_buildPlayer(i,e,n){const o=i.element,u=NA(this._normalizer,i.keyframes,e,n);return this._driver.animate(o,u,i.duration,i.delay,i.easing,[],!0)}create(i,e,n={}){const o=[],u=this._animations.get(i);let g;const T=new Map;if(u?(g=ix(this._driver,e,u,$D,mb,new Map,new Map,n,KI,o),g.forEach(ne=>{const Ee=Aa(T,ne.element,new Map);ne.postStyleProps.forEach(Ue=>Ee.set(Ue,null))})):(o.push(function J1(){return new t.vHH(3300,!1)}()),g=[]),o.length)throw function Q1(r){return new t.vHH(3504,!1)}();T.forEach((ne,Ee)=>{ne.forEach((Ue,Ge)=>{ne.set(Ge,this._driver.computeStyle(Ee,Ge,Er.l3))})});const G=gc(g.map(ne=>{const Ee=T.get(ne.element);return this._buildPlayer(ne,new Map,Ee)}));return this._playersById.set(i,G),G.onDestroy(()=>this.destroy(i)),this.players.push(G),G}destroy(i){const e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(i){const e=this._playersById.get(i);if(!e)throw function X1(r){return new t.vHH(3301,!1)}();return e}listen(i,e,n,o){const u=WD(e,"","","");return YD(this._getPlayer(i),n,u,o),()=>{}}command(i,e,n,o){if("register"==n)return void this.register(i,o[0]);if("create"==n)return void this.create(i,e,o[0]||{});const u=this._getPlayer(i);switch(n){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(i)}}}const XA="ng-animate-queued",sx="ng-animate-disabled",JI=[],ew={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},QI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},is="__ng_removed";class lx{get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;const n=i&&i.hasOwnProperty("value");if(this.value=function nO(r){return r??null}(n?i.value:i),n){const u=Qg(i);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const e=i.params;if(e){const n=this.options.params;Object.keys(e).forEach(o=>{null==n[o]&&(n[o]=e[o])})}}}const tp="void",cx=new lx(tp);class XI{constructor(i,e,n){this.id=i,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Wa(e,this._hostClassName)}listen(i,e,n,o){if(!this._triggers.has(e))throw function eI(r,i){return new t.vHH(3302,!1)}();if(null==n||0==n.length)throw function tI(r){return new t.vHH(3303,!1)}();if(!function iO(r){return"start"==r||"done"==r}(n))throw function nI(r,i){return new t.vHH(3400,!1)}();const u=Aa(this._elementListeners,i,[]),g={name:e,phase:n,callback:o};u.push(g);const T=Aa(this._engine.statesByElement,i,new Map);return T.has(e)||(Wa(i,gb),Wa(i,gb+"-"+e),T.set(e,cx)),()=>{this._engine.afterFlush(()=>{const R=u.indexOf(g);R>=0&&u.splice(R,1),this._triggers.has(e)||T.delete(e)})}}register(i,e){return!this._triggers.has(i)&&(this._triggers.set(i,e),!0)}_getTrigger(i){const e=this._triggers.get(i);if(!e)throw function iI(r){return new t.vHH(3401,!1)}();return e}trigger(i,e,n,o=!0){const u=this._getTrigger(e),g=new dx(this.id,e,i);let T=this._engine.statesByElement.get(i);T||(Wa(i,gb),Wa(i,gb+"-"+e),this._engine.statesByElement.set(i,T=new Map));let R=T.get(e);const G=new lx(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&R&&G.absorbOptions(R.options),T.set(e,G),R||(R=cx),G.value!==tp&&R.value===G.value){if(!function aO(r,i){const e=Object.keys(r),n=Object.keys(i);if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++){const u=e[o];if(!i.hasOwnProperty(u)||r[u]!==i[u])return!1}return!0}(R.params,G.params)){const ht=[],vt=u.matchStyles(R.value,R.params,ht),Lt=u.matchStyles(G.value,G.params,ht);ht.length?this._engine.reportError(ht):this._engine.afterFlush(()=>{Ud(i,vt),Ds(i,Lt)})}return}const Ue=Aa(this._engine.playersByElement,i,[]);Ue.forEach(ht=>{ht.namespaceId==this.id&&ht.triggerName==e&&ht.queued&&ht.destroy()});let Ge=u.matchTransition(R.value,G.value,i,G.params),Xe=!1;if(!Ge){if(!o)return;Ge=u.fallbackTransition,Xe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:Ge,fromState:R,toState:G,player:g,isFallbackTransition:Xe}),Xe||(Wa(i,XA),g.onStart(()=>{$f(i,XA)})),g.onDone(()=>{let ht=this.players.indexOf(g);ht>=0&&this.players.splice(ht,1);const vt=this._engine.playersByElement.get(i);if(vt){let Lt=vt.indexOf(g);Lt>=0&&vt.splice(Lt,1)}}),this.players.push(g),Ue.push(g),g}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(o=>o.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const e=this._engine.playersByElement.get(i);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){const n=this._engine.driver.query(i,pb,!0);n.forEach(o=>{if(o[is])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(g=>g.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(i,e,n,o){const u=this._engine.statesByElement.get(i),g=new Map;if(u){const T=[];if(u.forEach((R,G)=>{if(g.set(G,R.value),this._triggers.has(G)){const ne=this.trigger(i,G,tp,o);ne&&T.push(ne)}}),T.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,g),n&&gc(T).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const e=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(e&&n){const o=new Set;e.forEach(u=>{const g=u.name;if(o.has(g))return;o.add(g);const R=this._triggers.get(g).fallbackTransition,G=n.get(g)||cx,ne=new lx(tp),Ee=new dx(this.id,g,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:g,transition:R,fromState:G,toState:ne,player:Ee,isFallbackTransition:!0})})}}removeNode(i,e){const n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let o=!1;if(n.totalAnimations){const u=n.players.length?n.playersByQueriedElement.get(i):[];if(u&&u.length)o=!0;else{let g=i;for(;g=g.parentNode;)if(n.statesByElement.get(g)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(i),o)n.markElementAsRemoved(this.id,i,!1,e);else{const u=i[is];(!u||u===ew)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,e))}}insertNode(i,e){Wa(i,this._hostClassName)}drainQueuedTransitions(i){const e=[];return this._queue.forEach(n=>{const o=n.player;if(o.destroyed)return;const u=n.element,g=this._elementListeners.get(u);g&&g.forEach(T=>{if(T.name==n.triggerName){const R=WD(u,n.triggerName,n.fromState.value,n.toState.value);R._data=i,YD(n.player,T.phase,R,T.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(n)}),this._queue=[],e.sort((n,o)=>{const u=n.transition.ast.depCount,g=o.transition.ast.depCount;return 0==u||0==g?u-g:this._engine.driver.containsElement(n.element,o.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class eO{_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,n){this.bodyNode=i,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,e){const n=new XI(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,e){const n=this._namespaceList,o=this.namespacesByHostElement;if(n.length-1>=0){let g=!1,T=this.driver.getParentElement(e);for(;T;){const R=o.get(T);if(R){const G=n.indexOf(R);n.splice(G+1,0,i),g=!0;break}T=this.driver.getParentElement(T)}g||n.unshift(i)}else n.push(i);return o.set(e,i),i}register(i,e){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,e)),n}registerTrigger(i,e,n){let o=this._namespaceLookup[i];o&&o.register(e,n)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);const o=this._namespaceList.indexOf(n);o>=0&&this._namespaceList.splice(o,1),n.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const e=new Set,n=this.statesByElement.get(i);if(n)for(let o of n.values())if(o.namespaceId){const u=this._fetchNamespace(o.namespaceId);u&&e.add(u)}return e}trigger(i,e,n,o){if(Db(e)){const u=this._fetchNamespace(i);if(u)return u.trigger(e,n,o),!0}return!1}insertNode(i,e,n,o){if(!Db(e))return;const u=e[is];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const g=this.collectedLeaveElements.indexOf(e);g>=0&&this.collectedLeaveElements.splice(g,1)}if(i){const g=this._fetchNamespace(i);g&&g.insertNode(e,n)}o&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Wa(i,sx)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),$f(i,sx))}removeNode(i,e,n){if(Db(e)){const o=i?this._fetchNamespace(i):null;o?o.removeNode(e,n):this.markElementAsRemoved(i,e,!1,n);const u=this.namespacesByHostElement.get(e);u&&u.id!==i&&u.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(i,e,n,o,u){this.collectedLeaveElements.push(e),e[is]={namespaceId:i,setForRemoval:o,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:u}}listen(i,e,n,o,u){return Db(e)?this._fetchNamespace(i).listen(e,n,o,u):()=>{}}_buildInstruction(i,e,n,o,u){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,o,i.fromState.options,i.toState.options,e,u)}destroyInnerAnimations(i){let e=this.driver.query(i,pb,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(i,qD,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){const e=this.playersByElement.get(i);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){const e=this.playersByQueriedElement.get(i);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return gc(this.players).onDone(()=>i());i()})}processLeaveNode(i){const e=i[is];if(e&&e.setForRemoval){if(i[is]=ew,e.namespaceId){this.destroyInnerAnimations(i);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(sx)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,o)=>this._balanceNamespaceList(n,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Wa(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,i)}finally{for(let o=0;o<n.length;o++)n[o]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?gc(e).onDone(()=>{n.forEach(o=>o())}):n.forEach(o=>o())}}reportError(i){throw function rI(r){return new t.vHH(3402,!1)}()}_flushAnimations(i,e){const n=new Tb,o=[],u=new Map,g=[],T=new Map,R=new Map,G=new Map,ne=new Set;this.disabledNodes.forEach(Hn=>{ne.add(Hn);const Kn=this.driver.query(Hn,".ng-animate-queued",!0);for(let Pn=0;Pn<Kn.length;Pn++)ne.add(Kn[Pn])});const Ee=this.bodyNode,Ue=Array.from(this.statesByElement.keys()),Ge=iw(Ue,this.collectedEnterElements),Xe=new Map;let ht=0;Ge.forEach((Hn,Kn)=>{const Pn=$D+ht++;Xe.set(Kn,Pn),Hn.forEach(Yn=>Wa(Yn,Pn))});const vt=[],Lt=new Set,Zt=new Set;for(let Hn=0;Hn<this.collectedLeaveElements.length;Hn++){const Kn=this.collectedLeaveElements[Hn],Pn=Kn[is];Pn&&Pn.setForRemoval&&(vt.push(Kn),Lt.add(Kn),Pn.hasAnimation?this.driver.query(Kn,".ng-star-inserted",!0).forEach(Yn=>Lt.add(Yn)):Zt.add(Kn))}const Kt=new Map,un=iw(Ue,Array.from(Lt));un.forEach((Hn,Kn)=>{const Pn=mb+ht++;Kt.set(Kn,Pn),Hn.forEach(Yn=>Wa(Yn,Pn))}),i.push(()=>{Ge.forEach((Hn,Kn)=>{const Pn=Xe.get(Kn);Hn.forEach(Yn=>$f(Yn,Pn))}),un.forEach((Hn,Kn)=>{const Pn=Kt.get(Kn);Hn.forEach(Yn=>$f(Yn,Pn))}),vt.forEach(Hn=>{this.processLeaveNode(Hn)})});const cn=[],Sn=[];for(let Hn=this._namespaceList.length-1;Hn>=0;Hn--)this._namespaceList[Hn].drainQueuedTransitions(e).forEach(Pn=>{const Yn=Pn.player,bi=Pn.element;if(cn.push(Yn),this.collectedEnterElements.length){const ar=bi[is];if(ar&&ar.setForMove){if(ar.previousTriggersValues&&ar.previousTriggersValues.has(Pn.triggerName)){const ao=ar.previousTriggersValues.get(Pn.triggerName),zo=this.statesByElement.get(Pn.element);if(zo&&zo.has(Pn.triggerName)){const qf=zo.get(Pn.triggerName);qf.value=ao,zo.set(Pn.triggerName,qf)}}return void Yn.destroy()}}const Pi=!Ee||!this.driver.containsElement(Ee,bi),Ti=Kt.get(bi),zi=Xe.get(bi),Ai=this._buildInstruction(Pn,n,zi,Ti,Pi);if(Ai.errors&&Ai.errors.length)return void Sn.push(Ai);if(Pi)return Yn.onStart(()=>Ud(bi,Ai.fromStyles)),Yn.onDestroy(()=>Ds(bi,Ai.toStyles)),void o.push(Yn);if(Pn.isFallbackTransition)return Yn.onStart(()=>Ud(bi,Ai.fromStyles)),Yn.onDestroy(()=>Ds(bi,Ai.toStyles)),void o.push(Yn);const kr=[];Ai.timelines.forEach(ar=>{ar.stretchStartingKeyframe=!0,this.disabledNodes.has(ar.element)||kr.push(ar)}),Ai.timelines=kr,n.append(bi,Ai.timelines),g.push({instruction:Ai,player:Yn,element:bi}),Ai.queriedElements.forEach(ar=>Aa(T,ar,[]).push(Yn)),Ai.preStyleProps.forEach((ar,ao)=>{if(ar.size){let zo=R.get(ao);zo||R.set(ao,zo=new Set),ar.forEach((qf,Vd)=>zo.add(Vd))}}),Ai.postStyleProps.forEach((ar,ao)=>{let zo=G.get(ao);zo||G.set(ao,zo=new Set),ar.forEach((qf,Vd)=>zo.add(Vd))})});if(Sn.length){const Hn=[];Sn.forEach(Kn=>{Hn.push(function oI(r,i){return new t.vHH(3505,!1)}())}),cn.forEach(Kn=>Kn.destroy()),this.reportError(Hn)}const gn=new Map,An=new Map;g.forEach(Hn=>{const Kn=Hn.element;n.has(Kn)&&(An.set(Kn,Kn),this._beforeAnimationBuild(Hn.player.namespaceId,Hn.instruction,gn))}),o.forEach(Hn=>{const Kn=Hn.element;this._getPreviousPlayers(Kn,!1,Hn.namespaceId,Hn.triggerName,null).forEach(Yn=>{Aa(gn,Kn,[]).push(Yn),Yn.destroy()})});const Vn=vt.filter(Hn=>ow(Hn,R,G)),_n=new Map;nw(_n,this.driver,Zt,G,Er.l3).forEach(Hn=>{ow(Hn,R,G)&&Vn.push(Hn)});const zn=new Map;Ge.forEach((Hn,Kn)=>{nw(zn,this.driver,new Set(Hn),R,Er.k1)}),Vn.forEach(Hn=>{const Kn=_n.get(Hn),Pn=zn.get(Hn);_n.set(Hn,new Map([...Kn?.entries()??[],...Pn?.entries()??[]]))});const yi=[],Tr=[],Gi={};g.forEach(Hn=>{const{element:Kn,player:Pn,instruction:Yn}=Hn;if(n.has(Kn)){if(ne.has(Kn))return Pn.onDestroy(()=>Ds(Kn,Yn.toStyles)),Pn.disabled=!0,Pn.overrideTotalTime(Yn.totalTime),void o.push(Pn);let bi=Gi;if(An.size>1){let Ti=Kn;const zi=[];for(;Ti=Ti.parentNode;){const Ai=An.get(Ti);if(Ai){bi=Ai;break}zi.push(Ti)}zi.forEach(Ai=>An.set(Ai,bi))}const Pi=this._buildAnimation(Pn.namespaceId,Yn,gn,u,zn,_n);if(Pn.setRealPlayer(Pi),bi===Gi)yi.push(Pn);else{const Ti=this.playersByElement.get(bi);Ti&&Ti.length&&(Pn.parentPlayer=gc(Ti)),o.push(Pn)}}else Ud(Kn,Yn.fromStyles),Pn.onDestroy(()=>Ds(Kn,Yn.toStyles)),Tr.push(Pn),ne.has(Kn)&&o.push(Pn)}),Tr.forEach(Hn=>{const Kn=u.get(Hn.element);if(Kn&&Kn.length){const Pn=gc(Kn);Hn.setRealPlayer(Pn)}}),o.forEach(Hn=>{Hn.parentPlayer?Hn.syncPlayerEvents(Hn.parentPlayer):Hn.destroy()});for(let Hn=0;Hn<vt.length;Hn++){const Kn=vt[Hn],Pn=Kn[is];if($f(Kn,mb),Pn&&Pn.hasAnimation)continue;let Yn=[];if(T.size){let Pi=T.get(Kn);Pi&&Pi.length&&Yn.push(...Pi);let Ti=this.driver.query(Kn,qD,!0);for(let zi=0;zi<Ti.length;zi++){let Ai=T.get(Ti[zi]);Ai&&Ai.length&&Yn.push(...Ai)}}const bi=Yn.filter(Pi=>!Pi.destroyed);bi.length?rO(this,Kn,bi):this.processLeaveNode(Kn)}return vt.length=0,yi.forEach(Hn=>{this.players.push(Hn),Hn.onDone(()=>{Hn.destroy();const Kn=this.players.indexOf(Hn);this.players.splice(Kn,1)}),Hn.play()}),yi}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,n,o,u){let g=[];if(e){const T=this.playersByQueriedElement.get(i);T&&(g=T)}else{const T=this.playersByElement.get(i);if(T){const R=!u||u==tp;T.forEach(G=>{G.queued||!R&&G.triggerName!=o||g.push(G)})}}return(n||o)&&(g=g.filter(T=>!(n&&n!=T.namespaceId||o&&o!=T.triggerName))),g}_beforeAnimationBuild(i,e,n){const u=e.element,g=e.isRemovalTransition?void 0:i,T=e.isRemovalTransition?void 0:e.triggerName;for(const R of e.timelines){const G=R.element,ne=G!==u,Ee=Aa(n,G,[]);this._getPreviousPlayers(G,ne,g,T,e.toState).forEach(Ge=>{const Xe=Ge.getRealPlayer();Xe.beforeDestroy&&Xe.beforeDestroy(),Ge.destroy(),Ee.push(Ge)})}Ud(u,e.fromStyles)}_buildAnimation(i,e,n,o,u,g){const T=e.triggerName,R=e.element,G=[],ne=new Set,Ee=new Set,Ue=e.timelines.map(Xe=>{const ht=Xe.element;ne.add(ht);const vt=ht[is];if(vt&&vt.removedBeforeQueried)return new Er.ZN(Xe.duration,Xe.delay);const Lt=ht!==R,Zt=function oO(r){const i=[];return rw(r,i),i}((n.get(ht)||JI).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===ht),Kt=u.get(ht),un=g.get(ht),cn=NA(this._normalizer,Xe.keyframes,Kt,un),Sn=this._buildPlayer(Xe,cn,Zt);if(Xe.subTimeline&&o&&Ee.add(ht),Lt){const gn=new dx(i,T,ht);gn.setRealPlayer(Sn),G.push(gn)}return Sn});G.forEach(Xe=>{Aa(this.playersByQueriedElement,Xe.element,[]).push(Xe),Xe.onDone(()=>function tO(r,i,e){let n=r.get(i);if(n){if(n.length){const o=n.indexOf(e);n.splice(o,1)}0==n.length&&r.delete(i)}return n}(this.playersByQueriedElement,Xe.element,Xe))}),ne.forEach(Xe=>Wa(Xe,VA));const Ge=gc(Ue);return Ge.onDestroy(()=>{ne.forEach(Xe=>$f(Xe,VA)),Ds(R,e.toStyles)}),Ee.forEach(Xe=>{Aa(o,Xe,[]).push(Ge)}),Ge}_buildPlayer(i,e,n){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,n):new Er.ZN(i.duration,i.delay)}}class dx{constructor(i,e,n){this.namespaceId=i,this.triggerName=e,this.element=n,this._player=new Er.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,n)=>{e.forEach(o=>YD(i,n,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Aa(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const e=this._player;e.triggerCallback&&e.triggerCallback(i)}}function Db(r){return r&&1===r.nodeType}function tw(r,i){const e=r.style.display;return r.style.display=i??"none",e}function nw(r,i,e,n,o){const u=[];e.forEach(R=>u.push(tw(R)));const g=[];n.forEach((R,G)=>{const ne=new Map;R.forEach(Ee=>{const Ue=i.computeStyle(G,Ee,o);ne.set(Ee,Ue),(!Ue||0==Ue.length)&&(G[is]=QI,g.push(G))}),r.set(G,ne)});let T=0;return e.forEach(R=>tw(R,u[T++])),g}function iw(r,i){const e=new Map;if(r.forEach(T=>e.set(T,[])),0==i.length)return e;const o=new Set(i),u=new Map;function g(T){if(!T)return 1;let R=u.get(T);if(R)return R;const G=T.parentNode;return R=e.has(G)?G:o.has(G)?1:g(G),u.set(T,R),R}return i.forEach(T=>{const R=g(T);1!==R&&e.get(R).push(T)}),e}function Wa(r,i){r.classList?.add(i)}function $f(r,i){r.classList?.remove(i)}function rO(r,i,e){gc(e).onDone(()=>r.processLeaveNode(i))}function rw(r,i){for(let e=0;e<r.length;e++){const n=r[e];n instanceof Er.ZE?rw(n.players,i):i.push(n)}}function ow(r,i,e){const n=e.get(r);if(!n)return!1;let o=i.get(r);return o?n.forEach(u=>o.add(u)):i.set(r,n),e.delete(r),!0}class xb{constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new eO(i,e,n),this._timelineEngine=new WI(i,e,n),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(i,e,n,o,u){const g=i+"-"+o;let T=this._triggerCache[g];if(!T){const R=[],ne=ex(this._driver,u,R,[]);if(R.length)throw function Z1(r,i){return new t.vHH(3404,!1)}();T=function GI(r,i,e){return new HI(r,i,e)}(o,ne,this._normalizer),this._triggerCache[g]=T}this._transitionEngine.registerTrigger(e,o,T)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,n,o){this._transitionEngine.insertNode(i,e,n,o)}onRemove(i,e,n){this._transitionEngine.removeNode(i,e,n)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,n,o){if("@"==n.charAt(0)){const[u,g]=LA(n);this._timelineEngine.command(u,e,g,o)}else this._transitionEngine.trigger(i,e,n,o)}listen(i,e,n,o,u){if("@"==n.charAt(0)){const[g,T]=LA(n);return this._timelineEngine.listen(g,e,T,u)}return this._transitionEngine.listen(i,e,n,o,u)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}let lO=(()=>{class r{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,o){this._element=e,this._startStyles=n,this._endStyles=o,this._state=0;let u=r.initialStylesByElement.get(e);u||r.initialStylesByElement.set(e,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Ds(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ds(this._element,this._initialStyles),this._endStyles&&(Ds(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Ud(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ud(this._element,this._endStyles),this._endStyles=null),Ds(this._element,this._initialStyles),this._state=3)}}return r})();function ux(r){let i=null;return r.forEach((e,n)=>{(function cO(r){return"display"===r||"position"===r})(n)&&(i=i||new Map,i.set(n,e))}),i}class aw{constructor(i,e,n,o){this.element=i,this.keyframes=e,this.options=n,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const e=[];return i.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(i,e,n){return i.animate(this._convertKeyframesToObject(e),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,o)=>{"offset"!==o&&i.set(o,this._finished?n:KA(this.element,o))}),this.currentSnapshot=i}triggerCallback(i){const e="start"===i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class dO{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,e){return!1}containsElement(i,e){return FA(i,e)}getParentElement(i){return zD(i)}query(i,e,n){return BA(i,e,n)}computeStyle(i,e,n){return window.getComputedStyle(i)[e]}animate(i,e,n,o,u,g=[]){const R={duration:n,delay:o,fill:0==o?"both":"forwards"};u&&(R.easing=u);const G=new Map,ne=g.filter(Ge=>Ge instanceof aw);(function _I(r,i){return 0===r||0===i})(n,o)&&ne.forEach(Ge=>{Ge.currentSnapshot.forEach((Xe,ht)=>G.set(ht,Xe))});let Ee=function mI(r){return r.length?r[0]instanceof Map?r:r.map(i=>GA(i)):[]}(e).map(Ge=>pc(Ge));Ee=function vI(r,i,e){if(e.size&&i.length){let n=i[0],o=[];if(e.forEach((u,g)=>{n.has(g)||o.push(g),n.set(g,u)}),o.length)for(let u=1;u<i.length;u++){let g=i[u];o.forEach(T=>g.set(T,KA(r,T)))}}return i}(i,Ee,G);const Ue=function sO(r,i){let e=null,n=null;return Array.isArray(i)&&i.length?(e=ux(i[0]),i.length>1&&(n=ux(i[i.length-1]))):i instanceof Map&&(e=ux(i)),e||n?new lO(r,e,n):null}(i,Ee);return new aw(i,Ee,R,Ue)}}let uO=(()=>{class r extends Er._j{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?(0,Er.vP)(e):e;return sw(this._renderer,null,n,"register",[o]),new fO(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t.FYo),t.LFG(p.K0))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class fO extends Er.LC{constructor(i,e){super(),this._id=i,this._renderer=e}create(i,e){return new hO(this._id,i,e||{},this._renderer)}}class hO{constructor(i,e,n,o){this.id=i,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(i,e){return this._renderer.listen(this.element,`@@${this.id}:${i}`,e)}_command(i,...e){return sw(this._renderer,this.element,this.id,i,e)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function sw(r,i,e,n,o){return r.setProperty(i,`@@${e}:${n}`,o)}const lw="@.disabled";let mO=(()=>{class r{constructor(e,n,o){this.delegate=e,this.engine=n,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(u,g)=>{const T=g?.parentNode(u);T&&g.removeChild(T,u)}}createRenderer(e,n){const u=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let ne=this._rendererCache.get(u);return ne||(ne=new cw("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,ne)),ne}const g=n.id,T=n.id+"-"+this._currentId;this._currentId++,this.engine.register(T,e);const R=ne=>{Array.isArray(ne)?ne.forEach(R):this.engine.registerTrigger(g,T,e,ne.name,ne)};return n.data.animation.forEach(R),new gO(this,T,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,o){e>=0&&e<this._microtaskId?this._zone.run(()=>n(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[g,T]=u;g(T)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(t.FYo),t.LFG(xb),t.LFG(t.R0b))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();class cw{constructor(i,e,n,o){this.namespaceId=i,this.delegate=e,this.engine=n,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,n,o=!0){this.delegate.insertBefore(i,e,n),this.engine.onInsert(this.namespaceId,e,i,o)}removeChild(i,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,o){this.delegate.setAttribute(i,e,n,o)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,o){this.delegate.setStyle(i,e,n,o)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){"@"==e.charAt(0)&&e==lw?this.disableAnimations(i,!!n):this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n){return this.delegate.listen(i,e,n)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}}class gO extends cw{constructor(i,e,n,o,u){super(e,n,o,u),this.factory=i,this.namespaceId=e}setProperty(i,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==lw?this.disableAnimations(i,n=void 0===n||!!n):this.engine.process(this.namespaceId,i,e.slice(1),n):this.delegate.setProperty(i,e,n)}listen(i,e,n){if("@"==e.charAt(0)){const o=function pO(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let u=e.slice(1),g="";return"@"!=u.charAt(0)&&([u,g]=function _O(r){const i=r.indexOf(".");return[r.substring(0,i),r.slice(i+1)]}(u)),this.engine.listen(this.namespaceId,o,u,g,T=>{this.factory.scheduleListenerCallback(T._data||-1,n,T)})}return this.delegate.listen(i,e,n)}}let vO=(()=>{class r extends xb{constructor(e,n,o,u){super(e.body,n,o)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||r)(t.LFG(p.K0),t.LFG(ZD),t.LFG(ox),t.LFG(t.z2F))};static#t=this.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac})}return r})();const dw=[{provide:Er._j,useClass:uO},{provide:ox,useFactory:function yO(){return new BI}},{provide:xb,useClass:vO},{provide:t.FYo,useFactory:function bO(r,i,e){return new mO(r,i,e)},deps:[c.se,xb,t.R0b]}],fx=[{provide:ZD,useFactory:()=>new dO},{provide:t.QbO,useValue:"BrowserAnimations"},...dw],uw=[{provide:ZD,useClass:UA},{provide:t.QbO,useValue:"NoopAnimations"},...dw];let EO=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?uw:fx}}static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:fx,imports:[c.b2]})}return r})(),TO=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=t.oAB({type:r,bootstrap:[x1]});static#n=this.\u0275inj=t.cJS({providers:[{provide:p.mr,useValue:"/"}],imports:[c.b2,kt.u5,Gs.m,Nt,f,ui,EO]})}return r})();c.q6().bootstrapModule(TO).catch(r=>console.error(r))},4753:(In,Ze,C)=>{"use strict";Ze.Q=void 0;const t=C(2546),b=C(8540);Ze.Q=y=>y.startsWith("WEBVTT")?b.vttParser(y):t.srtParser(y)},2546:(In,Ze,C)=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.srtParser=void 0;const c=C(4575),t=C(2279),I=L=>{let m,h,p,x=L.split(":");return 2===x.length?[h,p]=x:[m,h,p]=x,parseInt(p.replace(",",""),10)+60*parseInt(h,10)*1e3+60*(m?parseInt(m,10):0)*60*1e3},y=()=>({start(L){let x="ID",m={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==x;){const h=this[x](m);m=h.params,x=h.next}return m.result},ID(L){const{tokens:x,pos:m,current:h}=L;if(x.length<=m)return{next:"FINISH",params:L};if(t.isBlank(x[m]))return{next:"ID",params:{...L,pos:m+1}};const p=x[m].includes("--\x3e");return h.id=p?"":x[m],{next:"TIME_LINE",params:{...L,current:h,tokens:x,pos:p?m:m+1}}},TIME_LINE(L){const{tokens:x,pos:m,current:h}=L,p=x[m],[v,A]=p.split("--\x3e");return h.from=I(v),h.to=I(A),{next:"TEXT",params:{...L,current:h,pos:m+1}}},TEXT(L){const{tokens:x,pos:m,current:h}=L;return x.length<=m?{next:"FINISH",params:L}:(h.text=x[m],{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},MULTI_LINE_TEXT(L){const{tokens:x,pos:m,current:h}=L;return x.length<=m?{next:"FINISH",params:L}:t.isBlank(x[m])?{next:"FIN_ENTRY",params:L}:(h.text=`${h.text}\n${x[m]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},FIN_ENTRY(L){const{pos:x,current:m,result:h}=L;if(!c.isEntryFromPartial(m))throw new Error(`Parsing error current not complete ${JSON.stringify(m)}`);return h.push(m),{next:"ID",params:{...L,current:{},pos:x+1}}},FINISH:L=>({next:"FINISH",params:L})});Ze.srtParser=L=>({entries:y().start(L)})},4575:(In,Ze)=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.isEntryFromPartial=void 0,Ze.isEntryFromPartial=c=>"string"==typeof c.id&&"number"==typeof c.from&&"number"==typeof c.to&&"string"==typeof c.text},2279:(In,Ze)=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.isBlank=void 0,Ze.isBlank=c=>!c||/^\s*$/.test(c)},8540:(In,Ze,C)=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.vttParser=void 0;const c=C(4575),t=C(2279),I=L=>{let m,h,p,x=L.split(":");return 2===x.length?[h,p]=x:[m,h,p]=x,parseInt(p.replace(".",""),10)+60*parseInt(h,10)*1e3+60*(m?parseInt(m,10):0)*60*1e3},y=()=>({start(L){let x="HEADER",m={tokens:L.split(/\n/),pos:0,result:[],current:{}};for(;"FINISH"!==x;){const h=this[x](m);m=h.params,x=h.next}return m.result},HEADER:L=>({next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:L.pos+1}}),ID_OR_NOTE_OR_STYLE(L){const{tokens:x,pos:m}=L;return x.length<=m?{next:"FINISH",params:L}:t.isBlank(x[m])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:m+1}}:x[m].toUpperCase().includes("NOTE")?{next:"NOTE",params:L}:x[m].toUpperCase().includes("STYLE")?{next:"STYLE",params:L}:{next:"ID",params:L}},STYLE(L){const{tokens:x,pos:m}=L;return t.isBlank(x[m])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:m+1}}:{next:"STYLE",params:{...L,pos:m+1}}},NOTE(L){const{tokens:x,pos:m}=L;return t.isBlank(x[m])?{next:"ID_OR_NOTE_OR_STYLE",params:{...L,pos:m+1}}:{next:"STYLE",params:{...L,pos:m+1}}},ID(L){const{tokens:x,pos:m,current:h}=L;if(x.length<=m)return{next:"FINISH",params:L};if(t.isBlank(x[m]))return{next:"ID",params:{...L,pos:m+1}};const p=x[m].includes("--\x3e");return h.id=p?"":x[m],{next:"TIME_LINE",params:{...L,current:h,tokens:x,pos:p?m:m+1}}},TIME_LINE(L){const{tokens:x,pos:m,current:h}=L,p=x[m],[v,A]=p.split("--\x3e");return h.from=I(v),h.to=I(A),{next:"TEXT",params:{...L,current:h,pos:m+1}}},TEXT(L){const{tokens:x,pos:m,current:h}=L;return x.length<=m?{next:"FINISH",params:L}:(h.text=x[m],{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},MULTI_LINE_TEXT(L){const{tokens:x,pos:m,current:h}=L;return x.length<=m?{next:"FINISH",params:L}:t.isBlank(x[m])?{next:"FIN_ENTRY",params:L}:(h.text=`${h.text}\n${x[m]}`,{next:"MULTI_LINE_TEXT",params:{...L,current:h,pos:m+1}})},FIN_ENTRY(L){const{pos:x,current:m,result:h}=L;if(!c.isEntryFromPartial(m))throw new Error(`Parsing error current not complete ${JSON.stringify(m)}`);return h.push(m),{next:"ID_OR_NOTE_OR_STYLE",params:{...L,current:{},pos:x+1}}},FINISH:L=>({next:"FINISH",params:L})});Ze.vttParser=L=>({entries:y().start(L)})},9919:(In,Ze)=>{"use strict";Ze.byteLength=function L(A){var U=F(A),V=U[1];return 3*(U[0]+V)/4-V},Ze.toByteArray=function m(A){var U,E,O=F(A),V=O[0],k=O[1],P=new t(function x(A,U,O){return 3*(U+O)/4-O}(0,V,k)),D=0,w=k>0?V-4:V;for(E=0;E<w;E+=4)U=c[A.charCodeAt(E)]<<18|c[A.charCodeAt(E+1)]<<12|c[A.charCodeAt(E+2)]<<6|c[A.charCodeAt(E+3)],P[D++]=U>>16&255,P[D++]=U>>8&255,P[D++]=255&U;return 2===k&&(U=c[A.charCodeAt(E)]<<2|c[A.charCodeAt(E+1)]>>4,P[D++]=255&U),1===k&&(U=c[A.charCodeAt(E)]<<10|c[A.charCodeAt(E+1)]<<4|c[A.charCodeAt(E+2)]>>2,P[D++]=U>>8&255,P[D++]=255&U),P},Ze.fromByteArray=function v(A){for(var U,O=A.length,V=O%3,k=[],P=16383,D=0,w=O-V;D<w;D+=P)k.push(p(A,D,D+P>w?w:D+P));return 1===V?k.push(C[(U=A[O-1])>>2]+C[U<<4&63]+"=="):2===V&&k.push(C[(U=(A[O-2]<<8)+A[O-1])>>10]+C[U>>4&63]+C[U<<2&63]+"="),k.join("")};for(var C=[],c=[],t=typeof Uint8Array<"u"?Uint8Array:Array,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=0;I<64;++I)C[I]=b[I],c[b.charCodeAt(I)]=I;function F(A){var U=A.length;if(U%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=A.indexOf("=");return-1===O&&(O=U),[O,O===U?0:4-O%4]}function h(A){return C[A>>18&63]+C[A>>12&63]+C[A>>6&63]+C[63&A]}function p(A,U,O){for(var k=[],P=U;P<O;P+=3)k.push(h((A[P]<<16&16711680)+(A[P+1]<<8&65280)+(255&A[P+2])));return k.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},9007:(In,Ze,C)=>{"use strict";var t=C(9919),b=C(2601),I="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Ze.lW=x,Ze.h2=50;var y=2147483647;function L(Z){if(Z>y)throw new RangeError('The value "'+Z+'" is invalid for option "size"');var W=new Uint8Array(Z);return Object.setPrototypeOf(W,x.prototype),W}function x(Z,W,X){if("number"==typeof Z){if("string"==typeof W)throw new TypeError('The "string" argument must be of type string. Received type number');return v(Z)}return m(Z,W,X)}function m(Z,W,X){if("string"==typeof Z)return function A(Z,W){if(("string"!=typeof W||""===W)&&(W="utf8"),!x.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var X=0|w(Z,W),Q=L(X),q=Q.write(Z,W);return q!==X&&(Q=Q.slice(0,q)),Q}(Z,W);if(ArrayBuffer.isView(Z))return function O(Z){if(ie(Z,Uint8Array)){var W=new Uint8Array(Z);return V(W.buffer,W.byteOffset,W.byteLength)}return U(Z)}(Z);if(null==Z)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(ie(Z,ArrayBuffer)||Z&&ie(Z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(Z,SharedArrayBuffer)||Z&&ie(Z.buffer,SharedArrayBuffer)))return V(Z,W,X);if("number"==typeof Z)throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=Z.valueOf&&Z.valueOf();if(null!=Q&&Q!==Z)return x.from(Q,W,X);var q=function k(Z){if(x.isBuffer(Z)){var W=0|P(Z.length),X=L(W);return 0===X.length||Z.copy(X,0,0,W),X}return void 0!==Z.length?"number"!=typeof Z.length||he(Z.length)?L(0):U(Z):"Buffer"===Z.type&&Array.isArray(Z.data)?U(Z.data):void 0}(Z);if(q)return q;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof Z[Symbol.toPrimitive])return x.from(Z[Symbol.toPrimitive]("string"),W,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}function h(Z){if("number"!=typeof Z)throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function v(Z){return h(Z),L(Z<0?0:0|P(Z))}function U(Z){for(var W=Z.length<0?0:0|P(Z.length),X=L(W),Q=0;Q<W;Q+=1)X[Q]=255&Z[Q];return X}function V(Z,W,X){if(W<0||Z.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<W+(X||0))throw new RangeError('"length" is outside of buffer bounds');var Q;return Q=void 0===W&&void 0===X?new Uint8Array(Z):void 0===X?new Uint8Array(Z,W):new Uint8Array(Z,W,X),Object.setPrototypeOf(Q,x.prototype),Q}function P(Z){if(Z>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return 0|Z}function w(Z,W){if(x.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||ie(Z,ArrayBuffer))return Z.byteLength;if("string"!=typeof Z)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);var X=Z.length,Q=arguments.length>2&&!0===arguments[2];if(!Q&&0===X)return 0;for(var q=!1;;)switch(W){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return ze(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return ye(Z).length;default:if(q)return Q?-1:ze(Z).length;W=(""+W).toLowerCase(),q=!0}}function E(Z,W,X){var Q=!1;if((void 0===W||W<0)&&(W=0),W>this.length||((void 0===X||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(W>>>=0))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return Ie(this,W,X);case"utf8":case"utf-8":return H(this,W,X);case"ascii":return ue(this,W,X);case"latin1":case"binary":return Se(this,W,X);case"base64":return oe(this,W,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,W,X);default:if(Q)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),Q=!0}}function N(Z,W,X){var Q=Z[W];Z[W]=Z[X],Z[X]=Q}function S(Z,W,X,Q,q){if(0===Z.length)return-1;if("string"==typeof X?(Q=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),he(X=+X)&&(X=q?0:Z.length-1),X<0&&(X=Z.length+X),X>=Z.length){if(q)return-1;X=Z.length-1}else if(X<0){if(!q)return-1;X=0}if("string"==typeof W&&(W=x.from(W,Q)),x.isBuffer(W))return 0===W.length?-1:B(Z,W,X,Q,q);if("number"==typeof W)return W&=255,"function"==typeof Uint8Array.prototype.indexOf?q?Uint8Array.prototype.indexOf.call(Z,W,X):Uint8Array.prototype.lastIndexOf.call(Z,W,X):B(Z,[W],X,Q,q);throw new TypeError("val must be string, number or Buffer")}function B(Z,W,X,Q,q){var Ce,J=1,de=Z.length,ge=W.length;if(void 0!==Q&&("ucs2"===(Q=String(Q).toLowerCase())||"ucs-2"===Q||"utf16le"===Q||"utf-16le"===Q)){if(Z.length<2||W.length<2)return-1;J=2,de/=2,ge/=2,X/=2}function ce(Qe,qe){return 1===J?Qe[qe]:Qe.readUInt16BE(qe*J)}if(q){var Ye=-1;for(Ce=X;Ce<de;Ce++)if(ce(Z,Ce)===ce(W,-1===Ye?0:Ce-Ye)){if(-1===Ye&&(Ye=Ce),Ce-Ye+1===ge)return Ye*J}else-1!==Ye&&(Ce-=Ce-Ye),Ye=-1}else for(X+ge>de&&(X=de-ge),Ce=X;Ce>=0;Ce--){for(var Be=!0,$e=0;$e<ge;$e++)if(ce(Z,Ce+$e)!==ce(W,$e)){Be=!1;break}if(Be)return Ce}return-1}function Y(Z,W,X,Q){X=Number(X)||0;var q=Z.length-X;Q?(Q=Number(Q))>q&&(Q=q):Q=q;var J=W.length;Q>J/2&&(Q=J/2);for(var de=0;de<Q;++de){var ge=parseInt(W.substr(2*de,2),16);if(he(ge))return de;Z[X+de]=ge}return de}function re(Z,W,X,Q){return K(ze(W,Z.length-X),Z,X,Q)}function ae(Z,W,X,Q){return K(function He(Z){for(var W=[],X=0;X<Z.length;++X)W.push(255&Z.charCodeAt(X));return W}(W),Z,X,Q)}function Re(Z,W,X,Q){return K(ye(W),Z,X,Q)}function z(Z,W,X,Q){return K(function Ae(Z,W){for(var X,Q,J=[],de=0;de<Z.length&&!((W-=2)<0);++de)Q=(X=Z.charCodeAt(de))>>8,J.push(X%256),J.push(Q);return J}(W,Z.length-X),Z,X,Q)}function oe(Z,W,X){return t.fromByteArray(0===W&&X===Z.length?Z:Z.slice(W,X))}function H(Z,W,X){X=Math.min(Z.length,X);for(var Q=[],q=W;q<X;){var ce,Ce,Ye,Be,J=Z[q],de=null,ge=J>239?4:J>223?3:J>191?2:1;if(q+ge<=X)switch(ge){case 1:J<128&&(de=J);break;case 2:128==(192&(ce=Z[q+1]))&&(Be=(31&J)<<6|63&ce)>127&&(de=Be);break;case 3:Ce=Z[q+2],128==(192&(ce=Z[q+1]))&&128==(192&Ce)&&(Be=(15&J)<<12|(63&ce)<<6|63&Ce)>2047&&(Be<55296||Be>57343)&&(de=Be);break;case 4:Ce=Z[q+2],Ye=Z[q+3],128==(192&(ce=Z[q+1]))&&128==(192&Ce)&&128==(192&Ye)&&(Be=(15&J)<<18|(63&ce)<<12|(63&Ce)<<6|63&Ye)>65535&&Be<1114112&&(de=Be)}null===de?(de=65533,ge=1):de>65535&&(Q.push((de-=65536)>>>10&1023|55296),de=56320|1023&de),Q.push(de),q+=ge}return function te(Z){var W=Z.length;if(W<=me)return String.fromCharCode.apply(String,Z);for(var X="",Q=0;Q<W;)X+=String.fromCharCode.apply(String,Z.slice(Q,Q+=me));return X}(Q)}!(x.TYPED_ARRAY_SUPPORT=function F(){try{var Z=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(Z,W),42===Z.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}}),Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}}),x.poolSize=8192,x.from=function(Z,W,X){return m(Z,W,X)},Object.setPrototypeOf(x.prototype,Uint8Array.prototype),Object.setPrototypeOf(x,Uint8Array),x.alloc=function(Z,W,X){return function p(Z,W,X){return h(Z),Z<=0?L(Z):void 0!==W?"string"==typeof X?L(Z).fill(W,X):L(Z).fill(W):L(Z)}(Z,W,X)},x.allocUnsafe=function(Z){return v(Z)},x.allocUnsafeSlow=function(Z){return v(Z)},x.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==x.prototype},x.compare=function(W,X){if(ie(W,Uint8Array)&&(W=x.from(W,W.offset,W.byteLength)),ie(X,Uint8Array)&&(X=x.from(X,X.offset,X.byteLength)),!x.isBuffer(W)||!x.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===X)return 0;for(var Q=W.length,q=X.length,J=0,de=Math.min(Q,q);J<de;++J)if(W[J]!==X[J]){Q=W[J],q=X[J];break}return Q<q?-1:q<Q?1:0},x.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(W,X){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return x.alloc(0);var Q;if(void 0===X)for(X=0,Q=0;Q<W.length;++Q)X+=W[Q].length;var q=x.allocUnsafe(X),J=0;for(Q=0;Q<W.length;++Q){var de=W[Q];if(ie(de,Uint8Array))J+de.length>q.length?x.from(de).copy(q,J):Uint8Array.prototype.set.call(q,de,J);else{if(!x.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(q,J)}J+=de.length}return q},x.byteLength=w,x.prototype._isBuffer=!0,x.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<W;X+=2)N(this,X,X+1);return this},x.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<W;X+=4)N(this,X,X+3),N(this,X+1,X+2);return this},x.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<W;X+=8)N(this,X,X+7),N(this,X+1,X+6),N(this,X+2,X+5),N(this,X+3,X+4);return this},x.prototype.toLocaleString=x.prototype.toString=function(){var W=this.length;return 0===W?"":0===arguments.length?H(this,0,W):E.apply(this,arguments)},x.prototype.equals=function(W){if(!x.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===x.compare(this,W)},x.prototype.inspect=function(){var W="",X=Ze.h2;return W=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X&&(W+=" ... "),"<Buffer "+W+">"},I&&(x.prototype[I]=x.prototype.inspect),x.prototype.compare=function(W,X,Q,q,J){if(ie(W,Uint8Array)&&(W=x.from(W,W.offset,W.byteLength)),!x.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===X&&(X=0),void 0===Q&&(Q=W?W.length:0),void 0===q&&(q=0),void 0===J&&(J=this.length),X<0||Q>W.length||q<0||J>this.length)throw new RangeError("out of range index");if(q>=J&&X>=Q)return 0;if(q>=J)return-1;if(X>=Q)return 1;if(this===W)return 0;for(var de=(J>>>=0)-(q>>>=0),ge=(Q>>>=0)-(X>>>=0),ce=Math.min(de,ge),Ce=this.slice(q,J),Ye=W.slice(X,Q),Be=0;Be<ce;++Be)if(Ce[Be]!==Ye[Be]){de=Ce[Be],ge=Ye[Be];break}return de<ge?-1:ge<de?1:0},x.prototype.includes=function(W,X,Q){return-1!==this.indexOf(W,X,Q)},x.prototype.indexOf=function(W,X,Q){return S(this,W,X,Q,!0)},x.prototype.lastIndexOf=function(W,X,Q){return S(this,W,X,Q,!1)},x.prototype.write=function(W,X,Q,q){if(void 0===X)q="utf8",Q=this.length,X=0;else if(void 0===Q&&"string"==typeof X)q=X,Q=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X>>>=0,isFinite(Q)?(Q>>>=0,void 0===q&&(q="utf8")):(q=Q,Q=void 0)}var J=this.length-X;if((void 0===Q||Q>J)&&(Q=J),W.length>0&&(Q<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");for(var de=!1;;)switch(q){case"hex":return Y(this,W,X,Q);case"utf8":case"utf-8":return re(this,W,X,Q);case"ascii":case"latin1":case"binary":return ae(this,W,X,Q);case"base64":return Re(this,W,X,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,W,X,Q);default:if(de)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),de=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var me=4096;function ue(Z,W,X){var Q="";X=Math.min(Z.length,X);for(var q=W;q<X;++q)Q+=String.fromCharCode(127&Z[q]);return Q}function Se(Z,W,X){var Q="";X=Math.min(Z.length,X);for(var q=W;q<X;++q)Q+=String.fromCharCode(Z[q]);return Q}function Ie(Z,W,X){var Q=Z.length;(!W||W<0)&&(W=0),(!X||X<0||X>Q)&&(X=Q);for(var q="",J=W;J<X;++J)q+=$[Z[J]];return q}function le(Z,W,X){for(var Q=Z.slice(W,X),q="",J=0;J<Q.length-1;J+=2)q+=String.fromCharCode(Q[J]+256*Q[J+1]);return q}function Me(Z,W,X){if(Z%1!=0||Z<0)throw new RangeError("offset is not uint");if(Z+W>X)throw new RangeError("Trying to access beyond buffer length")}function we(Z,W,X,Q,q,J){if(!x.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>q||W<J)throw new RangeError('"value" argument is out of bounds');if(X+Q>Z.length)throw new RangeError("Index out of range")}function _e(Z,W,X,Q,q,J){if(X+Q>Z.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function Le(Z,W,X,Q,q){return W=+W,X>>>=0,q||_e(Z,0,X,4),b.write(Z,W,X,Q,23,4),X+4}function Pe(Z,W,X,Q,q){return W=+W,X>>>=0,q||_e(Z,0,X,8),b.write(Z,W,X,Q,52,8),X+8}x.prototype.slice=function(W,X){var Q=this.length;(W=~~W)<0?(W+=Q)<0&&(W=0):W>Q&&(W=Q),(X=void 0===X?Q:~~X)<0?(X+=Q)<0&&(X=0):X>Q&&(X=Q),X<W&&(X=W);var q=this.subarray(W,X);return Object.setPrototypeOf(q,x.prototype),q},x.prototype.readUintLE=x.prototype.readUIntLE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=this[W],J=1,de=0;++de<X&&(J*=256);)q+=this[W+de]*J;return q},x.prototype.readUintBE=x.prototype.readUIntBE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=this[W+--X],J=1;X>0&&(J*=256);)q+=this[W+--X]*J;return q},x.prototype.readUint8=x.prototype.readUInt8=function(W,X){return W>>>=0,X||Me(W,1,this.length),this[W]},x.prototype.readUint16LE=x.prototype.readUInt16LE=function(W,X){return W>>>=0,X||Me(W,2,this.length),this[W]|this[W+1]<<8},x.prototype.readUint16BE=x.prototype.readUInt16BE=function(W,X){return W>>>=0,X||Me(W,2,this.length),this[W]<<8|this[W+1]},x.prototype.readUint32LE=x.prototype.readUInt32LE=function(W,X){return W>>>=0,X||Me(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},x.prototype.readUint32BE=x.prototype.readUInt32BE=function(W,X){return W>>>=0,X||Me(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},x.prototype.readIntLE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=this[W],J=1,de=0;++de<X&&(J*=256);)q+=this[W+de]*J;return q>=(J*=128)&&(q-=Math.pow(2,8*X)),q},x.prototype.readIntBE=function(W,X,Q){W>>>=0,X>>>=0,Q||Me(W,X,this.length);for(var q=X,J=1,de=this[W+--q];q>0&&(J*=256);)de+=this[W+--q]*J;return de>=(J*=128)&&(de-=Math.pow(2,8*X)),de},x.prototype.readInt8=function(W,X){return W>>>=0,X||Me(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},x.prototype.readInt16LE=function(W,X){W>>>=0,X||Me(W,2,this.length);var Q=this[W]|this[W+1]<<8;return 32768&Q?4294901760|Q:Q},x.prototype.readInt16BE=function(W,X){W>>>=0,X||Me(W,2,this.length);var Q=this[W+1]|this[W]<<8;return 32768&Q?4294901760|Q:Q},x.prototype.readInt32LE=function(W,X){return W>>>=0,X||Me(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},x.prototype.readInt32BE=function(W,X){return W>>>=0,X||Me(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},x.prototype.readFloatLE=function(W,X){return W>>>=0,X||Me(W,4,this.length),b.read(this,W,!0,23,4)},x.prototype.readFloatBE=function(W,X){return W>>>=0,X||Me(W,4,this.length),b.read(this,W,!1,23,4)},x.prototype.readDoubleLE=function(W,X){return W>>>=0,X||Me(W,8,this.length),b.read(this,W,!0,52,8)},x.prototype.readDoubleBE=function(W,X){return W>>>=0,X||Me(W,8,this.length),b.read(this,W,!1,52,8)},x.prototype.writeUintLE=x.prototype.writeUIntLE=function(W,X,Q,q){W=+W,X>>>=0,Q>>>=0,q||we(this,W,X,Q,Math.pow(2,8*Q)-1,0);var de=1,ge=0;for(this[X]=255&W;++ge<Q&&(de*=256);)this[X+ge]=W/de&255;return X+Q},x.prototype.writeUintBE=x.prototype.writeUIntBE=function(W,X,Q,q){W=+W,X>>>=0,Q>>>=0,q||we(this,W,X,Q,Math.pow(2,8*Q)-1,0);var de=Q-1,ge=1;for(this[X+de]=255&W;--de>=0&&(ge*=256);)this[X+de]=W/ge&255;return X+Q},x.prototype.writeUint8=x.prototype.writeUInt8=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,1,255,0),this[X]=255&W,X+1},x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,65535,0),this[X]=255&W,this[X+1]=W>>>8,X+2},x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,65535,0),this[X]=W>>>8,this[X+1]=255&W,X+2},x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,4294967295,0),this[X+3]=W>>>24,this[X+2]=W>>>16,this[X+1]=W>>>8,this[X]=255&W,X+4},x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,4294967295,0),this[X]=W>>>24,this[X+1]=W>>>16,this[X+2]=W>>>8,this[X+3]=255&W,X+4},x.prototype.writeIntLE=function(W,X,Q,q){if(W=+W,X>>>=0,!q){var J=Math.pow(2,8*Q-1);we(this,W,X,Q,J-1,-J)}var de=0,ge=1,ce=0;for(this[X]=255&W;++de<Q&&(ge*=256);)W<0&&0===ce&&0!==this[X+de-1]&&(ce=1),this[X+de]=(W/ge>>0)-ce&255;return X+Q},x.prototype.writeIntBE=function(W,X,Q,q){if(W=+W,X>>>=0,!q){var J=Math.pow(2,8*Q-1);we(this,W,X,Q,J-1,-J)}var de=Q-1,ge=1,ce=0;for(this[X+de]=255&W;--de>=0&&(ge*=256);)W<0&&0===ce&&0!==this[X+de+1]&&(ce=1),this[X+de]=(W/ge>>0)-ce&255;return X+Q},x.prototype.writeInt8=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,1,127,-128),W<0&&(W=255+W+1),this[X]=255&W,X+1},x.prototype.writeInt16LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,32767,-32768),this[X]=255&W,this[X+1]=W>>>8,X+2},x.prototype.writeInt16BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,2,32767,-32768),this[X]=W>>>8,this[X+1]=255&W,X+2},x.prototype.writeInt32LE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,2147483647,-2147483648),this[X]=255&W,this[X+1]=W>>>8,this[X+2]=W>>>16,this[X+3]=W>>>24,X+4},x.prototype.writeInt32BE=function(W,X,Q){return W=+W,X>>>=0,Q||we(this,W,X,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[X]=W>>>24,this[X+1]=W>>>16,this[X+2]=W>>>8,this[X+3]=255&W,X+4},x.prototype.writeFloatLE=function(W,X,Q){return Le(this,W,X,!0,Q)},x.prototype.writeFloatBE=function(W,X,Q){return Le(this,W,X,!1,Q)},x.prototype.writeDoubleLE=function(W,X,Q){return Pe(this,W,X,!0,Q)},x.prototype.writeDoubleBE=function(W,X,Q){return Pe(this,W,X,!1,Q)},x.prototype.copy=function(W,X,Q,q){if(!x.isBuffer(W))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!q&&0!==q&&(q=this.length),X>=W.length&&(X=W.length),X||(X=0),q>0&&q<Q&&(q=Q),q===Q||0===W.length||0===this.length)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),W.length-X<q-Q&&(q=W.length-X+Q);var J=q-Q;return this===W&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(X,Q,q):Uint8Array.prototype.set.call(W,this.subarray(Q,q),X),J},x.prototype.fill=function(W,X,Q,q){if("string"==typeof W){if("string"==typeof X?(q=X,X=0,Q=this.length):"string"==typeof Q&&(q=Q,Q=this.length),void 0!==q&&"string"!=typeof q)throw new TypeError("encoding must be a string");if("string"==typeof q&&!x.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(1===W.length){var J=W.charCodeAt(0);("utf8"===q&&J<128||"latin1"===q)&&(W=J)}}else"number"==typeof W?W&=255:"boolean"==typeof W&&(W=Number(W));if(X<0||this.length<X||this.length<Q)throw new RangeError("Out of range index");if(Q<=X)return this;var de;if(X>>>=0,Q=void 0===Q?this.length:Q>>>0,W||(W=0),"number"==typeof W)for(de=X;de<Q;++de)this[de]=W;else{var ge=x.isBuffer(W)?W:x.from(W,q),ce=ge.length;if(0===ce)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(de=0;de<Q-X;++de)this[de+X]=ge[de%ce]}return this};var Oe=/[^+/0-9A-Za-z-_]/g;function ze(Z,W){W=W||1/0;for(var X,Q=Z.length,q=null,J=[],de=0;de<Q;++de){if((X=Z.charCodeAt(de))>55295&&X<57344){if(!q){if(X>56319){(W-=3)>-1&&J.push(239,191,189);continue}if(de+1===Q){(W-=3)>-1&&J.push(239,191,189);continue}q=X;continue}if(X<56320){(W-=3)>-1&&J.push(239,191,189),q=X;continue}X=65536+(q-55296<<10|X-56320)}else q&&(W-=3)>-1&&J.push(239,191,189);if(q=null,X<128){if((W-=1)<0)break;J.push(X)}else if(X<2048){if((W-=2)<0)break;J.push(X>>6|192,63&X|128)}else if(X<65536){if((W-=3)<0)break;J.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;J.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return J}function ye(Z){return t.toByteArray(function je(Z){if((Z=(Z=Z.split("=")[0]).trim().replace(Oe,"")).length<2)return"";for(;Z.length%4!=0;)Z+="=";return Z}(Z))}function K(Z,W,X,Q){for(var q=0;q<Q&&!(q+X>=W.length||q>=Z.length);++q)W[q+X]=Z[q];return q}function ie(Z,W){return Z instanceof W||null!=Z&&null!=Z.constructor&&null!=Z.constructor.name&&Z.constructor.name===W.name}function he(Z){return Z!=Z}var $=function(){for(var Z="0123456789abcdef",W=new Array(256),X=0;X<16;++X)for(var Q=16*X,q=0;q<16;++q)W[Q+q]=Z[X]+Z[q];return W}()},5094:In=>{window,In.exports=function(Ze){var C={};function c(t){if(C[t])return C[t].exports;var b=C[t]={i:t,l:!1,exports:{}};return Ze[t].call(b.exports,b,b.exports,c),b.l=!0,b.exports}return c.m=Ze,c.c=C,c.d=function(t,b,I){c.o(t,b)||Object.defineProperty(t,b,{enumerable:!0,get:I})},c.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,b){if(1&b&&(t=c(t)),8&b||4&b&&"object"==typeof t&&t&&t.__esModule)return t;var I=Object.create(null);if(c.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:t}),2&b&&"string"!=typeof t)for(var y in t)c.d(I,y,function(F){return t[F]}.bind(null,y));return I},c.n=function(t){var b=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(b,"a",b),b},c.o=function(t,b){return Object.prototype.hasOwnProperty.call(t,b)},c.p="/dist/",c(c.s="./index.js")}({"./externals/base64.js":
/*!*****************************!*\
                  !*** ./externals/base64.js ***!
                  \*****************************/
/*! no static exports found */function(Ze,C,c){var I,y,F,L,x,t_encode=function(I){for(var y=[],F=0;F<I.length;++F){var L=I.charCodeAt(F);L<128?y.push(L):L<2048?(y.push(192|L>>6),y.push(128|63&L)):L<65536?(y.push(224|L>>12),y.push(128|63&L>>6),y.push(128|63&L)):(y.push(240|L>>18),y.push(128|63&L>>12),y.push(128|63&L>>6),y.push(128|63&L))}return y},t_decode=function(I){for(var y=[],F=0;F<I.length;){var L=I[F++];L<128||(L<224?(L=(31&L)<<6,L|=63&I[F++]):L<240?(L=(15&L)<<12,L|=(63&I[F++])<<6,L|=63&I[F++]):(L=(7&L)<<18,L|=(63&I[F++])<<12,L|=(63&I[F++])<<6,L|=63&I[F++])),y.push(String.fromCharCode(L))}return y.join("")},b={};I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=function(h){for(var p=0,v=[],A=0|h.length/3;0<A--;){var U=(h[p]<<16)+(h[p+1]<<8)+h[p+2];p+=3,v.push(I.charAt(63&U>>18)),v.push(I.charAt(63&U>>12)),v.push(I.charAt(63&U>>6)),v.push(I.charAt(63&U))}return h.length-p==2?(v.push(I.charAt(63&(U=(h[p]<<16)+(h[p+1]<<8))>>18)),v.push(I.charAt(63&U>>12)),v.push(I.charAt(63&U>>6)),v.push("=")):h.length-p==1&&(v.push(I.charAt(63&(U=h[p]<<16)>>18)),v.push(I.charAt(63&U>>12)),v.push("==")),v.join("")},F=function(){for(var m=[],h=0;h<64;++h)m[I.charCodeAt(h)]=h;return m["=".charCodeAt(0)]=0,m}(),L=function(h){for(var p=0,v=[],A=0|h.length/4;0<A--;){var U=(F[h.charCodeAt(p)]<<18)+(F[h.charCodeAt(p+1)]<<12)+(F[h.charCodeAt(p+2)]<<6)+F[h.charCodeAt(p+3)];v.push(255&U>>16),v.push(255&U>>8),v.push(255&U),p+=4}return v&&("="==h.charAt(p-2)?(v.pop(),v.pop()):"="==h.charAt(p-1)&&v.pop()),v},x={encode:function(m){for(var h=[],p=0;p<m.length;++p)h.push(m.charCodeAt(p));return h},decode:function(m){for(var h=0;h<s.length;++h)a[h]=String.fromCharCode(a[h]);return a.join("")}},b.decodeArray=function(m){var h=L(m);return new Uint8Array(h)},b.encodeASCII=function(m){var h=x.encode(m);return y(h)},b.decodeASCII=function(m){var h=L(m);return x.decode(h)},b.encode=function(m){var h=t_encode(m);return y(h)},b.decode=function(m){var h=L(m);return t_decode(h)},C.decode=b.decode,C.decodeArray=b.decodeArray,C.encode=b.encode,C.encodeASCII=b.encodeASCII},"./externals/cea608-parser.js":
/*!************************************!*\
                  !*** ./externals/cea608-parser.js ***!
                  \************************************/
/*! no static exports found */function(Ze,C,c){!function(t){"use strict";var b={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},I=function(S){var B=S;return b.hasOwnProperty(S)&&(B=b[S]),String.fromCharCode(B)},y=15,F=32,L={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},x={17:2,18:4,21:6,22:8,23:10,19:13,20:15},m={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},p=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],v={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(S){this.time=S},log:function(S,B){this.verboseLevel>=this.verboseFilter[S]&&console.log(this.time+" ["+S+"] "+B)}},A=function(S){for(var B=[],Y=0;Y<S.length;Y++)B.push(S[Y].toString(16));return B},U=function(S,B,Y,re,ae){this.foreground=S||"white",this.underline=B||!1,this.italics=Y||!1,this.background=re||"black",this.flash=ae||!1};U.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(S){for(var B=["foreground","underline","italics","background","flash"],Y=0;Y<B.length;Y++){var re=B[Y];S.hasOwnProperty(re)&&(this[re]=S[re])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(S){return this.foreground===S.foreground&&this.underline===S.underline&&this.italics===S.italics&&this.background===S.background&&this.flash===S.flash},copy:function(S){this.foreground=S.foreground,this.underline=S.underline,this.italics=S.italics,this.background=S.background,this.flash=S.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var O=function(S,B,Y,re,ae,Re){this.uchar=S||" ",this.penState=new U(B,Y,re,ae,Re)};O.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(S,B){this.uchar=S,this.penState.copy(B)},setPenState:function(S){this.penState.copy(S)},equals:function(S){return this.uchar===S.uchar&&this.penState.equals(S.penState)},copy:function(S){this.uchar=S.uchar,this.penState.copy(S.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var V=function(){this.chars=[];for(var S=0;S<F;S++)this.chars.push(new O);this.pos=0,this.currPenState=new U};V.prototype={equals:function(S){for(var B=!0,Y=0;Y<F;Y++)if(!this.chars[Y].equals(S.chars[Y])){B=!1;break}return B},copy:function(S){for(var B=0;B<F;B++)this.chars[B].copy(S.chars[B])},isEmpty:function(){for(var S=!0,B=0;B<F;B++)if(!this.chars[B].isEmpty()){S=!1;break}return S},setCursor:function(S){this.pos!==S&&(this.pos=S),this.pos<0?(v.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>F&&(v.log("ERROR","Too large cursor position "+this.pos),this.pos=F)},moveCursor:function(S){var B=this.pos+S;if(S>1)for(var Y=this.pos+1;Y<B+1;Y++)this.chars[Y].setPenState(this.currPenState);this.setCursor(B)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(S){S>=144&&this.backSpace();var B=I(S);this.pos>=F?v.log("ERROR","Cannot insert "+S.toString(16)+" ("+B+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(B,this.currPenState),this.moveCursor(1))},clearFromPos:function(S){var B;for(B=S;B<F;B++)this.chars[B].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var S=[],B=!0,Y=0;Y<F;Y++){var re=this.chars[Y].uchar;" "!==re&&(B=!1),S.push(re)}return B?"":S.join("")},setPenStyles:function(S){this.currPenState.setStyles(S),this.chars[this.pos].setPenState(this.currPenState)}};var k=function(){this.rows=[];for(var S=0;S<y;S++)this.rows.push(new V);this.currRow=14,this.nrRollUpRows=null,this.reset()};k.prototype={reset:function(){for(var S=0;S<y;S++)this.rows[S].clear();this.currRow=14},equals:function(S){for(var B=!0,Y=0;Y<y;Y++)if(!this.rows[Y].equals(S.rows[Y])){B=!1;break}return B},copy:function(S){for(var B=0;B<y;B++)this.rows[B].copy(S.rows[B])},isEmpty:function(){for(var S=!0,B=0;B<y;B++)if(!this.rows[B].isEmpty()){S=!1;break}return S},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(S){this.rows[this.currRow].insertChar(S)},setPen:function(S){this.rows[this.currRow].setPenStyles(S)},moveCursor:function(S){this.rows[this.currRow].moveCursor(S)},setCursor:function(S){v.log("INFO","setCursor: "+S),this.rows[this.currRow].setCursor(S)},setPAC:function(S){v.log("INFO","pacData = "+JSON.stringify(S));var B=S.row-1;this.nrRollUpRows&&B<this.nrRollUpRows-1&&(B=this.nrRollUpRows-1),this.currRow=B;var Y=this.rows[this.currRow];if(null!==S.indent){var ae=Math.max(S.indent-1,0);Y.setCursor(S.indent),S.color=Y.chars[ae].penState.foreground}this.setPen({foreground:S.color,underline:S.underline,italics:S.italics,background:"black",flash:!1})},setBkgData:function(S){v.log("INFO","bkgData = "+JSON.stringify(S)),this.backSpace(),this.setPen(S),this.insertChar(32)},setRollUpRows:function(S){this.nrRollUpRows=S},rollUp:function(){if(null!==this.nrRollUpRows){v.log("TEXT",this.getDisplayText());var B=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];B.clear(),this.rows.splice(this.currRow,0,B),v.log("INFO","Rolling up")}else v.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(S){S=S||!1;for(var B=[],Y="",ae=0;ae<y;ae++){var Re=this.rows[ae].getTextString();Re&&B.push(S?"Row "+(ae+1)+': "'+Re+'"':Re.trim())}return B.length>0&&(Y=S?"["+B.join(" | ")+"]":B.join("\n")),Y},getTextAndFormat:function(){return this.rows}};var P=function(S,B){this.chNr=S,this.outputFilter=B,this.mode=null,this.verbose=0,this.displayedMemory=new k,this.nonDisplayedMemory=new k,this.lastOutputScreen=new k,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};P.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(S){this.outputFilter=S},setPAC:function(S){this.writeScreen.setPAC(S)},setBkgData:function(S){this.writeScreen.setBkgData(S)},setMode:function(S){S!==this.mode&&(this.mode=S,v.log("INFO","MODE="+S),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=S)},insertChars:function(S){for(var B=0;B<S.length;B++)this.writeScreen.insertChar(S[B]);v.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(v.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){v.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){v.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){v.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(S){v.log("INFO","RU("+S+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(S)},cc_FON:function(){v.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){v.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){v.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){v.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){v.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){v.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){v.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(v.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var S=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=S,this.writeScreen=this.nonDisplayedMemory,v.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(S){v.log("INFO","TO("+S+") - Tab Offset"),this.writeScreen.moveCursor(S)},cc_MIDROW:function(S){var B={flash:!1};if(B.underline=S%2==1,B.italics=S>=46,B.italics)B.foreground="white";else{var Y=Math.floor(S/2)-16;B.foreground=["white","green","blue","cyan","red","yellow","magenta"][Y]}v.log("INFO","MIDROW: "+JSON.stringify(B)),this.writeScreen.setPen(B)},outputDataUpdate:function(){var S=v.time;null!==S&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(S,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:S):this.cueStartTime=S,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(S){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.displayedMemory),this.cueStartTime=S))}};var D=function(S,B,Y){this.field=S||1,this.outputs=[B,Y],this.channels=[new P(1,B),new P(2,Y)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};D.prototype={getHandler:function(S){return this.channels[S].getHandler()},setHandler:function(S,B){this.channels[S].setHandler(B)},addData:function(S,B){var Y,re,ae,Re=!1;this.lastTime=S,v.setTime(S);for(var z=0;z<B.length;z+=2)ae=127&B[z+1],(re=127&B[z])>=16&&re<=31&&re===this.lastCmdA&&ae===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,v.log("DEBUG","Repeated command ("+A([re,ae])+") is dropped")):0!==re||0!==ae?(v.log("DATA","["+A([B[z],B[z+1]])+"] -> ("+A([re,ae])+")"),(Y=this.parseCmd(re,ae))||(Y=this.parseMidrow(re,ae)),Y||(Y=this.parsePAC(re,ae)),Y||(Y=this.parseBackgroundAttributes(re,ae)),!Y&&(Re=this.parseChars(re,ae))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Re):v.log("WARNING","No channel found yet. TEXT-MODE?")),Y?this.dataCounters.cmd+=2:Re?this.dataCounters.char+=2:(this.dataCounters.other+=2,v.log("WARNING","Couldn't parse cleaned data "+A([re,ae])+" orig: "+A([B[z],B[z+1]])))):this.dataCounters.padding+=2},parseCmd:function(S,B){var Y;if(!((20===S||21===S||28===S||29===S)&&32<=B&&B<=47||(23===S||31===S)&&33<=B&&B<=35))return!1;var Re=this.channels[(Y=20===S||21===S||23===S?1:2)-1];return 20===S||21===S||28===S||29===S?32===B?Re.cc_RCL():33===B?Re.cc_BS():34===B?Re.cc_AOF():35===B?Re.cc_AON():36===B?Re.cc_DER():37===B?Re.cc_RU(2):38===B?Re.cc_RU(3):39===B?Re.cc_RU(4):40===B?Re.cc_FON():41===B?Re.cc_RDC():42===B?Re.cc_TR():43===B?Re.cc_RTD():44===B?Re.cc_EDM():45===B?Re.cc_CR():46===B?Re.cc_ENM():47===B&&Re.cc_EOC():Re.cc_TO(B-32),this.lastCmdA=S,this.lastCmdB=B,this.currChNr=Y,!0},parseMidrow:function(S,B){var Y=null;if((17===S||25===S)&&32<=B&&B<=47){if((Y=17===S?1:2)!==this.currChNr)return v.log("ERROR","Mismatch channel in midrow parsing"),!1;var re=this.channels[Y-1];return re.insertChars([32]),re.cc_MIDROW(B),v.log("DEBUG","MIDROW ("+A([S,B])+")"),this.lastCmdA=S,this.lastCmdB=B,!0}return!1},parsePAC:function(S,B){var Y;if(!((17<=S&&S<=23||25<=S&&S<=31)&&64<=B&&B<=127||(16===S||24===S)&&64<=B&&B<=95))return!1;Y=S<=23?1:2;var z=this.interpretPAC(64<=B&&B<=95?1===Y?L[S]:m[S]:1===Y?x[S]:h[S],B);return this.channels[Y-1].setPAC(z),this.lastCmdA=S,this.lastCmdB=B,this.currChNr=Y,!0},interpretPAC:function(S,B){var Y,re={color:null,italics:!1,indent:null,underline:!1,row:S};return re.underline=1==(1&(Y=B>95?B-96:B-64)),Y<=13?re.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(Y/2)]:Y<=15?(re.italics=!0,re.color="white"):re.indent=4*Math.floor((Y-16)/2),re},parseChars:function(S,B){var Y=null,re=null,ae=null;if(S>=25?(Y=2,ae=S-8):(Y=1,ae=S),17<=ae&&ae<=19){var z;v.log("INFO","Special char '"+I(z=17===ae?B+80:18===ae?B+112:B+144)+"' in channel "+Y),re=[z],this.lastCmdA=S,this.lastCmdB=B}else 32<=S&&S<=127&&(re=0===B?[S]:[S,B],this.lastCmdA=null,this.lastCmdB=null);if(re){var oe=A(re);v.log("DEBUG","Char codes =  "+oe.join(","))}return re},parseBackgroundAttributes:function(S,B){var Y,re;return!!((16===S||24===S)&&32<=B&&B<=47||(23===S||31===S)&&45<=B&&B<=47)&&(Y={},16===S||24===S?(re=Math.floor((B-32)/2),Y.background=p[re],B%2==1&&(Y.background=Y.background+"_semi")):45===B?Y.background="transparent":(Y.foreground="black",47===B&&(Y.underline=!0)),this.channels[(S<24?1:2)-1].setBkgData(Y),this.lastCmdA=S,this.lastCmdB=B,!0)},reset:function(){for(var S=0;S<this.channels.length;S++)this.channels[S]&&this.channels[S].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(S){for(var B=0;B<this.channels.length;B++)this.channels[B]&&this.channels[B].cueSplitAtTime(S)}};t.logger=v,t.PenState=U,t.CaptionScreen=k,t.Cea608Parser=D,t.findCea608Nalus=function(S,B,Y){for(var re=0,ae=B,z=[],oe=function(Ie,le,Me,we){if(4!==Ie||le<8)return null;var _e=Me.getUint8(we),Le=Me.getUint16(we+1),Pe=Me.getUint32(we+3),Oe=Me.getUint8(we+7);return 181==_e&&49==Le&&1195456820==Pe&&3==Oe};ae<B+Y;){if(re=S.getUint32(ae),6==(31&S.getUint8(ae+4)))for(var H=ae+5,me=-1;H<ae+4+re-1;){me=0;for(var te=255;255===te;)me+=te=S.getUint8(H),H++;var ue=0;for(te=255;255===te;)ue+=te=S.getUint8(H),H++;oe(me,ue,S,H)&&z.push([H,ue]),H+=ue}ae+=re+4}return z},t.extractCea608DataFromRange=function(S,B){var Y=B[0],re=[[],[]],ae=31&S.getUint8(Y+=8);Y+=2;for(var Re=0;Re<ae;Re++){var z=S.getUint8(Y),oe=4&z,H=3&z;Y++;var me=S.getUint8(Y);Y++;var te=S.getUint8(Y);Y++,oe&&(127&me)+(127&te)!=0&&(0===H?(re[0].push(me),re[0].push(te)):1===H&&(re[1].push(me),re[1].push(te)))}return re}}(C)},"./externals/xml2json.js":
/*!*******************************!*\
                  !*** ./externals/xml2json.js ***!
                  \*******************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C),C.default=function t(b){b=b||{},function y(){void 0===b.escapeMode&&(b.escapeMode=!0),void 0===b.attributePrefix&&(b.attributePrefix="_"),b.arrayAccessForm=b.arrayAccessForm||"none",b.emptyNodeForm=b.emptyNodeForm||"text",void 0===b.enableToStringFunc&&(b.enableToStringFunc=!0),b.arrayAccessFormPaths=b.arrayAccessFormPaths||[],void 0===b.skipEmptyTextNodesForObj&&(b.skipEmptyTextNodesForObj=!0),void 0===b.stripWhitespaces&&(b.stripWhitespaces=!0),b.datetimeAccessFormPaths=b.datetimeAccessFormPaths||[],void 0===b.useDoubleQuotes&&(b.useDoubleQuotes=!1),b.xmlElementsFilter=b.xmlElementsFilter||[],b.jsonPropertiesFilter=b.jsonPropertiesFilter||[],void 0===b.keepCData&&(b.keepCData=!1),void 0===b.ignoreRoot&&(b.ignoreRoot=!1)}();var F={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function x(oe){var H=oe.localName;return null==H&&(H=oe.baseName),(null==H||""==H)&&(H=oe.nodeName),H}function h(oe){return"string"==typeof oe?oe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):oe}function v(oe,H,me,te){for(var ue=0;ue<oe.length;ue++){var Se=oe[ue];if("string"==typeof Se){if(Se==te)break}else if(Se instanceof RegExp){if(Se.test(te))break}else if("function"==typeof Se&&Se(H,me,te))break}return ue!=oe.length}function A(oe,H,me){"property"===b.arrayAccessForm&&(oe[H+"_asArray"]=oe[H]instanceof Array?oe[H]:[oe[H]]),!(oe[H]instanceof Array)&&b.arrayAccessFormPaths.length>0&&v(b.arrayAccessFormPaths,oe,H,me)&&(oe[H]=[oe[H]])}function U(oe){var H=oe.split(/[-T:+Z]/g),me=new Date(H[0],H[1]-1,H[2]),te=H[5].split(".");if(me.setHours(H[3],H[4],te[0]),te.length>1&&me.setMilliseconds(te[1]),H[6]&&H[7]){var ue=60*H[6]+Number(H[7]);ue=0+("-"==(/\d\d-\d\d:\d\d$/.test(oe)?"-":"+")?-1*ue:ue),me.setMinutes(me.getMinutes()-ue-me.getTimezoneOffset())}else-1!==oe.indexOf("Z",oe.length-1)&&(me=new Date(Date.UTC(me.getFullYear(),me.getMonth(),me.getDate(),me.getHours(),me.getMinutes(),me.getSeconds(),me.getMilliseconds())));return me}function V(oe,H,me,te){return!(H==F.ELEMENT_NODE&&b.xmlElementsFilter.length>0)||v(b.xmlElementsFilter,oe,me,te)}function k(oe,H){if(oe.nodeType==F.DOCUMENT_NODE){for(var me=new Object,te=oe.childNodes,ue=0;ue<te.length;ue++)(Se=te[ue]).nodeType==F.ELEMENT_NODE&&(b.ignoreRoot?me=k(Se):(me={})[Ie=x(Se)]=k(Se));return me}if(oe.nodeType==F.ELEMENT_NODE){(me=new Object).__cnt=0;var le=[];for(te=oe.childNodes,ue=0;ue<te.length;ue++){var Se,Ie=x(Se=te[ue]);if(Se.nodeType!=F.COMMENT_NODE){var Me=H+"."+Ie;if(V(me,Se.nodeType,Ie,Me))if(me.__cnt++,null==me[Ie]){var we=k(Se,Me);("#text"!=Ie||/[^\s]/.test(we))&&((_e={})[Ie]=we,le.push(_e)),me[Ie]=we,A(me,Ie,Me)}else{var _e;null!=me[Ie]&&(me[Ie]instanceof Array||(me[Ie]=[me[Ie]],A(me,Ie,Me))),we=k(Se,Me),("#text"!=Ie||/[^\s]/.test(we))&&((_e={})[Ie]=we,le.push(_e)),me[Ie][me[Ie].length]=we}}}me.__children=le;for(var Le=x(oe),Pe=0;Pe<oe.attributes.length;Pe++){var Oe=oe.attributes[Pe];me.__cnt++;for(var je=Oe.value,ze=0,He=b.matchers.length;ze<He;ze++){var Ae=b.matchers[ze];Ae.test(Oe,Le)&&(je=Ae.converter(Oe.value))}me[b.attributePrefix+Oe.name]=je}var ye=function m(oe){return oe.prefix}(oe);return null!=ye&&""!=ye&&(me.__cnt++,me.__prefix=ye),null!=me["#text"]&&(me.__text=me["#text"],me.__text instanceof Array&&(me.__text=me.__text.join("\n")),b.stripWhitespaces&&(me.__text=me.__text.trim()),delete me["#text"],"property"==b.arrayAccessForm&&delete me["#text_asArray"],me.__text=function O(oe,H,me){if(b.datetimeAccessFormPaths.length>0){var te=me.split(".#")[0];return v(b.datetimeAccessFormPaths,oe,H,te)?U(oe):oe}return oe}(me.__text,Ie,H+"."+Ie)),null!=me["#cdata-section"]&&(me.__cdata=me["#cdata-section"],delete me["#cdata-section"],"property"==b.arrayAccessForm&&delete me["#cdata-section_asArray"]),0==me.__cnt&&"text"==b.emptyNodeForm?me="":1==me.__cnt&&null!=me.__text?me=me.__text:1!=me.__cnt||null==me.__cdata||b.keepCData?me.__cnt>1&&null!=me.__text&&b.skipEmptyTextNodesForObj&&(b.stripWhitespaces&&""==me.__text||""==me.__text.trim())&&delete me.__text:me=me.__cdata,delete me.__cnt,b.enableToStringFunc&&(null!=me.__text||null!=me.__cdata)&&(me.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),me}if(oe.nodeType==F.TEXT_NODE||oe.nodeType==F.CDATA_SECTION_NODE)return oe.nodeValue}function P(oe,H,me,te){var ue="<"+(null!=oe&&null!=oe.__prefix?oe.__prefix+":":"")+H;if(null!=me)for(var Se=0;Se<me.length;Se++){var Ie=me[Se],le=oe[Ie];b.escapeMode&&(le=h(le)),ue+=" "+Ie.substr(b.attributePrefix.length)+"=",ue+=b.useDoubleQuotes?'"'+le+'"':"'"+le+"'"}return ue+(te?"/>":">")}function D(oe,H){return"</"+(null!=oe.__prefix?oe.__prefix+":":"")+H+">"}function E(oe,H){return!!("property"==b.arrayAccessForm&&function w(oe,H){return-1!==oe.indexOf(H,oe.length-H.length)}(H.toString(),"_asArray")||0==H.toString().indexOf(b.attributePrefix)||0==H.toString().indexOf("__")||oe[H]instanceof Function)}function N(oe){var H=0;if(oe instanceof Object)for(var me in oe)E(oe,me)||H++;return H}function S(oe,H,me){return 0==b.jsonPropertiesFilter.length||""==me||v(b.jsonPropertiesFilter,oe,H,me)}function B(oe){var H=[];if(oe instanceof Object)for(var me in oe)-1==me.toString().indexOf("__")&&0==me.toString().indexOf(b.attributePrefix)&&H.push(me);return H}function re(oe){var H="";return oe instanceof Object?H+=function Y(oe){var H="";return null!=oe.__cdata&&(H+="<![CDATA["+oe.__cdata+"]]>"),null!=oe.__text&&(H+=b.escapeMode?h(oe.__text):oe.__text),H}(oe):null!=oe&&(H+=b.escapeMode?h(oe):oe),H}function ae(oe,H){return""===oe?H:oe+"."+H}function Re(oe,H,me,te){var ue="";if(0==oe.length)ue+=P(oe,H,me,!0);else for(var Se=0;Se<oe.length;Se++)ue+=P(oe[Se],H,B(oe[Se]),!1),ue+=z(oe[Se],ae(te,H)),ue+=D(oe[Se],H);return ue}function z(oe,H){var me="";if(N(oe)>0)for(var ue in oe)if(!E(oe,ue)&&(""==H||S(oe,ue,ae(H,ue)))){var Se=oe[ue],Ie=B(Se);null==Se||null==Se?me+=P(Se,ue,Ie,!0):Se instanceof Object?Se instanceof Array?me+=Re(Se,ue,Ie,H):Se instanceof Date?(me+=P(Se,ue,Ie,!1),me+=Se.toISOString(),me+=D(Se,ue)):N(Se)>0||null!=Se.__text||null!=Se.__cdata?(me+=P(Se,ue,Ie,!1),me+=z(Se,ae(H,ue)),me+=D(Se,ue)):me+=P(Se,ue,Ie,!0):(me+=P(Se,ue,Ie,!1),me+=re(Se),me+=D(Se,ue))}return me+re(oe)}this.parseXmlString=function(oe){var me;if(window.ActiveXObject||window,void 0===oe)return null;if(window.DOMParser){var te=new window.DOMParser;try{(me=te.parseFromString(oe,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(me=null)}catch{me=null}}else 0==oe.indexOf("<?")&&(oe=oe.substr(oe.indexOf("?>")+2)),(me=new ActiveXObject("Microsoft.XMLDOM")).async="false",me.loadXML(oe);return me},this.asArray=function(oe){return void 0===oe||null==oe?[]:oe instanceof Array?oe:[oe]},this.toXmlDateTime=function(oe){return oe instanceof Date?oe.toISOString():"number"==typeof oe?new Date(oe).toISOString():null},this.asDateTime=function(oe){return"string"==typeof oe?U(oe):oe},this.xml2json=function(oe){return k(oe)},this.xml_str2json=function(oe){var H=this.parseXmlString(oe);return null!=H?this.xml2json(H):null},this.json2xml_str=function(oe){return z(oe,"")},this.json2xml=function(oe){var H=this.json2xml_str(oe);return this.parseXmlString(H)},this.getVersion=function(){return"1.2.0"}}},"./index.js":
/*!******************!*\
                  !*** ./index.js ***!
                  \******************/
/*! exports provided: default, MediaPlayer, Protection, MetricsReporting, MediaPlayerFactory, Debug, supportsMediaSource */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./index_mediaplayerOnly */
"./index_mediaplayerOnly.js");c.d(C,"MediaPlayer",function(){return t.MediaPlayer});var b=c(
/*! ./src/streaming/utils/Capabilities */
"./src/streaming/utils/Capabilities.js");c.d(C,"supportsMediaSource",function(){return b.supportsMediaSource});var I=c(
/*! ./src/streaming/metrics/MetricsReporting */
"./src/streaming/metrics/MetricsReporting.js");c.d(C,"MetricsReporting",function(){return I.default});var y=c(
/*! ./src/streaming/protection/Protection */
"./src/streaming/protection/Protection.js");c.d(C,"Protection",function(){return y.default});var F=c(
/*! ./src/streaming/MediaPlayerFactory */
"./src/streaming/MediaPlayerFactory.js");c.d(C,"MediaPlayerFactory",function(){return F.default});var L=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(C,"Debug",function(){return L.default}),dashjs.Protection=y.default,dashjs.MetricsReporting=I.default,dashjs.MediaPlayerFactory=F.default,dashjs.Debug=L.default,dashjs.supportsMediaSource=b.supportsMediaSource,C.default=dashjs},"./index_mediaplayerOnly.js":
/*!**********************************!*\
                  !*** ./index_mediaplayerOnly.js ***!
                  \**********************************/
/*! exports provided: default, MediaPlayer, FactoryMaker, Debug */function(Ze,C,c){"use strict";c.r(C),function(t){var b=c(
/*! ./src/streaming/MediaPlayer */
"./src/streaming/MediaPlayer.js");c.d(C,"MediaPlayer",function(){return b.default});var I=c(
/*! ./src/core/FactoryMaker */
"./src/core/FactoryMaker.js");c.d(C,"FactoryMaker",function(){return I.default});var y=c(
/*! ./src/core/Debug */
"./src/core/Debug.js");c.d(C,"Debug",function(){return y.default});var F=c(
/*! ./src/core/Version */
"./src/core/Version.js"),m=(c(
/*! es6-promise/auto */
"./node_modules/es6-promise/auto.js"),typeof window<"u"&&window||t),h=m.dashjs;h||(h=m.dashjs={}),h.MediaPlayer=b.default,h.FactoryMaker=I.default,h.Debug=y.default,h.Version=Object(F.getVersionString)(),C.default=h}.call(this,c(
/*! ./node_modules/webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/base64-js/index.js":
/*!*****************************************!*\
                  !*** ./node_modules/base64-js/index.js ***!
                  \*****************************************/
/*! no static exports found */function(Ze,C,c){"use strict";C.byteLength=function m(O){var V=x(O),P=V[1];return 3*(V[0]+P)/4-P},C.toByteArray=function p(O){var V,S,k=x(O),P=k[0],D=k[1],w=new I(function h(O,V,k){return 3*(V+k)/4-k}(0,P,D)),E=0,N=D>0?P-4:P;for(S=0;S<N;S+=4)V=b[O.charCodeAt(S)]<<18|b[O.charCodeAt(S+1)]<<12|b[O.charCodeAt(S+2)]<<6|b[O.charCodeAt(S+3)],w[E++]=V>>16&255,w[E++]=V>>8&255,w[E++]=255&V;return 2===D&&(V=b[O.charCodeAt(S)]<<2|b[O.charCodeAt(S+1)]>>4,w[E++]=255&V),1===D&&(V=b[O.charCodeAt(S)]<<10|b[O.charCodeAt(S+1)]<<4|b[O.charCodeAt(S+2)]>>2,w[E++]=V>>8&255,w[E++]=255&V),w},C.fromByteArray=function U(O){for(var V,k=O.length,P=k%3,D=[],w=16383,E=0,N=k-P;E<N;E+=w)D.push(A(O,E,E+w>N?N:E+w));return 1===P?D.push(t[(V=O[k-1])>>2]+t[V<<4&63]+"=="):2===P&&D.push(t[(V=(O[k-2]<<8)+O[k-1])>>10]+t[V>>4&63]+t[V<<2&63]+"="),D.join("")};for(var t=[],b=[],I=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0;F<64;++F)t[F]=y[F],b[y.charCodeAt(F)]=F;function x(O){var V=O.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=O.indexOf("=");return-1===k&&(k=V),[k,k===V?0:4-k%4]}function v(O){return t[O>>18&63]+t[O>>12&63]+t[O>>6&63]+t[63&O]}function A(O,V,k){for(var D=[],w=V;w<k;w+=3)D.push(v((O[w]<<16&16711680)+(O[w+1]<<8&65280)+(255&O[w+2])));return D.join("")}b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63},"./node_modules/bcp-47-match/index.js":
/*!********************************************!*\
                  !*** ./node_modules/bcp-47-match/index.js ***!
                  \********************************************/
/*! no static exports found */function(Ze,C,c){"use strict";function y(L,x){return function m(h,p){for(var V,k,P,v=F(h,"tag"),A=F(p??"*","range"),U=[],O=-1;++O<A.length;)if(V=A[O].toLowerCase(),x||"*"!==V){for(k=-1,P=[];++k<v.length;)if(L(v[k].toLowerCase(),V)){if(!x)return v[k];U.push(v[k])}else P.push(v[k]);v=P}return x?U:void 0}}function F(L,x){var m=L&&"string"==typeof L?[L]:L;if(!m||"object"!=typeof m||!("length"in m))throw new Error("Invalid "+x+" `"+m+"`, expected non-empty string");return m}C.basicFilter=y(function t(L,x){return"*"===x||L===x||L.indexOf(x+"-")>-1},!0),C.extendedFilter=y(function b(L,x){var m=L.split("-"),h=x.split("-"),p=0,v=0;if("*"!==h[v]&&m[p]!==h[v])return!1;for(p++,v++;v<h.length;)if("*"!==h[v]){if(!m[p])return!1;if(m[p]!==h[v]){if(1===m[p].length)return!1;p++}else p++,v++}else v++;return!0},!0),C.lookup=y(function I(L,x){for(var h,m=x;;){if("*"===m||L===m)return!0;if((h=m.lastIndexOf("-"))<0)return!1;"-"===m.charAt(h-2)&&(h-=2),m=m.slice(0,h)}})},"./node_modules/bcp-47-normalize/index.js":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/index.js ***!
                  \************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=c(
/*! ./lib */
"./node_modules/bcp-47-normalize/lib/index.js")},"./node_modules/bcp-47-normalize/lib/defaults.json":
/*!*********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/defaults.json ***!
                  \*********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, default */function(Ze){Ze.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},"./node_modules/bcp-47-normalize/lib/fields.json":
/*!*******************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/fields.json ***!
                  \*******************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, default */function(Ze){Ze.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},"./node_modules/bcp-47-normalize/lib/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! bcp-47 */
"./node_modules/bcp-47/index.js"),b=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js"),I=c(
/*! ./matches.json */
"./node_modules/bcp-47-normalize/lib/matches.json"),y=c(
/*! ./fields.json */
"./node_modules/bcp-47-normalize/lib/fields.json"),F=c(
/*! ./defaults.json */
"./node_modules/bcp-47-normalize/lib/defaults.json"),L=c(
/*! ./many.json */
"./node_modules/bcp-47-normalize/lib/many.json");Ze.exports=function p(V,k){var N,P=k||{},D=t.parse(String(V||"").toLowerCase(),P),w=t.stringify(D),E=-1;if(!w)return w;for(;++E<I.length;)b.extendedFilter(w,I[E].from).length&&(v(D,I[E].from,I[E].to),w=t.stringify(D));for(E=-1;++E<y.length;)A(D,y[E].from.field,y[E].from.value)&&U(D,y[E].to.field,y[E].to.value);for(w=t.stringify(Object.assign({},D,h)),E=-1;++E<F.length;)w===F[E]&&(v(D,F[E],F[E].split("-").slice(0,-1).join("-")),w=t.stringify(Object.assign({},D,h)));if(D.extensions.sort(O),P.warning)for(N in L)x.call(L[N],D[N])&&P.warning("Deprecated "+N+" `"+D[N]+"`, expected one of `"+L[N][D[N]].join("`, `")+"`",null,7);return D.script&&(D.script=D.script.charAt(0).toUpperCase()+D.script.slice(1)),D.region&&(D.region=D.region.toUpperCase()),t.stringify(D)};var x={}.hasOwnProperty,m=new Intl.Collator,h={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function v(V,k,P){var N,D=t.parse(k),w=t.parse(P),E=[];for(N in D)D[N]&&D[N].length&&A(V,N,D[N])&&E.push(N);for(N in w)w[N]&&w[N].length&&(E.indexOf(N)>-1||!V[N]||!V[N].length)&&U(V,N,w[N])}function A(V,k,P){var w,E,N,S,D=!1;if(P){if(E=w=V[k],w&&"object"==typeof w)for(E=[],N=-1;++N<w.length;)P.indexOf(S=w[N])<0?E.push(S):D=!0;else w===P&&(E=null,D=!0);V[k]=E}return D}function U(V,k,P){var w,E,N,D=V[k];if(D&&"object"==typeof D)for(w=[].concat(P),E=-1;++E<w.length;)D.indexOf(N=w[E])<0&&D.push(N);else V[k]=P}function O(V,k){return m.compare(V.singleton,k.singleton)}},"./node_modules/bcp-47-normalize/lib/many.json":
/*!*****************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/many.json ***!
                  \*****************************************************/
/*! exports provided: region, default */function(Ze){Ze.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},"./node_modules/bcp-47-normalize/lib/matches.json":
/*!********************************************************!*\
                  !*** ./node_modules/bcp-47-normalize/lib/matches.json ***!
                  \********************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, default */function(Ze){Ze.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},"./node_modules/bcp-47/index.js":
/*!**************************************!*\
                  !*** ./node_modules/bcp-47/index.js ***!
                  \**************************************/
/*! no static exports found */function(Ze,C,c){"use strict";C.parse=c(
/*! ./lib/parse */
"./node_modules/bcp-47/lib/parse.js"),C.stringify=c(
/*! ./lib/stringify */
"./node_modules/bcp-47/lib/stringify.js")},"./node_modules/bcp-47/lib/normalize.json":
/*!************************************************!*\
                  !*** ./node_modules/bcp-47/lib/normalize.json ***!
                  \************************************************/
/*! exports provided: en-gb-oed, i-ami, i-bnn, i-default, i-enochian, i-hak, i-klingon, i-lux, i-mingo, i-navajo, i-pwn, i-tao, i-tay, i-tsu, sgn-be-fr, sgn-be-nl, sgn-ch-de, art-lojban, cel-gaulish, no-bok, no-nyn, zh-guoyu, zh-hakka, zh-min, zh-min-nan, zh-xiang, default */function(Ze){Ze.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},"./node_modules/bcp-47/lib/parse.js":
/*!******************************************!*\
                  !*** ./node_modules/bcp-47/lib/parse.js ***!
                  \******************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! is-alphanumerical */
"./node_modules/is-alphanumerical/index.js"),b=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),I=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js"),y=c(
/*! ./regular.json */
"./node_modules/bcp-47/lib/regular.json"),F=c(
/*! ./normalize.json */
"./node_modules/bcp-47/lib/normalize.json");Ze.exports=function x(h,p){var k,P,D,v=p||{},A={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},U=String(h),O=U.toLowerCase(),V=0;if(null==h)throw new Error("Expected string, got `"+h+"`");if(L.call(F,O))return(null==v.normalize||v.normalize)&&F[O]?x(F[O]):(A[-1===y.indexOf(O)?"irregular":"regular"]=U,A);for(;b(O.charCodeAt(V))&&V<9;)V++;if(V>1&&V<9){if(A.language=U.slice(0,V),V<4)for(P=0;45===O.charCodeAt(V)&&b(O.charCodeAt(V+1))&&b(O.charCodeAt(V+2))&&b(O.charCodeAt(V+3))&&!b(O.charCodeAt(V+4));){if(P>2)return w(V,3,"Too many extended language subtags, expected at most 3 subtags");A.extendedLanguageSubtags.push(U.slice(V+1,V+4)),V+=4,P++}for(45===O.charCodeAt(V)&&b(O.charCodeAt(V+1))&&b(O.charCodeAt(V+2))&&b(O.charCodeAt(V+3))&&b(O.charCodeAt(V+4))&&!b(O.charCodeAt(V+5))&&(A.script=U.slice(V+1,V+5),V+=5),45===O.charCodeAt(V)&&(b(O.charCodeAt(V+1))&&b(O.charCodeAt(V+2))&&!b(O.charCodeAt(V+3))?(A.region=U.slice(V+1,V+3),V+=3):I(O.charCodeAt(V+1))&&I(O.charCodeAt(V+2))&&I(O.charCodeAt(V+3))&&!I(O.charCodeAt(V+4))&&(A.region=U.slice(V+1,V+4),V+=4));45===O.charCodeAt(V);){for(D=k=V+1;t(O.charCodeAt(D));){if(D-k>7)return w(D,1,"Too long variant, expected at most 8 characters");D++}if(!(D-k>4||D-k>3&&I(O.charCodeAt(k))))break;A.variants.push(U.slice(k,D)),V=D}for(;45===O.charCodeAt(V)&&120!==O.charCodeAt(V+1)&&t(O.charCodeAt(V+1))&&45===O.charCodeAt(V+2)&&t(O.charCodeAt(V+3));){for(D=V+2,P=0;45===O.charCodeAt(D)&&t(O.charCodeAt(D+1))&&t(O.charCodeAt(D+2));)for(D=(k=D+1)+2,P++;t(O.charCodeAt(D));){if(D-k>7)return w(D,2,"Too long extension, expected at most 8 characters");D++}if(!P)return w(D,4,"Empty extension, extensions must have at least 2 characters of content");A.extensions.push({singleton:U.charAt(V+1),extensions:U.slice(V+3,D).split("-")}),V=D}}else V=0;if(0===V&&120===O.charCodeAt(V)||45===O.charCodeAt(V)&&120===O.charCodeAt(V+1))for(D=V=V?V+2:1;45===O.charCodeAt(D)&&t(O.charCodeAt(D+1));){for(D=k=V+1;t(O.charCodeAt(D));){if(D-k>7)return w(D,5,"Too long private-use area, expected at most 8 characters");D++}A.privateuse.push(U.slice(V+1,D)),V=D}return V!==U.length?w(V,6,"Found superfluous content after tag"):A;function w(E,N,S){return v.warning&&v.warning(S,N,E),v.forgiving?A:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var L={}.hasOwnProperty},"./node_modules/bcp-47/lib/regular.json":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/regular.json ***!
                  \**********************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, default */function(Ze){Ze.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')},"./node_modules/bcp-47/lib/stringify.js":
/*!**********************************************!*\
                  !*** ./node_modules/bcp-47/lib/stringify.js ***!
                  \**********************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=function t(b){var F,L,x,I=b||{},y=[];if(I.irregular||I.regular)return I.irregular||I.regular;if(I.language)for(y=y.concat(I.language,I.extendedLanguageSubtags||[],I.script||[],I.region||[],I.variants||[]),F=I.extensions||[],L=-1;++L<F.length;)(x=F[L]).singleton&&x.extensions&&x.extensions.length&&(y=y.concat(x.singleton,x.extensions));return I.privateuse&&I.privateuse.length&&(y=y.concat("x",I.privateuse)),y.join("-")}},"./node_modules/buffer/index.js":
/*!**************************************!*\
                  !*** ./node_modules/buffer/index.js ***!
                  \**************************************/
/*! no static exports found */function(Ze,C,c){"use strict";(function(t){var b=c(
/*! base64-js */
"./node_modules/base64-js/index.js"),I=c(
/*! ieee754 */
"./node_modules/ieee754/index.js"),y=c(
/*! isarray */
"./node_modules/isarray/index.js");function L(){return m.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function x(Q,q){if(L()<q)throw new RangeError("Invalid typed array length");return m.TYPED_ARRAY_SUPPORT?(Q=new Uint8Array(q)).__proto__=m.prototype:(null===Q&&(Q=new m(q)),Q.length=q),Q}function m(Q,q,J){if(!(m.TYPED_ARRAY_SUPPORT||this instanceof m))return new m(Q,q,J);if("number"==typeof Q){if("string"==typeof q)throw new Error("If encoding is specified then the first argument must be a string");return A(this,Q)}return h(this,Q,q,J)}function h(Q,q,J,de){if("number"==typeof q)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&q instanceof ArrayBuffer?function V(Q,q,J,de){if(J<0||q.byteLength<J)throw new RangeError("'offset' is out of bounds");if(q.byteLength<J+(de||0))throw new RangeError("'length' is out of bounds");return q=void 0===J&&void 0===de?new Uint8Array(q):void 0===de?new Uint8Array(q,J):new Uint8Array(q,J,de),m.TYPED_ARRAY_SUPPORT?(Q=q).__proto__=m.prototype:Q=O(Q,q),Q}(Q,q,J,de):"string"==typeof q?function U(Q,q,J){if(("string"!=typeof J||""===J)&&(J="utf8"),!m.isEncoding(J))throw new TypeError('"encoding" must be a valid string encoding');var de=0|w(q,J),ge=(Q=x(Q,de)).write(q,J);return ge!==de&&(Q=Q.slice(0,ge)),Q}(Q,q,J):function k(Q,q){if(m.isBuffer(q)){var J=0|P(q.length);return 0===(Q=x(Q,J)).length||q.copy(Q,0,0,J),Q}if(q){if(typeof ArrayBuffer<"u"&&q.buffer instanceof ArrayBuffer||"length"in q)return"number"!=typeof q.length||function X(Q){return Q!=Q}(q.length)?x(Q,0):O(Q,q);if("Buffer"===q.type&&y(q.data))return O(Q,q.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Q,q)}function p(Q){if("number"!=typeof Q)throw new TypeError('"size" argument must be a number');if(Q<0)throw new RangeError('"size" argument must not be negative')}function A(Q,q){if(p(q),Q=x(Q,q<0?0:0|P(q)),!m.TYPED_ARRAY_SUPPORT)for(var J=0;J<q;++J)Q[J]=0;return Q}function O(Q,q){var J=q.length<0?0:0|P(q.length);Q=x(Q,J);for(var de=0;de<J;de+=1)Q[de]=255&q[de];return Q}function P(Q){if(Q>=L())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L().toString(16)+" bytes");return 0|Q}function w(Q,q){if(m.isBuffer(Q))return Q.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Q)||Q instanceof ArrayBuffer))return Q.byteLength;"string"!=typeof Q&&(Q=""+Q);var J=Q.length;if(0===J)return 0;for(var de=!1;;)switch(q){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":case void 0:return ie(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*J;case"hex":return J>>>1;case"base64":return Z(Q).length;default:if(de)return ie(Q).length;q=(""+q).toLowerCase(),de=!0}}function E(Q,q,J){var de=!1;if((void 0===q||q<0)&&(q=0),q>this.length||((void 0===J||J>this.length)&&(J=this.length),J<=0)||(J>>>=0)<=(q>>>=0))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return le(this,q,J);case"utf8":case"utf-8":return me(this,q,J);case"ascii":return Se(this,q,J);case"latin1":case"binary":return Ie(this,q,J);case"base64":return H(this,q,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,q,J);default:if(de)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),de=!0}}function N(Q,q,J){var de=Q[q];Q[q]=Q[J],Q[J]=de}function S(Q,q,J,de,ge){if(0===Q.length)return-1;if("string"==typeof J?(de=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,isNaN(J)&&(J=ge?0:Q.length-1),J<0&&(J=Q.length+J),J>=Q.length){if(ge)return-1;J=Q.length-1}else if(J<0){if(!ge)return-1;J=0}if("string"==typeof q&&(q=m.from(q,de)),m.isBuffer(q))return 0===q.length?-1:B(Q,q,J,de,ge);if("number"==typeof q)return q&=255,m.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?ge?Uint8Array.prototype.indexOf.call(Q,q,J):Uint8Array.prototype.lastIndexOf.call(Q,q,J):B(Q,[q],J,de,ge);throw new TypeError("val must be string, number or Buffer")}function B(Q,q,J,de,ge){var $e,ce=1,Ce=Q.length,Ye=q.length;if(void 0!==de&&("ucs2"===(de=String(de).toLowerCase())||"ucs-2"===de||"utf16le"===de||"utf-16le"===de)){if(Q.length<2||q.length<2)return-1;ce=2,Ce/=2,Ye/=2,J/=2}function Be(It,_t){return 1===ce?It[_t]:It.readUInt16BE(_t*ce)}if(ge){var Qe=-1;for($e=J;$e<Ce;$e++)if(Be(Q,$e)===Be(q,-1===Qe?0:$e-Qe)){if(-1===Qe&&(Qe=$e),$e-Qe+1===Ye)return Qe*ce}else-1!==Qe&&($e-=$e-Qe),Qe=-1}else for(J+Ye>Ce&&(J=Ce-Ye),$e=J;$e>=0;$e--){for(var qe=!0,dt=0;dt<Ye;dt++)if(Be(Q,$e+dt)!==Be(q,dt)){qe=!1;break}if(qe)return $e}return-1}function Y(Q,q,J,de){J=Number(J)||0;var ge=Q.length-J;de?(de=Number(de))>ge&&(de=ge):de=ge;var ce=q.length;if(ce%2!=0)throw new TypeError("Invalid hex string");de>ce/2&&(de=ce/2);for(var Ce=0;Ce<de;++Ce){var Ye=parseInt(q.substr(2*Ce,2),16);if(isNaN(Ye))return Ce;Q[J+Ce]=Ye}return Ce}function re(Q,q,J,de){return W(ie(q,Q.length-J),Q,J,de)}function ae(Q,q,J,de){return W(function he(Q){for(var q=[],J=0;J<Q.length;++J)q.push(255&Q.charCodeAt(J));return q}(q),Q,J,de)}function Re(Q,q,J,de){return ae(Q,q,J,de)}function z(Q,q,J,de){return W(Z(q),Q,J,de)}function oe(Q,q,J,de){return W(function $(Q,q){for(var J,de,ce=[],Ce=0;Ce<Q.length&&!((q-=2)<0);++Ce)de=(J=Q.charCodeAt(Ce))>>8,ce.push(J%256),ce.push(de);return ce}(q,Q.length-J),Q,J,de)}function H(Q,q,J){return b.fromByteArray(0===q&&J===Q.length?Q:Q.slice(q,J))}function me(Q,q,J){J=Math.min(Q.length,J);for(var de=[],ge=q;ge<J;){var Be,$e,Qe,qe,ce=Q[ge],Ce=null,Ye=ce>239?4:ce>223?3:ce>191?2:1;if(ge+Ye<=J)switch(Ye){case 1:ce<128&&(Ce=ce);break;case 2:128==(192&(Be=Q[ge+1]))&&(qe=(31&ce)<<6|63&Be)>127&&(Ce=qe);break;case 3:$e=Q[ge+2],128==(192&(Be=Q[ge+1]))&&128==(192&$e)&&(qe=(15&ce)<<12|(63&Be)<<6|63&$e)>2047&&(qe<55296||qe>57343)&&(Ce=qe);break;case 4:$e=Q[ge+2],Qe=Q[ge+3],128==(192&(Be=Q[ge+1]))&&128==(192&$e)&&128==(192&Qe)&&(qe=(15&ce)<<18|(63&Be)<<12|(63&$e)<<6|63&Qe)>65535&&qe<1114112&&(Ce=qe)}null===Ce?(Ce=65533,Ye=1):Ce>65535&&(de.push((Ce-=65536)>>>10&1023|55296),Ce=56320|1023&Ce),de.push(Ce),ge+=Ye}return function ue(Q){var q=Q.length;if(q<=te)return String.fromCharCode.apply(String,Q);for(var J="",de=0;de<q;)J+=String.fromCharCode.apply(String,Q.slice(de,de+=te));return J}(de)}C.Buffer=m,C.SlowBuffer=function D(Q){return+Q!=Q&&(Q=0),m.alloc(+Q)},C.INSPECT_MAX_BYTES=50,m.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function F(){try{var Q=new Uint8Array(1);return Q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===Q.foo()&&"function"==typeof Q.subarray&&0===Q.subarray(1,1).byteLength}catch{return!1}}(),C.kMaxLength=L(),m.poolSize=8192,m._augment=function(Q){return Q.__proto__=m.prototype,Q},m.from=function(Q,q,J){return h(null,Q,q,J)},m.TYPED_ARRAY_SUPPORT&&(m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&m[Symbol.species]===m&&Object.defineProperty(m,Symbol.species,{value:null,configurable:!0})),m.alloc=function(Q,q,J){return function v(Q,q,J,de){return p(q),q<=0?x(Q,q):void 0!==J?"string"==typeof de?x(Q,q).fill(J,de):x(Q,q).fill(J):x(Q,q)}(null,Q,q,J)},m.allocUnsafe=function(Q){return A(null,Q)},m.allocUnsafeSlow=function(Q){return A(null,Q)},m.isBuffer=function(q){return!(null==q||!q._isBuffer)},m.compare=function(q,J){if(!m.isBuffer(q)||!m.isBuffer(J))throw new TypeError("Arguments must be Buffers");if(q===J)return 0;for(var de=q.length,ge=J.length,ce=0,Ce=Math.min(de,ge);ce<Ce;++ce)if(q[ce]!==J[ce]){de=q[ce],ge=J[ce];break}return de<ge?-1:ge<de?1:0},m.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(q,J){if(!y(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return m.alloc(0);var de;if(void 0===J)for(J=0,de=0;de<q.length;++de)J+=q[de].length;var ge=m.allocUnsafe(J),ce=0;for(de=0;de<q.length;++de){var Ce=q[de];if(!m.isBuffer(Ce))throw new TypeError('"list" argument must be an Array of Buffers');Ce.copy(ge,ce),ce+=Ce.length}return ge},m.byteLength=w,m.prototype._isBuffer=!0,m.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var J=0;J<q;J+=2)N(this,J,J+1);return this},m.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var J=0;J<q;J+=4)N(this,J,J+3),N(this,J+1,J+2);return this},m.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var J=0;J<q;J+=8)N(this,J,J+7),N(this,J+1,J+6),N(this,J+2,J+5),N(this,J+3,J+4);return this},m.prototype.toString=function(){var q=0|this.length;return 0===q?"":0===arguments.length?me(this,0,q):E.apply(this,arguments)},m.prototype.equals=function(q){if(!m.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q||0===m.compare(this,q)},m.prototype.inspect=function(){var q="",J=C.INSPECT_MAX_BYTES;return this.length>0&&(q=this.toString("hex",0,J).match(/.{2}/g).join(" "),this.length>J&&(q+=" ... ")),"<Buffer "+q+">"},m.prototype.compare=function(q,J,de,ge,ce){if(!m.isBuffer(q))throw new TypeError("Argument must be a Buffer");if(void 0===J&&(J=0),void 0===de&&(de=q?q.length:0),void 0===ge&&(ge=0),void 0===ce&&(ce=this.length),J<0||de>q.length||ge<0||ce>this.length)throw new RangeError("out of range index");if(ge>=ce&&J>=de)return 0;if(ge>=ce)return-1;if(J>=de)return 1;if(this===q)return 0;for(var Ce=(ce>>>=0)-(ge>>>=0),Ye=(de>>>=0)-(J>>>=0),Be=Math.min(Ce,Ye),$e=this.slice(ge,ce),Qe=q.slice(J,de),qe=0;qe<Be;++qe)if($e[qe]!==Qe[qe]){Ce=$e[qe],Ye=Qe[qe];break}return Ce<Ye?-1:Ye<Ce?1:0},m.prototype.includes=function(q,J,de){return-1!==this.indexOf(q,J,de)},m.prototype.indexOf=function(q,J,de){return S(this,q,J,de,!0)},m.prototype.lastIndexOf=function(q,J,de){return S(this,q,J,de,!1)},m.prototype.write=function(q,J,de,ge){if(void 0===J)ge="utf8",de=this.length,J=0;else if(void 0===de&&"string"==typeof J)ge=J,de=this.length,J=0;else{if(!isFinite(J))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");J|=0,isFinite(de)?(de|=0,void 0===ge&&(ge="utf8")):(ge=de,de=void 0)}var ce=this.length-J;if((void 0===de||de>ce)&&(de=ce),q.length>0&&(de<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");for(var Ce=!1;;)switch(ge){case"hex":return Y(this,q,J,de);case"utf8":case"utf-8":return re(this,q,J,de);case"ascii":return ae(this,q,J,de);case"latin1":case"binary":return Re(this,q,J,de);case"base64":return z(this,q,J,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,q,J,de);default:if(Ce)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),Ce=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var te=4096;function Se(Q,q,J){var de="";J=Math.min(Q.length,J);for(var ge=q;ge<J;++ge)de+=String.fromCharCode(127&Q[ge]);return de}function Ie(Q,q,J){var de="";J=Math.min(Q.length,J);for(var ge=q;ge<J;++ge)de+=String.fromCharCode(Q[ge]);return de}function le(Q,q,J){var de=Q.length;(!q||q<0)&&(q=0),(!J||J<0||J>de)&&(J=de);for(var ge="",ce=q;ce<J;++ce)ge+=K(Q[ce]);return ge}function Me(Q,q,J){for(var de=Q.slice(q,J),ge="",ce=0;ce<de.length;ce+=2)ge+=String.fromCharCode(de[ce]+256*de[ce+1]);return ge}function we(Q,q,J){if(Q%1!=0||Q<0)throw new RangeError("offset is not uint");if(Q+q>J)throw new RangeError("Trying to access beyond buffer length")}function _e(Q,q,J,de,ge,ce){if(!m.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>ge||q<ce)throw new RangeError('"value" argument is out of bounds');if(J+de>Q.length)throw new RangeError("Index out of range")}function Le(Q,q,J,de){q<0&&(q=65535+q+1);for(var ge=0,ce=Math.min(Q.length-J,2);ge<ce;++ge)Q[J+ge]=(q&255<<8*(de?ge:1-ge))>>>8*(de?ge:1-ge)}function Pe(Q,q,J,de){q<0&&(q=4294967295+q+1);for(var ge=0,ce=Math.min(Q.length-J,4);ge<ce;++ge)Q[J+ge]=q>>>8*(de?ge:3-ge)&255}function Oe(Q,q,J,de,ge,ce){if(J+de>Q.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function je(Q,q,J,de,ge){return ge||Oe(Q,0,J,4),I.write(Q,q,J,de,23,4),J+4}function ze(Q,q,J,de,ge){return ge||Oe(Q,0,J,8),I.write(Q,q,J,de,52,8),J+8}m.prototype.slice=function(q,J){var ge,de=this.length;if((q=~~q)<0?(q+=de)<0&&(q=0):q>de&&(q=de),(J=void 0===J?de:~~J)<0?(J+=de)<0&&(J=0):J>de&&(J=de),J<q&&(J=q),m.TYPED_ARRAY_SUPPORT)(ge=this.subarray(q,J)).__proto__=m.prototype;else{var ce=J-q;ge=new m(ce,void 0);for(var Ce=0;Ce<ce;++Ce)ge[Ce]=this[Ce+q]}return ge},m.prototype.readUIntLE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var ge=this[q],ce=1,Ce=0;++Ce<J&&(ce*=256);)ge+=this[q+Ce]*ce;return ge},m.prototype.readUIntBE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var ge=this[q+--J],ce=1;J>0&&(ce*=256);)ge+=this[q+--J]*ce;return ge},m.prototype.readUInt8=function(q,J){return J||we(q,1,this.length),this[q]},m.prototype.readUInt16LE=function(q,J){return J||we(q,2,this.length),this[q]|this[q+1]<<8},m.prototype.readUInt16BE=function(q,J){return J||we(q,2,this.length),this[q]<<8|this[q+1]},m.prototype.readUInt32LE=function(q,J){return J||we(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},m.prototype.readUInt32BE=function(q,J){return J||we(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},m.prototype.readIntLE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var ge=this[q],ce=1,Ce=0;++Ce<J&&(ce*=256);)ge+=this[q+Ce]*ce;return ge>=(ce*=128)&&(ge-=Math.pow(2,8*J)),ge},m.prototype.readIntBE=function(q,J,de){q|=0,J|=0,de||we(q,J,this.length);for(var ge=J,ce=1,Ce=this[q+--ge];ge>0&&(ce*=256);)Ce+=this[q+--ge]*ce;return Ce>=(ce*=128)&&(Ce-=Math.pow(2,8*J)),Ce},m.prototype.readInt8=function(q,J){return J||we(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},m.prototype.readInt16LE=function(q,J){J||we(q,2,this.length);var de=this[q]|this[q+1]<<8;return 32768&de?4294901760|de:de},m.prototype.readInt16BE=function(q,J){J||we(q,2,this.length);var de=this[q+1]|this[q]<<8;return 32768&de?4294901760|de:de},m.prototype.readInt32LE=function(q,J){return J||we(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},m.prototype.readInt32BE=function(q,J){return J||we(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},m.prototype.readFloatLE=function(q,J){return J||we(q,4,this.length),I.read(this,q,!0,23,4)},m.prototype.readFloatBE=function(q,J){return J||we(q,4,this.length),I.read(this,q,!1,23,4)},m.prototype.readDoubleLE=function(q,J){return J||we(q,8,this.length),I.read(this,q,!0,52,8)},m.prototype.readDoubleBE=function(q,J){return J||we(q,8,this.length),I.read(this,q,!1,52,8)},m.prototype.writeUIntLE=function(q,J,de,ge){q=+q,J|=0,de|=0,ge||_e(this,q,J,de,Math.pow(2,8*de)-1,0);var Ce=1,Ye=0;for(this[J]=255&q;++Ye<de&&(Ce*=256);)this[J+Ye]=q/Ce&255;return J+de},m.prototype.writeUIntBE=function(q,J,de,ge){q=+q,J|=0,de|=0,ge||_e(this,q,J,de,Math.pow(2,8*de)-1,0);var Ce=de-1,Ye=1;for(this[J+Ce]=255&q;--Ce>=0&&(Ye*=256);)this[J+Ce]=q/Ye&255;return J+de},m.prototype.writeUInt8=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,1,255,0),m.TYPED_ARRAY_SUPPORT||(q=Math.floor(q)),this[J]=255&q,J+1},m.prototype.writeUInt16LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[J]=255&q,this[J+1]=q>>>8):Le(this,q,J,!0),J+2},m.prototype.writeUInt16BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[J]=q>>>8,this[J+1]=255&q):Le(this,q,J,!1),J+2},m.prototype.writeUInt32LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[J+3]=q>>>24,this[J+2]=q>>>16,this[J+1]=q>>>8,this[J]=255&q):Pe(this,q,J,!0),J+4},m.prototype.writeUInt32BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[J]=q>>>24,this[J+1]=q>>>16,this[J+2]=q>>>8,this[J+3]=255&q):Pe(this,q,J,!1),J+4},m.prototype.writeIntLE=function(q,J,de,ge){if(q=+q,J|=0,!ge){var ce=Math.pow(2,8*de-1);_e(this,q,J,de,ce-1,-ce)}var Ce=0,Ye=1,Be=0;for(this[J]=255&q;++Ce<de&&(Ye*=256);)q<0&&0===Be&&0!==this[J+Ce-1]&&(Be=1),this[J+Ce]=(q/Ye>>0)-Be&255;return J+de},m.prototype.writeIntBE=function(q,J,de,ge){if(q=+q,J|=0,!ge){var ce=Math.pow(2,8*de-1);_e(this,q,J,de,ce-1,-ce)}var Ce=de-1,Ye=1,Be=0;for(this[J+Ce]=255&q;--Ce>=0&&(Ye*=256);)q<0&&0===Be&&0!==this[J+Ce+1]&&(Be=1),this[J+Ce]=(q/Ye>>0)-Be&255;return J+de},m.prototype.writeInt8=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,1,127,-128),m.TYPED_ARRAY_SUPPORT||(q=Math.floor(q)),q<0&&(q=255+q+1),this[J]=255&q,J+1},m.prototype.writeInt16LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[J]=255&q,this[J+1]=q>>>8):Le(this,q,J,!0),J+2},m.prototype.writeInt16BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[J]=q>>>8,this[J+1]=255&q):Le(this,q,J,!1),J+2},m.prototype.writeInt32LE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,2147483647,-2147483648),m.TYPED_ARRAY_SUPPORT?(this[J]=255&q,this[J+1]=q>>>8,this[J+2]=q>>>16,this[J+3]=q>>>24):Pe(this,q,J,!0),J+4},m.prototype.writeInt32BE=function(q,J,de){return q=+q,J|=0,de||_e(this,q,J,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),m.TYPED_ARRAY_SUPPORT?(this[J]=q>>>24,this[J+1]=q>>>16,this[J+2]=q>>>8,this[J+3]=255&q):Pe(this,q,J,!1),J+4},m.prototype.writeFloatLE=function(q,J,de){return je(this,q,J,!0,de)},m.prototype.writeFloatBE=function(q,J,de){return je(this,q,J,!1,de)},m.prototype.writeDoubleLE=function(q,J,de){return ze(this,q,J,!0,de)},m.prototype.writeDoubleBE=function(q,J,de){return ze(this,q,J,!1,de)},m.prototype.copy=function(q,J,de,ge){if(de||(de=0),!ge&&0!==ge&&(ge=this.length),J>=q.length&&(J=q.length),J||(J=0),ge>0&&ge<de&&(ge=de),ge===de||0===q.length||0===this.length)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("sourceStart out of bounds");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),q.length-J<ge-de&&(ge=q.length-J+de);var Ce,ce=ge-de;if(this===q&&de<J&&J<ge)for(Ce=ce-1;Ce>=0;--Ce)q[Ce+J]=this[Ce+de];else if(ce<1e3||!m.TYPED_ARRAY_SUPPORT)for(Ce=0;Ce<ce;++Ce)q[Ce+J]=this[Ce+de];else Uint8Array.prototype.set.call(q,this.subarray(de,de+ce),J);return ce},m.prototype.fill=function(q,J,de,ge){if("string"==typeof q){if("string"==typeof J?(ge=J,J=0,de=this.length):"string"==typeof de&&(ge=de,de=this.length),1===q.length){var ce=q.charCodeAt(0);ce<256&&(q=ce)}if(void 0!==ge&&"string"!=typeof ge)throw new TypeError("encoding must be a string");if("string"==typeof ge&&!m.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge)}else"number"==typeof q&&(q&=255);if(J<0||this.length<J||this.length<de)throw new RangeError("Out of range index");if(de<=J)return this;var Ce;if(J>>>=0,de=void 0===de?this.length:de>>>0,q||(q=0),"number"==typeof q)for(Ce=J;Ce<de;++Ce)this[Ce]=q;else{var Ye=m.isBuffer(q)?q:ie(new m(q,ge).toString()),Be=Ye.length;for(Ce=0;Ce<de-J;++Ce)this[Ce+J]=Ye[Ce%Be]}return this};var He=/[^+\/0-9A-Za-z-_]/g;function K(Q){return Q<16?"0"+Q.toString(16):Q.toString(16)}function ie(Q,q){q=q||1/0;for(var J,de=Q.length,ge=null,ce=[],Ce=0;Ce<de;++Ce){if((J=Q.charCodeAt(Ce))>55295&&J<57344){if(!ge){if(J>56319){(q-=3)>-1&&ce.push(239,191,189);continue}if(Ce+1===de){(q-=3)>-1&&ce.push(239,191,189);continue}ge=J;continue}if(J<56320){(q-=3)>-1&&ce.push(239,191,189),ge=J;continue}J=65536+(ge-55296<<10|J-56320)}else ge&&(q-=3)>-1&&ce.push(239,191,189);if(ge=null,J<128){if((q-=1)<0)break;ce.push(J)}else if(J<2048){if((q-=2)<0)break;ce.push(J>>6|192,63&J|128)}else if(J<65536){if((q-=3)<0)break;ce.push(J>>12|224,J>>6&63|128,63&J|128)}else{if(!(J<1114112))throw new Error("Invalid code point");if((q-=4)<0)break;ce.push(J>>18|240,J>>12&63|128,J>>6&63|128,63&J|128)}}return ce}function Z(Q){return b.toByteArray(function Ae(Q){if((Q=function ye(Q){return Q.trim?Q.trim():Q.replace(/^\s+|\s+$/g,"")}(Q).replace(He,"")).length<2)return"";for(;Q.length%4!=0;)Q+="=";return Q}(Q))}function W(Q,q,J,de){for(var ge=0;ge<de&&!(ge+J>=q.length||ge>=Q.length);++ge)q[ge+J]=Q[ge];return ge}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/codem-isoboxer/dist/iso_boxer.js":
/*!*******************************************************!*\
                  !*** ./node_modules/codem-isoboxer/dist/iso_boxer.js ***!
                  \*******************************************************/
/*! no static exports found */function(Ze,C,c){var t={parseBuffer:function(y){return new b(y).parse()},addBoxProcessor:function(y,F){"string"!=typeof y||"function"!=typeof F||(I.prototype._boxProcessors[y]=F)},createFile:function(){return new b},createBox:function(y,F,L){var x=I.create(y);return F&&F.append(x,L),x},createFullBox:function(y,F,L){var x=t.createBox(y,F,L);return x.version=0,x.flags=0,x},Utils:{}};t.Utils.dataViewToString=function(y,F){var L=F||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(L).decode(y);var x=[],m=0;if("utf-8"===L)for(;m<y.byteLength;){var h=y.getUint8(m++);h<128||(h<224?(h=(31&h)<<6,h|=63&y.getUint8(m++)):h<240?(h=(15&h)<<12,h|=(63&y.getUint8(m++))<<6,h|=63&y.getUint8(m++)):(h=(7&h)<<18,h|=(63&y.getUint8(m++))<<12,h|=(63&y.getUint8(m++))<<6,h|=63&y.getUint8(m++))),x.push(String.fromCharCode(h))}else for(;m<y.byteLength;)x.push(String.fromCharCode(y.getUint8(m++)));return x.join("")},t.Utils.utf8ToByteArray=function(y){var F,L;if(typeof TextEncoder<"u")F=(new TextEncoder).encode(y);else for(F=[],L=0;L<y.length;++L){var x=y.charCodeAt(L);x<128?F.push(x):x<2048?(F.push(192|x>>6),F.push(128|63&x)):x<65536?(F.push(224|x>>12),F.push(128|63&x>>6),F.push(128|63&x)):(F.push(240|x>>18),F.push(128|63&x>>12),F.push(128|63&x>>6),F.push(128|63&x))}return F},t.Utils.appendBox=function(y,F,L){if(F._offset=y._cursor.offset,F._root=y._root?y._root:y,F._raw=y._raw,F._parent=y,-1!==L){if(null==L)return void y.boxes.push(F);var m,x=-1;if("number"==typeof L)x=L;else{if("string"==typeof L)m=L;else{if("object"!=typeof L||!L.type)return void y.boxes.push(F);m=L.type}for(var h=0;h<y.boxes.length;h++)if(m===y.boxes[h].type){x=h+1;break}}y.boxes.splice(x,0,F)}},C.parseBuffer=t.parseBuffer,C.addBoxProcessor=t.addBoxProcessor,C.createFile=t.createFile,C.createBox=t.createBox,C.createFullBox=t.createFullBox,C.Utils=t.Utils,t.Cursor=function(y){this.offset=typeof y>"u"?0:y};var b=function(y){this._cursor=new t.Cursor,this.boxes=[],y&&(this._raw=new DataView(y))};b.prototype.fetch=function(y){var F=this.fetchAll(y,!0);return F.length?F[0]:null},b.prototype.fetchAll=function(y,F){var L=[];return b._sweep.call(this,y,L,F),L},b.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var y=I.parse(this);if(typeof y.type>"u")break;this.boxes.push(y)}return this},b._sweep=function(y,F,L){for(var x in this.type&&this.type==y&&F.push(this),this.boxes){if(F.length&&L)return;b._sweep.call(this.boxes[x],y,F,L)}},b.prototype.write=function(){var F,y=0;for(F=0;F<this.boxes.length;F++)y+=this.boxes[F].getLength(!1);var L=new Uint8Array(y);for(this._rawo=new DataView(L.buffer),this.bytes=L,this._cursor.offset=0,F=0;F<this.boxes.length;F++)this.boxes[F].write();return L.buffer},b.prototype.append=function(y,F){t.Utils.appendBox(this,y,F)};var I=function(){this._cursor=new t.Cursor};I.parse=function(y){var F=new I;return F._offset=y._cursor.offset,F._root=y._root?y._root:y,F._raw=y._raw,F._parent=y,F._parseBox(),y._cursor.offset=F._raw.byteOffset+F._raw.byteLength,F},I.create=function(y){var F=new I;return F.type=y,F.boxes=[],F},I.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],I.prototype._boxProcessors={},I.prototype._procField=function(y,F,L){this._parsing?this[y]=this._readField(F,L):this._writeField(F,L,this[y])},I.prototype._procFieldArray=function(y,F,L,x){var m;if(this._parsing)for(this[y]=[],m=0;m<F;m++)this[y][m]=this._readField(L,x);else for(m=0;m<this[y].length;m++)this._writeField(L,x,this[y][m])},I.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},I.prototype._procEntries=function(y,F,L){var x;if(this._parsing)for(this[y]=[],x=0;x<F;x++)this[y].push({}),L.call(this,this[y][x]);else for(x=0;x<F;x++)L.call(this,this[y][x])},I.prototype._procSubEntries=function(y,F,L,x){var m;if(this._parsing)for(y[F]=[],m=0;m<L;m++)y[F].push({}),x.call(this,y[F][m]);else for(m=0;m<L;m++)x.call(this,y[F][m])},I.prototype._procEntryField=function(y,F,L,x){this._parsing?y[F]=this._readField(L,x):this._writeField(L,x,y[F])},I.prototype._procSubBoxes=function(y,F){var L;if(this._parsing)for(this[y]=[],L=0;L<F;L++)this[y].push(I.parse(this));else for(L=0;L<F;L++)this._rawo?this[y][L].write():this.size+=this[y][L].getLength()},I.prototype._readField=function(y,F){switch(y){case"uint":return this._readUint(F);case"int":return this._readInt(F);case"template":return this._readTemplate(F);case"string":return-1===F?this._readTerminatedString():this._readString(F);case"data":return this._readData(F);case"utf8":return this._readUTF8String();default:return-1}},I.prototype._readInt=function(y){var F=null,L=this._cursor.offset-this._raw.byteOffset;switch(y){case 8:F=this._raw.getInt8(L);break;case 16:F=this._raw.getInt16(L);break;case 32:F=this._raw.getInt32(L);break;case 64:var x=this._raw.getInt32(L),m=this._raw.getInt32(L+4);F=x*Math.pow(2,32)+m}return this._cursor.offset+=y>>3,F},I.prototype._readUint=function(y){var x,m,F=null,L=this._cursor.offset-this._raw.byteOffset;switch(y){case 8:F=this._raw.getUint8(L);break;case 16:F=this._raw.getUint16(L);break;case 24:F=((x=this._raw.getUint16(L))<<8)+(m=this._raw.getUint8(L+2));break;case 32:F=this._raw.getUint32(L);break;case 64:x=this._raw.getUint32(L),m=this._raw.getUint32(L+4),F=x*Math.pow(2,32)+m}return this._cursor.offset+=y>>3,F},I.prototype._readString=function(y){for(var F="",L=0;L<y;L++){var x=this._readUint(8);F+=String.fromCharCode(x)}return F},I.prototype._readTemplate=function(y){return this._readUint(y/2)+this._readUint(y/2)/Math.pow(2,y/2)},I.prototype._readTerminatedString=function(){for(var y="";this._cursor.offset-this._offset<this._raw.byteLength;){var F=this._readUint(8);if(0===F)break;y+=String.fromCharCode(F)}return y},I.prototype._readData=function(y){var F=y>0?y:this._raw.byteLength-(this._cursor.offset-this._offset);if(F>0){var L=new Uint8Array(this._raw.buffer,this._cursor.offset,F);return this._cursor.offset+=F,L}return null},I.prototype._readUTF8String=function(){var y=this._raw.byteLength-(this._cursor.offset-this._offset),F=null;return y>0&&(F=new DataView(this._raw.buffer,this._cursor.offset,y),this._cursor.offset+=y),F&&t.Utils.dataViewToString(F)},I.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},I.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},I.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(I.parse(this))},I.prototype.append=function(y,F){t.Utils.appendBox(this,y,F)},I.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var y=0;y<this.boxes.length;y++)this.size+=this.boxes[y].getLength();return this._data&&this._writeData(this._data),this.size},I.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var y=0;y<this.boxes.length;y++)this.boxes[y].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},I.prototype._writeInt=function(y,F){if(this._rawo){var L=this._cursor.offset-this._rawo.byteOffset;switch(y){case 8:this._rawo.setInt8(L,F);break;case 16:this._rawo.setInt16(L,F);break;case 32:this._rawo.setInt32(L,F);break;case 64:var x=Math.floor(F/Math.pow(2,32)),m=F-x*Math.pow(2,32);this._rawo.setUint32(L,x),this._rawo.setUint32(L+4,m)}this._cursor.offset+=y>>3}else this.size+=y>>3},I.prototype._writeUint=function(y,F){if(this._rawo){var x,m,L=this._cursor.offset-this._rawo.byteOffset;switch(y){case 8:this._rawo.setUint8(L,F);break;case 16:this._rawo.setUint16(L,F);break;case 24:m=255&F,this._rawo.setUint16(L,x=(16776960&F)>>8),this._rawo.setUint8(L+2,m);break;case 32:this._rawo.setUint32(L,F);break;case 64:m=F-(x=Math.floor(F/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(L,x),this._rawo.setUint32(L+4,m)}this._cursor.offset+=y>>3}else this.size+=y>>3},I.prototype._writeString=function(y,F){for(var L=0;L<y;L++)this._writeUint(8,F.charCodeAt(L))},I.prototype._writeTerminatedString=function(y){if(0!==y.length){for(var F=0;F<y.length;F++)this._writeUint(8,y.charCodeAt(F));this._writeUint(8,0)}},I.prototype._writeTemplate=function(y,F){var L=Math.floor(F),x=(F-L)*Math.pow(2,y/2);this._writeUint(y/2,L),this._writeUint(y/2,x)},I.prototype._writeData=function(y){if(y)if(this._rawo){if(y instanceof Array){for(var L=this._cursor.offset-this._rawo.byteOffset,F=0;F<y.length;F++)this._rawo.setInt8(L+F,y[F]);this._cursor.offset+=y.length}y instanceof Uint8Array&&(this._root.bytes.set(y,this._cursor.offset),this._cursor.offset+=y.length)}else this.size+=y.length},I.prototype._writeUTF8String=function(y){var F=t.Utils.utf8ToByteArray(y);if(this._rawo)for(var L=new DataView(this._rawo.buffer,this._cursor.offset,F.length),x=0;x<F.length;x++)L.setUint8(x,F[x]);else this.size+=F.length},I.prototype._writeField=function(y,F,L){switch(y){case"uint":this._writeUint(F,L);break;case"int":this._writeInt(F,L);break;case"template":this._writeTemplate(F,L);break;case"string":-1==F?this._writeTerminatedString(L):this._writeString(F,L);break;case"data":this._writeData(L);break;case"utf8":this._writeUTF8String(L)}},I.prototype._boxProcessors.avc1=I.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},I.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},I.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(y){this._procEntryField(y,"segment_duration","uint",1===this.version?64:32),this._procEntryField(y,"media_time","int",1===this.version?64:32),this._procEntryField(y,"media_rate_integer","int",16),this._procEntryField(y,"media_rate_fraction","int",16)})},I.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},I.prototype._boxProcessors.free=I.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},I.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},I.prototype._boxProcessors.ftyp=I.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var y=-1;this._parsing&&(y=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",y,"string",4)},I.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},I.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},I.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),!this._parsing&&"string"==typeof this.language&&(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},I.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},I.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},I.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},I.prototype._boxProcessors.mp4a=I.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},I.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},I.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},I.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},I.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},I.prototype._boxProcessors.sdtp=function(){this._procFullBox();var y=-1;this._parsing&&(y=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",y,"uint",8)},I.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(y){this._parsing||(y.reference=(1&y.reference_type)<<31,y.reference|=2147483647&y.referenced_size,y.sap=(1&y.starts_with_SAP)<<31,y.sap|=(3&y.SAP_type)<<28,y.sap|=268435455&y.SAP_delta_time),this._procEntryField(y,"reference","uint",32),this._procEntryField(y,"subsegment_duration","uint",32),this._procEntryField(y,"sap","uint",32),this._parsing&&(y.reference_type=y.reference>>31&1,y.referenced_size=2147483647&y.reference,y.starts_with_SAP=y.sap>>31&1,y.SAP_type=y.sap>>28&7,y.SAP_delta_time=268435455&y.sap)})},I.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},I.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(y){this._procEntryField(y,"ranges_count","uint",32),this._procSubEntries(y,"ranges",y.ranges_count,function(F){this._procEntryField(F,"level","uint",8),this._procEntryField(F,"range_size","uint",24)})})},I.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},I.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(y){this._procEntryField(y,"sample_delta","uint",32),this._procEntryField(y,"subsample_count","uint",16),this._procSubEntries(y,"subsamples",y.subsample_count,function(F){this._procEntryField(F,"subsample_size","uint",1===this.version?32:16),this._procEntryField(F,"subsample_priority","uint",8),this._procEntryField(F,"discardable","uint",8),this._procEntryField(F,"codec_specific_parameters","uint",32)})})},I.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},I.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},I.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},I.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(y){this._procEntryField(y,"time","uint",1===this.version?64:32),this._procEntryField(y,"moof_offset","uint",1===this.version?64:32),this._procEntryField(y,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(y,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(y,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},I.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},I.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},I.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(y){256&this.flags&&this._procEntryField(y,"sample_duration","uint",32),512&this.flags&&this._procEntryField(y,"sample_size","uint",32),1024&this.flags&&this._procEntryField(y,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(y,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},I.prototype._boxProcessors["url "]=I.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},I.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},I.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},I.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},I.prototype._boxProcessors.vtte=function(){}},"./node_modules/core-util-is/lib/util.js":
/*!***********************************************!*\
                  !*** ./node_modules/core-util-is/lib/util.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){function V(k){return Object.prototype.toString.call(k)}C.isArray=function t(k){return Array.isArray?Array.isArray(k):"[object Array]"===V(k)},C.isBoolean=function b(k){return"boolean"==typeof k},C.isNull=function I(k){return null===k},C.isNullOrUndefined=function y(k){return null==k},C.isNumber=function F(k){return"number"==typeof k},C.isString=function L(k){return"string"==typeof k},C.isSymbol=function x(k){return"symbol"==typeof k},C.isUndefined=function m(k){return void 0===k},C.isRegExp=function h(k){return"[object RegExp]"===V(k)},C.isObject=function p(k){return"object"==typeof k&&null!==k},C.isDate=function v(k){return"[object Date]"===V(k)},C.isError=function A(k){return"[object Error]"===V(k)||k instanceof Error},C.isFunction=function U(k){return"function"==typeof k},C.isPrimitive=function O(k){return null===k||"boolean"==typeof k||"number"==typeof k||"string"==typeof k||"symbol"==typeof k||typeof k>"u"},C.isBuffer=c(
/*! buffer */
"./node_modules/buffer/index.js").Buffer.isBuffer},"./node_modules/es6-promise/auto.js":
/*!******************************************!*\
                  !*** ./node_modules/es6-promise/auto.js ***!
                  \******************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=c(
/*! ./ */
"./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":
/*!******************************************************!*\
                  !*** ./node_modules/es6-promise/dist/es6-promise.js ***!
                  \******************************************************/
/*! no static exports found */function(Ze,C,c){(function(t,b){var y;y=function(){"use strict";function y(ce){return"function"==typeof ce}var L=Array.isArray?Array.isArray:function(ce){return"[object Array]"===Object.prototype.toString.call(ce)},x=0,m=void 0,h=void 0,p=function(Ce,Ye){B[x]=Ce,B[x+1]=Ye,2===(x+=2)&&(h?h(Y):ae())};var U=typeof window<"u"?window:void 0,O=U||{},V=O.MutationObserver||O.WebKitMutationObserver,k=typeof self>"u"&&typeof t<"u"&&"[object process]"==={}.toString.call(t),P=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){var ce=setTimeout;return function(){return ce(Y,1)}}var B=new Array(1e3);function Y(){for(var ce=0;ce<x;ce+=2)(0,B[ce])(B[ce+1]),B[ce]=void 0,B[ce+1]=void 0;x=0}var ae=void 0;function Re(ce,Ce){var Ye=this,Be=new this.constructor(H);void 0===Be[oe]&&he(Be);var $e=Ye._state;if($e){var Qe=arguments[$e-1];p(function(){return Ae($e,Be,Qe,Ye._result)})}else ze(Ye,Be,ce,Ce);return Be}function z(ce){if(ce&&"object"==typeof ce&&ce.constructor===this)return ce;var Ye=new this(H);return Le(Ye,ce),Ye}ae=k?function D(){return function(){return t.nextTick(Y)}}():V?function E(){var ce=0,Ce=new V(Y),Ye=document.createTextNode("");return Ce.observe(Ye,{characterData:!0}),function(){Ye.data=ce=++ce%2}}():P?function N(){var ce=new MessageChannel;return ce.port1.onmessage=Y,function(){return ce.port2.postMessage(0)}}():void 0===U?function re(){try{var ce=Function("return this")().require("vertx");return m=ce.runOnLoop||ce.runOnContext,function w(){return typeof m<"u"?function(){m(Y)}:S()}()}catch{return S()}}():S();var oe=Math.random().toString(36).substring(2);function H(){}var me=void 0,te=1,ue=2;function _e(ce,Ce,Ye){Ce.constructor===ce.constructor&&Ye===Re&&Ce.constructor.resolve===z?function we(ce,Ce){Ce._state===te?Oe(ce,Ce._result):Ce._state===ue?je(ce,Ce._result):ze(Ce,void 0,function(Ye){return Le(ce,Ye)},function(Ye){return je(ce,Ye)})}(ce,Ce):void 0===Ye?Oe(ce,Ce):y(Ye)?function Me(ce,Ce,Ye){p(function(Be){var $e=!1,Qe=function le(ce,Ce,Ye,Be){try{ce.call(Ce,Ye,Be)}catch($e){return $e}}(Ye,Ce,function(qe){$e||($e=!0,Ce!==qe?Le(Be,qe):Oe(Be,qe))},function(qe){$e||($e=!0,je(Be,qe))});!$e&&Qe&&($e=!0,je(Be,Qe))},ce)}(ce,Ce,Ye):Oe(ce,Ce)}function Le(ce,Ce){if(ce===Ce)je(ce,function Se(){return new TypeError("You cannot resolve a promise with itself")}());else if(function I(ce){var Ce=typeof ce;return null!==ce&&("object"===Ce||"function"===Ce)}(Ce)){var Ye=void 0;try{Ye=Ce.then}catch(Be){return void je(ce,Be)}_e(ce,Ce,Ye)}else Oe(ce,Ce)}function Pe(ce){ce._onerror&&ce._onerror(ce._result),He(ce)}function Oe(ce,Ce){ce._state===me&&(ce._result=Ce,ce._state=te,0!==ce._subscribers.length&&p(He,ce))}function je(ce,Ce){ce._state===me&&(ce._state=ue,ce._result=Ce,p(Pe,ce))}function ze(ce,Ce,Ye,Be){var $e=ce._subscribers,Qe=$e.length;ce._onerror=null,$e[Qe]=Ce,$e[Qe+te]=Ye,$e[Qe+ue]=Be,0===Qe&&ce._state&&p(He,ce)}function He(ce){var Ce=ce._subscribers,Ye=ce._state;if(0!==Ce.length){for(var Be=void 0,$e=void 0,Qe=ce._result,qe=0;qe<Ce.length;qe+=3)$e=Ce[qe+Ye],(Be=Ce[qe])?Ae(Ye,Be,$e,Qe):$e(Qe);ce._subscribers.length=0}}function Ae(ce,Ce,Ye,Be){var $e=y(Ye),Qe=void 0,qe=void 0,dt=!0;if($e){try{Qe=Ye(Be)}catch(It){dt=!1,qe=It}if(Ce===Qe)return void je(Ce,function Ie(){return new TypeError("A promises callback cannot return that same promise.")}())}else Qe=Be;Ce._state!==me||($e&&dt?Le(Ce,Qe):!1===dt?je(Ce,qe):ce===te?Oe(Ce,Qe):ce===ue&&je(Ce,Qe))}var K=0;function he(ce){ce[oe]=K++,ce._state=void 0,ce._result=void 0,ce._subscribers=[]}var Z=function(){function ce(Ce,Ye){this._instanceConstructor=Ce,this.promise=new Ce(H),this.promise[oe]||he(this.promise),L(Ye)?(this.length=Ye.length,this._remaining=Ye.length,this._result=new Array(this.length),0===this.length?Oe(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ye),0===this._remaining&&Oe(this.promise,this._result))):je(this.promise,function $(){return new Error("Array Methods must be provided an Array")}())}return ce.prototype._enumerate=function(Ye){for(var Be=0;this._state===me&&Be<Ye.length;Be++)this._eachEntry(Ye[Be],Be)},ce.prototype._eachEntry=function(Ye,Be){var $e=this._instanceConstructor,Qe=$e.resolve;if(Qe===z){var qe=void 0,dt=void 0,It=!1;try{qe=Ye.then}catch(Ot){It=!0,dt=Ot}if(qe===Re&&Ye._state!==me)this._settledAt(Ye._state,Be,Ye._result);else if("function"!=typeof qe)this._remaining--,this._result[Be]=Ye;else if($e===de){var _t=new $e(H);It?je(_t,dt):_e(_t,Ye,qe),this._willSettleAt(_t,Be)}else this._willSettleAt(new $e(function(Ot){return Ot(Ye)}),Be)}else this._willSettleAt(Qe(Ye),Be)},ce.prototype._settledAt=function(Ye,Be,$e){var Qe=this.promise;Qe._state===me&&(this._remaining--,Ye===ue?je(Qe,$e):this._result[Be]=$e),0===this._remaining&&Oe(Qe,this._result)},ce.prototype._willSettleAt=function(Ye,Be){var $e=this;ze(Ye,void 0,function(Qe){return $e._settledAt(te,Be,Qe)},function(Qe){return $e._settledAt(ue,Be,Qe)})},ce}();var de=function(){function ce(Ce){this[oe]=function ie(){return K++}(),this._result=this._state=void 0,this._subscribers=[],H!==Ce&&("function"!=typeof Ce&&function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof ce?function ye(ce,Ce){try{Ce(function(Be){Le(ce,Be)},function(Be){je(ce,Be)})}catch(Ye){je(ce,Ye)}}(this,Ce):function J(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return ce.prototype.catch=function(Ye){return this.then(null,Ye)},ce.prototype.finally=function(Ye){var $e=this.constructor;return y(Ye)?this.then(function(Qe){return $e.resolve(Ye()).then(function(){return Qe})},function(Qe){return $e.resolve(Ye()).then(function(){throw Qe})}):this.then(Ye,Ye)},ce}();return de.prototype.then=Re,de.all=function W(ce){return new Z(this,ce).promise},de.race=function X(ce){var Ce=this;return L(ce)?new Ce(function(Ye,Be){for(var $e=ce.length,Qe=0;Qe<$e;Qe++)Ce.resolve(ce[Qe]).then(Ye,Be)}):new Ce(function(Ye,Be){return Be(new TypeError("You must pass an array to race."))})},de.resolve=z,de.reject=function Q(ce){var Ye=new this(H);return je(Ye,ce),Ye},de._setScheduler=function v(ce){h=ce},de._setAsap=function A(ce){p=ce},de._asap=p,de.polyfill=function ge(){var ce=void 0;if(typeof b<"u")ce=b;else if(typeof self<"u")ce=self;else try{ce=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ce=ce.Promise;if(Ce){var Ye=null;try{Ye=Object.prototype.toString.call(Ce.resolve())}catch{}if("[object Promise]"===Ye&&!Ce.cast)return}ce.Promise=de},de.Promise=de,de},Ze.exports=y()}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/events/events.js":
/*!***************************************!*\
                  !*** ./node_modules/events/events.js ***!
                  \***************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var I,t="object"==typeof Reflect?Reflect:null,b=t&&"function"==typeof t.apply?t.apply:function(S,B,Y){return Function.prototype.apply.call(S,B,Y)};I=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var F=Number.isNaN||function(S){return S!=S};function L(){L.init.call(this)}Ze.exports=L,Ze.exports.once=function D(N,S){return new Promise(function(B,Y){function re(Re){N.removeListener(S,ae),Y(Re)}function ae(){"function"==typeof N.removeListener&&N.removeListener("error",re),B([].slice.call(arguments))}E(N,S,ae,{once:!0}),"error"!==S&&function w(N,S,B){"function"==typeof N.on&&E(N,"error",S,B)}(N,re,{once:!0})})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var x=10;function m(N){if("function"!=typeof N)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function h(N){return void 0===N._maxListeners?L.defaultMaxListeners:N._maxListeners}function p(N,S,B,Y){var re,ae,Re;if(m(B),void 0===(ae=N._events)?(ae=N._events=Object.create(null),N._eventsCount=0):(void 0!==ae.newListener&&(N.emit("newListener",S,B.listener?B.listener:B),ae=N._events),Re=ae[S]),void 0===Re)Re=ae[S]=B,++N._eventsCount;else if("function"==typeof Re?Re=ae[S]=Y?[B,Re]:[Re,B]:Y?Re.unshift(B):Re.push(B),(re=h(N))>0&&Re.length>re&&!Re.warned){Re.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+Re.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=N,z.type=S,z.count=Re.length,function y(N){console&&console.warn&&console.warn(N)}(z)}return N}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(N,S,B){var Y={fired:!1,wrapFn:void 0,target:N,type:S,listener:B},re=v.bind(Y);return re.listener=B,Y.wrapFn=re,re}function U(N,S,B){var Y=N._events;if(void 0===Y)return[];var re=Y[S];return void 0===re?[]:"function"==typeof re?B?[re.listener||re]:[re]:B?function P(N){for(var S=new Array(N.length),B=0;B<S.length;++B)S[B]=N[B].listener||N[B];return S}(re):V(re,re.length)}function O(N){var S=this._events;if(void 0!==S){var B=S[N];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function V(N,S){for(var B=new Array(S),Y=0;Y<S;++Y)B[Y]=N[Y];return B}function E(N,S,B,Y){if("function"==typeof N.on)Y.once?N.once(S,B):N.on(S,B);else{if("function"!=typeof N.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N);N.addEventListener(S,function re(ae){Y.once&&N.removeEventListener(S,re),B(ae)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(N){if("number"!=typeof N||N<0||F(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");x=N}}),L.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(S){if("number"!=typeof S||S<0||F(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},L.prototype.getMaxListeners=function(){return h(this)},L.prototype.emit=function(S){for(var B=[],Y=1;Y<arguments.length;Y++)B.push(arguments[Y]);var re="error"===S,ae=this._events;if(void 0!==ae)re=re&&void 0===ae.error;else if(!re)return!1;if(re){var Re;if(B.length>0&&(Re=B[0]),Re instanceof Error)throw Re;var z=new Error("Unhandled error."+(Re?" ("+Re.message+")":""));throw z.context=Re,z}var oe=ae[S];if(void 0===oe)return!1;if("function"==typeof oe)b(oe,this,B);else{var H=oe.length,me=V(oe,H);for(Y=0;Y<H;++Y)b(me[Y],this,B)}return!0},L.prototype.on=L.prototype.addListener=function(S,B){return p(this,S,B,!1)},L.prototype.prependListener=function(S,B){return p(this,S,B,!0)},L.prototype.once=function(S,B){return m(B),this.on(S,A(this,S,B)),this},L.prototype.prependOnceListener=function(S,B){return m(B),this.prependListener(S,A(this,S,B)),this},L.prototype.off=L.prototype.removeListener=function(S,B){var Y,re,ae,Re,z;if(m(B),void 0===(re=this._events))return this;if(void 0===(Y=re[S]))return this;if(Y===B||Y.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete re[S],re.removeListener&&this.emit("removeListener",S,Y.listener||B));else if("function"!=typeof Y){for(ae=-1,Re=Y.length-1;Re>=0;Re--)if(Y[Re]===B||Y[Re].listener===B){z=Y[Re].listener,ae=Re;break}if(ae<0)return this;0===ae?Y.shift():function k(N,S){for(;S+1<N.length;S++)N[S]=N[S+1];N.pop()}(Y,ae),1===Y.length&&(re[S]=Y[0]),void 0!==re.removeListener&&this.emit("removeListener",S,z||B)}return this},L.prototype.removeAllListeners=function(S){var B,Y,re;if(void 0===(Y=this._events))return this;if(void 0===Y.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==Y[S]&&(0==--this._eventsCount?this._events=Object.create(null):delete Y[S]),this;if(0===arguments.length){var Re,ae=Object.keys(Y);for(re=0;re<ae.length;++re)"removeListener"!==(Re=ae[re])&&this.removeAllListeners(Re);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=Y[S]))this.removeListener(S,B);else if(void 0!==B)for(re=B.length-1;re>=0;re--)this.removeListener(S,B[re]);return this},L.prototype.listeners=function(S){return U(this,S,!0)},L.prototype.rawListeners=function(S){return U(this,S,!1)},L.listenerCount=function(N,S){return"function"==typeof N.listenerCount?N.listenerCount(S):O.call(N,S)},L.prototype.listenerCount=O,L.prototype.eventNames=function(){return this._eventsCount>0?I(this._events):[]}},"./node_modules/fast-deep-equal/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/fast-deep-equal/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=Array.isArray,b=Object.keys,I=Object.prototype.hasOwnProperty;Ze.exports=function y(F,L){if(F===L)return!0;if(F&&L&&"object"==typeof F&&"object"==typeof L){var h,p,v,x=t(F),m=t(L);if(x&&m){if((p=F.length)!=L.length)return!1;for(h=p;0!=h--;)if(!y(F[h],L[h]))return!1;return!0}if(x!=m)return!1;var A=F instanceof Date,U=L instanceof Date;if(A!=U)return!1;if(A&&U)return F.getTime()==L.getTime();var O=F instanceof RegExp,V=L instanceof RegExp;if(O!=V)return!1;if(O&&V)return F.toString()==L.toString();var k=b(F);if((p=k.length)!==b(L).length)return!1;for(h=p;0!=h--;)if(!I.call(L,k[h]))return!1;for(h=p;0!=h--;)if(!y(F[v=k[h]],L[v]))return!1;return!0}return F!=F&&L!=L}},"./node_modules/ieee754/index.js":
/*!***************************************!*\
                  !*** ./node_modules/ieee754/index.js ***!
                  \***************************************/
/*! no static exports found */function(Ze,C){C.read=function(c,t,b,I,y){var F,L,x=8*y-I-1,m=(1<<x)-1,h=m>>1,p=-7,v=b?y-1:0,A=b?-1:1,U=c[t+v];for(v+=A,F=U&(1<<-p)-1,U>>=-p,p+=x;p>0;F=256*F+c[t+v],v+=A,p-=8);for(L=F&(1<<-p)-1,F>>=-p,p+=I;p>0;L=256*L+c[t+v],v+=A,p-=8);if(0===F)F=1-h;else{if(F===m)return L?NaN:1/0*(U?-1:1);L+=Math.pow(2,I),F-=h}return(U?-1:1)*L*Math.pow(2,F-I)},C.write=function(c,t,b,I,y,F){var L,x,m,h=8*F-y-1,p=(1<<h)-1,v=p>>1,A=23===y?Math.pow(2,-24)-Math.pow(2,-77):0,U=I?0:F-1,O=I?1:-1,V=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(x=isNaN(t)?1:0,L=p):(L=Math.floor(Math.log(t)/Math.LN2),t*(m=Math.pow(2,-L))<1&&(L--,m*=2),(t+=L+v>=1?A/m:A*Math.pow(2,1-v))*m>=2&&(L++,m/=2),L+v>=p?(x=0,L=p):L+v>=1?(x=(t*m-1)*Math.pow(2,y),L+=v):(x=t*Math.pow(2,v-1)*Math.pow(2,y),L=0));y>=8;c[b+U]=255&x,U+=O,x/=256,y-=8);for(L=L<<y|x,h+=y;h>0;c[b+U]=255&L,U+=O,L/=256,h-=8);c[b+U-O]|=128*V}},"./node_modules/imsc/src/main/js/doc.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/doc.js ***!
                  \**********************************************/
/*! no static exports found */function(Ze,C,c){!function(t,b,I,y,F){function L($){if("contents"in $)for(var Z=("styleAttrs"in $?$.styleAttrs[y.byName.ruby.qname]:null),W="span"===$.kind&&("container"===Z||"textContainer"===Z||"baseContainer"===Z),X=$.contents.length-1;X>=0;X--)!W||"styleAttrs"in $.contents[X]&&y.byName.ruby.qname in $.contents[X].styleAttrs?L($.contents[X]):delete $.contents[X]}function x($,Z,W,X){var Q=X&&"seq"===X.timeContainer,q=0;X&&(q=Q&&W?W.end:X.begin),Z.begin=Z.explicit_begin?Z.explicit_begin+q:q;var J=Z.begin,de=null;if("sets"in Z)for(var ge=0;ge<Z.sets.length;ge++)x($,Z.sets[ge],de,Z),J="seq"===Z.timeContainer?Z.sets[ge].end:Math.max(J,Z.sets[ge].end),de=Z.sets[ge];if("contents"in Z){if("contents"in Z)for(var ce=0;ce<Z.contents.length;ce++)x($,Z.contents[ce],de,Z),J="seq"===Z.timeContainer?Z.contents[ce].end:Math.max(J,Z.contents[ce].end),de=Z.contents[ce]}else J=Q?Z.begin:Number.POSITIVE_INFINITY;Z.end=null!==Z.explicit_end&&null!==Z.explicit_dur?Math.min(Z.begin+Z.explicit_dur,q+Z.explicit_end):null===Z.explicit_end&&null!==Z.explicit_dur?Z.begin+Z.explicit_dur:null!==Z.explicit_end&&null===Z.explicit_dur?q+Z.explicit_end:J,delete Z.explicit_begin,delete Z.explicit_dur,delete Z.explicit_end,$._registerEvent(Z)}function m($){this.node=$}function h(){this.events=[],this.head=new p,this.body=null}function p(){this.styling=new v,this.layout=new O}function v(){this.styles={},this.initials={}}function A(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function U(){this.styleAttrs=null}function O(){this.regions={}}function V($,Z){k.call(this,"image"),this.src=$,this.type=Z}function k($){this.kind=$}function P($){this.id=$}function D($){this.regionID=$}function w($){this.styleAttrs=$}function E($){this.sets=$}function N($){this.contents=$}function S($,Z,W){this.explicit_begin=$,this.explicit_end=Z,this.explicit_dur=W}function B(){k.call(this,"body")}function Y(){k.call(this,"div")}function re(){k.call(this,"p")}function ae(){k.call(this,"span")}function Re(){k.call(this,"span")}function z(){k.call(this,"br")}function oe(){}function H(){}function me($){return $&&"xml:id"in $.attributes&&$.attributes["xml:id"].value||null}function Se($){return $&&"style"in $.attributes?$.attributes.style.value.split(" "):[]}function Ie($,Z){var W={};if(null!==$)for(var X in $.attributes){var Q=$.attributes[X].uri+" "+$.attributes[X].local,q=y.byQName[Q];if(void 0!==q){var J=q.parse($.attributes[X].value);null!==J?(W[Q]=J,q===y.byName.zIndex&&ye(Z,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):K(Z,"Cannot parse styling attribute "+Q+" --\x3e "+$.attributes[X].value)}}return W}function le($,Z,W){for(var X in $.attributes)if($.attributes[X].uri===Z&&$.attributes[X].local===W)return $.attributes[X].value;return null}function Pe($,Z,W){var Ye,Be=null;return null!==(Ye=/^(\d+(?:\.\d+)?)f$/.exec(W))?null!==Z&&(Be=parseFloat(Ye[1])/Z):null!==(Ye=/^(\d+(?:\.\d+)?)t$/.exec(W))?null!==$&&(Be=parseFloat(Ye[1])/$):null!==(Ye=/^(\d+(?:\.\d+)?)ms$/.exec(W))?Be=parseFloat(Ye[1])/1e3:null!==(Ye=/^(\d+(?:\.\d+)?)s$/.exec(W))?Be=parseFloat(Ye[1]):null!==(Ye=/^(\d+(?:\.\d+)?)h$/.exec(W))?Be=3600*parseFloat(Ye[1]):null!==(Ye=/^(\d+(?:\.\d+)?)m$/.exec(W))?Be=60*parseFloat(Ye[1]):null!==(Ye=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(W))?Be=3600*parseInt(Ye[1])+60*parseInt(Ye[2])+parseFloat(Ye[3]):null!==(Ye=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(W))&&null!==Z&&(Be=3600*parseInt(Ye[1])+60*parseInt(Ye[2])+parseInt(Ye[3])+(null===Ye[4]?0:parseInt(Ye[4])/Z)),Be}function je($,Z,W){for(;Z.styleRefs.length>0;){var X=Z.styleRefs.pop();X in $.styles?(je($,$.styles[X],W),He($.styles[X].styleAttrs,Z.styleAttrs)):K(W,"Non-existant style id referenced")}}function ze($,Z,W,X){for(var Q=Z.length-1;Q>=0;Q--){var q=Z[Q];q in $.styles?He($.styles[q].styleAttrs,W):K(X,"Non-existant style id referenced")}}function He($,Z){for(var W in $)$.hasOwnProperty(W)&&(W in Z||(Z[W]=$[W]))}function ye($,Z){if($&&$.warn&&$.warn(Z))throw Z}function K($,Z){if($&&$.error&&$.error(Z))throw Z}function ie($,Z){throw $&&$.fatal&&$.fatal(Z),Z}function he($,Z){for(var Q,W=0,X=$.length-1;W<=X;){var q=$[Q=Math.floor((W+X)/2)];if(q<Z)W=Q+1;else{if(!(q>Z))return{found:!0,index:Q};X=Q-1}}return{found:!1,index:W}}t.fromXML=function($,Z,W){var X=b.parser(!0,{xmlns:!0}),Q=[],q=[],J=[],de=0,ge=null;X.onclosetag=function($e){if(Q[0]instanceof oe)null!==ge.head&&null!==ge.head.styling&&ze(ge.head.styling,Q[0].styleRefs,Q[0].styleAttrs,Z),delete Q[0].styleRefs;else if(Q[0]instanceof v)for(var Qe in Q[0].styles)Q[0].styles.hasOwnProperty(Qe)&&je(Q[0],Q[0].styles[Qe],Z);else if(Q[0]instanceof re||Q[0]instanceof ae){if(Q[0].contents.length>1){var dt,qe=[Q[0].contents[0]];for(dt=1;dt<Q[0].contents.length;dt++)Q[0].contents[dt]instanceof Re&&qe[qe.length-1]instanceof Re?qe[qe.length-1].text+=Q[0].contents[dt].text:qe.push(Q[0].contents[dt]);Q[0].contents=qe}Q[0]instanceof ae&&1===Q[0].contents.length&&Q[0].contents[0]instanceof Re&&(Q[0].text=Q[0].contents[0].text,delete Q[0].contents)}else Q[0]instanceof m&&(Q[0].node.uri===I.ns_tt&&"metadata"===Q[0].node.local?de--:de>0&&W&&"onCloseTag"in W&&W.onCloseTag());J.shift(),q.shift(),Q.shift()},X.ontext=function($e){if(void 0!==Q[0])if(Q[0]instanceof ae||Q[0]instanceof re){if(Q[0]instanceof ae){var Qe=Q[0].styleAttrs[y.byName.ruby.qname];if("container"===Qe||"textContainer"===Qe||"baseContainer"===Qe)return}var qe=new Re;qe.initFromText(ge,Q[0],$e,q[0],J[0],Z),Q[0].contents.push(qe)}else Q[0]instanceof m&&de>0&&W&&"onText"in W&&W.onText($e)},X.onopentag=function($e){var Qe=$e.attributes["xml:space"];J.unshift(Qe?Qe.value:0===J.length?"default":J[0]);var qe=$e.attributes["xml:lang"];if(q.unshift(qe?qe.value:0===q.length?"":q[0]),$e.uri===I.ns_tt)if("tt"===$e.local)null!==ge&&ie(Z,"Two <tt> elements at ("+this.line+","+this.column+")"),(ge=new h).initFromNode($e,q[0],Z),Q.unshift(ge);else if("head"===$e.local)Q[0]instanceof h||ie(Z,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),Q.unshift(ge.head);else if("styling"===$e.local)Q[0]instanceof p||ie(Z,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),Q.unshift(ge.head.styling);else if("style"===$e.local){var dt;Q[0]instanceof v?((dt=new A).initFromNode($e,Z),dt.id?ge.head.styling.styles[dt.id]=dt:K(Z,"<style> element missing @id attribute"),Q.unshift(dt)):Q[0]instanceof oe?((dt=new A).initFromNode($e,Z),He(dt.styleAttrs,Q[0].styleAttrs),Q.unshift(dt)):ie(Z,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===$e.local){var It;if(Q[0]instanceof v){for(var _t in(It=new U).initFromNode($e,Z),It.styleAttrs)It.styleAttrs.hasOwnProperty(_t)&&(ge.head.styling.initials[_t]=It.styleAttrs[_t]);Q.unshift(It)}else ie(Z,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===$e.local)Q[0]instanceof p||ie(Z,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),Q.unshift(ge.head.layout);else if("region"===$e.local){Q[0]instanceof O||ie(Z,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Ot=new oe;Ot.initFromNode(ge,$e,q[0],Z),!Ot.id||Ot.id in ge.head.layout.regions?K(Z,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):ge.head.layout.regions[Ot.id]=Ot,Q.unshift(Ot)}else if("body"===$e.local){Q[0]instanceof h||ie(Z,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==ge.body&&ie(Z,"Second <body> element at "+this.line+","+this.column+")");var jt=new B;jt.initFromNode(ge,$e,q[0],Z),ge.body=jt,Q.unshift(jt)}else if("div"===$e.local){Q[0]instanceof Y||Q[0]instanceof B||ie(Z,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var zt=new Y;zt.initFromNode(ge,Q[0],$e,q[0],Z);var $t=zt.styleAttrs[y.byName.backgroundImage.qname];$t&&(zt.contents.push(new V($t)),delete zt.styleAttrs[y.byName.backgroundImage.qname]),Q[0].contents.push(zt),Q.unshift(zt)}else if("image"===$e.local){Q[0]instanceof Y||ie(Z,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var dn=new V;dn.initFromNode(ge,Q[0],$e,q[0],Z),Q[0].contents.push(dn),Q.unshift(dn)}else if("p"===$e.local){Q[0]instanceof Y||ie(Z,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var pn=new re;pn.initFromNode(ge,Q[0],$e,q[0],Z),Q[0].contents.push(pn),Q.unshift(pn)}else if("span"===$e.local){Q[0]instanceof ae||Q[0]instanceof re||ie(Z,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var jn=new ae;jn.initFromNode(ge,Q[0],$e,q[0],J[0],Z),Q[0].contents.push(jn),Q.unshift(jn)}else if("br"===$e.local){Q[0]instanceof ae||Q[0]instanceof re||ie(Z,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var st=new z;st.initFromNode(ge,Q[0],$e,q[0],Z),Q[0].contents.push(st),Q.unshift(st)}else if("set"===$e.local){Q[0]instanceof ae||Q[0]instanceof re||Q[0]instanceof Y||Q[0]instanceof B||Q[0]instanceof oe||Q[0]instanceof z||ie(Z,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var ut=new H;ut.initFromNode(ge,Q[0],$e,Z),Q[0].sets.push(ut),Q.unshift(ut)}else Q.unshift(new m($e));else Q.unshift(new m($e));if(Q[0]instanceof m)if($e.uri===I.ns_tt&&"metadata"===$e.local)de++;else if(de>0&&W&&"onOpenTag"in W){var xe=[];for(var fe in $e.attributes)xe[$e.attributes[fe].uri+" "+$e.attributes[fe].local]={uri:$e.attributes[fe].uri,local:$e.attributes[fe].local,value:$e.attributes[fe].value};W.onOpenTag($e.uri,$e.local,xe)}},X.write($).close(),delete ge.head.styling.styles;var ce=!1;for(var Ce in ge.head.layout.regions)if(ge.head.layout.regions.hasOwnProperty(Ce)){ce=!0;break}if(!ce){var Ye=oe.prototype.createDefaultRegion(ge.lang);ge.head.layout.regions[Ye.id]=Ye}for(var Be in ge.head.layout.regions)ge.head.layout.regions.hasOwnProperty(Be)&&x(ge,ge.head.layout.regions[Be],null,null);return ge.body&&x(ge,ge.body,null,null),ge.body&&L(ge.body),ge},h.prototype.initFromNode=function($,Z,W){var X=function we($,Z){var W=le($,I.ns_ttp,"cellResolution"),X=15,Q=32;if(null!==W){var J=/(\d+) (\d+)/.exec(W);null!==J?(Q=parseInt(J[1]),X=parseInt(J[2])):ye(Z,"Malformed cellResolution value (using initial value instead)")}return{w:Q,h:X}}($,W);this.cellLength={h:new F.ComputedLength(0,1/X.h),w:new F.ComputedLength(1/X.w,0)};var Q=function _e($,Z){var Q,W=le($,I.ns_ttp,"frameRate"),X=30;null!==W&&(null!==(Q=/(\d+)/.exec(W))?X=parseInt(Q[1]):ye(Z,"Malformed frame rate attribute (using initial value instead)"));var J=le($,I.ns_ttp,"frameRateMultiplier"),de=1;null!==J&&(null!==(Q=/(\d+) (\d+)/.exec(J))?de=parseInt(Q[1])/parseInt(Q[2]):ye(Z,"Malformed frame rate multiplier attribute (using initial value instead)"));var ce=de*X,Ce=1,Ye=le($,I.ns_ttp,"tickRate");return null===Ye?null!==W&&(Ce=ce):null!==(Q=/(\d+)/.exec(Ye))?Ce=parseInt(Q[1]):ye(Z,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:ce,tickRate:Ce}}($,W);this.effectiveFrameRate=Q.effectiveFrameRate,this.tickRate=Q.tickRate,this.aspectRatio=function Me($,Z){var W=le($,I.ns_ittp,"aspectRatio");null===W&&(W=le($,I.ns_ttp,"displayAspectRatio"));var X=null;if(null!==W){var q=/(\d+)\s+(\d+)/.exec(W);if(null!==q){var J=parseInt(q[1]),de=parseInt(q[2]);0!==J&&0!==de?X=J/de:K(Z,"Illegal aspectRatio values (ignoring)")}else K(Z,"Malformed aspectRatio attribute (ignoring)")}return X}($,W);var q=le($,I.ns_ttp,"timeBase");null!==q&&"media"!==q&&ie(W,"Unsupported time base");var J=function Le($,Z){var W=le($,I.ns_tts,"extent");if(null===W)return null;var X=W.split(" ");if(2!==X.length)return ye(Z,"Malformed extent (ignoring)"),null;var Q=F.parseLength(X[0]),q=F.parseLength(X[1]);return q&&Q?{h:q,w:Q}:(ye(Z,"Malformed extent values (ignoring)"),null)}($,W);null===J?this.pxLength={h:null,w:null}:(("px"!==J.h.unit||"px"!==J.w.unit)&&ie(W,"Extent on TT must be in px or absent"),this.pxLength={h:new F.ComputedLength(0,1/J.h.value),w:new F.ComputedLength(1/J.w.value,0)}),this.dimensions={h:new F.ComputedLength(0,1),w:new F.ComputedLength(1,0)},this.lang=Z},h.prototype._registerEvent=function($){if(!($.end<=$.begin)){var Z=he(this.events,$.begin);if(Z.found||this.events.splice(Z.index,0,$.begin),$.end!==Number.POSITIVE_INFINITY){var W=he(this.events,$.end);W.found||this.events.splice(W.index,0,$.end)}}},h.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},h.prototype.getMediaTimeEvents=function(){return this.events},A.prototype.initFromNode=function($,Z){this.id=me($),this.styleAttrs=Ie($,Z),this.styleRefs=Se($)},U.prototype.initFromNode=function($,Z){for(var W in this.styleAttrs={},$.attributes)$.attributes[W].uri!==I.ns_itts&&$.attributes[W].uri!==I.ns_ebutts&&$.attributes[W].uri!==I.ns_tts||(this.styleAttrs[$.attributes[W].uri+" "+$.attributes[W].local]=$.attributes[W].value)},V.prototype.initFromNode=function($,Z,W,X,Q){this.src="src"in W.attributes?W.attributes.src.value:null,this.src||K(Q,"Invalid image@src attribute"),this.type="type"in W.attributes?W.attributes.type.value:null,this.type||K(Q,"Invalid image@type attribute"),w.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),E.prototype.initFromNode.call(this,$,Z,W,Q),D.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},P.prototype.initFromNode=function($,Z,W,X){this.id=me(W)},D.prototype.initFromNode=function($,Z,W,X){this.regionID=function te($){return $&&"region"in $.attributes?$.attributes.region.value:""}(W)},w.prototype.initFromNode=function($,Z,W,X){this.styleAttrs=Ie(W,X),null!==$.head&&null!==$.head.styling&&ze($.head.styling,Se(W),this.styleAttrs,X)},E.prototype.initFromNode=function($,Z,W,X){this.sets=[]},N.prototype.initFromNode=function($,Z,W,X){this.contents=[]},S.prototype.initFromNode=function($,Z,W,X){var Q=function Oe($,Z,W,X){var Q=null;W&&"begin"in W.attributes&&null===(Q=Pe($.tickRate,$.effectiveFrameRate,W.attributes.begin.value))&&ye(X,"Malformed begin value "+W.attributes.begin.value+" (using 0)");var q=null;W&&"dur"in W.attributes&&null===(q=Pe($.tickRate,$.effectiveFrameRate,W.attributes.dur.value))&&ye(X,"Malformed dur value "+W.attributes.dur.value+" (ignoring)");var J=null;return W&&"end"in W.attributes&&null===(J=Pe($.tickRate,$.effectiveFrameRate,W.attributes.end.value))&&ye(X,"Malformed end value (ignoring)"),{explicit_begin:Q,explicit_end:J,explicit_dur:q}}($,0,W,X);this.explicit_begin=Q.explicit_begin,this.explicit_end=Q.explicit_end,this.explicit_dur=Q.explicit_dur,this.timeContainer=function ue($,Z){var W=$&&"timeContainer"in $.attributes?$.attributes.timeContainer.value:null;return W&&"par"!==W?"seq"===W?"seq":(K(Z,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(W,X)},B.prototype.initFromNode=function($,Z,W,X){w.prototype.initFromNode.call(this,$,null,Z,X),S.prototype.initFromNode.call(this,$,null,Z,X),E.prototype.initFromNode.call(this,$,null,Z,X),D.prototype.initFromNode.call(this,$,null,Z,X),N.prototype.initFromNode.call(this,$,null,Z,X),this.lang=W},Y.prototype.initFromNode=function($,Z,W,X,Q){w.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),E.prototype.initFromNode.call(this,$,Z,W,Q),D.prototype.initFromNode.call(this,$,Z,W,Q),N.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},re.prototype.initFromNode=function($,Z,W,X,Q){w.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),E.prototype.initFromNode.call(this,$,Z,W,Q),D.prototype.initFromNode.call(this,$,Z,W,Q),N.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},ae.prototype.initFromNode=function($,Z,W,X,Q,q){w.prototype.initFromNode.call(this,$,Z,W,q),S.prototype.initFromNode.call(this,$,Z,W,q),E.prototype.initFromNode.call(this,$,Z,W,q),D.prototype.initFromNode.call(this,$,Z,W,q),N.prototype.initFromNode.call(this,$,Z,W,q),this.space=Q,this.lang=X},Re.prototype.initFromText=function($,Z,W,X,Q,q){S.prototype.initFromNode.call(this,$,Z,null,q),this.text=W,this.space=Q,this.lang=X},z.prototype.initFromNode=function($,Z,W,X,Q){D.prototype.initFromNode.call(this,$,Z,W,Q),S.prototype.initFromNode.call(this,$,Z,W,Q),this.lang=X},oe.prototype.createDefaultRegion=function($){var Z=new oe;return P.call(Z,""),w.call(Z,{}),E.call(Z,[]),S.call(Z,0,Number.POSITIVE_INFINITY,null),this.lang=$,Z},oe.prototype.initFromNode=function($,Z,W,X){P.prototype.initFromNode.call(this,$,null,Z,X),S.prototype.initFromNode.call(this,$,null,Z,X),E.prototype.initFromNode.call(this,$,null,Z,X),this.styleAttrs=Ie(Z,X),this.styleRefs=Se(Z),this.lang=W},H.prototype.initFromNode=function($,Z,W,X){S.prototype.initFromNode.call(this,$,Z,W,X);var Q=Ie(W,X);for(var q in this.qname=null,this.value=null,Q)if(Q.hasOwnProperty(q)){if(this.qname){K(X,"More than one style specified on set");break}this.qname=q,this.value=Q[q]}}}(C,typeof sax>"u"?c(
/*! sax */
"./node_modules/sax/lib/sax.js"):sax,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/html.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/html.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){!function(t,b,I){function y(z,oe,H,me){var te;if("region"===H.kind)(te=document.createElement("div")).style.position="absolute";else if("body"===H.kind)te=document.createElement("div");else if("div"===H.kind)te=document.createElement("div");else if("image"===H.kind){if(te=document.createElement("img"),null!==z.imgResolver&&null!==H.src){var ue=z.imgResolver(H.src,te);ue&&(te.src=ue),te.height=z.regionH,te.width=z.regionW}}else if("p"===H.kind)te=document.createElement("p");else if("span"===H.kind)if("container"===H.styleAttrs[I.byName.ruby.qname])te=document.createElement("ruby"),z.ruby=!0;else if("base"===H.styleAttrs[I.byName.ruby.qname])te=document.createElement("rb");else if("text"===H.styleAttrs[I.byName.ruby.qname])te=document.createElement("rt");else if("baseContainer"===H.styleAttrs[I.byName.ruby.qname])te=document.createElement("rbc");else if("textContainer"===H.styleAttrs[I.byName.ruby.qname])te=document.createElement("rtc");else{if("delimiter"===H.styleAttrs[I.byName.ruby.qname])return;te=document.createElement("span")}else"br"===H.kind&&(te=document.createElement("br"));if(te){if(H.lang&&("region"===H.kind||H.lang!==me.lang)&&(te.lang=H.lang),oe.appendChild(te),te.style.margin="0","region"===H.kind){var Se=H.styleAttrs[I.byName.writingMode.qname];"lrtb"===Se||"lr"===Se?(z.ipd="lr",z.bpd="tb"):"rltb"===Se||"rl"===Se?(z.ipd="rl",z.bpd="tb"):"tblr"===Se?(z.ipd="tb",z.bpd="lr"):("tbrl"===Se||"tb"===Se)&&(z.ipd="tb",z.bpd="rl")}else"p"===H.kind&&"tb"===z.bpd&&(z.ipd="ltr"===H.styleAttrs[I.byName.direction.qname]?"lr":"rl");for(var le=0;le<E.length;le++){var Me=E[le],we=H.styleAttrs[Me.qname];void 0!==we&&null!==Me.map&&Me.map(z,te,H,we)}var _e=te,Le=H.styleAttrs[I.byName.linePadding.qname];if(Le&&!Le.isZero()){var Pe=Le.toUsedLength(z.w,z.h);if(Pe>0){var Oe=Math.ceil(Pe)+"px";"tb"===z.bpd?(_e.style.paddingLeft=Oe,_e.style.paddingRight=Oe):(_e.style.paddingTop=Oe,_e.style.paddingBottom=Oe),z.lp=Le}}var je=H.styleAttrs[I.byName.multiRowAlign.qname];if(je&&"auto"!==je){var ze=document.createElement("span");ze.style.display="inline-block",ze.style.textAlign=je,te.appendChild(ze),_e=ze,z.mra=je}var He=H.styleAttrs[I.byName.rubyReserve.qname];if(He&&"none"!==He[0]&&(z.rubyReserve=He),H.styleAttrs[I.byName.fillLineGap.qname]&&(z.flg=!0),"span"===H.kind&&H.text){var Ae=H.styleAttrs[I.byName.textEmphasis.qname];if(Ae&&"none"!==Ae.style&&(z.textEmphasis=!0),I.byName.textCombine.qname in H.styleAttrs&&"all"===H.styleAttrs[I.byName.textCombine.qname])te.textContent=H.text,Ae&&D(z,te,0,Ae);else for(var ye="",K=0;K<H.text.length;K++){ye+=H.text.charAt(K);var ie=H.text.charCodeAt(K);if(ie<55296||ie>56319||K===H.text.length-1){var he=document.createElement("span");he.textContent=ye,Ae&&D(z,he,0,Ae),te.appendChild(he),ye="",he._isd_element=H}}}if("contents"in H)for(var $=0;$<H.contents.length;$++)y(z,_e,H.contents[$],H);var Z=[];if("p"===H.kind&&(k(z,_e,Z,null),z.rubyReserve&&(function A(z,oe){for(var H=0;H<z.length;H++){var me=document.createElement("ruby"),te=document.createElement("rb");te.textContent="\u200b",me.appendChild(te);var ue,Se,Ie=oe.rubyReserve[1].toUsedLength(oe.w,oe.h)+"px";"both"===oe.rubyReserve[0]||"outside"===oe.rubyReserve[0]&&1==z.length?((ue=document.createElement("rtc")).style[Y]=B?"after":"under",ue.textContent="\u200b",ue.style.fontSize=Ie,(Se=document.createElement("rtc")).style[Y]=B?"before":"over",Se.textContent="\u200b",Se.style.fontSize=Ie,me.appendChild(ue),me.appendChild(Se)):((ue=document.createElement("rtc")).textContent="\u200b",ue.style.fontSize=Ie,ue.style[Y]="after"===oe.rubyReserve[0]||"outside"===oe.rubyReserve[0]&&H>0?B?"after":"tb"===oe.bpd||"rl"===oe.bpd?"under":"over":B?"before":"tb"===oe.bpd||"rl"===oe.bpd?"over":"under",me.appendChild(ue));for(var Me=null,we=0;we<z[H].rbc.length;we++)if("ruby"===z[H].rbc[we].localName){Me=z[H].rbc[we];for(var _e=0;_e<Me.style.length;_e++)me.style.setProperty(Me.style.item(_e),Me.style.getPropertyValue(Me.style.item(_e)));break}(Me=Me||z[H].elements[0].node).parentElement.insertBefore(me,Me)}}(Z,z),z.rubyReserve=null),(z.ruby||z.rubyReserve)&&(function v(z,oe){for(var H=0;H<z.length;H++)for(var me=0;me<z[H].rbc.length;me++)z[H].rbc[me].style[Y]||(z[H].rbc[me].style[Y]=B?0===H?"before":"after":"tb"===oe.bpd||"rl"===oe.bpd?0===H?"over":"under":0===H?"under":"over")}(Z,z),z.ruby=null),z.textEmphasis&&(function p(z,oe){for(var H=0;H<z.length;H++)for(var me=0;me<z[H].te.length;me++)z[H].te[me].style[ae]&&"none"!==z[H].te[me].style[ae]||(z[H].te[me].style[ae]="tb"===oe.bpd?0===H?"left over":"left under":"rl"===oe.bpd?0===H?"right under":"left under":0===H?"left under":"right under")}(Z,z),z.textEmphasis=null),z.mra&&(function h(z){for(var oe=0;oe<z.length-1;oe++){var H=z[oe].elements.length;if(0!==H&&!1===z[oe].br){var me=document.createElement("br"),te=z[oe].elements[H-1].node;te.parentElement.insertBefore(me,te.nextSibling)}}}(Z),z.mra=null),z.lp&&(function m(z,oe,H){if(null!==z)for(var me=0;me<z.length;me++){var te=z[me].elements.length,ue=Math.ceil(oe)+"px",Se="-"+Math.ceil(oe)+"px";if(0!==te){var Ie=z[me].elements[z[me].start_elem],le=z[me].elements[z[me].end_elem];if(Ie===le&&(elementBoundingRect=Ie.node.getBoundingClientRect(),0==elementBoundingRect.width||0==elementBoundingRect.height))continue;"lr"===H.ipd?(Ie.node.style.marginLeft=Se,Ie.node.style.paddingLeft=ue):"rl"===H.ipd?(Ie.node.style.paddingRight=ue,Ie.node.style.marginRight=Se):"tb"===H.ipd&&(Ie.node.style.paddingTop=ue,Ie.node.style.marginTop=Se),"lr"===H.ipd?(le.node.style.marginRight=Se,le.node.style.paddingRight=ue):"rl"===H.ipd?(le.node.style.paddingLeft=ue,le.node.style.marginLeft=Se):"tb"===H.ipd&&(le.node.style.paddingBottom=ue,le.node.style.marginBottom=Se)}}}(Z,z.lp.toUsedLength(z.w,z.h),z),z.lp=null),function F(z){for(var oe=0;oe<z.length;oe++)for(var H=z[oe],me=1;me<H.elements.length;)x(H.elements[me-1].node,H.elements[me].node)?H.elements.splice(me,1):me++;for(var Se,Ie,le=[],Me=0;Me<z.length;Me++)for(var we=0;we<z[Me].elements.length;we++)(Ie=L(Se=z[Me].elements[we].node,le,!1))&&(Se.style.backgroundColor=Ie);for(var _e=0;_e<le.length;_e++)le[_e].style.backgroundColor=""}(Z),z.flg)){var W=V(_e.getBoundingClientRect(),z);(function U(z,oe,H,me,te){for(var ue=Math.sign(H-oe),Se=0;Se<=z.length;Se++){var Ie,le,Me,we;if(Ie=0===Se?Math.round(oe):Se===z.length?Math.round(H):Math.round((z[Se-1].after+z[Se].before)/2),Se>0&&z[Se-1])for(Me=0;Me<z[Se-1].elements.length;Me++)le=ue*(Ie-(we=z[Se-1].elements[Me]).after)+"px","lr"===me.bpd?we.node.style.paddingRight=le:"rl"===me.bpd?we.node.style.paddingLeft=le:"tb"===me.bpd&&(we.node.style.paddingBottom=le);if(Se<z.length)for(Me=0;Me<z[Se].elements.length;Me++)le=ue*((we=z[Se].elements[Me]).before-Ie)+"px","lr"===me.bpd?we.node.style.paddingLeft=le:"rl"===me.bpd?we.node.style.paddingRight=le:"tb"===me.bpd&&(we.node.style.paddingTop=le)}})(Z,W.before,W.after,z),z.flg=null}if("region"===H.kind&&"tb"===z.bpd&&z.enableRollUp&&H.contents.length>0&&"after"===H.styleAttrs[I.byName.displayAlign.qname]){k(z,_e,Z,null);var Q=new O(""===H.id?"_":H.id,Z);if(z.currentISDState[Q.id]=Q,z.previousISDState&&Q.id in z.previousISDState&&z.previousISDState[Q.id].plist.length>0&&Q.plist.length>1&&Q.plist[Q.plist.length-2].text===z.previousISDState[Q.id].plist[z.previousISDState[Q.id].plist.length-1].text){var q=te.firstElementChild,J=Q.plist[Q.plist.length-1].after-Q.plist[Q.plist.length-1].before;q.style.bottom="-"+J+"px",q.style.transition="transform 0.4s",q.style.position="relative",q.style.transform="translateY(-"+J+"px)"}}}else!function Re(z,oe){if(z&&z.error&&z.error(oe))throw oe}(z.errorHandler,"Error processing ISD element kind: "+H.kind)}function L(z,oe,H){return z.style.backgroundColor?(H&&!oe.includes(z)&&oe.push(z),z.style.backgroundColor):"SPAN"===z.parentElement.nodeName?L(z.parentElement,oe,!0):void 0}function x(z,oe){if("SPAN"===z.tagName&&"SPAN"===oe.tagName&&z._isd_element===oe._isd_element){z.textContent+=oe.textContent;for(var H=0;H<oe.style.length;H++){var me=oe.style[H];(me.indexOf("border")>=0||me.indexOf("padding")>=0||me.indexOf("margin")>=0)&&(z.style[me]=oe.style[me])}return oe.parentElement.removeChild(oe),!0}return!1}function O(z,oe){this.id=z,this.plist=oe}function V(z,oe){var H={before:null,after:null,start:null,end:null};return"tb"===oe.bpd?(H.before=z.top,H.after=z.bottom,"lr"===oe.ipd?(H.start=z.left,H.end=z.right):(H.start=z.right,H.end=z.left)):"lr"===oe.bpd?(H.before=z.left,H.after=z.right,H.start=z.top,H.end=z.bottom):"rl"===oe.bpd&&(H.before=z.right,H.after=z.left,H.start=z.top,H.end=z.bottom),H}function k(z,oe,H,me){if("rt"!==oe.localName&&"rtc"!==oe.localName){var te=oe.style.backgroundColor||me;if(0===oe.childElementCount)if("span"===oe.localName||"rb"===oe.localName){var Se=V(oe.getBoundingClientRect(),z);if(0!==H.length&&function P(z,oe,H,me){return oe<me&&z>H||me<=oe&&H>=z}(Se.before,Se.after,H[H.length-1].before,H[H.length-1].after)){var Ie=Math.sign(Se.after-Se.before),le=Math.sign(Se.end-Se.start);Ie*(Se.before-H[H.length-1].before)<0&&(H[H.length-1].before=Se.before),Ie*(Se.after-H[H.length-1].after)>0&&(H[H.length-1].after=Se.after),le*(Se.start-H[H.length-1].start)<0&&(H[H.length-1].start=Se.start,H[H.length-1].start_elem=H[H.length-1].elements.length),le*(Se.end-H[H.length-1].end)>0&&(H[H.length-1].end=Se.end,H[H.length-1].end_elem=H[H.length-1].elements.length)}else H.push({before:Se.before,after:Se.after,start:Se.start,end:Se.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});H[H.length-1].text+=oe.textContent,H[H.length-1].elements.push({node:oe,bgcolor:te,before:Se.before,after:Se.after})}else"br"===oe.localName&&0!==H.length&&(H[H.length-1].br=!0);else for(var Me=oe.firstChild;Me;)Me.nodeType===Node.ELEMENT_NODE&&(k(z,Me,H,te),"ruby"===Me.localName||"rtc"===Me.localName?H.length>0&&H[H.length-1].rbc.push(Me):"span"===Me.localName&&Me.style[re]&&"none"!==Me.style[re]&&H.length>0&&H[H.length-1].te.push(Me)),Me=Me.nextSibling}}function D(z,oe,H,me){"none"!==me.style&&(oe.style[re]="auto"===me.style?"filled":me.style+" "+me.symbol,"before"===me.position||"after"===me.position)&&(oe.style[ae]="tb"===z.bpd?"before"===me.position?"left over":"left under":"rl"===z.bpd?"before"===me.position?"right under":"left under":"before"===me.position?"left under":"right under")}function w(z,oe){this.qname=z,this.map=oe}t.render=function(z,oe,H,me,te,ue,Se,Ie,le){var Me=me||oe.clientHeight,we=te||oe.clientWidth;if(null!==z.aspectRatio){var _e=Me*z.aspectRatio;_e>we?Me=Math.round(we/z.aspectRatio):we=_e}var Le=document.createElement("div");Le.style.position="relative",Le.style.width=we+"px",Le.style.height=Me+"px",Le.style.margin="auto",Le.style.top=0,Le.style.bottom=0,Le.style.left=0,Le.style.right=0,Le.style.zIndex=0;var Pe={h:Me,w:we,regionH:null,regionW:null,imgResolver:H,displayForcedOnlyMode:ue||!1,isd:z,errorHandler:Se,previousISDState:Ie,enableRollUp:le||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(oe.appendChild(Le),"contents"in z)for(var Oe=0;Oe<z.contents.length;Oe++)y(Pe,Le,z.contents[Oe],z);return Pe.currentISDState};for(var E=[new w("http://www.w3.org/ns/ttml#styling backgroundColor",function(z,oe,H,me){0!==me[3]&&(oe.style.backgroundColor="rgba("+me[0].toString()+","+me[1].toString()+","+me[2].toString()+","+(me[3]/255).toString()+")")}),new w("http://www.w3.org/ns/ttml#styling color",function(z,oe,H,me){oe.style.color="rgba("+me[0].toString()+","+me[1].toString()+","+me[2].toString()+","+(me[3]/255).toString()+")"}),new w("http://www.w3.org/ns/ttml#styling direction",function(z,oe,H,me){oe.style.direction=me}),new w("http://www.w3.org/ns/ttml#styling display",function(z,oe,H,me){}),new w("http://www.w3.org/ns/ttml#styling displayAlign",function(z,oe,H,me){oe.style.display="flex",oe.style.flexDirection="column","before"===me?oe.style.justifyContent="flex-start":"center"===me?oe.style.justifyContent="center":"after"===me&&(oe.style.justifyContent="flex-end")}),new w("http://www.w3.org/ns/ttml#styling extent",function(z,oe,H,me){z.regionH=me.h.toUsedLength(z.w,z.h),z.regionW=me.w.toUsedLength(z.w,z.h);var te=0,ue=0,Se=H.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];Se&&(te=Se[0].toUsedLength(z.w,z.h)+Se[2].toUsedLength(z.w,z.h),ue=Se[1].toUsedLength(z.w,z.h)+Se[3].toUsedLength(z.w,z.h)),oe.style.height=z.regionH-te+"px",oe.style.width=z.regionW-ue+"px"}),new w("http://www.w3.org/ns/ttml#styling fontFamily",function(z,oe,H,me){for(var te=[],ue=0;ue<me.length;ue++)"monospaceSerif"===me[ue]?(te.push("Courier New"),te.push('"Liberation Mono"'),te.push("Courier"),te.push("monospace")):"proportionalSansSerif"===me[ue]?(te.push("Arial"),te.push("Helvetica"),te.push('"Liberation Sans"'),te.push("sans-serif")):"monospace"===me[ue]?te.push("monospace"):"sansSerif"===me[ue]?te.push("sans-serif"):"serif"===me[ue]?te.push("serif"):"monospaceSansSerif"===me[ue]?(te.push("Consolas"),te.push("monospace")):te.push("proportionalSerif"===me[ue]?"serif":me[ue]);if(te.length>0){for(var Se=[te[0]],Ie=1;Ie<te.length;Ie++)-1==Se.indexOf(te[Ie])&&Se.push(te[Ie]);te=Se}oe.style.fontFamily=te.join(",")}),new w("http://www.w3.org/ns/ttml#styling shear",function(z,oe,H,me){if(0!==me){var te=-.9*me;oe.style.transform="tb"===z.bpd?"skewX("+te+"deg)":"skewY("+te+"deg)"}}),new w("http://www.w3.org/ns/ttml#styling fontSize",function(z,oe,H,me){oe.style.fontSize=me.toUsedLength(z.w,z.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling fontStyle",function(z,oe,H,me){oe.style.fontStyle=me}),new w("http://www.w3.org/ns/ttml#styling fontWeight",function(z,oe,H,me){oe.style.fontWeight=me}),new w("http://www.w3.org/ns/ttml#styling lineHeight",function(z,oe,H,me){oe.style.lineHeight="normal"===me?"normal":me.toUsedLength(z.w,z.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling opacity",function(z,oe,H,me){oe.style.opacity=me}),new w("http://www.w3.org/ns/ttml#styling origin",function(z,oe,H,me){oe.style.top=me.h.toUsedLength(z.w,z.h)+"px",oe.style.left=me.w.toUsedLength(z.w,z.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling overflow",function(z,oe,H,me){oe.style.overflow=me}),new w("http://www.w3.org/ns/ttml#styling padding",function(z,oe,H,me){var te=[];te[0]=me[0].toUsedLength(z.w,z.h)+"px",te[1]=me[3].toUsedLength(z.w,z.h)+"px",te[2]=me[2].toUsedLength(z.w,z.h)+"px",te[3]=me[1].toUsedLength(z.w,z.h)+"px",oe.style.padding=te.join(" ")}),new w("http://www.w3.org/ns/ttml#styling position",function(z,oe,H,me){oe.style.top=me.h.toUsedLength(z.w,z.h)+"px",oe.style.left=me.w.toUsedLength(z.w,z.h)+"px"}),new w("http://www.w3.org/ns/ttml#styling rubyAlign",function(z,oe,H,me){oe.style.rubyAlign="spaceAround"===me?"space-around":"center"}),new w("http://www.w3.org/ns/ttml#styling rubyPosition",function(z,oe,H,me){"before"!==me&&"after"!==me||(oe.parentElement.style[Y]=B?me:"tb"===z.bpd||"rl"===z.bpd?"before"===me?"over":"under":"before"===me?"under":"over")}),new w("http://www.w3.org/ns/ttml#styling showBackground",null),new w("http://www.w3.org/ns/ttml#styling textAlign",function(z,oe,H,me){oe.style.textAlign="start"===me?"rl"===z.ipd?"right":"left":"end"===me?"rl"===z.ipd?"left":"right":me}),new w("http://www.w3.org/ns/ttml#styling textDecoration",function(z,oe,H,me){oe.style.textDecoration=me.join(" ").replace("lineThrough","line-through")}),new w("http://www.w3.org/ns/ttml#styling textOutline",function(z,oe,H,me){}),new w("http://www.w3.org/ns/ttml#styling textShadow",function(z,oe,H,me){var te=H.styleAttrs[I.byName.textOutline.qname];if("none"===me&&"none"===te)oe.style.textShadow="";else{var ue=[];if("none"!==te){var Se="rgba("+te.color[0].toString()+","+te.color[1].toString()+","+te.color[2].toString()+","+(te.color[3]/255).toString()+")";ue.push("1px 1px 1px "+Se),ue.push("-1px 1px 1px "+Se),ue.push("1px -1px 1px "+Se),ue.push("-1px -1px 1px "+Se)}if("none"!==me)for(var Ie=0;Ie<me.length;Ie++)ue.push(me[Ie].x_off.toUsedLength(z.w,z.h)+"px "+me[Ie].y_off.toUsedLength(z.w,z.h)+"px "+me[Ie].b_radius.toUsedLength(z.w,z.h)+"px rgba("+me[Ie].color[0].toString()+","+me[Ie].color[1].toString()+","+me[Ie].color[2].toString()+","+(me[Ie].color[3]/255).toString()+")");oe.style.textShadow=ue.join(",")}}),new w("http://www.w3.org/ns/ttml#styling textCombine",function(z,oe,H,me){oe.style.textCombineUpright=me}),new w("http://www.w3.org/ns/ttml#styling textEmphasis",function(z,oe,H,me){}),new w("http://www.w3.org/ns/ttml#styling unicodeBidi",function(z,oe,H,me){oe.style.unicodeBidi="bidiOverride"===me?"bidi-override":me}),new w("http://www.w3.org/ns/ttml#styling visibility",function(z,oe,H,me){oe.style.visibility=me}),new w("http://www.w3.org/ns/ttml#styling wrapOption",function(z,oe,H,me){oe.style.whiteSpace="wrap"===me?"preserve"===H.space?"pre-wrap":"normal":"preserve"===H.space?"pre":"noWrap"}),new w("http://www.w3.org/ns/ttml#styling writingMode",function(z,oe,H,me){"lrtb"===me||"lr"===me||"rltb"===me||"rl"===me?oe.style.writingMode="horizontal-tb":"tblr"===me?oe.style.writingMode="vertical-lr":("tbrl"===me||"tb"===me)&&(oe.style.writingMode="vertical-rl")}),new w("http://www.w3.org/ns/ttml#styling zIndex",function(z,oe,H,me){oe.style.zIndex=me}),new w("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(z,oe,H,me){z.displayForcedOnlyMode&&!1===me&&(oe.style.visibility="hidden")})],N={},S=0;S<E.length;S++)N[E[S].qname]=E[S];var B="webkitRubyPosition"in window.getComputedStyle(document.documentElement),Y=B?"webkitRubyPosition":"rubyPosition",re="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",ae="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"}(C,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/isd.js":
/*!**********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/isd.js ***!
                  \**********************************************/
/*! no static exports found */function(Ze,C,c){!function(t,b,I,y){t.generateISD=function(k,P,D){var N,w=new p(k),E={},S={},B=k.head.styling.initials[I.byName.showBackground.qname],Y=k.head.styling.initials[I.byName.backgroundColor.qname];for(var re in k.head.layout.regions)if(k.head.layout.regions.hasOwnProperty(re)){var ae=k.head.layout.regions[re],Re=ae.styleAttrs[I.byName.showBackground.qname]||B;S[ae.id]=("always"===Re||void 0===Re)&&void 0!==(ae.styleAttrs[I.byName.backgroundColor.qname]||Y)&&!(P<ae.begin||P>=ae.end)}for(var H in k.body&&k.body.regionID&&(S[k.body.regionID]=!0),N=null!==k.body?function oe(te,ue){if(ue.contents){var Ie={};for(var le in ue)ue.hasOwnProperty(le)&&(Ie[le]=ue[le]);return Ie.contents=[],ue.contents.filter(function Se(Me){return!(te<Me.begin||te>=Me.end)}).forEach(function(Me){var we=oe(te,Me);we.regionID&&(S[we.regionID]=!0),null!==we&&Ie.contents.push(we)}),Ie}return ue}(P,k.body):null,void 0!==S[""]&&(S[""]=!0),S)if(S[H]){var me=L(k,P,k.head.layout.regions[H],N,null,"",k.head.layout.regions[H],D,E);null!==me&&w.contents.push(me.element)}return w};var F=[I.byName.color.qname,I.byName.textCombine.qname,I.byName.textDecoration.qname,I.byName.textEmphasis.qname,I.byName.textOutline.qname,I.byName.textShadow.qname];function L(k,P,D,w,E,N,S,B,Y){if(P<S.begin||P>=S.end)return null;var re="regionID"in S&&""!==S.regionID?S.regionID:N;if(null!==E&&re!==D.id&&(!("contents"in S)||"contents"in S&&0===S.contents.length||""!==re))return null;var ae=new v(S);if("sets"in S)for(var Re=0;Re<S.sets.length;Re++)P<S.sets[Re].begin||P>=S.sets[Re].end||(ae.styleAttrs[S.sets[Re].qname]=S.sets[Re].value);var z={};for(var oe in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(oe)&&(z[oe]=!0,"region"===ae.kind&&oe===I.byName.writingMode.qname&&!(I.byName.direction.qname in ae.styleAttrs))){var H=ae.styleAttrs[oe];"lrtb"===H||"lr"===H?ae.styleAttrs[I.byName.direction.qname]="ltr":("rltb"===H||"rl"===H)&&(ae.styleAttrs[I.byName.direction.qname]="rtl")}if(null!==E)for(var me=0;me<I.all.length;me++){var te=I.all[me];if(te.qname===I.byName.textDecoration.qname){var ue=E.styleAttrs[te.qname],Se=ae.styleAttrs[te.qname],Ie=[];void 0===Se?Ie=ue:-1===Se.indexOf("none")?((-1===Se.indexOf("noUnderline")&&-1!==ue.indexOf("underline")||-1!==Se.indexOf("underline"))&&Ie.push("underline"),(-1===Se.indexOf("noLineThrough")&&-1!==ue.indexOf("lineThrough")||-1!==Se.indexOf("lineThrough"))&&Ie.push("lineThrough"),(-1===Se.indexOf("noOverline")&&-1!==ue.indexOf("overline")||-1!==Se.indexOf("overline"))&&Ie.push("overline")):Ie.push("none"),ae.styleAttrs[te.qname]=Ie}else if(te.qname!==I.byName.fontSize.qname||te.qname in ae.styleAttrs||"span"!==ae.kind||"textContainer"!==ae.styleAttrs[I.byName.ruby.qname])if(te.qname!==I.byName.fontSize.qname||te.qname in ae.styleAttrs||"span"!==ae.kind||"text"!==ae.styleAttrs[I.byName.ruby.qname])te.inherit&&te.qname in E.styleAttrs&&!(te.qname in ae.styleAttrs)&&(ae.styleAttrs[te.qname]=E.styleAttrs[te.qname]);else{var Me=E.styleAttrs[I.byName.fontSize.qname];ae.styleAttrs[te.qname]="textContainer"===E.styleAttrs[I.byName.ruby.qname]?Me:new y.ComputedLength(.5*Me.rw,.5*Me.rh)}else{var le=E.styleAttrs[I.byName.fontSize.qname];ae.styleAttrs[te.qname]=new y.ComputedLength(.5*le.rw,.5*le.rh)}}for(var we=0;we<I.all.length;we++){var _e=I.all[we];if(!(_e.qname in ae.styleAttrs||_e.qname===I.byName.position.qname&&I.byName.origin.qname in ae.styleAttrs||_e.qname===I.byName.origin.qname&&I.byName.position.qname in ae.styleAttrs)){var Le=k.head.styling.initials[_e.qname]||_e.initial;if(null!==Le&&("region"===ae.kind||!1===_e.inherit&&null!==Le)){var Pe=_e.parse(Le);null!==Pe?(ae.styleAttrs[_e.qname]=Pe,z[_e.qname]=!0):O(B,"Invalid initial value for '"+_e.qname+"' on element '"+ae.kind)}}}for(var Oe=0;Oe<I.all.length;Oe++){var je=I.all[Oe];if(je.qname in z&&null!==je.compute){var ze=je.compute(k,E,ae,ae.styleAttrs[je.qname],Y);null!==ze?ae.styleAttrs[je.qname]=ze:(ae.styleAttrs[je.qname]=je.compute(k,E,ae,je.parse(je.initial),Y),O(B,"Style '"+je.qname+"' on element '"+ae.kind+"' cannot be computed"))}}if("none"===ae.styleAttrs[I.byName.display.qname])return null;var He=null;null===E?He=null===w?[]:[w]:"contents"in S&&(He=S.contents);for(var Ae=0;null!==He&&Ae<He.length;Ae++){var ye=L(k,P,D,w,ae,re,He[Ae],B,Y);null!==ye&&ae.contents.push(ye.element)}for(var K in ae.styleAttrs)if(ae.styleAttrs.hasOwnProperty(K)){var ie=!1;if("span"===ae.kind){var he=ae.styleAttrs[I.byName.ruby.qname];(ie=("container"===he||"textContainer"===he||"baseContainer"===he)&&-1!==F.indexOf(K))||(ie="container"!==he&&K===I.byName.rubyAlign.qname),ie||(ie=!("textContainer"===he||"text"===he)&&K===I.byName.rubyPosition.qname)}if(!ie){var $=I.byQName[K];"applies"in $&&(ie=-1===$.applies.indexOf(ae.kind))}ie&&delete ae.styleAttrs[K]}var Z=ae.styleAttrs[I.byName.ruby.qname];if("p"===ae.kind||"span"===ae.kind&&("textContainer"===Z||"text"===Z)){var W=[];m(ae,W),function x(k){function P(S){return"br"===S.kind||/[\r\n\t ]$/.test(S.text)}function D(S){return"br"===S.kind||"preserve"===S.space&&/^[\r\n]/.test(S.text)}for(var w,E=0;E<k.length;)if("br"!==(w=k[E]).kind&&"preserve"!==w.space){var N=w.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(N)&&(0===E||P(k[E-1]))&&(N=N.substring(1)),w.text=N,0===N.length?k.splice(E,1):E++}else E++;for(E=0;E<k.length;E++)"br"!==(w=k[E]).kind&&"preserve"!==w.space?/[ ]$/.test(w.text)&&(E===k.length-1||D(k[E+1]))&&(w.text=w.text.slice(0,-1)):E++}(W),h(ae)}return"div"===ae.kind&&I.byName.backgroundImage.qname in ae.styleAttrs||"br"===ae.kind||"image"===ae.kind||"contents"in ae&&ae.contents.length>0||"span"===ae.kind&&null!==ae.text||"region"===ae.kind&&"always"===ae.styleAttrs[I.byName.showBackground.qname]?{region_id:re,element:ae}:null}function m(k,P){if("contents"in k)for(var D=0;D<k.contents.length;D++){var w=k.contents[D],E=w.styleAttrs[I.byName.ruby.qname];"span"===w.kind&&("textContainer"===E||"text"===E)||("contents"in w?m(w,P):("span"===w.kind&&0!==w.text.length||"br"===w.kind)&&P.push(w))}}function h(k){if("br"===k.kind)return!1;if("text"in k)return 0===k.text.length;if("contents"in k){for(var P=k.contents.length;P--;)h(k.contents[P])&&k.contents.splice(P,1);return 0===k.contents.length}}function p(k){this.contents=[],this.aspectRatio=k.aspectRatio,this.lang=k.lang}function v(k){for(var P in this.kind=k.kind||"region",this.lang=k.lang,k.id&&(this.id=k.id),this.styleAttrs={},k.styleAttrs)k.styleAttrs.hasOwnProperty(P)&&(this.styleAttrs[P]=k.styleAttrs[P]);"src"in k&&(this.src=k.src),"type"in k&&(this.type=k.type),"text"in k?this.text=k.text:("region"===this.kind||"contents"in k)&&(this.contents=[]),"space"in k&&(this.space=k.space)}function O(k,P){if(k&&k.error&&k.error(P))throw P}}(C,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscStyles>"u"?c(
/*! ./styles */
"./node_modules/imsc/src/main/js/styles.js"):imscStyles,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/main.js":
/*!***********************************************!*\
                  !*** ./node_modules/imsc/src/main/js/main.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){C.generateISD=c(
/*! ./isd */
"./node_modules/imsc/src/main/js/isd.js").generateISD,C.fromXML=c(
/*! ./doc */
"./node_modules/imsc/src/main/js/doc.js").fromXML,C.renderHTML=c(
/*! ./html */
"./node_modules/imsc/src/main/js/html.js").render},"./node_modules/imsc/src/main/js/names.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/names.js ***!
                  \************************************************/
/*! no static exports found */function(Ze,C,c){var t;(t=C).ns_tt="http://www.w3.org/ns/ttml",t.ns_tts="http://www.w3.org/ns/ttml#styling",t.ns_ttp="http://www.w3.org/ns/ttml#parameter",t.ns_xml="http://www.w3.org/XML/1998/namespace",t.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",t.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",t.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",t.ns_ebutts="urn:ebu:tt:style"},"./node_modules/imsc/src/main/js/styles.js":
/*!*************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/styles.js ***!
                  \*************************************************/
/*! no static exports found */function(Ze,C,c){!function(t,b,I){function y(x,m,h,p,v,A,U,O){this.name=m,this.ns=x,this.qname=x+" "+m,this.inherit=v,this.animatable=A,this.initial=h,this.applies=p,this.parse=U,this.compute=O}for(var F in t.all=[new y(b.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,I.parseColor,null),new y(b.ns_tts,"color","white",["span"],!0,!0,I.parseColor,null),new y(b.ns_tts,"direction","ltr",["p","span"],!0,!0,function(x){return x},null),new y(b.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(x){return x},null),new y(b.ns_tts,"displayAlign","before",["region"],!1,!0,function(x){return x},null),new y(b.ns_tts,"extent","auto",["tt","region"],!1,!0,function(x){if("auto"===x)return x;var m=x.split(" ");if(2!==m.length)return null;var h=I.parseLength(m[0]),p=I.parseLength(m[1]);return p&&h?{h:p,w:h}:null},function(x,m,h,p,v){var A,U;if("auto"===p)A=new I.ComputedLength(0,1);else if(null===(A=I.toComputedLength(p.h.value,p.h.unit,null,x.dimensions.h,null,x.pxLength.h)))return null;if("auto"===p)U=new I.ComputedLength(1,0);else if(null===(U=I.toComputedLength(p.w.value,p.w.unit,null,x.dimensions.w,null,x.pxLength.w)))return null;return{h:A,w:U}}),new y(b.ns_tts,"fontFamily","default",["span","p"],!0,!0,function(x){for(var m=x.split(","),h=[],p=0;p<m.length;p++)"'"!==m[p].charAt(0)&&'"'!==m[p].charAt(0)&&"default"===m[p]?h.push("monospaceSerif"):h.push(m[p]);return h},null),new y(b.ns_tts,"shear","0%",["p"],!0,!0,I.parseLength,function(x,m,h,p){return"%"!==p.unit?null:Math.abs(p.value)>100?100*Math.sign(p.value):p.value}),new y(b.ns_tts,"fontSize","1c",["span","p"],!0,!0,I.parseLength,function(x,m,h,p,v){return I.toComputedLength(p.value,p.unit,null!==m?m.styleAttrs[t.byName.fontSize.qname]:x.cellLength.h,null!==m?m.styleAttrs[t.byName.fontSize.qname]:x.cellLength.h,x.cellLength.h,x.pxLength.h)}),new y(b.ns_tts,"fontStyle","normal",["span","p"],!0,!0,function(x){return x},null),new y(b.ns_tts,"fontWeight","normal",["span","p"],!0,!0,function(x){return x},null),new y(b.ns_tts,"lineHeight","normal",["p"],!0,!0,function(x){return"normal"===x?x:I.parseLength(x)},function(x,m,h,p,v){var A;if("normal"===p)A=p;else if(null===(A=I.toComputedLength(p.value,p.unit,h.styleAttrs[t.byName.fontSize.qname],h.styleAttrs[t.byName.fontSize.qname],x.cellLength.h,x.pxLength.h)))return null;return A}),new y(b.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new y(b.ns_tts,"origin","auto",["region"],!1,!0,function(x){if("auto"===x)return x;var m=x.split(" ");if(2!==m.length)return null;var h=I.parseLength(m[0]),p=I.parseLength(m[1]);return p&&h?{h:p,w:h}:null},function(x,m,h,p,v){var A,U;if("auto"===p)A=new I.ComputedLength(0,0);else if(null===(A=I.toComputedLength(p.h.value,p.h.unit,null,x.dimensions.h,null,x.pxLength.h)))return null;if("auto"===p)U=new I.ComputedLength(0,0);else if(null===(U=I.toComputedLength(p.w.value,p.w.unit,null,x.dimensions.w,null,x.pxLength.w)))return null;return{h:A,w:U}}),new y(b.ns_tts,"overflow","hidden",["region"],!1,!0,function(x){return x},null),new y(b.ns_tts,"padding","0px",["region"],!1,!0,function(x){var m=x.split(" ");if(m.length>4)return null;for(var h=[],p=0;p<m.length;p++){var v=I.parseLength(m[p]);if(!v)return null;h.push(v)}return h},function(x,m,h,p,v){var A;if(1===p.length)A=[p[0],p[0],p[0],p[0]];else if(2===p.length)A=[p[0],p[1],p[0],p[1]];else if(3===p.length)A=[p[0],p[1],p[2],p[1]];else{if(4!==p.length)return null;A=[p[0],p[1],p[2],p[3]]}var U=h.styleAttrs[t.byName.writingMode.qname];if("lrtb"===U||"lr"===U)A=[A[0],A[3],A[2],A[1]];else if("rltb"===U||"rl"===U)A=[A[0],A[1],A[2],A[3]];else if("tblr"===U)A=[A[3],A[0],A[1],A[2]];else{if("tbrl"!==U&&"tb"!==U)return null;A=[A[3],A[2],A[1],A[0]]}for(var O=[],V=0;V<A.length;V++)if(0===A[V].value)O[V]=new I.ComputedLength(0,0);else if(O[V]=I.toComputedLength(A[V].value,A[V].unit,h.styleAttrs[t.byName.fontSize.qname],0===V||2===V?h.styleAttrs[t.byName.extent.qname].h:h.styleAttrs[t.byName.extent.qname].w,0===V||2===V?x.cellLength.h:x.cellLength.w,0===V||2===V?x.pxLength.h:x.pxLength.w),null===O[V])return null;return O}),new y(b.ns_tts,"position","top left",["region"],!1,!0,function(x){return I.parsePosition(x)},function(x,m,h,p){var v,A;return null===(v=I.toComputedLength(p.v.offset.value,p.v.offset.unit,null,new I.ComputedLength(-h.styleAttrs[t.byName.extent.qname].h.rw,x.dimensions.h.rh-h.styleAttrs[t.byName.extent.qname].h.rh),null,x.pxLength.h))||("bottom"===p.v.edge&&(v=new I.ComputedLength(-v.rw-h.styleAttrs[t.byName.extent.qname].h.rw,x.dimensions.h.rh-v.rh-h.styleAttrs[t.byName.extent.qname].h.rh)),A=I.toComputedLength(p.h.offset.value,p.h.offset.unit,null,new I.ComputedLength(x.dimensions.w.rw-h.styleAttrs[t.byName.extent.qname].w.rw,-h.styleAttrs[t.byName.extent.qname].w.rh),null,x.pxLength.w),null===v)?null:("right"===p.h.edge&&(A=new I.ComputedLength(x.dimensions.w.rw-A.rw-h.styleAttrs[t.byName.extent.qname].w.rw,-A.rh-h.styleAttrs[t.byName.extent.qname].w.rh)),{h:v,w:A})}),new y(b.ns_tts,"ruby","none",["span"],!1,!0,function(x){return x},null),new y(b.ns_tts,"rubyAlign","center",["span"],!0,!0,function(x){return"center"===x||"spaceAround"===x?x:null},null),new y(b.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(x){return x},null),new y(b.ns_tts,"rubyReserve","none",["p"],!0,!0,function(x){var m=x.split(" "),h=[null,null];if(0===m.length||m.length>2)return null;if("none"!==m[0]&&"both"!==m[0]&&"after"!==m[0]&&"before"!==m[0]&&"outside"!==m[0])return null;if(h[0]=m[0],2===m.length&&"none"!==m[0]){var p=I.parseLength(m[1]);if(!p)return null;h[1]=p}return h},function(x,m,h,p,v){if("none"===p[0])return p;var A;return null===(A=null===p[1]?new I.ComputedLength(.5*h.styleAttrs[t.byName.fontSize.qname].rw,.5*h.styleAttrs[t.byName.fontSize.qname].rh):I.toComputedLength(p[1].value,p[1].unit,h.styleAttrs[t.byName.fontSize.qname],h.styleAttrs[t.byName.fontSize.qname],x.cellLength.h,x.pxLength.h))?null:[p[0],A]}),new y(b.ns_tts,"showBackground","always",["region"],!1,!0,function(x){return x},null),new y(b.ns_tts,"textAlign","start",["p"],!0,!0,function(x){return x},function(x,m,h,p,v){return"left"===p?"start":"right"===p?"end":p}),new y(b.ns_tts,"textCombine","none",["span"],!0,!0,function(x){return"none"===x||"all"===x?x:null},null),new y(b.ns_tts,"textDecoration","none",["span"],!0,!0,function(x){return x.split(" ")},null),new y(b.ns_tts,"textEmphasis","none",["span"],!0,!0,function(x){for(var m=x.split(" "),h={style:null,symbol:null,color:null,position:null},p=0;p<m.length;p++)if("none"===m[p]||"auto"===m[p])h.style=m[p];else if("filled"===m[p]||"open"===m[p])h.style=m[p];else if("circle"===m[p]||"dot"===m[p]||"sesame"===m[p])h.symbol=m[p];else if("current"===m[p])h.color=m[p];else if("outside"===m[p]||"before"===m[p]||"after"===m[p])h.position=m[p];else if(h.color=I.parseColor(m[p]),null===h.color)return null;return null==h.style&&null==h.symbol?h.style="auto":(h.symbol=h.symbol||"circle",h.style=h.style||"filled"),h.position=h.position||"outside",h.color=h.color||"current",h},null),new y(b.ns_tts,"textOutline","none",["span"],!0,!0,function(x){if("none"===x)return x;var m={},h=x.split(" ");if(0===h.length||h.length>2)return null;var p=I.parseColor(h[0]);if(m.color=p,null!==p&&h.shift(),1!==h.length)return null;var v=I.parseLength(h[0]);return v?(m.thickness=v,m):null},function(x,m,h,p,v){if("none"===p)return p;var A={};return A.color=null===p.color?h.styleAttrs[t.byName.color.qname]:p.color,A.thickness=I.toComputedLength(p.thickness.value,p.thickness.unit,h.styleAttrs[t.byName.fontSize.qname],h.styleAttrs[t.byName.fontSize.qname],x.cellLength.h,x.pxLength.h),null===A.thickness?null:A}),new y(b.ns_tts,"textShadow","none",["span"],!0,!0,I.parseTextShadow,function(x,m,h,p){if("none"===p)return p;for(var v=[],A=0;A<p.length;A++){var U={};if(U.x_off=I.toComputedLength(p[A][0].value,p[A][0].unit,null,h.styleAttrs[t.byName.fontSize.qname],null,x.pxLength.w),null===U.x_off||(U.y_off=I.toComputedLength(p[A][1].value,p[A][1].unit,null,h.styleAttrs[t.byName.fontSize.qname],null,x.pxLength.h),null===U.y_off))return null;if(null===p[A][2])U.b_radius=0;else if(U.b_radius=I.toComputedLength(p[A][2].value,p[A][2].unit,null,h.styleAttrs[t.byName.fontSize.qname],null,x.pxLength.h),null===U.b_radius)return null;U.color=null===p[A][3]?h.styleAttrs[t.byName.color.qname]:p[A][3],v.push(U)}return v}),new y(b.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(x){return x},null),new y(b.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(x){return x},null),new y(b.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(x){return x},null),new y(b.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(x){return x},null),new y(b.ns_tts,"zIndex","auto",["region"],!1,!0,function(x){var m;return"auto"===x?m=x:(m=parseInt(x),isNaN(m)&&(m=null)),m},null),new y(b.ns_ebutts,"linePadding","0c",["p"],!0,!1,I.parseLength,function(x,m,h,p,v){return I.toComputedLength(p.value,p.unit,null,null,x.cellLength.w,null)}),new y(b.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(x){return x},null),new y(b.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(x){return x},null),new y(b.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(x){return"true"===x},null),new y(b.ns_itts,"fillLineGap","false",["p"],!0,!0,function(x){return"true"===x},null)],t.byQName={},t.all)t.byQName[t.all[F].qname]=t.all[F];for(var L in t.byName={},t.all)t.byName[t.all[L].name]=t.all[L]}(C,typeof imscNames>"u"?c(
/*! ./names */
"./node_modules/imsc/src/main/js/names.js"):imscNames,typeof imscUtils>"u"?c(
/*! ./utils */
"./node_modules/imsc/src/main/js/utils.js"):imscUtils)},"./node_modules/imsc/src/main/js/utils.js":
/*!************************************************!*\
                  !*** ./node_modules/imsc/src/main/js/utils.js ***!
                  \************************************************/
/*! no static exports found */function(Ze,C,c){!function(t){var b=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,I=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,y=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,F={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};t.parseColor=function(x){var m,h=null,p=F[x.toLowerCase()];return void 0!==p?h=p:null!==(m=b.exec(x))?h=[parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16),void 0!==m[4]?parseInt(m[4],16):255]:null!==(m=I.exec(x))?h=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),255]:null!==(m=y.exec(x))&&(h=[parseInt(m[1]),parseInt(m[2]),parseInt(m[3]),parseInt(m[4])]),h};var L=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;t.parseLength=function(x){var m,h=null;return null!==(m=L.exec(x))&&(h={value:parseFloat(m[1]),unit:m[2]}),h},t.parseTextShadow=function(x){for(var m=x.match(/([^\(,\)]|\([^\)]+\))+/g),h=[],p=0;p<m.length;p++){var v=m[p].split(" ");if(1===v.length&&"none"===v[0])return"none";if(v.length>1&&v.length<5){var A=[null,null,null,null],U=t.parseLength(v.shift());if(null===U||(A[0]=U,null===(U=t.parseLength(v.shift()))))return null;if(A[1]=U,0===v.length){h.push(A);continue}if(null!==(U=t.parseLength(v[0]))&&(A[2]=U,v.shift()),0===v.length){h.push(A);continue}var O=t.parseColor(v[0]);if(null===O)return null;A[3]=O,h.push(A)}}return h},t.parsePosition=function(x){var m=x.split(" "),h=function(k){return"center"===k||"left"===k||"top"===k||"bottom"===k||"right"===k};if(m.length>4)return null;for(var p=0;p<m.length;p++)if(!h(m[p])){var v=t.parseLength(m[p]);if(null===v)return null;m[p]=v}for(var A={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},U=0;U<m.length;){var O=m[U++];if(h(O)){var V={value:0,unit:"%"};2!==m.length&&U<m.length&&!h(m[U])&&(V=m[U++]),"right"===O?(A.h.edge=O,A.h.offset=V):"bottom"===O?(A.v.edge=O,A.v.offset=V):"left"===O?A.h.offset=V:"top"===O&&(A.v.offset=V)}else{if(1!==m.length&&2!==m.length)return null;1===U?A.h.offset=O:A.v.offset=O}}return A},t.ComputedLength=function(x,m){this.rw=x,this.rh=m},t.ComputedLength.prototype.toUsedLength=function(x,m){return x*this.rw+m*this.rh},t.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},t.toComputedLength=function(x,m,h,p,v,A){return"%"===m&&p?new t.ComputedLength(p.rw*x/100,p.rh*x/100):"em"===m&&h?new t.ComputedLength(h.rw*x,h.rh*x):"c"===m&&v?new t.ComputedLength(x*v.rw,x*v.rh):"px"===m&&A?new t.ComputedLength(x*A.rw,x*A.rh):"rh"===m?new t.ComputedLength(0,x/100):"rw"===m?new t.ComputedLength(x/100,0):null}}(C)},"./node_modules/inherits/inherits_browser.js":
/*!***************************************************!*\
                  !*** ./node_modules/inherits/inherits_browser.js ***!
                  \***************************************************/
/*! no static exports found */function(Ze,C){Ze.exports="function"==typeof Object.create?function(t,b){b&&(t.super_=b,t.prototype=Object.create(b.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,b){if(b){t.super_=b;var I=function(){};I.prototype=b.prototype,t.prototype=new I,t.prototype.constructor=t}}},"./node_modules/is-alphabetical/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/is-alphabetical/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=function t(b){var I="string"==typeof b?b.charCodeAt(0):b;return I>=97&&I<=122||I>=65&&I<=90}},"./node_modules/is-alphanumerical/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/is-alphanumerical/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! is-alphabetical */
"./node_modules/is-alphabetical/index.js"),b=c(
/*! is-decimal */
"./node_modules/is-decimal/index.js");Ze.exports=function I(y){return t(y)||b(y)}},"./node_modules/is-decimal/index.js":
/*!******************************************!*\
                  !*** ./node_modules/is-decimal/index.js ***!
                  \******************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=function t(b){var I="string"==typeof b?b.charCodeAt(0):b;return I>=48&&I<=57}},"./node_modules/isarray/index.js":
/*!***************************************!*\
                  !*** ./node_modules/isarray/index.js ***!
                  \***************************************/
/*! no static exports found */function(Ze,C){var c={}.toString;Ze.exports=Array.isArray||function(t){return"[object Array]"==c.call(t)}},"./node_modules/path-browserify/index.js":
/*!***********************************************!*\
                  !*** ./node_modules/path-browserify/index.js ***!
                  \***********************************************/
/*! no static exports found */function(Ze,C,c){(function(t){function b(L,x){for(var m=0,h=L.length-1;h>=0;h--){var p=L[h];"."===p?L.splice(h,1):".."===p?(L.splice(h,1),m++):m&&(L.splice(h,1),m--)}if(x)for(;m--;m)L.unshift("..");return L}function y(L,x){if(L.filter)return L.filter(x);for(var m=[],h=0;h<L.length;h++)x(L[h],h,L)&&m.push(L[h]);return m}C.resolve=function(){for(var L="",x=!1,m=arguments.length-1;m>=-1&&!x;m--){var h=m>=0?arguments[m]:t.cwd();if("string"!=typeof h)throw new TypeError("Arguments to path.resolve must be strings");h&&(L=h+"/"+L,x="/"===h.charAt(0))}return(x?"/":"")+(L=b(y(L.split("/"),function(p){return!!p}),!x).join("/"))||"."},C.normalize=function(L){var x=C.isAbsolute(L),m="/"===F(L,-1);return!(L=b(y(L.split("/"),function(h){return!!h}),!x).join("/"))&&!x&&(L="."),L&&m&&(L+="/"),(x?"/":"")+L},C.isAbsolute=function(L){return"/"===L.charAt(0)},C.join=function(){var L=Array.prototype.slice.call(arguments,0);return C.normalize(y(L,function(x,m){if("string"!=typeof x)throw new TypeError("Arguments to path.join must be strings");return x}).join("/"))},C.relative=function(L,x){function m(V){for(var k=0;k<V.length&&""===V[k];k++);for(var P=V.length-1;P>=0&&""===V[P];P--);return k>P?[]:V.slice(k,P-k+1)}L=C.resolve(L).substr(1),x=C.resolve(x).substr(1);for(var h=m(L.split("/")),p=m(x.split("/")),v=Math.min(h.length,p.length),A=v,U=0;U<v;U++)if(h[U]!==p[U]){A=U;break}var O=[];for(U=A;U<h.length;U++)O.push("..");return(O=O.concat(p.slice(A))).join("/")},C.sep="/",C.delimiter=":",C.dirname=function(L){if("string"!=typeof L&&(L+=""),0===L.length)return".";for(var x=L.charCodeAt(0),m=47===x,h=-1,p=!0,v=L.length-1;v>=1;--v)if(47===(x=L.charCodeAt(v))){if(!p){h=v;break}}else p=!1;return-1===h?m?"/":".":m&&1===h?"/":L.slice(0,h)},C.basename=function(L,x){var m=function I(L){"string"!=typeof L&&(L+="");var p,x=0,m=-1,h=!0;for(p=L.length-1;p>=0;--p)if(47===L.charCodeAt(p)){if(!h){x=p+1;break}}else-1===m&&(h=!1,m=p+1);return-1===m?"":L.slice(x,m)}(L);return x&&m.substr(-1*x.length)===x&&(m=m.substr(0,m.length-x.length)),m},C.extname=function(L){"string"!=typeof L&&(L+="");for(var x=-1,m=0,h=-1,p=!0,v=0,A=L.length-1;A>=0;--A){var U=L.charCodeAt(A);if(47!==U)-1===h&&(p=!1,h=A+1),46===U?-1===x?x=A:1!==v&&(v=1):-1!==x&&(v=-1);else if(!p){m=A+1;break}}return-1===x||-1===h||0===v||1===v&&x===h-1&&x===m+1?"":L.slice(x,h)};var F=function(L,x,m){return L.substr(x,m)}}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process-nextick-args/index.js":
/*!****************************************************!*\
                  !*** ./node_modules/process-nextick-args/index.js ***!
                  \****************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";(function(t){Ze.exports=typeof t>"u"||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?{nextTick:function b(I,y,F,L){if("function"!=typeof I)throw new TypeError('"callback" argument must be a function');var m,h,x=arguments.length;switch(x){case 0:case 1:return t.nextTick(I);case 2:return t.nextTick(function(){I.call(null,y)});case 3:return t.nextTick(function(){I.call(null,y,F)});case 4:return t.nextTick(function(){I.call(null,y,F,L)});default:for(m=new Array(x-1),h=0;h<m.length;)m[h++]=arguments[h];return t.nextTick(function(){I.apply(null,m)})}}}:t}).call(this,c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
                  !*** ./node_modules/process/browser.js ***!
                  \*****************************************/
/*! no static exports found */function(Ze,C){var t,b,c=Ze.exports={};function I(){throw new Error("setTimeout has not been defined")}function y(){throw new Error("clearTimeout has not been defined")}function F(V){if(t===setTimeout)return setTimeout(V,0);if((t===I||!t)&&setTimeout)return t=setTimeout,setTimeout(V,0);try{return t(V,0)}catch{try{return t.call(null,V,0)}catch{return t.call(this,V,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:I}catch{t=I}try{b="function"==typeof clearTimeout?clearTimeout:y}catch{b=y}}();var h,x=[],m=!1,p=-1;function v(){!m||!h||(m=!1,h.length?x=h.concat(x):p=-1,x.length&&A())}function A(){if(!m){var V=F(v);m=!0;for(var k=x.length;k;){for(h=x,x=[];++p<k;)h&&h[p].run();p=-1,k=x.length}h=null,m=!1,function L(V){if(b===clearTimeout)return clearTimeout(V);if((b===y||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(V);try{return b(V)}catch{try{return b.call(null,V)}catch{return b.call(this,V)}}}(V)}}function U(V,k){this.fun=V,this.array=k}function O(){}c.nextTick=function(V){var k=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)k[P-1]=arguments[P];x.push(new U(V,k)),1===x.length&&!m&&F(A)},U.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=O,c.addListener=O,c.once=O,c.off=O,c.removeListener=O,c.removeAllListeners=O,c.emit=O,c.prependListener=O,c.prependOnceListener=O,c.listeners=function(V){return[]},c.binding=function(V){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(V){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},"./node_modules/readable-stream/duplex-browser.js":
/*!********************************************************!*\
                  !*** ./node_modules/readable-stream/duplex-browser.js ***!
                  \********************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":
/*!************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_duplex.js ***!
                  \************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js"),b=Object.keys||function(A){var U=[];for(var O in A)U.push(O);return U};Ze.exports=h;var I=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));I.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var y=c(
/*! ./_stream_readable */
"./node_modules/readable-stream/lib/_stream_readable.js"),F=c(
/*! ./_stream_writable */
"./node_modules/readable-stream/lib/_stream_writable.js");I.inherits(h,y);for(var L=b(F.prototype),x=0;x<L.length;x++){var m=L[x];h.prototype[m]||(h.prototype[m]=F.prototype[m])}function h(A){if(!(this instanceof h))return new h(A);y.call(this,A),F.call(this,A),A&&!1===A.readable&&(this.readable=!1),A&&!1===A.writable&&(this.writable=!1),this.allowHalfOpen=!0,A&&!1===A.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||t.nextTick(v,this)}function v(A){A.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(A){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=A,this._writableState.destroyed=A)}}),h.prototype._destroy=function(A,U){this.push(null),this.end(),t.nextTick(U,A)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":
/*!*****************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_passthrough.js ***!
                  \*****************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=I;var t=c(
/*! ./_stream_transform */
"./node_modules/readable-stream/lib/_stream_transform.js"),b=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function I(y){if(!(this instanceof I))return new I(y);t.call(this,y)}b.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),b.inherits(I,t),I.prototype._transform=function(y,F,L){L(null,y)}},"./node_modules/readable-stream/lib/_stream_readable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_readable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";(function(t,b){var I=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");Ze.exports=S;var F,y=c(
/*! isarray */
"./node_modules/isarray/index.js");S.ReadableState=N,c(
/*! events */
"./node_modules/events/events.js");var x=function(ye,K){return ye.listeners(K).length},m=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),h=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,p=t.Uint8Array||function(){};var U=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));U.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var O=c(
/*! util */
0),V=void 0;V=O&&O.debuglog?O.debuglog("stream"):function(){};var D,k=c(
/*! ./internal/streams/BufferList */
"./node_modules/readable-stream/lib/internal/streams/BufferList.js"),P=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");U.inherits(S,m);var w=["error","close","destroy","pause","resume"];function N(ye,K){var ie=K instanceof(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!(ye=ye||{}).objectMode,ie&&(this.objectMode=this.objectMode||!!ye.readableObjectMode);var he=ye.highWaterMark,$=ye.readableHighWaterMark;this.highWaterMark=he||0===he?he:ie&&($||0===$)?$:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ye.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ye.encoding&&(D||(D=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new D(ye.encoding),this.encoding=ye.encoding)}function S(ye){if(F=F||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof S))return new S(ye);this._readableState=new N(ye,this),this.readable=!0,ye&&("function"==typeof ye.read&&(this._read=ye.read),"function"==typeof ye.destroy&&(this._destroy=ye.destroy)),m.call(this)}function B(ye,K,ie,he,$){var W,Z=ye._readableState;return null===K?(Z.reading=!1,function H(ye,K){if(!K.ended){if(K.decoder){var ie=K.decoder.end();ie&&ie.length&&(K.buffer.push(ie),K.length+=K.objectMode?1:ie.length)}K.ended=!0,me(ye)}}(ye,Z)):($||(W=function re(ye,K){var ie;return!function A(ye){return h.isBuffer(ye)||ye instanceof p}(K)&&"string"!=typeof K&&void 0!==K&&!ye.objectMode&&(ie=new TypeError("Invalid non-string/buffer chunk")),ie}(Z,K)),W?ye.emit("error",W):Z.objectMode||K&&K.length>0?("string"!=typeof K&&!Z.objectMode&&Object.getPrototypeOf(K)!==h.prototype&&(K=function v(ye){return h.from(ye)}(K)),he?Z.endEmitted?ye.emit("error",new Error("stream.unshift() after end event")):Y(ye,Z,K,!0):Z.ended?ye.emit("error",new Error("stream.push() after EOF")):(Z.reading=!1,Z.decoder&&!ie?(K=Z.decoder.write(K),Z.objectMode||0!==K.length?Y(ye,Z,K,!1):ue(ye,Z)):Y(ye,Z,K,!1))):he||(Z.reading=!1)),function ae(ye){return!ye.ended&&(ye.needReadable||ye.length<ye.highWaterMark||0===ye.length)}(Z)}function Y(ye,K,ie,he){K.flowing&&0===K.length&&!K.sync?(ye.emit("data",ie),ye.read(0)):(K.length+=K.objectMode?1:ie.length,he?K.buffer.unshift(ie):K.buffer.push(ie),K.needReadable&&me(ye)),ue(ye,K)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ye){this._readableState&&(this._readableState.destroyed=ye)}}),S.prototype.destroy=P.destroy,S.prototype._undestroy=P.undestroy,S.prototype._destroy=function(ye,K){this.push(null),K(ye)},S.prototype.push=function(ye,K){var he,ie=this._readableState;return ie.objectMode?he=!0:"string"==typeof ye&&((K=K||ie.defaultEncoding)!==ie.encoding&&(ye=h.from(ye,K),K=""),he=!0),B(this,ye,K,!1,he)},S.prototype.unshift=function(ye){return B(this,ye,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(ye){return D||(D=c(
/*! string_decoder/ */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new D(ye),this._readableState.encoding=ye,this};var Re=8388608;function oe(ye,K){return ye<=0||0===K.length&&K.ended?0:K.objectMode?1:ye!=ye?K.flowing&&K.length?K.buffer.head.data.length:K.length:(ye>K.highWaterMark&&(K.highWaterMark=function z(ye){return ye>=Re?ye=Re:(ye--,ye|=ye>>>1,ye|=ye>>>2,ye|=ye>>>4,ye|=ye>>>8,ye|=ye>>>16,ye++),ye}(ye)),ye<=K.length?ye:K.ended?K.length:(K.needReadable=!0,0))}function me(ye){var K=ye._readableState;K.needReadable=!1,K.emittedReadable||(V("emitReadable",K.flowing),K.emittedReadable=!0,K.sync?I.nextTick(te,ye):te(ye))}function te(ye){V("emit readable"),ye.emit("readable"),_e(ye)}function ue(ye,K){K.readingMore||(K.readingMore=!0,I.nextTick(Se,ye,K))}function Se(ye,K){for(var ie=K.length;!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark&&(V("maybeReadMore read 0"),ye.read(0),ie!==K.length);)ie=K.length;K.readingMore=!1}function le(ye){V("readable nexttick read 0"),ye.read(0)}function we(ye,K){K.reading||(V("resume read 0"),ye.read(0)),K.resumeScheduled=!1,K.awaitDrain=0,ye.emit("resume"),_e(ye),K.flowing&&!K.reading&&ye.read(0)}function _e(ye){var K=ye._readableState;for(V("flow",K.flowing);K.flowing&&null!==ye.read(););}function Le(ye,K){return 0===K.length?null:(K.objectMode?ie=K.buffer.shift():!ye||ye>=K.length?(ie=K.decoder?K.buffer.join(""):1===K.buffer.length?K.buffer.head.data:K.buffer.concat(K.length),K.buffer.clear()):ie=function Pe(ye,K,ie){var he;return ye<K.head.data.length?(he=K.head.data.slice(0,ye),K.head.data=K.head.data.slice(ye)):he=ye===K.head.data.length?K.shift():ie?function Oe(ye,K){var ie=K.head,he=1,$=ie.data;for(ye-=$.length;ie=ie.next;){var Z=ie.data,W=ye>Z.length?Z.length:ye;if($+=W===Z.length?Z:Z.slice(0,ye),0==(ye-=W)){W===Z.length?(++he,K.head=ie.next?ie.next:K.tail=null):(K.head=ie,ie.data=Z.slice(W));break}++he}return K.length-=he,$}(ye,K):function je(ye,K){var ie=h.allocUnsafe(ye),he=K.head,$=1;for(he.data.copy(ie),ye-=he.data.length;he=he.next;){var Z=he.data,W=ye>Z.length?Z.length:ye;if(Z.copy(ie,ie.length-ye,0,W),0==(ye-=W)){W===Z.length?(++$,K.head=he.next?he.next:K.tail=null):(K.head=he,he.data=Z.slice(W));break}++$}return K.length-=$,ie}(ye,K),he}(ye,K.buffer,K.decoder),ie);var ie}function ze(ye){var K=ye._readableState;if(K.length>0)throw new Error('"endReadable()" called on non-empty stream');K.endEmitted||(K.ended=!0,I.nextTick(He,K,ye))}function He(ye,K){!ye.endEmitted&&0===ye.length&&(ye.endEmitted=!0,K.readable=!1,K.emit("end"))}function Ae(ye,K){for(var ie=0,he=ye.length;ie<he;ie++)if(ye[ie]===K)return ie;return-1}S.prototype.read=function(ye){V("read",ye),ye=parseInt(ye,10);var K=this._readableState,ie=ye;if(0!==ye&&(K.emittedReadable=!1),0===ye&&K.needReadable&&(K.length>=K.highWaterMark||K.ended))return V("read: emitReadable",K.length,K.ended),0===K.length&&K.ended?ze(this):me(this),null;if(0===(ye=oe(ye,K))&&K.ended)return 0===K.length&&ze(this),null;var $,he=K.needReadable;return V("need readable",he),(0===K.length||K.length-ye<K.highWaterMark)&&V("length less than watermark",he=!0),K.ended||K.reading?V("reading or ended",he=!1):he&&(V("do read"),K.reading=!0,K.sync=!0,0===K.length&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(ye=oe(ie,K))),null===($=ye>0?Le(ye,K):null)?(K.needReadable=!0,ye=0):K.length-=ye,0===K.length&&(K.ended||(K.needReadable=!0),ie!==ye&&K.ended&&ze(this)),null!==$&&this.emit("data",$),$},S.prototype._read=function(ye){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(ye,K){var ie=this,he=this._readableState;switch(he.pipesCount){case 0:he.pipes=ye;break;case 1:he.pipes=[he.pipes,ye];break;default:he.pipes.push(ye)}he.pipesCount+=1,V("pipe count=%d opts=%j",he.pipesCount,K);var Z=K&&!1===K.end||ye===b.stdout||ye===b.stderr?Be:X;function W($e,Qe){V("onunpipe"),$e===ie&&Qe&&!1===Qe.hasUnpiped&&(Qe.hasUnpiped=!0,function J(){V("cleanup"),ye.removeListener("close",Ce),ye.removeListener("finish",Ye),ye.removeListener("drain",Q),ye.removeListener("error",ce),ye.removeListener("unpipe",W),ie.removeListener("end",X),ie.removeListener("end",Be),ie.removeListener("data",ge),q=!0,he.awaitDrain&&(!ye._writableState||ye._writableState.needDrain)&&Q()}())}function X(){V("onend"),ye.end()}he.endEmitted?I.nextTick(Z):ie.once("end",Z),ye.on("unpipe",W);var Q=function Ie(ye){return function(){var K=ye._readableState;V("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,0===K.awaitDrain&&x(ye,"data")&&(K.flowing=!0,_e(ye))}}(ie);ye.on("drain",Q);var q=!1;var de=!1;function ge($e){V("ondata"),de=!1,!1===ye.write($e)&&!de&&((1===he.pipesCount&&he.pipes===ye||he.pipesCount>1&&-1!==Ae(he.pipes,ye))&&!q&&(V("false write response, pause",ie._readableState.awaitDrain),ie._readableState.awaitDrain++,de=!0),ie.pause())}function ce($e){V("onerror",$e),Be(),ye.removeListener("error",ce),0===x(ye,"error")&&ye.emit("error",$e)}function Ce(){ye.removeListener("finish",Ye),Be()}function Ye(){V("onfinish"),ye.removeListener("close",Ce),Be()}function Be(){V("unpipe"),ie.unpipe(ye)}return ie.on("data",ge),function E(ye,K,ie){if("function"==typeof ye.prependListener)return ye.prependListener(K,ie);ye._events&&ye._events[K]?y(ye._events[K])?ye._events[K].unshift(ie):ye._events[K]=[ie,ye._events[K]]:ye.on(K,ie)}(ye,"error",ce),ye.once("close",Ce),ye.once("finish",Ye),ye.emit("pipe",ie),he.flowing||(V("pipe resume"),ie.resume()),ye},S.prototype.unpipe=function(ye){var K=this._readableState,ie={hasUnpiped:!1};if(0===K.pipesCount)return this;if(1===K.pipesCount)return ye&&ye!==K.pipes||(ye||(ye=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,ye&&ye.emit("unpipe",this,ie)),this;if(!ye){var he=K.pipes,$=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var Z=0;Z<$;Z++)he[Z].emit("unpipe",this,ie);return this}var W=Ae(K.pipes,ye);return-1===W||(K.pipes.splice(W,1),K.pipesCount-=1,1===K.pipesCount&&(K.pipes=K.pipes[0]),ye.emit("unpipe",this,ie)),this},S.prototype.addListener=S.prototype.on=function(ye,K){var ie=m.prototype.on.call(this,ye,K);if("data"===ye)!1!==this._readableState.flowing&&this.resume();else if("readable"===ye){var he=this._readableState;!he.endEmitted&&!he.readableListening&&(he.readableListening=he.needReadable=!0,he.emittedReadable=!1,he.reading?he.length&&me(this):I.nextTick(le,this))}return ie},S.prototype.resume=function(){var ye=this._readableState;return ye.flowing||(V("resume"),ye.flowing=!0,function Me(ye,K){K.resumeScheduled||(K.resumeScheduled=!0,I.nextTick(we,ye,K))}(this,ye)),this},S.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(ye){var K=this,ie=this._readableState,he=!1;for(var $ in ye.on("end",function(){if(V("wrapped end"),ie.decoder&&!ie.ended){var W=ie.decoder.end();W&&W.length&&K.push(W)}K.push(null)}),ye.on("data",function(W){V("wrapped data"),ie.decoder&&(W=ie.decoder.write(W)),ie.objectMode&&null==W||!(ie.objectMode||W&&W.length)||K.push(W)||(he=!0,ye.pause())}),ye)void 0===this[$]&&"function"==typeof ye[$]&&(this[$]=function(W){return function(){return ye[W].apply(ye,arguments)}}($));for(var Z=0;Z<w.length;Z++)ye.on(w[Z],this.emit.bind(this,w[Z]));return this._read=function(W){V("wrapped _read",W),he&&(he=!1,ye.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=Le}).call(this,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":
/*!***************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_transform.js ***!
                  \***************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";Ze.exports=y;var t=c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),b=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));function I(x,m){var h=this._transformState;h.transforming=!1;var p=h.writecb;if(!p)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,null!=m&&this.push(m),p(x);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function y(x){if(!(this instanceof y))return new y(x);t.call(this,x),this._transformState={afterTransform:I.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,x&&("function"==typeof x.transform&&(this._transform=x.transform),"function"==typeof x.flush&&(this._flush=x.flush)),this.on("prefinish",F)}function F(){var x=this;"function"==typeof this._flush?this._flush(function(m,h){L(x,m,h)}):L(this,null,null)}function L(x,m,h){if(m)return x.emit("error",m);if(null!=h&&x.push(h),x._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(x._transformState.transforming)throw new Error("Calling transform done when still transforming");return x.push(null)}b.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js"),b.inherits(y,t),y.prototype.push=function(x,m){return this._transformState.needTransform=!1,t.prototype.push.call(this,x,m)},y.prototype._transform=function(x,m,h){throw new Error("_transform() is not implemented")},y.prototype._write=function(x,m,h){var p=this._transformState;if(p.writecb=h,p.writechunk=x,p.writeencoding=m,!p.transforming){var v=this._readableState;(p.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},y.prototype._read=function(x){var m=this._transformState;null!==m.writechunk&&m.writecb&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},y.prototype._destroy=function(x,m){var h=this;t.prototype._destroy.call(this,x,function(p){m(p),h.emit("close")})}},"./node_modules/readable-stream/lib/_stream_writable.js":
/*!**************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/_stream_writable.js ***!
                  \**************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";(function(t,b,I){var y=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function L(we){var _e=this;this.next=null,this.entry=null,this.finish=function(){!function Me(we,_e,Le){var Pe=we.entry;for(we.entry=null;Pe;){var Oe=Pe.callback;_e.pendingcb--,Oe(Le),Pe=Pe.next}_e.corkedRequestsFree?_e.corkedRequestsFree.next=we:_e.corkedRequestsFree=we}(_e,we)}}Ze.exports=E;var m,x=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?b:y.nextTick;E.WritableState=D;var h=Object.create(c(
/*! core-util-is */
"./node_modules/core-util-is/lib/util.js"));h.inherits=c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js");var p={deprecate:c(
/*! util-deprecate */
"./node_modules/util-deprecate/browser.js")},v=c(
/*! ./internal/streams/stream */
"./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),A=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,U=I.Uint8Array||function(){};var w,k=c(
/*! ./internal/streams/destroy */
"./node_modules/readable-stream/lib/internal/streams/destroy.js");function P(){}function D(we,_e){m=m||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js");var Le=_e instanceof m;this.objectMode=!!(we=we||{}).objectMode,Le&&(this.objectMode=this.objectMode||!!we.writableObjectMode);var Pe=we.highWaterMark,Oe=we.writableHighWaterMark;this.highWaterMark=Pe||0===Pe?Pe:Le&&(Oe||0===Oe)?Oe:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===we.decodeStrings),this.defaultEncoding=we.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(He){!function z(we,_e){var Le=we._writableState,Pe=Le.sync,Oe=Le.writecb;if(function Re(we){we.writing=!1,we.writecb=null,we.length-=we.writelen,we.writelen=0}(Le),_e)!function ae(we,_e,Le,Pe,Oe){--_e.pendingcb,Le?(y.nextTick(Oe,Pe),y.nextTick(Ie,we,_e),we._writableState.errorEmitted=!0,we.emit("error",Pe)):(Oe(Pe),we._writableState.errorEmitted=!0,we.emit("error",Pe),Ie(we,_e))}(we,Le,Pe,_e,Oe);else{var je=te(Le);!je&&!Le.corked&&!Le.bufferProcessing&&Le.bufferedRequest&&me(we,Le),Pe?x(oe,we,Le,je,Oe):oe(we,Le,je,Oe)}}(_e,He)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}function E(we){if(m=m||c(
/*! ./_stream_duplex */
"./node_modules/readable-stream/lib/_stream_duplex.js"),!(w.call(E,this)||this instanceof m))return new E(we);this._writableState=new D(we,this),this.writable=!0,we&&("function"==typeof we.write&&(this._write=we.write),"function"==typeof we.writev&&(this._writev=we.writev),"function"==typeof we.destroy&&(this._destroy=we.destroy),"function"==typeof we.final&&(this._final=we.final)),v.call(this)}function Y(we,_e,Le,Pe,Oe,je){if(!Le){var ze=function B(we,_e,Le){return!we.objectMode&&!1!==we.decodeStrings&&"string"==typeof _e&&(_e=A.from(_e,Le)),_e}(_e,Pe,Oe);Pe!==ze&&(Le=!0,Oe="buffer",Pe=ze)}var He=_e.objectMode?1:Pe.length;_e.length+=He;var Ae=_e.length<_e.highWaterMark;if(Ae||(_e.needDrain=!0),_e.writing||_e.corked){var ye=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:Pe,encoding:Oe,isBuf:Le,callback:je,next:null},ye?ye.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else re(we,_e,!1,He,Pe,Oe,je);return Ae}function re(we,_e,Le,Pe,Oe,je,ze){_e.writelen=Pe,_e.writecb=ze,_e.writing=!0,_e.sync=!0,Le?we._writev(Oe,_e.onwrite):we._write(Oe,je,_e.onwrite),_e.sync=!1}function oe(we,_e,Le,Pe){Le||function H(we,_e){0===_e.length&&_e.needDrain&&(_e.needDrain=!1,we.emit("drain"))}(we,_e),_e.pendingcb--,Pe(),Ie(we,_e)}function me(we,_e){_e.bufferProcessing=!0;var Le=_e.bufferedRequest;if(we._writev&&Le&&Le.next){var Oe=new Array(_e.bufferedRequestCount),je=_e.corkedRequestsFree;je.entry=Le;for(var ze=0,He=!0;Le;)Oe[ze]=Le,Le.isBuf||(He=!1),Le=Le.next,ze+=1;Oe.allBuffers=He,re(we,_e,!0,_e.length,Oe,"",je.finish),_e.pendingcb++,_e.lastBufferedRequest=null,je.next?(_e.corkedRequestsFree=je.next,je.next=null):_e.corkedRequestsFree=new L(_e),_e.bufferedRequestCount=0}else{for(;Le;){var Ae=Le.chunk;if(re(we,_e,!1,_e.objectMode?1:Ae.length,Ae,Le.encoding,Le.callback),Le=Le.next,_e.bufferedRequestCount--,_e.writing)break}null===Le&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=Le,_e.bufferProcessing=!1}function te(we){return we.ending&&0===we.length&&null===we.bufferedRequest&&!we.finished&&!we.writing}function ue(we,_e){we._final(function(Le){_e.pendingcb--,Le&&we.emit("error",Le),_e.prefinished=!0,we.emit("prefinish"),Ie(we,_e)})}function Ie(we,_e){var Le=te(_e);return Le&&(function Se(we,_e){!_e.prefinished&&!_e.finalCalled&&("function"==typeof we._final?(_e.pendingcb++,_e.finalCalled=!0,y.nextTick(ue,we,_e)):(_e.prefinished=!0,we.emit("prefinish")))}(we,_e),0===_e.pendingcb&&(_e.finished=!0,we.emit("finish"))),Le}h.inherits(E,v),D.prototype.getBuffer=function(){for(var _e=this.bufferedRequest,Le=[];_e;)Le.push(_e),_e=_e.next;return Le},function(){try{Object.defineProperty(D.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(we){return!!w.call(this,we)||this===E&&we&&we._writableState instanceof D}})):w=function(we){return we instanceof this},E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},E.prototype.write=function(we,_e,Le){var Pe=this._writableState,Oe=!1,je=!Pe.objectMode&&function V(we){return A.isBuffer(we)||we instanceof U}(we);return je&&!A.isBuffer(we)&&(we=function O(we){return A.from(we)}(we)),"function"==typeof _e&&(Le=_e,_e=null),je?_e="buffer":_e||(_e=Pe.defaultEncoding),"function"!=typeof Le&&(Le=P),Pe.ended?function N(we,_e){var Le=new Error("write after end");we.emit("error",Le),y.nextTick(_e,Le)}(this,Le):(je||function S(we,_e,Le,Pe){var Oe=!0,je=!1;return null===Le?je=new TypeError("May not write null values to stream"):"string"!=typeof Le&&void 0!==Le&&!_e.objectMode&&(je=new TypeError("Invalid non-string/buffer chunk")),je&&(we.emit("error",je),y.nextTick(Pe,je),Oe=!1),Oe}(this,Pe,we,Le))&&(Pe.pendingcb++,Oe=Y(this,Pe,je,we,_e,Le)),Oe},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var we=this._writableState;we.corked&&(we.corked--,!we.writing&&!we.corked&&!we.finished&&!we.bufferProcessing&&we.bufferedRequest&&me(this,we))},E.prototype.setDefaultEncoding=function(_e){if("string"==typeof _e&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_e);return this._writableState.defaultEncoding=_e,this},Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(we,_e,Le){Le(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(we,_e,Le){var Pe=this._writableState;"function"==typeof we?(Le=we,we=null,_e=null):"function"==typeof _e&&(Le=_e,_e=null),null!=we&&this.write(we,_e),Pe.corked&&(Pe.corked=1,this.uncork()),!Pe.ending&&!Pe.finished&&function le(we,_e,Le){_e.ending=!0,Ie(we,_e),Le&&(_e.finished?y.nextTick(Le):we.once("finish",Le)),_e.ended=!0,we.writable=!1}(this,Pe,Le)},Object.defineProperty(E.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(we){this._writableState&&(this._writableState.destroyed=we)}}),E.prototype.destroy=k.destroy,E.prototype._undestroy=k.undestroy,E.prototype._destroy=function(we,_e){this.end(),_e(we)}}).call(this,c(
/*! ./../../process/browser.js */
"./node_modules/process/browser.js"),c(
/*! ./../../timers-browserify/main.js */
"./node_modules/timers-browserify/main.js").setImmediate,c(
/*! ./../../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":
/*!*************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/BufferList.js ***!
                  \*************************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var b=c(
/*! safe-buffer */
"./node_modules/readable-stream/node_modules/safe-buffer/index.js").Buffer,I=c(
/*! util */
1);function y(F,L,x){F.copy(L,x)}Ze.exports=function(){function F(){(function t(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")})(this,F),this.head=null,this.tail=null,this.length=0}return F.prototype.push=function(x){var m={data:x,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length},F.prototype.unshift=function(x){var m={data:x,next:this.head};0===this.length&&(this.tail=m),this.head=m,++this.length},F.prototype.shift=function(){if(0!==this.length){var x=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,x}},F.prototype.clear=function(){this.head=this.tail=null,this.length=0},F.prototype.join=function(x){if(0===this.length)return"";for(var m=this.head,h=""+m.data;m=m.next;)h+=x+m.data;return h},F.prototype.concat=function(x){if(0===this.length)return b.alloc(0);if(1===this.length)return this.head.data;for(var m=b.allocUnsafe(x>>>0),h=this.head,p=0;h;)y(h.data,m,p),p+=h.data.length,h=h.next;return m},F}(),I&&I.inspect&&I.inspect.custom&&(Ze.exports.prototype[I.inspect.custom]=function(){var F=I.inspect({length:this.length});return this.constructor.name+" "+F})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":
/*!**********************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/destroy.js ***!
                  \**********************************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! process-nextick-args */
"./node_modules/process-nextick-args/index.js");function y(F,L){F.emit("error",L)}Ze.exports={destroy:function b(F,L){var x=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(L?L(F):F&&(!this._writableState||!this._writableState.errorEmitted)&&t.nextTick(y,this,F),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(F||null,function(p){!L&&p?(t.nextTick(y,x,p),x._writableState&&(x._writableState.errorEmitted=!0)):L&&L(p)}),this)},undestroy:function I(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":
/*!*****************************************************************************!*\
                  !*** ./node_modules/readable-stream/lib/internal/streams/stream-browser.js ***!
                  \*****************************************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=c(
/*! events */
"./node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/node_modules/safe-buffer/index.js":
/*!************************************************************************!*\
                  !*** ./node_modules/readable-stream/node_modules/safe-buffer/index.js ***!
                  \************************************************************************/
/*! no static exports found */function(Ze,C,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),b=t.Buffer;function I(F,L){for(var x in F)L[x]=F[x]}function y(F,L,x){return b(F,L,x)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?Ze.exports=t:(I(t,C),C.Buffer=y),I(b,y),y.from=function(F,L,x){if("number"==typeof F)throw new TypeError("Argument must not be a number");return b(F,L,x)},y.alloc=function(F,L,x){if("number"!=typeof F)throw new TypeError("Argument must be a number");var m=b(F);return void 0!==L?"string"==typeof x?m.fill(L,x):m.fill(L):m.fill(0),m},y.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return b(F)},y.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/readable-stream/passthrough.js":
/*!*****************************************************!*\
                  !*** ./node_modules/readable-stream/passthrough.js ***!
                  \*****************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").PassThrough},"./node_modules/readable-stream/readable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/readable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Ze,C,c){(C=Ze.exports=c(
/*! ./lib/_stream_readable.js */
"./node_modules/readable-stream/lib/_stream_readable.js")).Stream=C,C.Readable=C,C.Writable=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js"),C.Duplex=c(
/*! ./lib/_stream_duplex.js */
"./node_modules/readable-stream/lib/_stream_duplex.js"),C.Transform=c(
/*! ./lib/_stream_transform.js */
"./node_modules/readable-stream/lib/_stream_transform.js"),C.PassThrough=c(
/*! ./lib/_stream_passthrough.js */
"./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/readable-stream/transform.js":
/*!***************************************************!*\
                  !*** ./node_modules/readable-stream/transform.js ***!
                  \***************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=c(
/*! ./readable */
"./node_modules/readable-stream/readable-browser.js").Transform},"./node_modules/readable-stream/writable-browser.js":
/*!**********************************************************!*\
                  !*** ./node_modules/readable-stream/writable-browser.js ***!
                  \**********************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=c(
/*! ./lib/_stream_writable.js */
"./node_modules/readable-stream/lib/_stream_writable.js")},"./node_modules/safe-buffer/index.js":
/*!*******************************************!*\
                  !*** ./node_modules/safe-buffer/index.js ***!
                  \*******************************************/
/*! no static exports found */function(Ze,C,c){var t=c(
/*! buffer */
"./node_modules/buffer/index.js"),b=t.Buffer;function I(F,L){for(var x in F)L[x]=F[x]}function y(F,L,x){return b(F,L,x)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?Ze.exports=t:(I(t,C),C.Buffer=y),y.prototype=Object.create(b.prototype),I(b,y),y.from=function(F,L,x){if("number"==typeof F)throw new TypeError("Argument must not be a number");return b(F,L,x)},y.alloc=function(F,L,x){if("number"!=typeof F)throw new TypeError("Argument must be a number");var m=b(F);return void 0!==L?"string"==typeof x?m.fill(L,x):m.fill(L):m.fill(0),m},y.allocUnsafe=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return b(F)},y.allocUnsafeSlow=function(F){if("number"!=typeof F)throw new TypeError("Argument must be a number");return t.SlowBuffer(F)}},"./node_modules/sax/lib/sax.js":
/*!*************************************!*\
                  !*** ./node_modules/sax/lib/sax.js ***!
                  \*************************************/
/*! no static exports found */function(Ze,C,c){(function(t){!function(b){b.parser=function(K,ie){return new y(K,ie)},b.SAXParser=y,b.SAXStream=v,b.createStream=function p(K,ie){return new v(K,ie)},b.MAX_BUFFER_LENGTH=65536;var m,I=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function y(K,ie){if(!(this instanceof y))return new y(K,ie);var he=this;(function L(K){for(var ie=0,he=I.length;ie<he;ie++)K[I[ie]]=""})(he),he.q=he.c="",he.bufferCheckPosition=b.MAX_BUFFER_LENGTH,he.opt=ie||{},he.opt.lowercase=he.opt.lowercase||he.opt.lowercasetags,he.looseCase=he.opt.lowercase?"toLowerCase":"toUpperCase",he.tags=[],he.closed=he.closedRoot=he.sawRoot=!1,he.tag=he.error=null,he.strict=!!K,he.noscript=!(!K&&!he.opt.noscript),he.state=H.BEGIN,he.strictEntities=he.opt.strictEntities,he.ENTITIES=Object.create(he.strictEntities?b.XML_ENTITIES:b.ENTITIES),he.attribList=[],he.opt.xmlns&&(he.ns=Object.create(N)),he.trackPosition=!1!==he.opt.position,he.trackPosition&&(he.position=he.line=he.column=0),te(he,"onready")}b.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(K){function ie(){}return ie.prototype=K,new ie}),Object.keys||(Object.keys=function(K){var ie=[];for(var he in K)K.hasOwnProperty(he)&&ie.push(he);return ie}),y.prototype={end:function(){Me(this)},write:function ye(K){var ie=this;if(this.error)throw this.error;if(ie.closed)return le(ie,"Cannot write after close. Assign an onready handler.");if(null===K)return Me(ie);"object"==typeof K&&(K=K.toString());for(var he=0,$="";$=Ae(K,he++),ie.c=$,$;)switch(ie.trackPosition&&(ie.position++,"\n"===$?(ie.line++,ie.column=0):ie.column++),ie.state){case H.BEGIN:if(ie.state=H.BEGIN_WHITESPACE,"\ufeff"===$)continue;He(ie,$);continue;case H.BEGIN_WHITESPACE:He(ie,$);continue;case H.TEXT:if(ie.sawRoot&&!ie.closedRoot){for(var Z=he-1;$&&"<"!==$&&"&"!==$;)($=Ae(K,he++))&&ie.trackPosition&&(ie.position++,"\n"===$?(ie.line++,ie.column=0):ie.column++);ie.textNode+=K.substring(Z,he-1)}"<"!==$||ie.sawRoot&&ie.closedRoot&&!ie.strict?(oe(A,$)&&(!ie.sawRoot||ie.closedRoot)&&we(ie,"Text data outside of root node."),"&"===$?ie.state=H.TEXT_ENTITY:ie.textNode+=$):(ie.state=H.OPEN_WAKA,ie.startTagPosition=ie.position);continue;case H.SCRIPT:"<"===$?ie.state=H.SCRIPT_ENDING:ie.script+=$;continue;case H.SCRIPT_ENDING:"/"===$?ie.state=H.CLOSE_TAG:(ie.script+="<"+$,ie.state=H.SCRIPT);continue;case H.OPEN_WAKA:"!"===$?(ie.state=H.SGML_DECL,ie.sgmlDecl=""):z(A,$)||(z(S,$)?(ie.state=H.OPEN_TAG,ie.tagName=$):"/"===$?(ie.state=H.CLOSE_TAG,ie.tagName=""):"?"===$?(ie.state=H.PROC_INST,ie.procInstName=ie.procInstBody=""):(we(ie,"Unencoded <"),ie.startTagPosition+1<ie.position&&($=new Array(ie.position-ie.startTagPosition).join(" ")+$),ie.textNode+="<"+$,ie.state=H.TEXT));continue;case H.SGML_DECL:(ie.sgmlDecl+$).toUpperCase()===P?(ue(ie,"onopencdata"),ie.state=H.CDATA,ie.sgmlDecl="",ie.cdata=""):ie.sgmlDecl+$==="--"?(ie.state=H.COMMENT,ie.comment="",ie.sgmlDecl=""):(ie.sgmlDecl+$).toUpperCase()===D?(ie.state=H.DOCTYPE,(ie.doctype||ie.sawRoot)&&we(ie,"Inappropriately located doctype declaration"),ie.doctype="",ie.sgmlDecl=""):">"===$?(ue(ie,"onsgmldeclaration",ie.sgmlDecl),ie.sgmlDecl="",ie.state=H.TEXT):(z(V,$)&&(ie.state=H.SGML_DECL_QUOTED),ie.sgmlDecl+=$);continue;case H.SGML_DECL_QUOTED:$===ie.q&&(ie.state=H.SGML_DECL,ie.q=""),ie.sgmlDecl+=$;continue;case H.DOCTYPE:">"===$?(ie.state=H.TEXT,ue(ie,"ondoctype",ie.doctype),ie.doctype=!0):(ie.doctype+=$,"["===$?ie.state=H.DOCTYPE_DTD:z(V,$)&&(ie.state=H.DOCTYPE_QUOTED,ie.q=$));continue;case H.DOCTYPE_QUOTED:ie.doctype+=$,$===ie.q&&(ie.q="",ie.state=H.DOCTYPE);continue;case H.DOCTYPE_DTD:ie.doctype+=$,"]"===$?ie.state=H.DOCTYPE:z(V,$)&&(ie.state=H.DOCTYPE_DTD_QUOTED,ie.q=$);continue;case H.DOCTYPE_DTD_QUOTED:ie.doctype+=$,$===ie.q&&(ie.state=H.DOCTYPE_DTD,ie.q="");continue;case H.COMMENT:"-"===$?ie.state=H.COMMENT_ENDING:ie.comment+=$;continue;case H.COMMENT_ENDING:"-"===$?(ie.state=H.COMMENT_ENDED,ie.comment=Ie(ie.opt,ie.comment),ie.comment&&ue(ie,"oncomment",ie.comment),ie.comment=""):(ie.comment+="-"+$,ie.state=H.COMMENT);continue;case H.COMMENT_ENDED:">"!==$?(we(ie,"Malformed comment"),ie.comment+="--"+$,ie.state=H.COMMENT):ie.state=H.TEXT;continue;case H.CDATA:"]"===$?ie.state=H.CDATA_ENDING:ie.cdata+=$;continue;case H.CDATA_ENDING:"]"===$?ie.state=H.CDATA_ENDING_2:(ie.cdata+="]"+$,ie.state=H.CDATA);continue;case H.CDATA_ENDING_2:">"===$?(ie.cdata&&ue(ie,"oncdata",ie.cdata),ue(ie,"onclosecdata"),ie.cdata="",ie.state=H.TEXT):"]"===$?ie.cdata+="]":(ie.cdata+="]]"+$,ie.state=H.CDATA);continue;case H.PROC_INST:"?"===$?ie.state=H.PROC_INST_ENDING:z(A,$)?ie.state=H.PROC_INST_BODY:ie.procInstName+=$;continue;case H.PROC_INST_BODY:if(!ie.procInstBody&&z(A,$))continue;"?"===$?ie.state=H.PROC_INST_ENDING:ie.procInstBody+=$;continue;case H.PROC_INST_ENDING:">"===$?(ue(ie,"onprocessinginstruction",{name:ie.procInstName,body:ie.procInstBody}),ie.procInstName=ie.procInstBody="",ie.state=H.TEXT):(ie.procInstBody+="?"+$,ie.state=H.PROC_INST_BODY);continue;case H.OPEN_TAG:z(B,$)?ie.tagName+=$:(_e(ie),">"===$?Oe(ie):"/"===$?ie.state=H.OPEN_TAG_SLASH:(oe(A,$)&&we(ie,"Invalid character in tag name"),ie.state=H.ATTRIB));continue;case H.OPEN_TAG_SLASH:">"===$?(Oe(ie,!0),je(ie)):(we(ie,"Forward-slash in opening tag not followed by >"),ie.state=H.ATTRIB);continue;case H.ATTRIB:if(z(A,$))continue;">"===$?Oe(ie):"/"===$?ie.state=H.OPEN_TAG_SLASH:z(S,$)?(ie.attribName=$,ie.attribValue="",ie.state=H.ATTRIB_NAME):we(ie,"Invalid attribute name");continue;case H.ATTRIB_NAME:"="===$?ie.state=H.ATTRIB_VALUE:">"===$?(we(ie,"Attribute without value"),ie.attribValue=ie.attribName,Pe(ie),Oe(ie)):z(A,$)?ie.state=H.ATTRIB_NAME_SAW_WHITE:z(B,$)?ie.attribName+=$:we(ie,"Invalid attribute name");continue;case H.ATTRIB_NAME_SAW_WHITE:if("="===$)ie.state=H.ATTRIB_VALUE;else{if(z(A,$))continue;we(ie,"Attribute without value"),ie.tag.attributes[ie.attribName]="",ie.attribValue="",ue(ie,"onattribute",{name:ie.attribName,value:""}),ie.attribName="",">"===$?Oe(ie):z(S,$)?(ie.attribName=$,ie.state=H.ATTRIB_NAME):(we(ie,"Invalid attribute name"),ie.state=H.ATTRIB)}continue;case H.ATTRIB_VALUE:if(z(A,$))continue;z(V,$)?(ie.q=$,ie.state=H.ATTRIB_VALUE_QUOTED):(we(ie,"Unquoted attribute value"),ie.state=H.ATTRIB_VALUE_UNQUOTED,ie.attribValue=$);continue;case H.ATTRIB_VALUE_QUOTED:if($!==ie.q){"&"===$?ie.state=H.ATTRIB_VALUE_ENTITY_Q:ie.attribValue+=$;continue}Pe(ie),ie.q="",ie.state=H.ATTRIB_VALUE_CLOSED;continue;case H.ATTRIB_VALUE_CLOSED:z(A,$)?ie.state=H.ATTRIB:">"===$?Oe(ie):"/"===$?ie.state=H.OPEN_TAG_SLASH:z(S,$)?(we(ie,"No whitespace between attributes"),ie.attribName=$,ie.attribValue="",ie.state=H.ATTRIB_NAME):we(ie,"Invalid attribute name");continue;case H.ATTRIB_VALUE_UNQUOTED:if(oe(k,$)){"&"===$?ie.state=H.ATTRIB_VALUE_ENTITY_U:ie.attribValue+=$;continue}Pe(ie),">"===$?Oe(ie):ie.state=H.ATTRIB;continue;case H.CLOSE_TAG:if(ie.tagName)">"===$?je(ie):z(B,$)?ie.tagName+=$:ie.script?(ie.script+="</"+ie.tagName,ie.tagName="",ie.state=H.SCRIPT):(oe(A,$)&&we(ie,"Invalid tagname in closing tag"),ie.state=H.CLOSE_TAG_SAW_WHITE);else{if(z(A,$))continue;oe(S,$)?ie.script?(ie.script+="</"+$,ie.state=H.SCRIPT):we(ie,"Invalid tagname in closing tag."):ie.tagName=$}continue;case H.CLOSE_TAG_SAW_WHITE:if(z(A,$))continue;">"===$?je(ie):we(ie,"Invalid characters in closing tag");continue;case H.TEXT_ENTITY:case H.ATTRIB_VALUE_ENTITY_Q:case H.ATTRIB_VALUE_ENTITY_U:var X,Q;switch(ie.state){case H.TEXT_ENTITY:X=H.TEXT,Q="textNode";break;case H.ATTRIB_VALUE_ENTITY_Q:X=H.ATTRIB_VALUE_QUOTED,Q="attribValue";break;case H.ATTRIB_VALUE_ENTITY_U:X=H.ATTRIB_VALUE_UNQUOTED,Q="attribValue"}";"===$?(ie[Q]+=ze(ie),ie.entity="",ie.state=X):z(ie.entity.length?re:Y,$)?ie.entity+=$:(we(ie,"Invalid character in entity name"),ie[Q]+="&"+ie.entity+$,ie.entity="",ie.state=X);continue;default:throw new Error(ie,"Unknown state: "+ie.state)}return ie.position>=ie.bufferCheckPosition&&function F(K){for(var ie=Math.max(b.MAX_BUFFER_LENGTH,10),he=0,$=0,Z=I.length;$<Z;$++){var W=K[I[$]].length;if(W>ie)switch(I[$]){case"textNode":Se(K);break;case"cdata":ue(K,"oncdata",K.cdata),K.cdata="";break;case"script":ue(K,"onscript",K.script),K.script="";break;default:le(K,"Max buffer length exceeded: "+I[$])}he=Math.max(he,W)}K.bufferCheckPosition=b.MAX_BUFFER_LENGTH-he+K.position}(ie),ie},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function x(K){Se(K),""!==K.cdata&&(ue(K,"oncdata",K.cdata),K.cdata=""),""!==K.script&&(ue(K,"onscript",K.script),K.script="")}(this)}};try{m=c(
/*! stream */
"./node_modules/stream-browserify/index.js").Stream}catch{m=function(){}}var h=b.EVENTS.filter(function(K){return"error"!==K&&"end"!==K});function v(K,ie){if(!(this instanceof v))return new v(K,ie);m.apply(this),this._parser=new y(K,ie),this.writable=!0,this.readable=!0;var he=this;this._parser.onend=function(){he.emit("end")},this._parser.onerror=function($){he.emit("error",$),he._parser.error=null},this._decoder=null,h.forEach(function($){Object.defineProperty(he,"on"+$,{get:function(){return he._parser["on"+$]},set:function(Z){if(!Z)return he.removeAllListeners($),he._parser["on"+$]=Z,Z;he.on($,Z)},enumerable:!0,configurable:!1})})}(v.prototype=Object.create(m.prototype,{constructor:{value:v}})).write=function(K){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(K)){if(!this._decoder){var ie=c(
/*! string_decoder */
"./node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._decoder=new ie("utf8")}K=this._decoder.write(K)}return this._parser.write(K.toString()),this.emit("data",K),!0},v.prototype.end=function(K){return K&&K.length&&this.write(K),this._parser.end(),!0},v.prototype.on=function(K,ie){var he=this;return!he._parser["on"+K]&&-1!==h.indexOf(K)&&(he._parser["on"+K]=function(){var $=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);$.splice(0,0,K),he.emit.apply(he,$)}),m.prototype.on.call(he,K,ie)};var A="\r\n\t ",U="0124356789",O="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V="'\"",k=A+">",P="[CDATA[",D="DOCTYPE",w="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",N={xml:w,xmlns:E};A=ae(A),U=ae(U),O=ae(O);var S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,re=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function ae(K){return K.split("").reduce(function(ie,he){return ie[he]=!0,ie},{})}function z(K,ie){return function Re(K){return"[object RegExp]"===Object.prototype.toString.call(K)}(K)?!!ie.match(K):K[ie]}function oe(K,ie){return!z(K,ie)}V=ae(V),k=ae(k);var K,ie,he,H=0;for(var me in b.STATE={BEGIN:H++,BEGIN_WHITESPACE:H++,TEXT:H++,TEXT_ENTITY:H++,OPEN_WAKA:H++,SGML_DECL:H++,SGML_DECL_QUOTED:H++,DOCTYPE:H++,DOCTYPE_QUOTED:H++,DOCTYPE_DTD:H++,DOCTYPE_DTD_QUOTED:H++,COMMENT_STARTING:H++,COMMENT:H++,COMMENT_ENDING:H++,COMMENT_ENDED:H++,CDATA:H++,CDATA_ENDING:H++,CDATA_ENDING_2:H++,PROC_INST:H++,PROC_INST_BODY:H++,PROC_INST_ENDING:H++,OPEN_TAG:H++,OPEN_TAG_SLASH:H++,ATTRIB:H++,ATTRIB_NAME:H++,ATTRIB_NAME_SAW_WHITE:H++,ATTRIB_VALUE:H++,ATTRIB_VALUE_QUOTED:H++,ATTRIB_VALUE_CLOSED:H++,ATTRIB_VALUE_UNQUOTED:H++,ATTRIB_VALUE_ENTITY_Q:H++,ATTRIB_VALUE_ENTITY_U:H++,CLOSE_TAG:H++,CLOSE_TAG_SAW_WHITE:H++,SCRIPT:H++,SCRIPT_ENDING:H++},b.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},b.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(b.ENTITIES).forEach(function(K){var ie=b.ENTITIES[K],he="number"==typeof ie?String.fromCharCode(ie):ie;b.ENTITIES[K]=he}),b.STATE)b.STATE[b.STATE[me]]=me;function te(K,ie,he){K[ie]&&K[ie](he)}function ue(K,ie,he){K.textNode&&Se(K),te(K,ie,he)}function Se(K){K.textNode=Ie(K.opt,K.textNode),K.textNode&&te(K,"ontext",K.textNode),K.textNode=""}function Ie(K,ie){return K.trim&&(ie=ie.trim()),K.normalize&&(ie=ie.replace(/\s+/g," ")),ie}function le(K,ie){return Se(K),K.trackPosition&&(ie+="\nLine: "+K.line+"\nColumn: "+K.column+"\nChar: "+K.c),ie=new Error(ie),K.error=ie,te(K,"onerror",ie),K}function Me(K){return K.sawRoot&&!K.closedRoot&&we(K,"Unclosed root tag"),K.state!==H.BEGIN&&K.state!==H.BEGIN_WHITESPACE&&K.state!==H.TEXT&&le(K,"Unexpected end"),Se(K),K.c="",K.closed=!0,te(K,"onend"),y.call(K,K.strict,K.opt),K}function we(K,ie){if("object"!=typeof K||!(K instanceof y))throw new Error("bad call to strictFail");K.strict&&le(K,ie)}function _e(K){K.strict||(K.tagName=K.tagName[K.looseCase]());var ie=K.tags[K.tags.length-1]||K,he=K.tag={name:K.tagName,attributes:{}};K.opt.xmlns&&(he.ns=ie.ns),K.attribList.length=0,ue(K,"onopentagstart",he)}function Le(K,ie){var $=K.indexOf(":")<0?["",K]:K.split(":"),Z=$[0],W=$[1];return ie&&"xmlns"===K&&(Z="xmlns",W=""),{prefix:Z,local:W}}function Pe(K){if(K.strict||(K.attribName=K.attribName[K.looseCase]()),-1!==K.attribList.indexOf(K.attribName)||K.tag.attributes.hasOwnProperty(K.attribName))K.attribName=K.attribValue="";else{if(K.opt.xmlns){var ie=Le(K.attribName,!0),$=ie.local;if("xmlns"===ie.prefix)if("xml"===$&&K.attribValue!==w)we(K,"xml: prefix must be bound to "+w+"\nActual: "+K.attribValue);else if("xmlns"===$&&K.attribValue!==E)we(K,"xmlns: prefix must be bound to "+E+"\nActual: "+K.attribValue);else{var Z=K.tag,W=K.tags[K.tags.length-1]||K;Z.ns===W.ns&&(Z.ns=Object.create(W.ns)),Z.ns[$]=K.attribValue}K.attribList.push([K.attribName,K.attribValue])}else K.tag.attributes[K.attribName]=K.attribValue,ue(K,"onattribute",{name:K.attribName,value:K.attribValue});K.attribName=K.attribValue=""}}function Oe(K,ie){if(K.opt.xmlns){var he=K.tag,$=Le(K.tagName);he.prefix=$.prefix,he.local=$.local,he.uri=he.ns[$.prefix]||"",he.prefix&&!he.uri&&(we(K,"Unbound namespace prefix: "+JSON.stringify(K.tagName)),he.uri=$.prefix),he.ns&&(K.tags[K.tags.length-1]||K).ns!==he.ns&&Object.keys(he.ns).forEach(function(Be){ue(K,"onopennamespace",{prefix:Be,uri:he.ns[Be]})});for(var W=0,X=K.attribList.length;W<X;W++){var Q=K.attribList[W],q=Q[0],J=Q[1],de=Le(q,!0),ge=de.prefix,Ce=""===ge?"":he.ns[ge]||"",Ye={name:q,value:J,prefix:ge,local:de.local,uri:Ce};ge&&"xmlns"!==ge&&!Ce&&(we(K,"Unbound namespace prefix: "+JSON.stringify(ge)),Ye.uri=ge),K.tag.attributes[q]=Ye,ue(K,"onattribute",Ye)}K.attribList.length=0}K.tag.isSelfClosing=!!ie,K.sawRoot=!0,K.tags.push(K.tag),ue(K,"onopentag",K.tag),ie||(K.state=K.noscript||"script"!==K.tagName.toLowerCase()?H.TEXT:H.SCRIPT,K.tag=null,K.tagName=""),K.attribName=K.attribValue="",K.attribList.length=0}function je(K){if(!K.tagName)return we(K,"Weird empty close tag."),K.textNode+="</>",void(K.state=H.TEXT);if(K.script){if("script"!==K.tagName)return K.script+="</"+K.tagName+">",K.tagName="",void(K.state=H.SCRIPT);ue(K,"onscript",K.script),K.script=""}var ie=K.tags.length,he=K.tagName;K.strict||(he=he[K.looseCase]());for(var $=he;ie--&&K.tags[ie].name!==$;)we(K,"Unexpected close tag");if(ie<0)return we(K,"Unmatched closing tag: "+K.tagName),K.textNode+="</"+K.tagName+">",void(K.state=H.TEXT);K.tagName=he;for(var W=K.tags.length;W-- >ie;){var X=K.tag=K.tags.pop();K.tagName=K.tag.name,ue(K,"onclosetag",K.tagName);var Q={};for(var q in X.ns)Q[q]=X.ns[q];K.opt.xmlns&&X.ns!==(K.tags[K.tags.length-1]||K).ns&&Object.keys(X.ns).forEach(function(de){ue(K,"onclosenamespace",{prefix:de,uri:X.ns[de]})})}0===ie&&(K.closedRoot=!0),K.tagName=K.attribValue=K.attribName="",K.attribList.length=0,K.state=H.TEXT}function ze(K){var $,ie=K.entity,he=ie.toLowerCase(),Z="";return K.ENTITIES[ie]?K.ENTITIES[ie]:K.ENTITIES[he]?K.ENTITIES[he]:("#"===(ie=he).charAt(0)&&("x"===ie.charAt(1)?(ie=ie.slice(2),Z=($=parseInt(ie,16)).toString(16)):(ie=ie.slice(1),Z=($=parseInt(ie,10)).toString(10))),ie=ie.replace(/^0+/,""),Z.toLowerCase()!==ie?(we(K,"Invalid character entity"),"&"+K.entity+";"):String.fromCodePoint($))}function He(K,ie){"<"===ie?(K.state=H.OPEN_WAKA,K.startTagPosition=K.position):oe(A,ie)&&(we(K,"Non-whitespace before first tag."),K.textNode=ie,K.state=H.TEXT)}function Ae(K,ie){var he="";return ie<K.length&&(he=K.charAt(ie)),he}H=b.STATE,String.fromCodePoint||(K=String.fromCharCode,ie=Math.floor,he=function(){var Z=[],Q=-1,q=arguments.length;if(!q)return"";for(var J="";++Q<q;){var de=Number(arguments[Q]);if(!isFinite(de)||de<0||de>1114111||ie(de)!==de)throw RangeError("Invalid code point: "+de);de<=65535?Z.push(de):Z.push(55296+((de-=65536)>>10),de%1024+56320),(Q+1===q||Z.length>16384)&&(J+=K.apply(null,Z),Z.length=0)}return J},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:he,configurable:!0,writable:!0}):String.fromCodePoint=he)}(C)}).call(this,c(
/*! ./../../buffer/index.js */
"./node_modules/buffer/index.js").Buffer)},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
                  !*** ./node_modules/setimmediate/setImmediate.js ***!
                  \***************************************************/
/*! no static exports found */function(Ze,C,c){(function(t,b){!function(I,y){"use strict";if(!I.setImmediate){var h,F=1,L={},x=!1,m=I.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(I);E=E&&E.setTimeout?E:I,"[object process]"==={}.toString.call(I.process)?function O(){h=function(N){b.nextTick(function(){U(N)})}}():function V(){if(I.postMessage&&!I.importScripts){var N=!0,S=I.onmessage;return I.onmessage=function(){N=!1},I.postMessage("","*"),I.onmessage=S,N}}()?function k(){var N="setImmediate$"+Math.random()+"$",S=function(B){B.source===I&&"string"==typeof B.data&&0===B.data.indexOf(N)&&U(+B.data.slice(N.length))};I.addEventListener?I.addEventListener("message",S,!1):I.attachEvent("onmessage",S),h=function(B){I.postMessage(N+B,"*")}}():I.MessageChannel?function P(){var N=new MessageChannel;N.port1.onmessage=function(S){U(S.data)},h=function(S){N.port2.postMessage(S)}}():m&&"onreadystatechange"in m.createElement("script")?function D(){var N=m.documentElement;h=function(S){var B=m.createElement("script");B.onreadystatechange=function(){U(S),B.onreadystatechange=null,N.removeChild(B),B=null},N.appendChild(B)}}():function w(){h=function(N){setTimeout(U,0,N)}}(),E.setImmediate=function p(N){"function"!=typeof N&&(N=new Function(""+N));for(var S=new Array(arguments.length-1),B=0;B<S.length;B++)S[B]=arguments[B+1];return L[F]={callback:N,args:S},h(F),F++},E.clearImmediate=v}function v(N){delete L[N]}function U(N){if(x)setTimeout(U,0,N);else{var S=L[N];if(S){x=!0;try{!function A(N){var S=N.callback,B=N.args;switch(B.length){case 0:S();break;case 1:S(B[0]);break;case 2:S(B[0],B[1]);break;case 3:S(B[0],B[1],B[2]);break;default:S.apply(y,B)}}(S)}finally{v(N),x=!1}}}}}(typeof self>"u"?typeof t>"u"?this:t:self)}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"),c(
/*! ./../process/browser.js */
"./node_modules/process/browser.js"))},"./node_modules/stream-browserify/index.js":
/*!*************************************************!*\
                  !*** ./node_modules/stream-browserify/index.js ***!
                  \*************************************************/
/*! no static exports found */function(Ze,C,c){Ze.exports=I;var t=c(
/*! events */
"./node_modules/events/events.js").EventEmitter;function I(){t.call(this)}c(
/*! inherits */
"./node_modules/inherits/inherits_browser.js")(I,t),I.Readable=c(
/*! readable-stream/readable.js */
"./node_modules/readable-stream/readable-browser.js"),I.Writable=c(
/*! readable-stream/writable.js */
"./node_modules/readable-stream/writable-browser.js"),I.Duplex=c(
/*! readable-stream/duplex.js */
"./node_modules/readable-stream/duplex-browser.js"),I.Transform=c(
/*! readable-stream/transform.js */
"./node_modules/readable-stream/transform.js"),I.PassThrough=c(
/*! readable-stream/passthrough.js */
"./node_modules/readable-stream/passthrough.js"),I.Stream=I,I.prototype.pipe=function(y,F){var L=this;function x(O){y.writable&&!1===y.write(O)&&L.pause&&L.pause()}function m(){L.readable&&L.resume&&L.resume()}L.on("data",x),y.on("drain",m),!y._isStdio&&(!F||!1!==F.end)&&(L.on("end",p),L.on("close",v));var h=!1;function p(){h||(h=!0,y.end())}function v(){h||(h=!0,"function"==typeof y.destroy&&y.destroy())}function A(O){if(U(),0===t.listenerCount(this,"error"))throw O}function U(){L.removeListener("data",x),y.removeListener("drain",m),L.removeListener("end",p),L.removeListener("close",v),L.removeListener("error",A),y.removeListener("error",A),L.removeListener("end",U),L.removeListener("close",U),y.removeListener("close",U)}return L.on("error",A),y.on("error",A),L.on("end",U),L.on("close",U),y.on("close",U),y.emit("pipe",L),y}},"./node_modules/string_decoder/lib/string_decoder.js":
/*!***********************************************************!*\
                  !*** ./node_modules/string_decoder/lib/string_decoder.js ***!
                  \***********************************************************/
/*! no static exports found */function(Ze,C,c){"use strict";var t=c(
/*! safe-buffer */
"./node_modules/safe-buffer/index.js").Buffer,b=t.isEncoding||function(D){switch((D=""+D)&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function F(D){var w;switch(this.encoding=function y(D){var w=function I(D){if(!D)return"utf8";for(var w;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(w)return;D=(""+D).toLowerCase(),w=!0}}(D);if("string"!=typeof w&&(t.isEncoding===b||!b(D)))throw new Error("Unknown encoding: "+D);return w||D}(D),this.encoding){case"utf16le":this.text=A,this.end=U,w=4;break;case"utf8":this.fillLast=h,w=4;break;case"base64":this.text=O,this.end=V,w=3;break;default:return this.write=k,void(this.end=P)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(w)}function L(D){return D<=127?0:D>>5==6?2:D>>4==14?3:D>>3==30?4:D>>6==2?-1:-2}function h(D){var w=this.lastTotal-this.lastNeed,E=function m(D,w,E){if(128!=(192&w[0]))return D.lastNeed=0,"\ufffd";if(D.lastNeed>1&&w.length>1){if(128!=(192&w[1]))return D.lastNeed=1,"\ufffd";if(D.lastNeed>2&&w.length>2&&128!=(192&w[2]))return D.lastNeed=2,"\ufffd"}}(this,D);return void 0!==E?E:this.lastNeed<=D.length?(D.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(D.copy(this.lastChar,w,0,D.length),void(this.lastNeed-=D.length))}function A(D,w){if((D.length-w)%2==0){var E=D.toString("utf16le",w);if(E){var N=E.charCodeAt(E.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",w,D.length-1)}function U(D){var w=D&&D.length?this.write(D):"";return this.lastNeed?w+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):w}function O(D,w){var E=(D.length-w)%3;return 0===E?D.toString("base64",w):(this.lastNeed=3-E,this.lastTotal=3,1===E?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",w,D.length-E))}function V(D){var w=D&&D.length?this.write(D):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function k(D){return D.toString(this.encoding)}function P(D){return D&&D.length?this.write(D):""}C.StringDecoder=F,F.prototype.write=function(D){if(0===D.length)return"";var w,E;if(this.lastNeed){if(void 0===(w=this.fillLast(D)))return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<D.length?w?w+this.text(D,E):this.text(D,E):w||""},F.prototype.end=function v(D){var w=D&&D.length?this.write(D):"";return this.lastNeed?w+"\ufffd":w},F.prototype.text=function p(D,w){var E=function x(D,w,E){var N=w.length-1;if(N<E)return 0;var S=L(w[N]);return S>=0?(S>0&&(D.lastNeed=S-1),S):--N<E||-2===S?0:(S=L(w[N]))>=0?(S>0&&(D.lastNeed=S-2),S):--N<E||-2===S?0:(S=L(w[N]))>=0?(S>0&&(2===S?S=0:D.lastNeed=S-3),S):0}(this,D,w);if(!this.lastNeed)return D.toString("utf8",w);this.lastTotal=E;var N=D.length-(E-this.lastNeed);return D.copy(this.lastChar,0,N),D.toString("utf8",w,N)},F.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length}},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
                  !*** ./node_modules/timers-browserify/main.js ***!
                  \************************************************/
/*! no static exports found */function(Ze,C,c){(function(t){var b=typeof t<"u"&&t||typeof self<"u"&&self||window,I=Function.prototype.apply;function y(F,L){this._id=F,this._clearFn=L}C.setTimeout=function(){return new y(I.call(setTimeout,b,arguments),clearTimeout)},C.setInterval=function(){return new y(I.call(setInterval,b,arguments),clearInterval)},C.clearTimeout=C.clearInterval=function(F){F&&F.close()},y.prototype.unref=y.prototype.ref=function(){},y.prototype.close=function(){this._clearFn.call(b,this._id)},C.enroll=function(F,L){clearTimeout(F._idleTimeoutId),F._idleTimeout=L},C.unenroll=function(F){clearTimeout(F._idleTimeoutId),F._idleTimeout=-1},C._unrefActive=C.active=function(F){clearTimeout(F._idleTimeoutId);var L=F._idleTimeout;L>=0&&(F._idleTimeoutId=setTimeout(function(){F._onTimeout&&F._onTimeout()},L))},c(
/*! setimmediate */
"./node_modules/setimmediate/setImmediate.js"),C.setImmediate=typeof self<"u"&&self.setImmediate||typeof t<"u"&&t.setImmediate||this&&this.setImmediate,C.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof t<"u"&&t.clearImmediate||this&&this.clearImmediate}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/ua-parser-js/src/ua-parser.js":
/*!****************************************************!*\
                  !*** ./node_modules/ua-parser-js/src/ua-parser.js ***!
                  \****************************************************/
/*! no static exports found */function(Ze,C,c){var t;!function(b,I){"use strict";var x="function",m="undefined",h="object",p="string",A="model",U="name",O="type",V="vendor",k="version",P="architecture",D="console",w="mobile",E="tablet",N="smarttv",S="wearable",B="embedded",re="Amazon",ae="Apple",z="BlackBerry",oe="Browser",H="Chrome",te="Firefox",ue="Google",le="Microsoft",Me="Motorola",we="Opera",_e="Samsung",Pe="Sony",Oe="Xiaomi",je="Zebra",ze="Facebook",Ae=function(ge){for(var ce={},Ce=0;Ce<ge.length;Ce++)ce[ge[Ce].toUpperCase()]=ge[Ce];return ce},ye=function(ge,ce){return typeof ge===p&&-1!==K(ce).indexOf(K(ge))},K=function(ge){return ge.toLowerCase()},he=function(ge,ce){if(typeof ge===p)return ge=ge.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof ce===m?ge:ge.substring(0,350)},$=function(ge,ce){for(var Ye,Be,$e,Qe,qe,dt,Ce=0;Ce<ce.length&&!qe;){var It=ce[Ce],_t=ce[Ce+1];for(Ye=Be=0;Ye<It.length&&!qe;)if(qe=It[Ye++].exec(ge))for($e=0;$e<_t.length;$e++)dt=qe[++Be],typeof(Qe=_t[$e])===h&&Qe.length>0?2===Qe.length?this[Qe[0]]=typeof Qe[1]==x?Qe[1].call(this,dt):Qe[1]:3===Qe.length?this[Qe[0]]=typeof Qe[1]!==x||Qe[1].exec&&Qe[1].test?dt?dt.replace(Qe[1],Qe[2]):I:dt?Qe[1].call(this,dt,Qe[2]):I:4===Qe.length&&(this[Qe[0]]=dt?Qe[3].call(this,dt.replace(Qe[1],Qe[2])):I):this[Qe]=dt||I;Ce+=2}},Z=function(ge,ce){for(var Ce in ce)if(typeof ce[Ce]===h&&ce[Ce].length>0){for(var Ye=0;Ye<ce[Ce].length;Ye++)if(ye(ce[Ce][Ye],ge))return"?"===Ce?I:Ce}else if(ye(ce[Ce],ge))return"?"===Ce?I:Ce;return ge},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[U,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[U,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[U,k],[/opios[\/ ]+([\w\.]+)/i],[k,[U,we+" Mini"]],[/\bopr\/([\w\.]+)/i],[k,[U,we]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[U,k],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[U,"UC"+oe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[k,[U,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[k,[U,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[U,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[U,"IE"]],[/yabrowser\/([\w\.]+)/i],[k,[U,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[U,/(.+)/,"$1 Secure "+oe],k],[/\bfocus\/([\w\.]+)/i],[k,[U,te+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[U,we+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[U,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[U,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[U,we+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[U,"MIUI "+oe]],[/fxios\/([-\w\.]+)/i],[k,[U,te]],[/\bqihu|(qi?ho?o?|360)browser/i],[[U,"360 "+oe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[U,/(.+)/,"$1 "+oe],k],[/(comodo_dragon)\/([\w\.]+)/i],[[U,/_/g," "],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[U,k],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[U],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[U,ze],k],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[U,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[U,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[U,H+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[U,H+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[U,"Android "+oe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[U,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[U,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,U],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[U,[k,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[U,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[U,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[U,te+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[U,k]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[P,"amd64"]],[/(ia32(?=;))/i],[[P,K]],[/((?:i[346]|x)86)[;\)]/i],[[P,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[P,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[P,"armhf"]],[/windows (ce|mobile); ppc;/i],[[P,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[P,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[P,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[P,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[A,[V,_e],[O,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[A,[V,_e],[O,w]],[/\((ip(?:hone|od)[\w ]*);/i],[A,[V,ae],[O,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[A,[V,ae],[O,E]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[A,[V,"Huawei"],[O,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[A,[V,"Huawei"],[O,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[A,/_/g," "],[V,Oe],[O,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[A,/_/g," "],[V,Oe],[O,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[A,[V,"OPPO"],[O,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[A,[V,"Vivo"],[O,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[A,[V,"Realme"],[O,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[A,[V,Me],[O,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[A,[V,Me],[O,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[A,[V,"LG"],[O,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[A,[V,"LG"],[O,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[A,[V,"Lenovo"],[O,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[A,/_/g," "],[V,"Nokia"],[O,w]],[/(pixel c)\b/i],[A,[V,ue],[O,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[A,[V,ue],[O,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[A,[V,Pe],[O,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[A,"Xperia Tablet"],[V,Pe],[O,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[A,[V,"OnePlus"],[O,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[A,[V,re],[O,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[A,/(.+)/g,"Fire Phone $1"],[V,re],[O,w]],[/(playbook);[-\w\),; ]+(rim)/i],[A,V,[O,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[A,[V,z],[O,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[A,[V,"ASUS"],[O,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[A,[V,"ASUS"],[O,w]],[/(nexus 9)/i],[A,[V,"HTC"],[O,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[V,[A,/_/g," "],[O,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[A,[V,"Acer"],[O,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[A,[V,"Meizu"],[O,w]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[A,[V,"Sharp"],[O,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[V,A,[O,w]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[V,A,[O,E]],[/(surface duo)/i],[A,[V,le],[O,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[A,[V,"Fairphone"],[O,w]],[/(u304aa)/i],[A,[V,"AT&T"],[O,w]],[/\bsie-(\w*)/i],[A,[V,"Siemens"],[O,w]],[/\b(rct\w+) b/i],[A,[V,"RCA"],[O,E]],[/\b(venue[\d ]{2,7}) b/i],[A,[V,"Dell"],[O,E]],[/\b(q(?:mv|ta)\w+) b/i],[A,[V,"Verizon"],[O,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[A,[V,"Barnes & Noble"],[O,E]],[/\b(tm\d{3}\w+) b/i],[A,[V,"NuVision"],[O,E]],[/\b(k88) b/i],[A,[V,"ZTE"],[O,E]],[/\b(nx\d{3}j) b/i],[A,[V,"ZTE"],[O,w]],[/\b(gen\d{3}) b.+49h/i],[A,[V,"Swiss"],[O,w]],[/\b(zur\d{3}) b/i],[A,[V,"Swiss"],[O,E]],[/\b((zeki)?tb.*\b) b/i],[A,[V,"Zeki"],[O,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[V,"Dragon Touch"],A,[O,E]],[/\b(ns-?\w{0,9}) b/i],[A,[V,"Insignia"],[O,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[A,[V,"NextBook"],[O,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[V,"Voice"],A,[O,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[V,"LvTel"],A,[O,w]],[/\b(ph-1) /i],[A,[V,"Essential"],[O,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[A,[V,"Envizen"],[O,E]],[/\b(trio[-\w\. ]+) b/i],[A,[V,"MachSpeed"],[O,E]],[/\btu_(1491) b/i],[A,[V,"Rotor"],[O,E]],[/(shield[\w ]+) b/i],[A,[V,"Nvidia"],[O,E]],[/(sprint) (\w+)/i],[V,A,[O,w]],[/(kin\.[onetw]{3})/i],[[A,/\./g," "],[V,le],[O,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[A,[V,je],[O,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[A,[V,je],[O,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[V,A,[O,D]],[/droid.+; (shield) bui/i],[A,[V,"Nvidia"],[O,D]],[/(playstation [345portablevi]+)/i],[A,[V,Pe],[O,D]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[A,[V,le],[O,D]],[/smart-tv.+(samsung)/i],[V,[O,N]],[/hbbtv.+maple;(\d+)/i],[[A,/^/,"SmartTV"],[V,_e],[O,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[V,"LG"],[O,N]],[/(apple) ?tv/i],[V,[A,ae+" TV"],[O,N]],[/crkey/i],[[A,H+"cast"],[V,ue],[O,N]],[/droid.+aft(\w)( bui|\))/i],[A,[V,re],[O,N]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[A,[V,"Sharp"],[O,N]],[/(bravia[\w ]+)( bui|\))/i],[A,[V,Pe],[O,N]],[/(mitv-\w{5}) bui/i],[A,[V,Oe],[O,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[V,he],[A,he],[O,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[O,N]],[/((pebble))app/i],[V,A,[O,S]],[/droid.+; (glass) \d/i],[A,[V,ue],[O,S]],[/droid.+; (wt63?0{2,3})\)/i],[A,[V,je],[O,S]],[/(quest( 2)?)/i],[A,[V,ze],[O,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[V,[O,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[A,[O,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[A,[O,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[O,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[O,w]],[/(android[-\w\. ]{0,9});.+buil/i],[A,[V,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[U,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[U,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[U,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,U]],os:[[/microsoft (windows) (vista|xp)/i],[U,k],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[U,[k,Z,X]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[U,"Windows"],[k,Z,X]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[U,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[U,"Mac OS"],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,U],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[U,k],[/\(bb(10);/i],[k,[U,z]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[U,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[U,te+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[U,"webOS"]],[/crkey\/([\d\.]+)/i],[k,[U,H+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[U,"Chromium OS"],k],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[U,k],[/(sunos) ?([\w\.\d]*)/i],[[U,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[U,k]]},q=function(ge,ce){if(typeof ge===h&&(ce=ge,ge=I),!(this instanceof q))return new q(ge,ce).getResult();var Ce=ge||(typeof b!==m&&b.navigator&&b.navigator.userAgent?b.navigator.userAgent:""),Ye=ce?function(ge,ce){var Ce={};for(var Ye in ge)Ce[Ye]=ce[Ye]&&ce[Ye].length%2==0?ce[Ye].concat(ge[Ye]):ge[Ye];return Ce}(Q,ce):Q;return this.getBrowser=function(){var Be={};return Be[U]=I,Be[k]=I,$.call(Be,Ce,Ye.browser),Be.major=function(ge){return typeof ge===p?ge.replace(/[^\d\.]/g,"").split(".")[0]:I}(Be.version),Be},this.getCPU=function(){var Be={};return Be[P]=I,$.call(Be,Ce,Ye.cpu),Be},this.getDevice=function(){var Be={};return Be[V]=I,Be[A]=I,Be[O]=I,$.call(Be,Ce,Ye.device),Be},this.getEngine=function(){var Be={};return Be[U]=I,Be[k]=I,$.call(Be,Ce,Ye.engine),Be},this.getOS=function(){var Be={};return Be[U]=I,Be[k]=I,$.call(Be,Ce,Ye.os),Be},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ce},this.setUA=function(Be){return Ce=typeof Be===p&&Be.length>350?he(Be,350):Be,this},this.setUA(Ce),this};q.VERSION="1.0.32",q.BROWSER=Ae([U,k,"major"]),q.CPU=Ae([P]),q.DEVICE=Ae([A,V,O,D,w,N,E,S,B]),q.ENGINE=q.OS=Ae([U,k]),typeof C!==m?(typeof Ze!==m&&Ze.exports&&(C=Ze.exports=q),C.UAParser=q):c(
/*! !webpack amd options */
"./node_modules/webpack/buildin/amd-options.js")?(t=function(){return q}.call(C,c,C,Ze))!==I&&(Ze.exports=t):typeof b!==m&&(b.UAParser=q);var J=typeof b!==m&&(b.jQuery||b.Zepto);if(J&&!J.ua){var de=new q;J.ua=de.getResult(),J.ua.get=function(){return de.getUA()},J.ua.set=function(ge){de.setUA(ge);var ce=de.getResult();for(var Ce in ce)J.ua[Ce]=ce[Ce]}}}("object"==typeof window?window:this)},"./node_modules/util-deprecate/browser.js":
/*!************************************************!*\
                  !*** ./node_modules/util-deprecate/browser.js ***!
                  \************************************************/
/*! no static exports found */function(Ze,C,c){(function(t){function I(y){try{if(!t.localStorage)return!1}catch{return!1}var F=t.localStorage[y];return null!=F&&"true"===String(F).toLowerCase()}Ze.exports=function b(y,F){if(I("noDeprecation"))return y;var L=!1;return function x(){if(!L){if(I("throwDeprecation"))throw new Error(F);I("traceDeprecation")?console.trace(F):console.warn(F),L=!0}return y.apply(this,arguments)}}}).call(this,c(
/*! ./../webpack/buildin/global.js */
"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
                  !*** (webpack)/buildin/amd-options.js ***!
                  \****************************************/
/*! no static exports found */function(Ze,C){(function(c){Ze.exports=c}).call(this,{})},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
                  !*** (webpack)/buildin/global.js ***!
                  \***********************************/
/*! no static exports found */function(Ze,C){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{"object"==typeof window&&(c=window)}Ze.exports=c},"./src/core/Debug.js":
/*!***************************!*\
                  !*** ./src/core/Debug.js ***!
                  \***************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./EventBus */
"./src/core/EventBus.js"),b=c(
/*! ./events/Events */
"./src/core/events/Events.js"),I=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),F=1,L=2,x=3,m=4,h=5;function p(A){A=A||{};var P,D,w,E,U=this.context,O=Object(t.default)(U).getInstance(),V=A.settings,k=[];function S(te){return te&&te.bind?te.bind(window.console):window.console.log.bind(window.console)}function ae(){for(var te=arguments.length,ue=new Array(te),Se=0;Se<te;Se++)ue[Se]=arguments[Se];me.apply(void 0,[F,this].concat(ue))}function Re(){for(var te=arguments.length,ue=new Array(te),Se=0;Se<te;Se++)ue[Se]=arguments[Se];me.apply(void 0,[L,this].concat(ue))}function z(){for(var te=arguments.length,ue=new Array(te),Se=0;Se<te;Se++)ue[Se]=arguments[Se];me.apply(void 0,[x,this].concat(ue))}function oe(){for(var te=arguments.length,ue=new Array(te),Se=0;Se<te;Se++)ue[Se]=arguments[Se];me.apply(void 0,[m,this].concat(ue))}function H(){for(var te=arguments.length,ue=new Array(te),Se=0;Se<te;Se++)ue[Se]=arguments[Se];me.apply(void 0,[h,this].concat(ue))}function me(te,ue){var Se="",Ie=null;D&&(Ie=(new Date).getTime(),Se+="["+(Ie-E)+"]"),w&&ue&&ue.getClassName&&(Se+="["+ue.getClassName()+"]",ue.getType&&(Se+="["+ue.getType()+"]")),Se.length>0&&(Se+=" ");for(var le=arguments.length,Me=new Array(le>2?le-2:0),we=2;we<le;we++)Me[we-2]=arguments[we];Array.apply(null,Me).forEach(function(_e){Se+=_e+" "}),k[te]&&V.get().debug.logLevel>=te&&k[te](Se),V&&V.get().debug.dispatchEvent&&O.trigger(b.default.LOG,{message:Se,level:te})}return P={getLogger:function B(te){return{fatal:ae.bind(te),error:Re.bind(te),warn:z.bind(te),info:oe.bind(te),debug:H.bind(te)}},setLogTimestampVisible:function Y(te){D=te},setCalleeNameVisible:function re(te){w=te}},function N(){D=!0,w=!0,E=(new Date).getTime(),typeof window<"u"&&window.console&&(k[F]=S(window.console.error),k[L]=S(window.console.error),k[x]=S(window.console.warn),k[m]=S(window.console.info),k[h]=S(window.console.debug))}(),P}p.__dashjs_factory_name="Debug";var v=I.default.getSingletonFactory(p);v.LOG_LEVEL_NONE=0,v.LOG_LEVEL_FATAL=F,v.LOG_LEVEL_ERROR=L,v.LOG_LEVEL_WARNING=x,v.LOG_LEVEL_INFO=m,v.LOG_LEVEL_DEBUG=h,I.default.updateSingletonFactory(p.__dashjs_factory_name,v),C.default=v},"./src/core/EventBus.js":
/*!******************************!*\
                  !*** ./src/core/EventBus.js ***!
                  \******************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function F(){var x={};function v(O,V,k){var P=-1;return x[O]&&x[O].some(function(D,w){if(D&&D.callback===V&&(!k||k===D.scope))return P=w,!0}),P}return{on:function m(O,V,k){var P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!O)throw new Error("event type cannot be null or undefined");if(!V||"function"!=typeof V)throw new Error("listener must be a function: "+V);var D=P.priority||0;if(!(v(O,V,k)>=0)){x[O]=x[O]||[];var w={callback:V,scope:k,priority:D};k&&k.getStreamId&&(w.streamId=k.getStreamId()),k&&k.getType&&(w.mediaType=k.getType()),P&&P.mode&&(w.mode=P.mode),x[O].some(function(N,S){if(N&&D>N.priority)return x[O].splice(S,0,w),!0})||x[O].push(w)}},off:function h(O,V,k){if(O&&V&&x[O]){var P=v(O,V,k);P<0||(x[O][P]=null)}},trigger:function p(O){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(O&&x[O]){if((V=V||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");V.type=O,k.streamId&&(V.streamId=k.streamId),k.mediaType&&(V.mediaType=k.mediaType),x[O].filter(function(P){return!(!P||k.streamId&&P.streamId&&P.streamId!==k.streamId||k.mediaType&&P.mediaType&&P.mediaType!==k.mediaType||k.mode&&P.mode&&P.mode!==k.mode||!P.mode&&k.mode&&k.mode===b.default.EVENT_MODE_ON_RECEIVE)}).forEach(function(P){return P&&P.callback.call(P.scope,V)})}},reset:function A(){x={}}}}F.__dashjs_factory_name="EventBus";var L=t.default.getSingletonFactory(F);L.EVENT_PRIORITY_LOW=0,L.EVENT_PRIORITY_HIGH=5e3,t.default.updateSingletonFactory(F.__dashjs_factory_name,L),C.default=L},"./src/core/FactoryMaker.js":
/*!**********************************!*\
                  !*** ./src/core/FactoryMaker.js ***!
                  \**********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=function(){var b,I=[],y={},F={};function x(w,E){for(var N in I){var S=I[N];if(S.context===w&&S.name===E)return S.instance}return null}function p(w,E){return E[w]}function v(w,E,N){w in N&&(N[w]=E)}function D(w,E,N){var S,B=w.__dashjs_factory_name,Y=E[B];if(Y){var re=Y.instance;if(!Y.override)return re.apply({context:E,factory:b},N);for(var ae in S=w.apply({context:E},N),re=re.apply({context:E,factory:b,parent:S},N))S.hasOwnProperty(ae)&&(S[ae]=re[ae])}else S=w.apply({context:E},N);return S.getClassName=function(){return B},S}return b={extend:function L(w,E,N,S){!S[w]&&E&&(S[w]={instance:E,override:N})},getSingletonInstance:x,setSingletonInstance:function m(w,E,N){for(var S in I){var B=I[S];if(B.context===w&&B.name===E)return void(I[S].instance=N)}I.push({name:E,context:w,instance:N})},deleteSingletonInstances:function h(w){I=I.filter(function(E){return E.context!==w})},getSingletonFactory:function P(w){var E=p(w.__dashjs_factory_name,y);return E||(E=function(S){var B;return void 0===S&&(S={}),{getInstance:function(){return B||(B=x(S,w.__dashjs_factory_name)),B||(B=D(w,S,arguments),I.push({name:w.__dashjs_factory_name,context:S,instance:B})),B}}},y[w.__dashjs_factory_name]=E),E},getSingletonFactoryByName:function k(w){return p(w,y)},updateSingletonFactory:function V(w,E){v(w,E,y)},getClassFactory:function O(w){var E=p(w.__dashjs_factory_name,F);return E||(E=function(S){return void 0===S&&(S={}),{create:function(){return D(w,S,arguments)}}},F[w.__dashjs_factory_name]=E),E},getClassFactoryByName:function U(w){return p(w,F)},updateClassFactory:function A(w,E){v(w,E,F)}}}();C.default=t},"./src/core/Settings.js":
/*!******************************!*\
                  !*** ./src/core/Settings.js ***!
                  \******************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./Utils.js */
"./src/core/Utils.js"),I=c(
/*! ../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),L=c(
/*! ./EventBus */
"./src/core/EventBus.js"),x=c(
/*! ./events/Events */
"./src/core/events/Events.js");function m(O){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(O)}function h(O,V,k){return(V=function p(O){var V=function v(O,V){if("object"!==m(O)||null===O)return O;var k=O[Symbol.toPrimitive];if(void 0!==k){var P=k.call(O,V||"default");if("object"!==m(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===V?String:Number)(O)}(O,"string");return"symbol"===m(V)?V:String(V)}(V))in O?Object.defineProperty(O,V,{value:k,enumerable:!0,configurable:!0,writable:!0}):O[V]=k,O}function A(){var O,V,P=this.context,D=Object(L.default)(P).getInstance(),w={"streaming.delay.liveDelay":x.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":x.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":x.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":x.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":x.default.SETTING_UPDATED_PLAYBACK_RATE_MAX},E={debug:{logLevel:I.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:y.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:y.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:y.default.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:y.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(O={},h(O,F.HTTPRequest.MPD_TYPE,500),h(O,F.HTTPRequest.XLINK_EXPANSION_TYPE,500),h(O,F.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),h(O,F.HTTPRequest.INIT_SEGMENT_TYPE,1e3),h(O,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),h(O,F.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),h(O,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),h(O,F.HTTPRequest.LICENSE,1e3),h(O,F.HTTPRequest.OTHER_TYPE,1e3),h(O,"lowLatencyReductionFactor",10),O),retryAttempts:(V={},h(V,F.HTTPRequest.MPD_TYPE,3),h(V,F.HTTPRequest.XLINK_EXPANSION_TYPE,1),h(V,F.HTTPRequest.MEDIA_SEGMENT_TYPE,3),h(V,F.HTTPRequest.INIT_SEGMENT_TYPE,3),h(V,F.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),h(V,F.HTTPRequest.INDEX_SEGMENT_TYPE,3),h(V,F.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),h(V,F.HTTPRequest.LICENSE,3),h(V,F.HTTPRequest.OTHER_TYPE,3),h(V,"lowLatencyMultiplyFactor",5),V),abr:{movingAverageMethod:y.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:y.default.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:y.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:y.default.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]}},errors:{recoverAttempts:{mediaErrorDecode:5}}},N=b.default.clone(E);function S(ae,Re,z){for(var oe in ae)ae.hasOwnProperty(oe)&&(Re.hasOwnProperty(oe)?"object"!==m(ae[oe])||ae[oe]instanceof Array||null===ae[oe]?(Re[oe]=b.default.clone(ae[oe]),w[z+oe]&&D.trigger(w[z+oe])):S(ae[oe],Re[oe],z.slice()+oe+"."):console.error("Settings parameter "+z+oe+" is not supported"))}return{get:function B(){return N},update:function Y(ae){"object"===m(ae)&&S(ae,N,"")},reset:function re(){N=b.default.clone(E)}}}A.__dashjs_factory_name="Settings";var U=t.default.getSingletonFactory(A);C.default=U},"./src/core/Utils.js":
/*!***************************!*\
                  !*** ./src/core/Utils.js ***!
                  \***************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! path-browserify */
"./node_modules/path-browserify/index.js"),b=c.n(t),I=c(
/*! ua-parser-js */
"./node_modules/ua-parser-js/src/ua-parser.js");function F(A){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function x(A,U){for(var O=0;O<U.length;O++){var V=U[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(A,h(V.key),V)}}function h(A){var U=function p(A,U){if("object"!==F(A)||null===A)return A;var O=A[Symbol.toPrimitive];if(void 0!==O){var V=O.call(A,U||"default");if("object"!==F(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(A)}(A,"string");return"symbol"===F(U)?U:String(U)}var v=function(){function A(){!function L(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")}(this,A)}return function m(A,U,O){return U&&x(A.prototype,U),O&&x(A,O),Object.defineProperty(A,"prototype",{writable:!1}),A}(A,null,[{key:"mixin",value:function(O,V,k){var P,D={};if(O)for(var w in V)V.hasOwnProperty(w)&&(P=V[w],(!(w in O)||O[w]!==P&&(!(w in D)||D[w]!==P))&&(O[w]="object"===F(O[w])&&null!==O[w]?A.mixin(O[w],P,k):k(P)));return O}},{key:"clone",value:function(O){if(!O||"object"!==F(O))return O;var V;if(O instanceof Array){V=[];for(var k=0,P=O.length;k<P;++k)k in O&&V.push(A.clone(O[k]))}else V={};return A.mixin(V,O,A.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(O,V){try{if(!V||0===V.length)return O;var k=new URL(O);return V.forEach(function(P){P.key&&P.value&&k.searchParams.set(P.key,P.value)}),k.href}catch{return O}}},{key:"parseHttpHeaders",value:function(O){var V={};if(!O)return V;for(var k=O.trim().split("\r\n"),P=0,D=k.length;P<D;P++){var w=k[P],E=w.indexOf(": ");E>0&&(V[w.substring(0,E)]=w.substring(E+2))}return V}},{key:"generateUuid",value:function(){var O=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(k){var P=(O+16*Math.random())%16|0;return O=Math.floor(O/16),("x"==k?P:3&P|8).toString(16)})}},{key:"generateHashCode",value:function(O){var V=0;if(0===O.length)return V;for(var k=0;k<O.length;k++)V=(V<<5)-V+O.charCodeAt(k),V|=0;return V}},{key:"getRelativeUrl",value:function(O,V){try{var k=new URL(O),P=new URL(V);if(k.protocol=P.protocol,k.origin!==P.origin)return V;var D=b.a.relative(k.pathname.substr(0,k.pathname.lastIndexOf("/")),P.pathname.substr(0,P.pathname.lastIndexOf("/"))),w=0===D.length?1:0;return D+=P.pathname.substr(P.pathname.lastIndexOf("/")+w,P.pathname.length-1),P.pathname.length<D.length?P.pathname:D}catch{return V}}},{key:"parseUserAgent",value:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var V=null===O&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return Object(I.UAParser)(V)}catch{return{}}}}]),A}();C.default=v},"./src/core/Version.js":
/*!*****************************!*\
                  !*** ./src/core/Version.js ***!
                  \*****************************/
/*! exports provided: getVersionString */function(Ze,C,c){"use strict";c.r(C),c.d(C,"getVersionString",function(){return b});var t="4.5.2";function b(){return t}},"./src/core/errors/Errors.js":
/*!***********************************!*\
                  !*** ./src/core/errors/Errors.js ***!
                  \***********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function I(P,D){for(var w=0;w<D.length;w++){var E=D[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,F(E.key),E)}}function F(P){var D=function L(P,D){if("object"!==b(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var E=w.call(P,D||"default");if("object"!==b(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(P)}(P,"string");return"symbol"===b(D)?D:String(D)}function m(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&h(P,D)}function h(P,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(P,D)}function p(P){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,E=O(P);if(D){var S=O(this).constructor;N=Reflect.construct(E,arguments,S)}else N=E.apply(this,arguments);return function v(P,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(P)}c.r(C);var k=new(function(P){m(w,P);var D=p(w);function w(){var E;return function x(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w),(E=D.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,E.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,E.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,E.SEGMENT_BASE_LOADER_ERROR_CODE=15,E.TIME_SYNC_FAILED_ERROR_CODE=16,E.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,E.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,E.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,E.APPEND_ERROR_CODE=20,E.REMOVE_ERROR_CODE=21,E.DATA_UPDATE_FAILED_ERROR_CODE=22,E.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,E.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,E.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,E.DOWNLOAD_ERROR_ID_SIDX_CODE=26,E.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,E.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,E.DOWNLOAD_ERROR_ID_XLINK_CODE=29,E.MANIFEST_ERROR_ID_PARSE_CODE=31,E.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,E.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,E.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,E.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,E.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",E.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",E.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",E.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",E.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",E.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",E.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",E.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",E.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",E.APPEND_ERROR_MESSAGE="chunk is not defined",E.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",E.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",E.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",E.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",E.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",E.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",E}return function y(P,D,w){return D&&I(P.prototype,D),w&&I(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}(w)}(c(
/*! ./ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));C.default=k},"./src/core/errors/ErrorsBase.js":
/*!***************************************!*\
                  !*** ./src/core/errors/ErrorsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function I(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function m(){!function b(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m)}return function y(m,h,p){return h&&I(m.prototype,h),p&&I(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"extend",value:function(p,v){if(p){var A=!!v&&v.override,U=!!v&&v.publicOnly;for(var O in p)!p.hasOwnProperty(O)||this[O]&&!A||U&&-1===p[O].indexOf("public_")||(this[O]=p[O])}}}]),m}()},"./src/core/events/CoreEvents.js":
/*!***************************************!*\
                  !*** ./src/core/events/CoreEvents.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./EventsBase */
"./src/core/events/EventsBase.js");function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(k)}function I(k,P){for(var D=0;D<P.length;D++){var w=P[D];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(k,F(w.key),w)}}function F(k){var P=function L(k,P){if("object"!==b(k)||null===k)return k;var D=k[Symbol.toPrimitive];if(void 0!==D){var w=D.call(k,P||"default");if("object"!==b(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(k)}(k,"string");return"symbol"===b(P)?P:String(P)}function m(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),P&&h(k,P)}function h(k,P){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w})(k,P)}function p(k){var P=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,w=O(k);if(P){var N=O(this).constructor;E=Reflect.construct(w,arguments,N)}else E=w.apply(this,arguments);return function v(k,P){if(P&&("object"===b(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,E)}}function O(k){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(k)}C.default=function(k){m(D,k);var P=p(D);function D(){var w;return function x(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,D),(w=P.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",w.BUFFERING_COMPLETED="bufferingCompleted",w.BUFFER_CLEARED="bufferCleared",w.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",w.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",w.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",w.CURRENT_TRACK_CHANGED="currentTrackChanged",w.DATA_UPDATE_COMPLETED="dataUpdateCompleted",w.INBAND_EVENTS="inbandEvents",w.INITIAL_STREAM_SWITCH="initialStreamSwitch",w.INIT_FRAGMENT_LOADED="initFragmentLoaded",w.INIT_FRAGMENT_NEEDED="initFragmentNeeded",w.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",w.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",w.LOADING_COMPLETED="loadingCompleted",w.LOADING_PROGRESS="loadingProgress",w.LOADING_DATA_PROGRESS="loadingDataProgress",w.LOADING_ABANDONED="loadingAborted",w.MANIFEST_UPDATED="manifestUpdated",w.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",w.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",w.QUOTA_EXCEEDED="quotaExceeded",w.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",w.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",w.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",w.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",w.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",w.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",w.SOURCE_BUFFER_ERROR="sourceBufferError",w.STREAMS_COMPOSED="streamsComposed",w.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",w.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",w.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",w.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",w.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",w.URL_RESOLUTION_FAILED="urlResolutionFailed",w.VIDEO_CHUNK_RECEIVED="videoChunkReceived",w.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",w.XLINK_ELEMENT_LOADED="xlinkElementLoaded",w.XLINK_READY="xlinkReady",w.SEEK_TARGET="seekTarget",w.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",w.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",w.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",w.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",w.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",w}return function y(k,P,D){return P&&I(k.prototype,P),D&&I(k,D),Object.defineProperty(k,"prototype",{writable:!1}),k}(D)}(t.default)},"./src/core/events/Events.js":
/*!***********************************!*\
                  !*** ./src/core/events/Events.js ***!
                  \***********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function I(P,D){for(var w=0;w<D.length;w++){var E=D[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,F(E.key),E)}}function F(P){var D=function L(P,D){if("object"!==b(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var E=w.call(P,D||"default");if("object"!==b(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(P)}(P,"string");return"symbol"===b(D)?D:String(D)}function m(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&h(P,D)}function h(P,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(P,D)}function p(P){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,E=O(P);if(D){var S=O(this).constructor;N=Reflect.construct(E,arguments,S)}else N=E.apply(this,arguments);return function v(P,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(P)}c.r(C);var V=function(P){m(w,P);var D=p(w);function w(){return function x(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w),D.apply(this,arguments)}return function y(P,D,w){return D&&I(P.prototype,D),w&&I(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}(w)}(c(
/*! ./CoreEvents */
"./src/core/events/CoreEvents.js").default),k=new V;C.default=k},"./src/core/events/EventsBase.js":
/*!***************************************!*\
                  !*** ./src/core/events/EventsBase.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function I(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function m(){!function b(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m)}return function y(m,h,p){return h&&I(m.prototype,h),p&&I(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"extend",value:function(p,v){if(p){var A=!!v&&v.override,U=!!v&&v.publicOnly;for(var O in p)!p.hasOwnProperty(O)||this[O]&&!A||U&&-1===p[O].indexOf("public_")||(this[O]=p[O])}}}]),m}()},"./src/dash/DashAdapter.js":
/*!*********************************!*\
                  !*** ./src/dash/DashAdapter.js ***!
                  \*********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=c(
/*! ./vo/RepresentationInfo */
"./src/dash/vo/RepresentationInfo.js"),I=c(
/*! ./vo/MediaInfo */
"./src/dash/vo/MediaInfo.js"),y=c(
/*! ./vo/StreamInfo */
"./src/dash/vo/StreamInfo.js"),F=c(
/*! ./vo/ManifestInfo */
"./src/dash/vo/ManifestInfo.js"),L=c(
/*! ./vo/Event */
"./src/dash/vo/Event.js"),x=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=c(
/*! ./models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),h=c(
/*! ./models/PatchManifestModel */
"./src/dash/models/PatchManifestModel.js"),p=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),v=c.n(p);function A(){var U,O,V,k,P,D,w,E=this.context;function ae(fe){return O.getRolesForAdaptation(fe).filter(function(pe){return pe.value===t.default.MAIN})[0]}function Re(fe,pe,lt){var mt=O.getAdaptationsForType(k[0].mpd.manifest,fe,pe);if(!mt||0===mt.length)return null;if(mt.length>1&&lt){var Dt=H(lt,pe);if(P[lt.id]&&P[lt.id][pe])for(var ft=0,bt=mt.length;ft<bt;ft++)if(z(P[lt.id][pe],Dt[ft]))return mt[ft];for(var Nt=0,Wt=mt.length;Nt<Wt;Nt++)if(ae(mt[Nt]))return mt[Nt]}return mt[0]}function z(fe,pe){if(!fe||!pe)return!1;var lt=fe.id===pe.id,mt=fe.codec===pe.codec,Dt=fe.viewpoint===pe.viewpoint,ft=fe.lang===pe.lang,bt=fe.roles.toString()===pe.roles.toString(),Nt=fe.accessibility.toString()===pe.accessibility.toString(),Wt=fe.audioChannelConfiguration.toString()===pe.audioChannelConfiguration.toString();return lt&&mt&&Dt&&ft&&bt&&Nt&&Wt}function oe(fe,pe,lt,mt,Dt,ft){var Wt,wt,Vt,en,nn,bt=[];if(!mt||0===mt.length)return[];var yn=O.getAdaptationsForPeriod(pe);for(Vt=0,nn=mt.length;Vt<nn;Vt++)if(Wt=Ot(yn[wt=O.getIndexForAdaptation(mt[Vt],fe,lt.index)]),ft){var Tn=Wt.accessibility.length;for(en=0;en<Tn;en++)if(Wt){var On=Wt.accessibility[en];if(0===On.indexOf("cea-608:")){var qn=On.substring(8).split(";");if("CC"===qn[0].substring(0,2))for(en=0;en<qn.length;en++)Wt||(Wt=Ot.call(this,yn[wt])),jt(Wt,qn[en].substring(0,3),qn[en].substring(4)),bt.push(Wt),Wt=null;else for(en=0;en<qn.length;en++)Wt||(Wt=Ot.call(this,yn[wt])),jt(Wt,"CC"+(en+1),qn[en]),bt.push(Wt),Wt=null}else 0===On.indexOf("cea-608")&&(jt(Wt,D.CC1,"eng"),bt.push(Wt),Wt=null)}}else Dt===D.IMAGE?(zt(Wt),bt.push(Wt),Wt=null):Wt&&bt.push(Wt);return bt}function H(fe,pe,lt){var mt=k,Dt=lt,ft=[];if(Dt)pn(),mt=ye(Dt);else{if(!(k.length>0))return ft;Dt=k[0].mpd.manifest}var bt=_t(fe,mt),Nt=O.getAdaptationsForType(Dt,fe?fe.index:null,pe);return ft=oe(Dt,bt,fe,Nt,pe),pe===D.TEXT&&(Nt=O.getAdaptationsForType(Dt,fe?fe.index:null,D.VIDEO),ft=ft.concat(oe(Dt,bt,fe,Nt,pe,!0))),ft}function ye(fe){var pe=K(fe);return O.getRegularPeriods(pe)}function K(fe){var pe=dt(fe);return O.getMpd(pe)}function $e(){k=[],P={}}function dt(fe){return fe||(k.length>0?k[0].mpd.manifest:null)}function It(fe){try{var pe=_t(fe.streamInfo,k),lt=O.getAdaptationsForPeriod(pe);return fe&&fe.streamInfo&&void 0!==fe.streamInfo.id&&lt?lt[fe.index]:null}catch{return null}}function _t(fe,pe){for(var lt=pe.length,mt=0;mt<lt;mt++){var Dt=pe[mt];if(fe&&fe.id===Dt.id)return Dt}return null}function Ot(fe){if(!fe)return null;var mt,pe=new I.default,lt=fe.period.mpd.manifest.Period_asArray[fe.period.index].AdaptationSet_asArray[fe.index];if(pe.id=fe.id,pe.index=fe.index,pe.type=fe.type,pe.streamInfo=$t(fe.period),pe.representationCount=O.getRepresentationCount(lt),pe.labels=O.getLabelsForAdaptation(lt),pe.lang=O.getLanguageForAdaptation(lt),mt=O.getViewpointForAdaptation(lt),pe.viewpoint=mt?mt.value:void 0,pe.accessibility=O.getAccessibilityForAdaptation(lt).map(function(bt){var Nt=bt.value,Wt=Nt;return bt.schemeIdUri&&bt.schemeIdUri.search("cea-608")>=0&&typeof w<"u"&&(Wt=Nt?"cea-608:"+Nt:"cea-608",pe.embeddedCaptions=!0),Wt}),pe.audioChannelConfiguration=O.getAudioChannelConfigurationForAdaptation(lt).map(function(bt){return bt.value}),0===pe.audioChannelConfiguration.length&&Array.isArray(lt.Representation_asArray)&&lt.Representation_asArray.length>0&&(pe.audioChannelConfiguration=O.getAudioChannelConfigurationForRepresentation(lt.Representation_asArray[0]).map(function(bt){return bt.value})),pe.roles=O.getRolesForAdaptation(lt).map(function(bt){return bt.value}),pe.codec=O.getCodec(lt),pe.mimeType=O.getMimeType(lt),pe.contentProtection=O.getContentProtectionData(lt),pe.bitrateList=O.getBitrateListForAdaptation(lt),pe.selectionPriority=O.getSelectionPriority(lt),pe.contentProtection){var Dt=pe.contentProtection.map(function(bt){return O.getKID(bt)}).filter(function(bt){return null!==bt});if(Dt.length){var ft=Dt[0];pe.contentProtection.forEach(function(bt){bt.keyId=ft})}}return pe.isText=O.getIsText(lt),pe.supplementalProperties=O.getSupplementalProperties(lt),pe.isFragmented=O.getIsFragmented(lt),pe.isEmbedded=!1,pe}function jt(fe,pe,lt){fe.id=pe,fe.index=100+parseInt(pe.substring(2,3)),fe.type=D.TEXT,fe.codec="cea-608-in-SEI",fe.isEmbedded=!0,fe.isFragmented=!1,fe.lang=v()(lt),fe.roles=["caption"]}function zt(fe){fe.type=D.IMAGE}function $t(fe){var pe=new y.default;return pe.id=fe.id,pe.index=fe.index,pe.start=fe.start,pe.duration=fe.duration,pe.manifestInfo=function dn(fe){var pe=new F.default;return pe.dvrWindowSize=fe.timeShiftBufferDepth,pe.loadedTime=fe.manifest.loadedTime,pe.availableFrom=fe.availabilityStartTime,pe.minBufferTime=fe.manifest.minBufferTime,pe.maxFragmentDuration=fe.maxSegmentDuration,pe.duration=O.getDuration(fe.manifest),pe.isDynamic=O.getIsDynamic(fe.manifest),pe.serviceDescriptions=O.getServiceDescriptions(fe.manifest),pe.protocol=fe.manifest.protocol,pe}(fe.mpd),pe.isLast=1===fe.mpd.manifest.Period_asArray.length||Math.abs(pe.start+pe.duration-pe.manifestInfo.duration)<1,pe}function pn(){if(!D)throw new Error("setConfig function has to be called previously")}function jn(fe){return k.length>0?k[0].mpd.manifest.Period_asArray[fe]:null}function ut(fe,pe,lt){var Dt,ft,bt,Nt,Wt;if(fe)for(Dt=fe.AdaptationSet_asArray,Nt=0;Nt<Dt.length;Nt+=1)for(bt=Dt[Nt].Representation_asArray,Wt=0;Wt<bt.length;Wt+=1)if(pe===(ft=bt[Wt]).id)return lt?Wt:ft;return null}return U={getBandwidthForRepresentation:function ge(fe,pe){var lt;return(lt=ut(jn(pe),fe))?lt.bandwidth:null},getIndexForRepresentation:function ce(fe,pe){return function st(fe,pe){var lt=ut(fe,pe,!0);return null!==lt?lt:-1}(jn(pe),fe)},getMaxIndexForBufferType:function Ce(fe,pe){return function xe(fe,pe){var lt,mt,Dt,ft;if(!fe||!pe)return-1;for(mt=fe.AdaptationSet_asArray,ft=0;ft<mt.length;ft+=1)if(Dt=(lt=mt[ft]).Representation_asArray,O.getIsTypeOf(lt,pe))return Dt.length;return-1}(jn(pe),fe)},convertRepresentationToRepresentationInfo:function Y(fe){if(fe){var pe=new b.default,mt=O.getRepresentationFor(fe.index,fe.adaptation.period.mpd.manifest.Period_asArray[fe.adaptation.period.index].AdaptationSet_asArray[fe.adaptation.index]);return pe.id=fe.id,pe.quality=fe.index,pe.bandwidth=O.getBandwidth(mt),pe.fragmentDuration=fe.segmentDuration||(fe.segments&&fe.segments.length>0?fe.segments[0].duration:NaN),pe.MSETimeOffset=fe.MSETimeOffset,pe.mediaInfo=Ot(fe.adaptation),pe}return null},getStreamsInfo:function te(fe,pe){var lt=[],mt=k;if(fe&&(pn(),mt=ye(fe)),mt.length>0){(!pe||pe>mt.length)&&(pe=mt.length);for(var Dt=0;Dt<pe;Dt++)lt.push($t(mt[Dt]))}return lt},getMediaInfoForType:function re(fe,pe){if(0===k.length||!fe)return null;var lt=_t(fe,k);if(!lt)return null;var mt=O.getAdaptationsForPeriod(lt),Dt=Re(fe.index,pe,fe);return Dt?Ot(mt[O.getIndexForAdaptation(Dt,k[0].mpd.manifest,fe.index)]):null},getAllMediaInfoForType:H,getAdaptationForType:Re,getRealAdaptation:function ue(fe,pe){var lt,mt,Dt=_t(fe,k);return lt=pe?pe.id:null,k.length>0&&Dt&&(mt=lt?O.getAdaptationForId(lt,k[0].mpd.manifest,Dt.index):O.getAdaptationForIndex(pe?pe.index:null,k[0].mpd.manifest,Dt.index)),mt},getProducerReferenceTimes:function Se(fe,pe){var lt,mt,Dt=_t(fe,k);return lt=pe?pe.id:null,k.length>0&&Dt&&(mt=lt?O.getAdaptationForId(lt,k[0].mpd.manifest,Dt.index):O.getAdaptationForIndex(pe?pe.index:null,k[0].mpd.manifest,Dt.index)),mt?O.getProducerReferenceTimesForAdaptation(mt):[]},getRealPeriodByIndex:function le(fe){return O.getRealPeriodForIndex(fe,k[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function Ie(fe){try{return O.getEssentialPropertiesForRepresentation(fe)}catch{return[]}},getVoRepresentations:function Me(fe){var lt=It(fe);return O.getRepresentationsForAdaptation(lt)},getEventsFor:function _e(fe,pe,lt){var mt=[];if(k.length>0){var Dt=k[0].mpd.manifest;if(fe instanceof y.default){var ft=_t(fe,k);mt=O.getEventsForPeriod(ft)}else if(fe instanceof I.default){var bt=_t(lt,k);mt=O.getEventStreamForAdaptationSet(Dt,It(fe),bt)}else if(fe instanceof b.default){var Nt=_t(lt,k);mt=O.getEventStreamForRepresentation(Dt,pe,Nt)}}return mt},getEvent:function we(fe,pe,lt,mt){try{if(!fe||!pe||isNaN(lt)||!mt)return null;var Dt=fe.scheme_id_uri,ft=fe.value;if(!pe[Dt+"/"+ft])return null;var nn,bt=new L.default,Nt=fe.timescale||1,Wt=mt.adaptation.period.start,wt=pe[Dt+"/"+ft],Vt=isNaN(mt.presentationTimeOffset)?isNaN(wt.presentationTimeOffset)?0:wt.presentationTimeOffset:mt.presentationTimeOffset,en=fe.presentation_time_delta/Nt;nn=0===fe.version?Wt+lt-Vt+en:Wt-Vt+en;var yn=fe.event_duration/Nt,Tn=fe.id,On=fe.message_data;return bt.eventStream=wt,bt.eventStream.value=ft,bt.eventStream.timescale=Nt,bt.duration=yn,bt.id=Tn,bt.calculatedPresentationTime=nn,bt.messageData=On,bt.presentationTimeDelta=en,bt}catch{return null}},getMpd:K,setConfig:function B(fe){fe&&(fe.constants&&(D=fe.constants),fe.cea608parser&&(w=fe.cea608parser),fe.errHandler&&O.setConfig({errHandler:fe.errHandler}),fe.BASE64&&O.setConfig({BASE64:fe.BASE64}))},updatePeriods:function me(fe){if(!fe)return null;pn(),k=ye(fe)},getIsTextTrack:function Pe(fe){return O.getIsText(fe)},getUTCTimingSources:function Oe(){var fe=dt();return O.getUTCTimingSources(fe)},getSuggestedPresentationDelay:function je(){return O.getSuggestedPresentationDelay(k.length>0?k[0].mpd:null)},getAvailabilityStartTime:function ze(fe){var pe=K(fe);return O.getAvailabilityStartTime(pe)},getIsTypeOf:function Be(fe,pe){return O.getIsTypeOf(fe,pe)},getIsDynamic:function He(fe){var pe=dt(fe);return O.getIsDynamic(pe)},getDuration:function Ae(fe){var pe=dt(fe);return O.getDuration(pe)},getRegularPeriods:ye,getContentSteering:function ie(fe){return O.getContentSteering(fe)},getLocation:function he(fe){return O.getLocation(fe)},getPatchLocation:function W(fe){var pe=O.getPatchLocation(fe),lt=O.getPublishTime(fe);if(!pe||!lt)return null;if(pe.hasOwnProperty("ttl")&&lt){var mt=1e3*parseFloat(pe.ttl);if(lt.getTime()+mt<=(new Date).getTime())return null}return pe.__text},getManifestUpdatePeriod:function $(fe){return O.getManifestUpdatePeriod(fe,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},getPublishTime:function Z(fe){return O.getPublishTime(fe)},getIsDVB:function X(fe){return O.hasProfile(fe,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function Q(fe){return V.getIsPatch(fe)},getBaseURLsFromElement:function q(fe){return O.getBaseURLsFromElement(fe)},getRepresentationSortFunction:function J(){return O.getRepresentationSortFunction()},getCodec:function de(fe,pe,lt){return O.getCodec(fe,pe,lt)},getPeriodById:function Ye(fe){if(!fe||0===k.length)return null;var pe=k.filter(function(lt){return lt.id===fe});return pe&&pe.length>0?pe[0]:null},setCurrentMediaInfo:function Le(fe,pe,lt){P[fe]=P[fe]||{},P[fe][pe]=P[fe][pe]||{},P[fe][pe]=lt},isPatchValid:function Qe(fe,pe){var lt=O.getId(fe),mt=V.getMpdId(pe),Dt=O.getPublishTime(fe),ft=V.getPublishTime(pe),bt=V.getOriginalPublishTime(pe);return!!(lt&&mt&&lt==mt&&Dt&&bt&&Dt.getTime()==bt.getTime()&&ft&&Dt.getTime()<ft.getTime())},applyPatchToManifest:function qe(fe,pe){V.getPatchOperations(pe).forEach(function(lt){var mt=lt.getMpdTarget(fe);if(null!==mt){var Dt=mt.name,ft=mt.target,bt=mt.leaf;if(lt.xpath.findsAttribute()){switch(lt.action){case"add":case"replace":ft[Dt]=lt.value;break;case"remove":delete ft[Dt]}return}var Nt=(ft[Dt+"_asArray"]||[]).indexOf(bt),Wt="prepend"===lt.position||"before"===lt.position;if(("remove"===lt.action||"replace"===lt.action)&&(delete ft[Dt],-1!=Nt)){var wt=ft[Dt+"_asArray"];wt.splice(Nt,1),wt.length>1?ft[Dt]=wt:1==wt.length?ft[Dt]=wt[0]:delete ft[Dt+"_asArray"]}("add"===lt.action||"replace"===lt.action)&&Object.keys(lt.value).forEach(function(Vt){var en=lt.value[Vt],nn=ft[Vt+"_asArray"]||[];0===nn.length&&ft[Vt]&&nn.push(ft[Vt]),0===nn.length?nn=en:nn.splice.apply(nn,[Vt==Dt&&-1!=Nt?Nt+(Wt?0:1)+("replace"==lt.action?-1:0):Wt?0:nn.length,0].concat(en)),ft[Vt+"_asArray"]=nn,ft[Vt]=1==nn.length?nn[0]:nn})}})},areMediaInfosEqual:z,reset:$e},function S(){O=Object(m.default)(E).getInstance(),V=Object(h.default)(E).getInstance(),$e()}(),U}A.__dashjs_factory_name="DashAdapter",C.default=x.default.getSingletonFactory(A)},"./src/dash/DashHandler.js":
/*!*********************************!*\
                  !*** ./src/dash/DashHandler.js ***!
                  \*********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),b=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ./utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),L=c(
/*! ./constants/DashConstants */
"./src/dash/constants/DashConstants.js");function h(p){var w,E,N,S,B,v=(p=p||{}).eventBus,A=p.debug,U=p.urlUtils,O=p.type,V=p.streamInfo,k=p.segmentsController,P=p.timelineConverter,D=p.baseURLController;function Re(){return O}function oe(){N=null}function me(Oe,je,ze){var Ae,ye,He=D.resolve(ze.path);return He&&je!==He.url&&U.isRelative(je)?(Ae=He.url,ye=He.serviceLocation,je&&(Ae=U.resolve(je,Ae))):Ae=je,!U.isRelative(Ae)&&(Oe.url=Ae,Oe.serviceLocation=ye,!0)}function Se(Oe,je){if(null==je)return null;var ze=new t.default,He=je.representation,Ae=He.adaptation.period.mpd.manifest.Period_asArray[He.adaptation.period.index].AdaptationSet_asArray[He.adaptation.index].Representation_asArray[He.index].bandwidth,ye=je.media;return ye=Object(F.replaceTokenForTemplate)(ye,"Number",je.replacementNumber),ye=Object(F.replaceTokenForTemplate)(ye,"Time",je.replacementTime),ye=Object(F.replaceTokenForTemplate)(ye,"Bandwidth",Ae),ye=Object(F.replaceIDForTemplate)(ye,He.id),ye=Object(F.unescapeDollarsInTemplate)(ye),ze.mediaType=Re(),ze.type=b.HTTPRequest.MEDIA_SEGMENT_TYPE,ze.range=je.mediaRange,ze.startTime=je.presentationStartTime,ze.mediaStartTime=je.mediaStartTime,ze.duration=je.duration,ze.timescale=He.timescale,ze.availabilityStartTime=je.availabilityStartTime,ze.availabilityEndTime=je.availabilityEndTime,ze.availabilityTimeComplete=He.availabilityTimeComplete,ze.wallStartTime=je.wallStartTime,ze.quality=He.index,ze.index=je.index,ze.mediaInfo=Oe,ze.adaptationIndex=He.adaptation.index,ze.representationId=He.id,me(ze,ye,He)?ze:void 0}function le(Oe,je,ze){var He=null;if(!je||!je.segmentInfoType)return He;var Ae=k.getSegmentByTime(je,ze);return Ae&&(N=Ae,E.debug("Index for time "+ze+" is "+Ae.index),He=Se(Oe,Ae)),He}function Pe(){E.debug("Dynamic stream complete"),B=!0}return w={initialize:function re(Oe){S=Oe,B=!1,k.initialize(Oe)},getStreamId:function ae(){return V.id},getType:Re,getStreamInfo:function z(){return V},getInitRequest:function te(Oe,je){return je?function ue(Oe,je,ze){var He=new t.default,Ae=je.adaptation.period,ye=Ae.start;if(He.mediaType=ze,He.type=b.HTTPRequest.INIT_SEGMENT_TYPE,He.range=je.range,He.availabilityStartTime=P.calcAvailabilityStartTimeFromPresentationTime(ye,je,S),He.availabilityEndTime=P.calcAvailabilityEndTimeFromPresentationTime(ye+Ae.duration,je,S),He.quality=je.index,He.mediaInfo=Oe,He.representationId=je.id,me(He,je.initialization,je))return He.url=Object(F.replaceTokenForTemplate)(He.url,"Bandwidth",je.bandwidth),He}(Oe,je,Re()):null},getSegmentRequestForTime:le,getCurrentIndex:function Le(){return N?N.index:-1},getNextSegmentRequest:function we(Oe,je){var ze=null;if(!je||!je.segmentInfoType)return null;var He=N?N.index+1:0,Ae=k.getSegmentByIndex(je,He,N?N.mediaStartTime:-1);if(Ae)ze=Se(Oe,Ae),N=Ae;else{if(S&&!B)return E.debug(Re()+" No segment found at index: "+He+". Wait for next loop"),null;B=!0}return ze},isLastSegmentRequested:function Ie(Oe,je){if(!Oe||!N)return!1;if(B)return!0;if(!isFinite(Oe.adaptation.period.duration)||N.presentationStartTime+N.duration>je)return!1;if(Oe.mediaFinishedInformation&&!isNaN(Oe.mediaFinishedInformation.numberOfSegments)&&!isNaN(N.index)&&N.index>=Oe.mediaFinishedInformation.numberOfSegments-1){if(!S||Oe.segmentInfoType===L.default.SEGMENT_TEMPLATE)return!0;if(S&&Oe.segmentInfoType===L.default.SEGMENT_LIST&&Oe.adaptation.period.nextPeriodId)return!0}return!!(S&&Oe.adaptation.period.nextPeriodId&&Oe.segmentInfoType===L.default.SEGMENT_TIMELINE&&Oe.mediaFinishedInformation&&!isNaN(Oe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&N&&!isNaN(N.mediaStartTime)&&!isNaN(N.duration)&&N.mediaStartTime+N.duration>=Oe.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function H(){oe(),v.off(y.default.DYNAMIC_TO_STATIC,Pe,w)},getNextSegmentRequestIdempotent:function Me(Oe,je){var Ae=k.getSegmentByIndex(je,N?N.index+1:0,N?N.mediaStartTime:-1);return Ae?Se(Oe,Ae):null},getValidTimeAheadOfTargetTime:function _e(Oe,je,ze,He){try{if(isNaN(Oe)||!je||!ze)return NaN;if(Oe<0&&(Oe=0),isNaN(He)&&(He=.5),le(je,ze,Oe))return Oe;if(ze.adaptation.period.start+ze.adaptation.period.duration<Oe)return NaN;for(var Ae=isFinite(ze.adaptation.period.duration)?ze.adaptation.period.start+ze.adaptation.period.duration:Oe+30,ye=Math.min(Oe+He,Ae),K=NaN,ie=null;ye<=Ae;){var he=null;if(ye<=Ae&&(he=le(je,ze,ye)),he){K=ye,ie=he;break}ye+=He}if(ie){var $=ie.startTime+ie.duration;return Oe>ie.startTime&&$-Oe>He?Oe:!isNaN(ie.startTime)&&Oe<ie.startTime&&K>ie.startTime?ie.startTime+.001:Math.min($-He,K)}return K}catch{return NaN}}},function Y(){E=A.getLogger(w),oe(),v.on(y.default.DYNAMIC_TO_STATIC,Pe,w)}(),w}h.__dashjs_factory_name="DashHandler",C.default=I.default.getClassFactory(h)},"./src/dash/DashMetrics.js":
/*!*********************************!*\
                  !*** ./src/dash/DashMetrics.js ***!
                  \*********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../streaming/constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),F=c(
/*! ./utils/Round10 */
"./src/dash/utils/Round10.js"),L=c(
/*! ../streaming/models/MetricsModel */
"./src/streaming/models/MetricsModel.js"),x=c(
/*! ../core/Utils */
"./src/core/Utils.js"),m=c(
/*! ../streaming/vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js");function h(p){var A,U,O,V,v=this.context,k=(p=p||{}).metricsModel;function ae(he){var $=k.getMetricsFor(he,!0);if(!$)return null;var X,Z=$.HttpList,W=null;if(!Z||Z.length<=0)return null;for(X=Z.length-1;X>=0;){if(Z[X].responsecode){W=Z[X];break}X--}return W}function Re(he){var $=k.getMetricsFor(he,!0);return $&&$.HttpList?$.HttpList:[]}function oe(he,$){if(!he)return null;var Z=he[$];return Z&&0!==Z.length?Z[Z.length-1]:null}return A={getCurrentRepresentationSwitch:function w(he){return oe(k.getMetricsFor(he,!0),y.default.TRACK_SWITCH)},getCurrentBufferState:function N(he){return oe(k.getMetricsFor(he,!0),y.default.BUFFER_STATE)},getCurrentBufferLevel:function S(he){var Z=oe(k.getMetricsFor(he,!0),y.default.BUFFER_LEVEL);return Z?F.default.round10(Z.level/1e3,-3):0},getCurrentHttpRequest:ae,getHttpRequests:Re,getCurrentDroppedFrames:function H(){return oe(k.getMetricsFor(t.default.VIDEO,!0),y.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function te(he){return oe(k.getMetricsFor(he,!0),y.default.SCHEDULING_INFO)},getCurrentDVRInfo:function Le(he){return oe(he?k.getMetricsFor(he,!0):k.getMetricsFor(t.default.VIDEO,!0)||k.getMetricsFor(t.default.AUDIO,!0),y.default.DVR_INFO)},getCurrentManifestUpdate:function Se(){return oe(k.getMetricsFor(t.default.STREAM),y.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function je(he,$){if(!$)return null;var Z={},W=ae(he);W&&(Z=x.default.parseHttpHeaders(W._responseHeaders));var X=Z[$.toLowerCase()];return void 0===X?null:X},getLatestMPDRequestHeaderValueByID:function Oe(he){if(!he)return null;var Z,W,X,$={};for(X=(Z=Re(t.default.STREAM)).length-1;X>=0;X--)if((W=Z[X]).type===b.HTTPRequest.MPD_TYPE){$=x.default.parseHttpHeaders(W._responseHeaders);break}var Q=$[he.toLowerCase()];return void 0===Q?null:Q},addRepresentationSwitch:function E(he,$,Z,W,X){k.addRepresentationSwitch(he,$,Z,W,X)},addDVRInfo:function Pe(he,$,Z,W){k.addDVRInfo(he,$,Z,W)},updateManifestUpdateInfo:function Ie(he){var $=this.getCurrentManifestUpdate();k.updateManifestUpdateInfo($,he)},addManifestUpdateStreamInfo:function le(he){if(he){var $=this.getCurrentManifestUpdate();k.addManifestUpdateStreamInfo($,he.id,he.index,he.start,he.duration)}},addManifestUpdateRepresentationInfo:function _e(he,$){if(he){var Z=this.getCurrentManifestUpdate();k.addManifestUpdateRepresentationInfo(Z,he.id,he.index,he.streamIndex,$,he.presentationTimeOffset,he.startNumber,he.fragmentInfoType)}},addManifestUpdate:function Me(he){k.addManifestUpdate(t.default.STREAM,he.type,he.requestStartDate,he.requestEndDate)},addHttpRequest:function we(he,$,Z,W,X){k.addHttpRequest(he.mediaType,null,he.type,he.url,he.quality,$,he.serviceLocation||null,he.range||null,he.requestStartDate,he.firstByteDate,he.requestEndDate,Z,he.duration,W,X,he.fileLoaderType)},addSchedulingInfo:function ue(he,$){k.addSchedulingInfo(he.mediaType,new Date,he.type,he.startTime,he.availabilityStartTime,he.duration,he.quality,he.range,$)},addRequestsQueue:function z(he,$,Z){k.addRequestsQueue(he,$,Z)},addBufferLevel:function B(he,$,Z){k.addBufferLevel(he,$,Z)},addBufferState:function Y(he,$,Z){k.addBufferState(he,$,Z)},addDroppedFrames:function me(he){k.addDroppedFrames(t.default.VIDEO,he)},addPlayList:function ze(){V&&(k.addPlayList(V),V=null)},addDVBErrors:function ie(he){k.addDVBErrors(he)},createPlaylistMetrics:function He(he,$){(V=new m.PlayList).start=new Date,V.mstart=he,V.starttype=$},createPlaylistTraceMetrics:function Ae(he,$,Z){!0===U&&(U=!1,(O=new m.PlayListTrace).representationid=he,O.start=new Date,O.mstart=$,O.playbackspeed=null!==Z?Z.toString():null)},updatePlayListTraceMetrics:function ye(he){if(O)for(var $ in O)O[$]=he[$]},pushPlayListTraceMetrics:function K(he,$){if(!1===U&&V&&O&&O.start){var Z=O.start,W=he.getTime()-Z.getTime();O.duration=W,O.stopreason=$,V.trace.push(O),U=!0}},clearAllCurrentMetrics:function re(){k.clearAllCurrentMetrics()}},function P(){k=k||Object(L.default)(v).getInstance({settings:p.settings}),function D(){U=!0,O=null,V=null}()}(),A}h.__dashjs_factory_name="DashMetrics",C.default=I.default.getSingletonFactory(h)},"./src/dash/SegmentBaseLoader.js":
/*!***************************************!*\
                  !*** ./src/dash/SegmentBaseLoader.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),b=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),I=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),F=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js");function L(){var m,h,p,v,A,U,O,V,k,P,D,w,E,x=this.context;function re(te,ue,Se,Ie){var le=null,Me=te?E.resolve(te.path):null,we=Ie||{init:!0,url:Me?Me.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:ue};h.debug("Start searching for initialization.");var _e=me(we);V.load({request:_e,success:function(je){if(we.bytesLoaded=we.range.end,!(le=v.findInitRange(je)))return we.range.end=we.bytesLoaded+we.bytesToLoad,re(te,ue,Se,we);te.range=le,Se(te)},error:function(){Se(te)}}),h.debug("Perform init search: "+we.url)}function Re(te,ue,Se,Ie,le,Me){if(Se&&(void 0===Se.start||void 0===Se.end)){var we=Se?Se.toString().split("-"):null;Se=we?{start:parseFloat(we[0]),end:parseFloat(we[1])}:null}le=le||z;var _e=null,Le=null,Pe=!!Se,Oe=te?E.resolve(te.path):null,je={init:!1,url:Oe?Oe.url:void 0,range:Pe?Se:{start:0,end:1500},searching:!Pe,bytesLoaded:Me?Me.bytesLoaded:0,bytesToLoad:1500,mediaType:ue},ze=me(je);V.load({request:ze,success:function(K){var ie=je.bytesToLoad,he=K.byteLength;if(je.bytesLoaded=je.range.end-je.range.start,_e=v.parse(K),(Le=_e.getBox("sidx"))&&Le.isComplete){var W,X,Z=Le.references;if(null!=Z&&Z.length>0&&(W=1===Z[0].reference_type),W){h.debug("Initiate multiple SIDX load."),je.range.end=je.range.start+Le.size;var Q,q,J,de,ce=[],Ce=0,Ye=(Le.offset||je.range.start)+Le.size,Be=function(Qe){Qe?(ce=ce.concat(Qe),++Ce>=q&&(ce.sort(function(qe,dt){return qe.startTime-dt.startTime<0?-1:0}),le(ce,te,Ie))):le(null,te,Ie)};for(Q=0,q=Z.length;Q<q;Q++)J=Ye,de=Ye+Z[Q].referenced_size-1,Ye+=Z[Q].referenced_size,Re(te,ue,{start:J,end:de},Ie,Be,je)}else h.debug("Parsing segments from SIDX. representation "+ue+" - id: "+te.id+" for range : "+je.range.start+" - "+je.range.end),X=function H(te,ue){for(var Le,Oe,je,Se=te.references,Ie=Se.length,le=te.timescale,Me=te.earliest_presentation_time,we=ue.range.start+te.offset+te.first_offset+te.size,_e=[],ze=0;ze<Ie;ze++)Oe=Se[ze].subsegment_duration,je=Se[ze].referenced_size,(Le=new t.default).duration=Oe,Le.startTime=Me,Le.timescale=le,Le.mediaRange=we+"-"+(we+je-1),_e.push(Le),Me+=Oe,we+=je;return _e}(Le,je),le(X,te,Ie)}else{if(Le)je.range.start=Le.offset||je.range.start,je.range.end=je.range.start+(Le.size||ie);else{if(he<je.bytesLoaded)return void le(null,te,Ie);var $=_e.getLastBox();$&&$.size?(je.range.start=$.offset+$.size,je.range.end=je.range.start+ie):je.range.end+=ie}Re(te,ue,je.range,Ie,null,je)}},error:function(){le(null,te,Ie)}}),h.debug("Perform SIDX load for type ".concat(ue," : ").concat(je.url," with range ").concat(je.range.start," - ").concat(je.range.end))}function z(te,ue,Se){Se({segments:te,representation:ue,error:te?void 0:new b.default(k.SEGMENT_BASE_LOADER_ERROR_CODE,k.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function me(te){if(te.url){var ue=new y.default;return ue.setInfo(te),ue}}return m={setConfig:function B(te){te.baseURLController&&(E=te.baseURLController),te.dashMetrics&&(U=te.dashMetrics),te.mediaPlayerModel&&(O=te.mediaPlayerModel),te.errHandler&&(p=te.errHandler),te.boxParser&&(v=te.boxParser),te.debug&&(h=te.debug.getLogger(m)),te.requestModifier&&(A=te.requestModifier),te.errors&&(k=te.errors),te.urlUtils&&(w=te.urlUtils),te.constants&&(P=te.constants),te.dashConstants&&(D=te.dashConstants)},initialize:function S(){V=Object(F.default)(x).create({errHandler:p,dashMetrics:U,mediaPlayerModel:O,requestModifier:A,boxParser:v,errors:k,urlUtils:w,constants:P,dashConstants:D})},loadInitialization:function Y(te,ue){return new Promise(function(Se){re(te,ue,Se)})},loadSegments:function ae(te,ue,Se){return new Promise(function(Ie){Re(te,ue,Se,Ie)})},reset:function oe(){V&&(V.abort(),V=null)}}}L.__dashjs_factory_name="SegmentBaseLoader",C.default=I.default.getSingletonFactory(L)},"./src/dash/WebmSegmentBaseLoader.js":
/*!*******************************************!*\
                  !*** ./src/dash/WebmSegmentBaseLoader.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../streaming/utils/EBMLParser */
"./src/streaming/utils/EBMLParser.js"),b=c(
/*! ../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ./vo/Segment */
"./src/dash/vo/Segment.js"),F=c(
/*! ../streaming/vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),L=c(
/*! ../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),x=c(
/*! ../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js");function m(){var p,v,A,U,O,V,k,P,D,w,h=this.context;function Y(H,me,te,ue){var Ie,le,Me,we,_e;for(le=[],we=0,_e=(Ie=function B(H){var ue,Se,me=[],te=Object(t.default)(h).create({data:H});for(te.consumeTagAndSize(A.Segment.Cues);te.moreData()&&te.consumeTagAndSize(A.Segment.Cues.CuePoint,!0);){for((ue={}).CueTime=te.parseTag(A.Segment.Cues.CuePoint.CueTime),ue.CueTracks=[];te.moreData()&&te.consumeTag(A.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ie=te.getMatroskaCodedNum(),le=te.getPos();if((Se={}).Track=te.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===Se.Track)throw new Error("Cue track cannot be 0");Se.ClusterPosition=te.parseTag(A.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),ue.CueTracks.push(Se),te.setPos(le+Ie)}if(0===ue.CueTracks.length)throw new Error("Mandatory cuetrack not found");me.push(ue)}if(0===me.length)throw new Error("mandatory cuepoint not found");return me}(H)).length;we<_e;we+=1)(Me=new y.default).duration=we<Ie.length-1?Ie[we+1].CueTime-Ie[we].CueTime:ue-Ie[we].CueTime,Me.startTime=Ie[we].CueTime,Me.timescale=1e3,Me.mediaRange=Ie[we].CueTracks[0].ClusterPosition+me+"-"+(we<Ie.length-1?Ie[we+1].CueTracks[0].ClusterPosition+me-1:te-1),le.push(Me);return v.debug("Parsed cues: "+le.length+" cues."),le}function z(H){var me=new F.default;return me.setInfo(H),me}return p={setConfig:function S(H){if(!(H.baseURLController&&H.dashMetrics&&H.mediaPlayerModel&&H.errHandler))throw new Error(b.default.MISSING_CONFIG_ERROR);w=H.baseURLController,V=H.dashMetrics,k=H.mediaPlayerModel,U=H.errHandler,D=H.errors,v=H.debug.getLogger(p),O=H.requestModifier},initialize:function N(){P=Object(L.default)(h).create({errHandler:U,dashMetrics:V,mediaPlayerModel:k,requestModifier:O,errors:D})},loadInitialization:function ae(H,me){return new Promise(function(te){var ue=null,Se=H?w.resolve(H.path):null,Ie=H?H.range.split("-"):null,le={range:{start:Ie?parseFloat(Ie[0]):null,end:Ie?parseFloat(Ie[1]):null},request:ue,url:Se?Se.url:void 0,init:!0,mediaType:me};v.info("Start loading initialization."),ue=z(le),P.load({request:ue,success:function(){te(H)},error:function(){te(H)}}),v.debug("Perform init load: "+le.url)})},loadSegments:function Re(H,me,te){return new Promise(function(ue){var Se=null,Ie=H?w.resolve(H.path):null,le=Ie?Ie.url:void 0;Se=z({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:Se,url:le,init:!1,mediaType:me}),v.debug("Parsing ebml header"),P.load({request:Se,success:function(Oe){!function re(H,me,te,ue){if(H&&0!==H.byteLength){var Ie,le,Me,we,Se=Object(t.default)(h).create({data:H}),_e=te?te.split("-"):null,Le=null,Pe={url:me,range:{start:_e?parseFloat(_e[0]):null,end:_e?parseFloat(_e[1]):null},request:Le};for(v.debug("Parse EBML header: "+Pe.url),Se.skipOverElement(A.EBML),Se.consumeTag(A.Segment),Me=Se.getMatroskaCodedNum(),Me+=Se.getPos(),we=Se.getPos();Se.moreData()&&!Se.consumeTagAndSize(A.Segment.Info,!0);)if(!(Se.skipOverElement(A.Segment.SeekHead,!0)||Se.skipOverElement(A.Segment.Tracks,!0)||Se.skipOverElement(A.Segment.Cues,!0)||Se.skipOverElement(A.Void,!0)))throw new Error("no valid top level element found");for(;void 0===Ie;){var Oe=Se.getMatroskaCodedNum(!0),je=Se.getMatroskaCodedNum();Oe===A.Segment.Info.Duration.tag?Ie=Se[A.Segment.Info.Duration.parse](je):Se.setPos(Se.getPos()+je)}Le=z(Pe),P.load({request:Le,success:function(ye){le=Y(ye,we,Me,Ie),ue(le)},error:function(){v.error("Download Error: Cues "+Pe.url),ue(null)}}),v.debug("Perform cues load: "+Pe.url+" bytes="+Pe.range.start+"-"+Pe.range.end)}else ue(null)}(Oe,le,te,function(je){ue({segments:je,representation:H,error:je?void 0:new x.default(D.SEGMENT_BASE_LOADER_ERROR_CODE,D.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){ue({representation:H,error:new x.default(D.SEGMENT_BASE_LOADER_ERROR_CODE,D.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function oe(){P&&(P.abort(),P=null)}},function E(){A={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),p}m.__dashjs_factory_name="WebmSegmentBaseLoader",C.default=I.default.getSingletonFactory(m)},"./src/dash/constants/DashConstants.js":
/*!*********************************************!*\
                  !*** ./src/dash/constants/DashConstants.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function I(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);var m=new(function(){function h(){(function b(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function y(h,p,v){return p&&I(h.prototype,p),v&&I(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}]),h}());C.default=m},"./src/dash/controllers/ContentSteeringController.js":
/*!***********************************************************!*\
                  !*** ./src/dash/controllers/ContentSteeringController.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../streaming/net/URLLoader */
"./src/streaming/net/URLLoader.js"),y=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../vo/ContentSteeringRequest */
"./src/dash/vo/ContentSteeringRequest.js"),L=c(
/*! ../vo/ContentSteeringResponse */
"./src/dash/vo/ContentSteeringResponse.js"),x=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),m=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),v=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),A=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),U_THROUGHPUT="_DASH_throughput",U_PATHWAY="_DASH_pathway",U_URL="url";function O(){var P,D,w,E,N,S,B,Y,re,ae,Re,z,oe,H,me,V=this.context,k=Object(A.default)(V).getInstance();function Ie(K){K&&K.toStreamInfo&&(E=K.toStreamInfo)}function le(K){K&&K.request&&K.request.serviceLocation&&(N=K.request.serviceLocation)}function Me(){var K=Re.getValue();return me.getContentSteering(K)}function _e(){return new Promise(function(K){try{var ie=Me();if(!ie||!ie.serverUrl)return void K();var he=function Le(K){var ie=K.proxyServerUrl?K.proxyServerUrl:K.serverUrl;w&&w.reloadUri&&(ie=k.isRelative(w.reloadUri)?k.resolve(w.reloadUri,K.serverUrl):w.reloadUri);var he=[];if(E){var $=me.getIsDynamic(),Z=me.getAllMediaInfoForType(E,p.default.VIDEO).length>0?p.default.VIDEO:p.default.AUDIO,W=oe.getThroughputHistory(),X=W?W.getAverageThroughput(Z,$):NaN;isNaN(X)||he.push({key:U_THROUGHPUT,value:1e3*X})}return N&&he.push({key:U_PATHWAY,value:N}),K.proxyServerUrl&&K.proxyServerUrl===ie&&K.serverUrl&&he.push({key:U_URL,value:encodeURI(K.serverUrl)}),v.default.addAditionalQueryParameterToUrl(ie,he)}(ie),$=new F.default(he);B.load({request:$,success:function(W){(function Pe(K){!K||!K[x.default.CONTENT_STEERING_RESPONSE.VERSION]||1!==parseInt(K[x.default.CONTENT_STEERING_RESPONSE.VERSION])||((w=new L.default).version=K[x.default.CONTENT_STEERING_RESPONSE.VERSION],K[x.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(K[x.default.CONTENT_STEERING_RESPONSE.TTL])&&(w.ttl=K[x.default.CONTENT_STEERING_RESPONSE.TTL]),K[x.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(w.reloadUri=K[x.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),K[x.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(w.serviceLocationPriority=K[x.default.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),Oe())})(W),H.trigger(m.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:w,url:he}),K()},error:function(W){(function ze(K){D.warn("Error fetching data from content steering server",K),Oe()})(W),K(W)}})}catch(Z){K(Z)}})}function Oe(){w&&w.ttl&&!isNaN(w.ttl)&&(S&&clearTimeout(S),S=setTimeout(function(){_e()},1e3*w.ttl))}function je(){S&&clearTimeout(S),S=null}function ye(){w=null,E=null,N=null,je()}return P={reset:function Ae(){ye(),H.off(m.default.PERIOD_SWITCH_COMPLETED,Ie,P),H.off(h.default.FRAGMENT_LOADING_STARTED,le,P)},setConfig:function ue(K){K&&(K.adapter&&(me=K.adapter),K.errHandler&&(Y=K.errHandler),K.dashMetrics&&(re=K.dashMetrics),K.mediaPlayerModel&&(ae=K.mediaPlayerModel),K.requestModifier&&(z=K.requestModifier),K.manifestModel&&(Re=K.manifestModel),K.abrController&&(oe=K.abrController),K.eventBus&&(H=K.eventBus))},loadSteeringData:_e,getCurrentSteeringResponseData:function He(){return w},shouldQueryBeforeStart:function we(){var K=Me();return K&&K.queryBeforeStart},getSteeringDataFromManifest:Me,stopSteeringRequestTimer:je,initialize:function Se(){B=Object(I.default)(V).create({errHandler:Y,dashMetrics:re,mediaPlayerModel:ae,requestModifier:z,errors:y.default}),H.on(m.default.PERIOD_SWITCH_COMPLETED,Ie,P),H.on(h.default.FRAGMENT_LOADING_STARTED,le,P)}},function te(){D=Object(b.default)(V).getInstance().getLogger(P),ye()}(),P}O.__dashjs_factory_name="ContentSteeringController",C.default=t.default.getSingletonFactory(O)},"./src/dash/controllers/RepresentationController.js":
/*!**********************************************************!*\
                  !*** ./src/dash/controllers/RepresentationController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),y=c(
/*! ../utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function F(L){var D,w,E,N,S,x=(L=L||{}).eventBus,m=L.events,h=L.abrController,p=L.dashMetrics,v=L.playbackController,A=L.timelineConverter,U=L.type,O=L.streamInfo,V=L.dashConstants,k=L.segmentsController,P=L.isDynamic;function re(){return U}function ae(){if(!(h&&p&&v&&A))throw new Error(t.default.MISSING_CONFIG_ERROR)}function z(){return E}function oe(){return S}function H(){w=null,E=!0,N=[]}function ue(Ae){return new Promise(function(ye,K){var ie=Ae.hasInitialization(),he=Ae.hasSegments(),$=[];$.push(k.updateInitData(Ae,ie)),$.push(k.updateSegmentData(Ae,he)),Promise.all($).then(function(Z){Z[0]&&!Z[0].error&&(Ae=function Ie(Ae,ye){return ye&&!ye.error&&ye.representation?ye.representation:Ae}(Ae,Z[0])),Z[1]&&!Z[1].error&&(Ae=function le(Ae,ye){if(ye&&!ye.error){var $,Z,W,X,K=ye.segments,ie=[],he=0;for($=0,Z=K?K.length:0;$<Z;$++)W=K[$],(X=Object(y.getTimeBasedSegment)(A,P,Ae,W.startTime,W.duration,W.timescale,W.media,W.mediaRange,he))&&(ie.push(X),X=null,he++);return ie.length>0&&(Ae.segments=ie),Ae}}(Ae,Z[1])),function Se(Ae){Ae.mediaFinishedInformation=k.getMediaFinishedInformation(Ae)}(Ae),function Oe(Ae){if(z()){var ie,ye=p.getCurrentManifestUpdate(),K=!1;if(ye){for(var $=0;$<ye.representationInfo.length;$++)if((ie=ye.representationInfo[$]).index===Ae.index&&ie.mediaType===re()){K=!0;break}K||p.addManifestUpdateRepresentationInfo(Ae,re())}if(function Le(){for(var Ae=0,ye=N.length;Ae<ye;Ae++){var K=N[Ae].segmentInfoType;if(!N[Ae].hasInitialization()||(K===V.SEGMENT_BASE||K===V.BASE_URL)&&!N[Ae].segments)return!1}return!0}()){h.setPlaybackQuality(U,O,function _e(Ae){return N.indexOf(Ae)}(S));var Z=p.getCurrentDVRInfo(U);Z&&p.updateManifestUpdateInfo({latency:Z.range.end-v.getTime()}),p.getCurrentRepresentationSwitch(oe().adaptation.type)||Me(),Pe()}}}(Ae),ye()}).catch(function(Z){K(Z)})})}function Me(){ae();var Ae=new Date,ye=oe(),K=1e3*v.getTime();ye&&p.addRepresentationSwitch(ye.adaptation.type,Ae,K,ye.id),x.trigger(I.default.REPRESENTATION_SWITCH,{mediaType:U,streamId:O.id,currentRepresentation:ye,numberOfRepresentations:N.length},{streamId:O.id,mediaType:U})}function we(Ae){return null==Ae||Ae>=N.length?null:N[Ae]}function Pe(Ae){E=!1,x.trigger(m.DATA_UPDATE_COMPLETED,{data:w,currentRepresentation:S,error:Ae},{streamId:O.id,mediaType:U})}function ze(Ae){S=Ae}function He(Ae){if(Ae.newDuration){var ye=oe();ye&&ye.adaptation.period&&(ye.adaptation.period.duration=Ae.newDuration)}}return D={getStreamId:function Y(){return O.id},getType:re,getData:function Re(){return w},isUpdating:z,updateData:function te(Ae,ye,K,ie,he){if(ae(),E=!0,N=ye,ze(we(he)),w=Ae,K!==t.default.VIDEO&&K!==t.default.AUDIO&&(K!==t.default.TEXT||!ie))return Pe(),Promise.resolve();for(var Z=[],W=0,X=N.length;W<X;W++)Z.push(ue(N[W]));return Promise.all(Z)},getCurrentRepresentation:oe,getRepresentationForQuality:we,prepareQualityChange:function je(Ae){ze(we(Ae)),Me()},reset:function me(){x.off(I.default.MANIFEST_VALIDITY_CHANGED,He,D),H()}},function B(){H(),x.on(I.default.MANIFEST_VALIDITY_CHANGED,He,D)}(),D}F.__dashjs_factory_name="RepresentationController",C.default=b.default.getClassFactory(F)},"./src/dash/controllers/SegmentBaseController.js":
/*!*******************************************************!*\
                  !*** ./src/dash/controllers/SegmentBaseController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../SegmentBaseLoader */
"./src/dash/SegmentBaseLoader.js"),I=c(
/*! ../WebmSegmentBaseLoader */
"./src/dash/WebmSegmentBaseLoader.js");function y(L){var D,w,E,x=this.context,m=(L=L||{}).eventBus,h=L.events,p=L.dashMetrics,v=L.mediaPlayerModel,A=L.errHandler,U=L.baseURLController,O=L.debug,V=L.boxParser,k=L.requestModifier,P=L.errors;function S(Re){return"webm"===(Re?Re.split("/")[1]:"").toLowerCase()}return D={initialize:function B(){w.initialize(),E.initialize()},getSegmentBaseInitSegment:function Y(Re){return S(Re.representation.mimeType)?E.loadInitialization(Re.representation,Re.mediaType):w.loadInitialization(Re.representation,Re.mediaType)},getSegmentList:function re(Re){return S(Re.mimeType)?E.loadSegments(Re.representation,Re.mediaType,Re.representation?Re.representation.indexRange:null):w.loadSegments(Re.representation,Re.mediaType,Re.representation?Re.representation.indexRange:null)},reset:function ae(){w.reset(),E.reset()}},function N(){w=Object(b.default)(x).getInstance(),E=Object(I.default)(x).getInstance(),w.setConfig({baseURLController:U,dashMetrics:p,mediaPlayerModel:v,errHandler:A,eventBus:m,events:h,errors:P,debug:O,boxParser:V,requestModifier:k}),E.setConfig({baseURLController:U,dashMetrics:p,mediaPlayerModel:v,errHandler:A,eventBus:m,events:h,errors:P,debug:O,requestModifier:k})}(),D}y.__dashjs_factory_name="SegmentBaseController";var F=t.default.getSingletonFactory(y);C.default=F},"./src/dash/controllers/SegmentsController.js":
/*!****************************************************!*\
                  !*** ./src/dash/controllers/SegmentsController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/TimelineSegmentsGetter */
"./src/dash/utils/TimelineSegmentsGetter.js"),I=c(
/*! ../utils/TemplateSegmentsGetter */
"./src/dash/utils/TemplateSegmentsGetter.js"),y=c(
/*! ../utils/ListSegmentsGetter */
"./src/dash/utils/ListSegmentsGetter.js"),F=c(
/*! ../utils/SegmentBaseGetter */
"./src/dash/utils/SegmentBaseGetter.js");function L(m){var U,O,h=this.context,p=(m=m||{}).dashConstants,v=m.type,A=m.segmentBaseController;function w(B){return B?B.segments?O[p.SEGMENT_BASE]:O[B.segmentInfoType]:null}return U={initialize:function k(B){O[p.SEGMENT_TIMELINE]=Object(b.default)(h).create(m,B),O[p.SEGMENT_TEMPLATE]=Object(I.default)(h).create(m,B),O[p.SEGMENT_LIST]=Object(y.default)(h).create(m,B),O[p.SEGMENT_BASE]=Object(F.default)(h).create(m,B)},updateInitData:function P(B,Y){return Y?Promise.resolve():A.getSegmentBaseInitSegment({representation:B,mediaType:v})},updateSegmentData:function D(B,Y){return Y?Promise.resolve():A.getSegmentList({mimeType:B.mimeType,representation:B,mediaType:v})},getSegmentByIndex:function E(B,Y,re){var ae=w(B);return ae?ae.getSegmentByIndex(B,Y,re):null},getSegmentByTime:function N(B,Y){var re=w(B);return re?re.getSegmentByTime(B,Y):null},getMediaFinishedInformation:function S(B){var Y=w(B);return Y?Y.getMediaFinishedInformation(B):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},function V(){O={}}(),U}L.__dashjs_factory_name="SegmentsController";var x=t.default.getClassFactory(L);C.default=x},"./src/dash/controllers/ServiceDescriptionController.js":
/*!**************************************************************!*\
                  !*** ./src/dash/controllers/ServiceDescriptionController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=[I.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],L_VIDEO="video",L_AUDIO="audio",L_ANY="any",L_ALL="all";function x(){var h,p,v,A,U,m=this.context;function P(){p={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},v=[]}function ae(H,me,te){try{p[H][me]=te/1e3}catch(ue){A.error(ue)}}return h={getServiceDescriptionSettings:function D(){return p},getProducerReferenceTimeOffsets:function Re(){return v},calculateProducerReferenceTimeOffsets:function z(H){try{var me=[];if(H&&H.length>0){var te=[I.default.VIDEO,I.default.AUDIO,I.default.TEXT],ue=U.getAvailabilityStartTime()/1e3;H.forEach(function(Se){var Ie=te.reduce(function(le,Me){return le.concat(U.getAllMediaInfoForType(Se,Me))},[]).reduce(function(le,Me){return U.getProducerReferenceTimes(Se,Me).forEach(function(_e){var Le=U.getVoRepresentations(Me);if(Le&&Le.length>0&&Le[0].adaptation&&Le[0].segmentInfoType===y.default.SEGMENT_TEMPLATE){var Pe=Le[0],je=new Date(_e[y.default.WALL_CLOCK_TIME]).getTime()/1e3;le.push({id:_e[y.default.ID],to:ue-(je-(_e[y.default.PRESENTATION_TIME]/Pe[y.default.TIMESCALE]-Pe[y.default.PRESENTATION_TIME_OFFSET]+Se.start))})}}),le},[]);me=me.concat(Ie)})}v=me}catch(Se){A.error(Se),v=[]}},applyServiceDescription:function w(H){if(H&&H.serviceDescriptions){var me=H.serviceDescriptions.filter(function(Se){return F.includes(Se.schemeIdUri)}),te=H.serviceDescriptions.filter(function(Se){return null==Se.schemeIdUri}),ue=me.length>0?me[me.length-1]:te[te.length-1];ue&&(ue.latency&&ue.latency.target>0&&function E(H){var me;if(me=H.schemeIdUri===I.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME?function S(H){return{liveDelay:H.latency.target/1e3,maxDrift:!isNaN(H.latency.max)&&H.latency.max>H.latency.target?(H.latency.max-H.latency.target+500)/1e3:NaN,referenceId:H.latency.referenceId||NaN}}(H):function N(H){return{liveDelay:H.latency.target/1e3,maxDrift:!isNaN(H.latency.max)&&H.latency.max>H.latency.target?(H.latency.max-H.latency.target+500)/1e3:NaN,referenceId:H.latency.referenceId||NaN}}(H),v.length>0){var te=function oe(H){var te,me=0,ue=v.filter(function(Se){return Se.id===H.referenceId});return 0===ue.length?(me=v.length>0?v[0].to:0,te=v[0].id||NaN):(me=ue[0].to||0,te=ue[0].id||NaN),{to:me,id:te}}(me),ue=te.to,Se=te.id;p.liveDelay=me.liveDelay-ue,p.liveCatchup.maxDrift=me.maxDrift,A.debug("\n                Found latency properties coming from service description. Applied time offset of ".concat(ue," from ProducerReferenceTime element with id ").concat(Se,".\n                Live Delay: ").concat(me.liveDelay-ue,", Live catchup max drift: ").concat(me.maxDrift,"\n            "))}else p.liveDelay=me.liveDelay,p.liveCatchup.maxDrift=me.maxDrift,A.debug("Found latency properties coming from service description: Live Delay: ".concat(me.liveDelay,", Live catchup max drift: ").concat(me.maxDrift))}(ue),ue.playbackRate&&function B(H){var me=H.playbackRate.min?Math.round(1e3*(H.playbackRate.min-1))/1e3:NaN,te=H.playbackRate.max?Math.round(1e3*(H.playbackRate.max-1))/1e3:NaN;p.liveCatchup.playbackRate.min=me,p.liveCatchup.playbackRate.max=te,A.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(me)),A.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(te))}(ue),ue.operatingBandwidth&&function re(H){if(H&&H.operatingBandwidth&&H.operatingBandwidth.mediaType&&H.operatingBandwidth.mediaType!==L_ALL){var me={};me.minBandwidth=H.operatingBandwidth.min,me.maxBandwidth=H.operatingBandwidth.max,me.targetBandwidth=H.operatingBandwidth.target;var te=[];H.operatingBandwidth.mediaType===L_VIDEO||H.operatingBandwidth.mediaType===L_AUDIO?te.push(H.operatingBandwidth.mediaType):H.operatingBandwidth.mediaType===L_ANY&&(te.push(L_AUDIO),te.push(L_VIDEO)),te.forEach(function(ue){isNaN(me.minBandwidth)||ae("minBitrate",ue,me.minBandwidth),isNaN(me.maxBandwidth)||ae("maxBitrate",ue,me.maxBandwidth),isNaN(me.targetBandwidth)||ae("initialBitrate",ue,me.targetBandwidth)})}}(ue))}},reset:function k(){P()},setConfig:function V(H){H&&H.adapter&&(U=H.adapter)}},function O(){A=Object(b.default)(m).getInstance().getLogger(h),P()}(),h}x.__dashjs_factory_name="ServiceDescriptionController",C.default=t.default.getSingletonFactory(x)},"./src/dash/models/DashManifestModel.js":
/*!**********************************************!*\
                  !*** ./src/dash/models/DashManifestModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! ../vo/Representation */
"./src/dash/vo/Representation.js"),y=c(
/*! ../vo/AdaptationSet */
"./src/dash/vo/AdaptationSet.js"),F=c(
/*! ../vo/Period */
"./src/dash/vo/Period.js"),L=c(
/*! ../vo/Mpd */
"./src/dash/vo/Mpd.js"),x=c(
/*! ../vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),m=c(
/*! ../vo/Event */
"./src/dash/vo/Event.js"),h=c(
/*! ../vo/BaseURL */
"./src/dash/vo/BaseURL.js"),p=c(
/*! ../vo/EventStream */
"./src/dash/vo/EventStream.js"),v=c(
/*! ../vo/ProducerReferenceTime */
"./src/dash/vo/ProducerReferenceTime.js"),A=c(
/*! ../vo/ContentSteering */
"./src/dash/vo/ContentSteering.js"),U=c(
/*! ../../streaming/utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),O=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),V=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),k=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),P=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),D=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),w=c(
/*! ../../streaming/thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js");function E(z,oe){var H=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!H){if(Array.isArray(z)||(H=B(z))||oe&&z&&"number"==typeof z.length){H&&(z=H);var me=0,te=function(){};return{s:te,n:function(){return me>=z.length?{done:!0}:{done:!1,value:z[me++]}},e:function(Me){throw Me},f:te}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ie,ue=!0,Se=!1;return{s:function(){H=H.call(z)},n:function(){var Me=H.next();return ue=Me.done,Me},e:function(Me){Se=!0,Ie=Me},f:function(){try{!ue&&null!=H.return&&H.return()}finally{if(Se)throw Ie}}}}function N(z){return function re(z){if(Array.isArray(z))return ae(z)}(z)||function Y(z){if(typeof Symbol<"u"&&null!=z[Symbol.iterator]||null!=z["@@iterator"])return Array.from(z)}(z)||B(z)||function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(z,oe){if(z){if("string"==typeof z)return ae(z,oe);var H=Object.prototype.toString.call(z).slice(8,-1);if("Object"===H&&z.constructor&&(H=z.constructor.name),"Map"===H||"Set"===H)return Array.from(z);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return ae(z,oe)}}function ae(z,oe){(null==oe||oe>z.length)&&(oe=z.length);for(var H=0,me=new Array(oe);H<oe;H++)me[H]=z[H];return me}function Re(){var z,oe,H,me,te=this.context,ue=Object(O.default)(te).getInstance(),Se=Number.isInteger||function(St){return"number"==typeof St&&isFinite(St)&&Math.floor(St)===St};function le(St,ct){if(!St)throw new Error("adaptation is not defined");if(!ct)throw new Error("type is not defined");if(St.Representation_asArray&&St.Representation_asArray.length){var Qt=dn(St.Representation_asArray[0]);if(Qt&&Qt.length>0&&w.THUMBNAILS_SCHEME_ID_URIS.indexOf(Qt[0].schemeIdUri)>=0)return ct===t.default.IMAGE}if(St.ContentComponent_asArray&&St.ContentComponent_asArray.length>0){if(St.ContentComponent_asArray.length>1)return ct===t.default.MUXED;if(St.ContentComponent_asArray[0].contentType===ct)return!0}var Ke=ct===t.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(ct);if(St.Representation_asArray&&St.Representation_asArray.length&&Ke.test(St.Representation_asArray[0].codecs))return!0;if(St.hasOwnProperty(b.default.MIME_TYPE))return Ke.test(St.mimeType);if(St.Representation_asArray)for(var Ct,Gt=0;Gt<St.Representation_asArray.length;Gt++)if((Ct=St.Representation_asArray[Gt]).hasOwnProperty(b.default.MIME_TYPE))return Ke.test(Ct.mimeType);return!1}function Me(St){if(!St)throw new Error("adaptation is not defined");if(St.hasOwnProperty(b.default.SEGMENT_TEMPLATE)||St.hasOwnProperty(b.default.SEGMENT_TIMELINE)||St.hasOwnProperty(b.default.SEGMENT_LIST)||St.hasOwnProperty(b.default.SEGMENT_BASE))return!0;if(St.Representation_asArray&&St.Representation_asArray.length>0){var ct=St.Representation_asArray[0];if(ct.hasOwnProperty(b.default.SEGMENT_TEMPLATE)||ct.hasOwnProperty(b.default.SEGMENT_TIMELINE)||ct.hasOwnProperty(b.default.SEGMENT_LIST)||ct.hasOwnProperty(b.default.SEGMENT_BASE))return!0}return!1}function we(St){return le(St,t.default.AUDIO)}function _e(St){return le(St,t.default.VIDEO)}function Le(St){return le(St,t.default.TEXT)}function Pe(St){return le(St,t.default.MUXED)}function Oe(St){return le(St,t.default.IMAGE)}function he(){return function(St,ct){return St.bandwidth-ct.bandwidth}}function $(St){return St&&Array.isArray(St.Representation_asArray)&&St.Representation_asArray.sort(function(St,ct){return St.bandwidth-ct.bandwidth}),St}function Z(St,ct){return St&&St.Period_asArray&&Se(ct)&&St.Period_asArray[ct]?St.Period_asArray[ct].AdaptationSet_asArray:[]}function W(St){return St&&St.Period_asArray?St.Period_asArray:[]}function $e(St){var ct=!1;return St&&St.hasOwnProperty("type")&&(ct=St.type===b.default.DYNAMIC),ct}function dn(St){return St&&St.EssentialProperty_asArray&&St.EssentialProperty_asArray.length?St.EssentialProperty_asArray.map(function(ct){return{schemeIdUri:ct.schemeIdUri,value:ct.value}}):null}function ut(St){if(!St||!St.S_asArray)return NaN;var ct=St.S_asArray[0],Qt=St.S_asArray[1];return ct.hasOwnProperty("d")?ct.d:Qt.t-ct.t}function xe(St){return St.adaptation.period.start-St.presentationTimeOffset}function lt(St,ct){if(!St)throw new Error("Period cannot be null or undefined");var Qt=F.default.DEFAULT_ID+"_"+ct;return St.hasOwnProperty(b.default.ID)&&St.id.length>0&&"__proto__"!==St.id&&(Qt=St.id),Qt}function Nt(St,ct,Qt){var it,Ke=[];if(!St)return Ke;for(it=0;it<St.length;it++){var Ct=new p.default;if(Ct.timescale=1,Ct.representation=ct,!St[it].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");Ct.schemeIdUri=St[it].schemeIdUri,St[it].hasOwnProperty(b.default.TIMESCALE)&&(Ct.timescale=St[it].timescale),St[it].hasOwnProperty(b.default.VALUE)&&(Ct.value=St[it].value),Ke.push(Ct),Ct.period=Qt}return Ke}function en(St){var ct=[],Ke=!1;return(St.BaseURL_asArray||[St.baseUri]).some(function(it){if(it){var Ct=new h.default,Gt=it.__text||it;return ue.isRelative(Gt)&&(Ke=!0,St.baseUri&&(Gt=ue.resolve(Gt,St.baseUri))),Ct.url=Gt,Ct.serviceLocation=it.hasOwnProperty(b.default.SERVICE_LOCATION)&&it.serviceLocation.length?it.serviceLocation:Gt,it.hasOwnProperty(b.default.DVB_PRIORITY)&&(Ct.dvb_priority=it[b.default.DVB_PRIORITY]),it.hasOwnProperty(b.default.DVB_WEIGHT)&&(Ct.dvb_weight=it[b.default.DVB_WEIGHT]),it.hasOwnProperty(b.default.AVAILABILITY_TIME_OFFSET)&&(Ct.availabilityTimeOffset=it[b.default.AVAILABILITY_TIME_OFFSET]),it.hasOwnProperty(b.default.AVAILABILITY_TIME_COMPLETE)&&(Ct.availabilityTimeComplete="false"!==it[b.default.AVAILABILITY_TIME_COMPLETE]),ct.push(Ct),Ke}}),ct}return z={getIsTypeOf:le,getIsText:Le,getIsFragmented:Me,getProducerReferenceTimesForAdaptation:function je(St){var ct=St&&St.hasOwnProperty(b.default.PRODUCERREFERENCETIME_ASARRAY)?St[b.default.PRODUCERREFERENCETIME_ASARRAY]:[];(St&&St.hasOwnProperty(b.default.REPRESENTATION_ASARRAY)?St[b.default.REPRESENTATION_ASARRAY]:[]).forEach(function(it){it.hasOwnProperty(b.default.PRODUCERREFERENCETIME_ASARRAY)&&ct.push.apply(ct,N(it[b.default.PRODUCERREFERENCETIME_ASARRAY]))});var Ke=[];return ct.forEach(function(it){var Ct=new v.default;it.hasOwnProperty(b.default.ID)&&(Ct[b.default.ID]=it[b.default.ID],it.hasOwnProperty(b.default.WALL_CLOCK_TIME)&&(Ct[b.default.WALL_CLOCK_TIME]=it[b.default.WALL_CLOCK_TIME],it.hasOwnProperty(b.default.PRESENTATION_TIME)&&(Ct[b.default.PRESENTATION_TIME]=it[b.default.PRESENTATION_TIME],Ke.push(Ct))))}),Ke},getLanguageForAdaptation:function ze(St){var ct="";return St&&St.hasOwnProperty(b.default.LANG)&&(ct=St.lang),ct},getViewpointForAdaptation:function He(St){return St&&St.hasOwnProperty(b.default.VIEWPOINT)?St.Viewpoint:null},getRolesForAdaptation:function Ae(St){return St&&St.hasOwnProperty(b.default.ROLE_ASARRAY)?St.Role_asArray:[]},getAccessibilityForAdaptation:function ye(St){return St&&St.hasOwnProperty(b.default.ACCESSIBILITY_ASARRAY)?St.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function K(St){return St&&St.hasOwnProperty(b.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?St.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function ie(St){return St&&St.hasOwnProperty(b.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?St.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function q(St,ct,Qt){var Ke=Z(ct,Qt);return Ke.length>0&&Se(St)?Ke[St]:null},getIndexForAdaptation:function J(St,ct,Qt){if(!St)return-1;for(var Ke=Z(ct,Qt),it=0;it<Ke.length;it++)if(Object(U.default)(te).getInstance().areEqual(Ke[it],St))return it;return-1},getAdaptationForId:function Q(St,ct,Qt){var it,Ct,Ke=Z(ct,Qt);for(it=0,Ct=Ke.length;it<Ct;it++)if(Ke[it].hasOwnProperty(b.default.ID)&&Ke[it].id===St)return Ke[it];return null},getAdaptationsForType:function de(St,ct,Qt){var it,Ct,Ke=Z(St,ct),Gt=[];for(it=0,Ct=Ke.length;it<Ct;it++)le(Ke[it],Qt)&&Gt.push($(Ke[it]));return Gt},getRealPeriods:W,getRealPeriodForIndex:function X(St,ct){var Qt=W(ct);return Qt.length>0&&Se(St)?Qt[St]:null},getCodec:function ge(St,ct,Qt){var Ke=null;if(St&&St.Representation_asArray&&St.Representation_asArray.length>0){var it=Se(ct)&&ct>=0&&ct<St.Representation_asArray.length?St.Representation_asArray[ct]:St.Representation_asArray[0];it&&(Ke=it.mimeType+';codecs="'+it.codecs+'"',Qt&&void 0!==it.width&&(Ke+=';width="'+it.width+'";height="'+it.height+'"'))}return Ke&&(Ke=Ke.replace(/\sprofiles=[^;]*/g,"")),Ke},getSelectionPriority:function $t(St){try{var ct=St&&typeof St.selectionPriority<"u"?parseInt(St.selectionPriority):1;return isNaN(ct)?1:ct}catch{return 1}},getMimeType:function ce(St){return St&&St.Representation_asArray&&St.Representation_asArray.length>0?St.Representation_asArray[0].mimeType:null},getKID:function Ce(St){return St&&St.hasOwnProperty(b.default.CENC_DEFAULT_KID)?St[b.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function Ye(St){if(!St||!Array.isArray(St.Label_asArray))return[];for(var ct=[],Qt=0;Qt<St.Label_asArray.length;Qt++)ct.push({lang:St.Label_asArray[Qt].lang,text:St.Label_asArray[Qt].__text||St.Label_asArray[Qt]});return ct},getContentProtectionData:function Be(St){return St&&St.hasOwnProperty(b.default.CONTENTPROTECTION_ASARRAY)&&0!==St.ContentProtection_asArray.length?St.ContentProtection_asArray:null},getIsDynamic:$e,getId:function Qe(St){return St&&St[b.default.ID]||null},hasProfile:function qe(St,ct){var Qt=!1;return St&&St.profiles&&St.profiles.length>0&&(Qt=-1!==St.profiles.indexOf(ct)),Qt},getDuration:function dt(St){return St&&St.hasOwnProperty(b.default.MEDIA_PRESENTATION_DURATION)?St.mediaPresentationDuration:St&&"dynamic"==St.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function It(St){return St&&St.bandwidth?St.bandwidth:NaN},getManifestUpdatePeriod:function _t(St){var ct=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Qt=NaN;return St&&St.hasOwnProperty(b.default.MINIMUM_UPDATE_PERIOD)&&(Qt=St.minimumUpdatePeriod),isNaN(Qt)?Qt:Math.max(Qt-ct,1)},getPublishTime:function Ot(St){return St&&St.hasOwnProperty(b.default.PUBLISH_TIME)?new Date(St[b.default.PUBLISH_TIME]):null},getRepresentationCount:function jt(St){return St&&Array.isArray(St.Representation_asArray)?St.Representation_asArray.length:0},getBitrateListForAdaptation:function zt(St){var ct=$(St);return(ct&&Array.isArray(ct.Representation_asArray)?ct.Representation_asArray:[]).map(function(Ke){return{bandwidth:Ke.bandwidth,width:Ke.width||0,height:Ke.height||0,scanType:Ke.scanType||null,id:Ke.id||null}})},getRepresentationFor:function pn(St,ct){return ct&&ct.Representation_asArray&&ct.Representation_asArray.length>0&&Se(St)?ct.Representation_asArray[St]:null},getRepresentationsForAdaptation:function st(St){var Ke,it,ct=[],Qt=function jn(St){if(St&&St.period&&Se(St.period.index)){var ct=St.period.mpd.manifest.Period_asArray[St.period.index];if(ct&&ct.AdaptationSet_asArray&&Se(St.index))return $(ct.AdaptationSet_asArray[St.index])}}(St);if(Qt&&Qt.Representation_asArray){if(St&&St.period&&Se(St.period.index)){var Ct=en(St.period.mpd.manifest);Ct&&(it=Ct[0])}for(var Gt=0,hn=Qt.Representation_asArray.length;Gt<hn;++Gt){var bn=Qt.Representation_asArray[Gt],Ft=new I.default;if(Ft.index=Gt,Ft.adaptation=St,bn.hasOwnProperty(b.default.ID)&&(Ft.id=bn.id),bn.hasOwnProperty(b.default.CODECS)&&(Ft.codecs=bn.codecs),bn.hasOwnProperty(b.default.MIME_TYPE)&&(Ft.mimeType=bn[b.default.MIME_TYPE]),bn.hasOwnProperty(b.default.CODEC_PRIVATE_DATA)&&(Ft.codecPrivateData=bn.codecPrivateData),bn.hasOwnProperty(b.default.BANDWITH)&&(Ft.bandwidth=bn.bandwidth),bn.hasOwnProperty(b.default.WIDTH)&&(Ft.width=bn.width),bn.hasOwnProperty(b.default.HEIGHT)&&(Ft.height=bn.height),bn.hasOwnProperty(b.default.SCAN_TYPE)&&(Ft.scanType=bn.scanType),bn.hasOwnProperty(b.default.MAX_PLAYOUT_RATE)&&(Ft.maxPlayoutRate=bn.maxPlayoutRate),bn.hasOwnProperty(b.default.SEGMENT_BASE)?(Ke=bn.SegmentBase,Ft.segmentInfoType=b.default.SEGMENT_BASE):bn.hasOwnProperty(b.default.SEGMENT_LIST)?Ft.segmentInfoType=(Ke=bn.SegmentList).hasOwnProperty(b.default.SEGMENT_TIMELINE)?b.default.SEGMENT_TIMELINE:b.default.SEGMENT_LIST:bn.hasOwnProperty(b.default.SEGMENT_TEMPLATE)?(Ft.segmentInfoType=(Ke=bn.SegmentTemplate).hasOwnProperty(b.default.SEGMENT_TIMELINE)?b.default.SEGMENT_TIMELINE:b.default.SEGMENT_TEMPLATE,Ke.hasOwnProperty(b.default.INITIALIZATION_MINUS)&&(Ft.initialization=Ke.initialization.split("$Bandwidth$").join(bn.bandwidth).split("$RepresentationID$").join(bn.id))):Ft.segmentInfoType=b.default.BASE_URL,Ft.essentialProperties=dn(bn),Ke){if(Ke.hasOwnProperty(b.default.INITIALIZATION)){var Rt=Ke.Initialization;Rt.hasOwnProperty(b.default.SOURCE_URL)&&(Ft.initialization=Rt.sourceURL),Rt.hasOwnProperty(b.default.RANGE)&&(Ft.range=Rt.range)}else Le(Qt)&&Me(Qt)&&Qt.mimeType&&-1===Qt.mimeType.indexOf("application/mp4")&&(Ft.range=0);Ke.hasOwnProperty(b.default.TIMESCALE)&&(Ft.timescale=Ke.timescale),Ke.hasOwnProperty(b.default.DURATION)?Ft.segmentDuration=Ke.duration/Ft.timescale:bn.hasOwnProperty(b.default.SEGMENT_TEMPLATE)&&(Ke=bn.SegmentTemplate).hasOwnProperty(b.default.SEGMENT_TIMELINE)&&(Ft.segmentDuration=ut(Ke.SegmentTimeline)/Ft.timescale),Ke.hasOwnProperty(b.default.MEDIA)&&(Ft.media=Ke.media),Ke.hasOwnProperty(b.default.START_NUMBER)&&(Ft.startNumber=Ke.startNumber),Ke.hasOwnProperty(b.default.INDEX_RANGE)&&(Ft.indexRange=Ke.indexRange),Ke.hasOwnProperty(b.default.PRESENTATION_TIME_OFFSET)&&(Ft.presentationTimeOffset=Ke.presentationTimeOffset/Ft.timescale),Ke.hasOwnProperty(b.default.AVAILABILITY_TIME_OFFSET)?Ft.availabilityTimeOffset=Ke.availabilityTimeOffset:it&&void 0!==it.availabilityTimeOffset&&(Ft.availabilityTimeOffset=it.availabilityTimeOffset),Ke.hasOwnProperty(b.default.AVAILABILITY_TIME_COMPLETE)?Ft.availabilityTimeComplete="false"!==Ke.availabilityTimeComplete:it&&void 0!==it.availabilityTimeComplete&&(Ft.availabilityTimeComplete=it.availabilityTimeComplete)}Ft.MSETimeOffset=xe(Ft),Ft.path=[St.period.index,St.index,Gt],ct.push(Ft)}}return ct},getAdaptationsForPeriod:function fe(St){var Ke,it,Ct,ct=St&&Se(St.index)?St.mpd.manifest.Period_asArray[St.index]:null,Qt=[];if(ct&&ct.AdaptationSet_asArray)for(Ct=0;Ct<ct.AdaptationSet_asArray.length;Ct++)it=ct.AdaptationSet_asArray[Ct],Ke=new y.default,it.hasOwnProperty(b.default.ID)&&(Ke.id=it.id),Ke.index=Ct,Ke.period=St,Pe(it)?Ke.type=t.default.MUXED:we(it)?Ke.type=t.default.AUDIO:_e(it)?Ke.type=t.default.VIDEO:Le(it)?Ke.type=t.default.TEXT:Oe(it)?Ke.type=t.default.IMAGE:oe.warn("Unknown Adaptation stream type"),Qt.push(Ke);return Qt},getRegularPeriods:function pe(St){var hn,bn,ct=!!St&&$e(St.manifest),Qt=[],Ke=null,it=null,Ct=null,Gt=null;for(bn=0,hn=St&&St.manifest&&St.manifest.Period_asArray?St.manifest.Period_asArray.length:0;bn<hn;bn++)(it=St.manifest.Period_asArray[bn]).hasOwnProperty(b.default.START)?(Gt=new F.default).start=it.start:null!==Ke&&Ke.hasOwnProperty(b.default.DURATION)&&null!==Ct?(Gt=new F.default).start=parseFloat((Ct.start+Ct.duration).toFixed(5)):0===bn&&!ct&&((Gt=new F.default).start=0),null!==Ct&&isNaN(Ct.duration)&&(null!==Gt?Ct.duration=parseFloat((Gt.start-Ct.start).toFixed(5)):oe.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==Gt&&(Gt.id=lt(it,bn),Gt.index=bn,Gt.mpd=St,it.hasOwnProperty(b.default.DURATION)&&(Gt.duration=it.duration),Ct&&(Ct.nextPeriodId=Gt.id),Qt.push(Gt),Ke=it,Ct=Gt),it=null,Gt=null;return 0===Qt.length||null!==Ct&&isNaN(Ct.duration)&&(Ct.duration=parseFloat((function ft(St){!function Dt(){if(!H||!H.hasOwnProperty("error"))throw new Error(t.default.MISSING_CONFIG_ERROR)}();var Qt,ct=$e(St.mpd.manifest);return St.mpd.manifest.mediaPresentationDuration?Qt=St.mpd.manifest.mediaPresentationDuration:St.duration?Qt=St.duration:ct?Qt=Number.POSITIVE_INFINITY:H.error(new P.default(D.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",St)),Qt}(Ct)-Ct.start).toFixed(5))),Qt},getMpd:function mt(St){var ct=new L.default;return St&&(ct.manifest=St,St.hasOwnProperty(b.default.AVAILABILITY_START_TIME)?ct.availabilityStartTime=new Date(St.availabilityStartTime.getTime()):St.loadedTime&&(ct.availabilityStartTime=new Date(St.loadedTime.getTime())),St.hasOwnProperty(b.default.AVAILABILITY_END_TIME)&&(ct.availabilityEndTime=new Date(St.availabilityEndTime.getTime())),St.hasOwnProperty(b.default.MINIMUM_UPDATE_PERIOD)&&(ct.minimumUpdatePeriod=St.minimumUpdatePeriod),St.hasOwnProperty(b.default.MEDIA_PRESENTATION_DURATION)&&(ct.mediaPresentationDuration=St.mediaPresentationDuration),St.hasOwnProperty(b.default.SUGGESTED_PRESENTATION_DELAY)&&(ct.suggestedPresentationDelay=St.suggestedPresentationDelay),St.hasOwnProperty(b.default.TIMESHIFT_BUFFER_DEPTH)&&(ct.timeShiftBufferDepth=St.timeShiftBufferDepth),St.hasOwnProperty(b.default.MAX_SEGMENT_DURATION)&&(ct.maxSegmentDuration=St.maxSegmentDuration),St.hasOwnProperty(b.default.PUBLISH_TIME)&&(ct.publishTime=new Date(St.publishTime))),ct},getEventsForPeriod:function bt(St){var Ct,Gt,ct=St&&St.mpd&&St.mpd.manifest?St.mpd.manifest:null,Qt=ct?ct.Period_asArray:null,Ke=Qt&&St&&Se(St.index)?Qt[St.index].EventStream_asArray:null,it=[];if(Ke)for(Ct=0;Ct<Ke.length;Ct++){var hn=new p.default;if(hn.period=St,hn.timescale=1,!Ke[Ct].hasOwnProperty(t.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(hn.schemeIdUri=Ke[Ct][t.default.SCHEME_ID_URI],Ke[Ct].hasOwnProperty(b.default.TIMESCALE)&&(hn.timescale=Ke[Ct][b.default.TIMESCALE]),Ke[Ct].hasOwnProperty(b.default.VALUE)&&(hn.value=Ke[Ct][b.default.VALUE]),Ke[Ct].hasOwnProperty(b.default.PRESENTATION_TIME_OFFSET)&&(hn.presentationTimeOffset=Ke[Ct][b.default.PRESENTATION_TIME_OFFSET]),Gt=0;Ke[Ct].Event_asArray&&Gt<Ke[Ct].Event_asArray.length;Gt++){var bn=Ke[Ct].Event_asArray[Gt],Ft=new m.default;Ft.presentationTime=0,Ft.eventStream=hn,bn.hasOwnProperty(b.default.PRESENTATION_TIME)&&(Ft.presentationTime=bn.presentationTime),Ft.calculatedPresentationTime=Ft.presentationTime/hn.timescale+St.start-(hn.presentationTimeOffset?hn.presentationTimeOffset/hn.timescale:0),bn.hasOwnProperty(b.default.DURATION)&&(Ft.duration=bn.duration/hn.timescale),Ft.id=bn.hasOwnProperty(b.default.ID)?bn.id:null,Ft.messageData=bn.Signal&&bn.Signal.Binary?me.decodeArray(bn.Signal.Binary.toString()):bn.messageData||bn.__cdata||bn.__text,it.push(Ft)}}return it},getEssentialPropertiesForRepresentation:dn,getEventStreamForAdaptationSet:function Wt(St,ct,Qt){var Ke,it,Ct;return St&&St.Period_asArray&&ct&&ct.period&&Se(ct.period.index)&&(it=St.Period_asArray[ct.period.index])&&it.AdaptationSet_asArray&&Se(ct.index)&&(Ct=it.AdaptationSet_asArray[ct.index])&&(Ke=Ct.InbandEventStream_asArray),Nt(Ke,null,Qt)},getEventStreamForRepresentation:function wt(St,ct,Qt){var Ke,it,Ct,Gt;return St&&St.Period_asArray&&ct&&ct.adaptation&&ct.adaptation.period&&Se(ct.adaptation.period.index)&&(it=St.Period_asArray[ct.adaptation.period.index])&&it.AdaptationSet_asArray&&Se(ct.adaptation.index)&&(Ct=it.AdaptationSet_asArray[ct.adaptation.index])&&Ct.Representation_asArray&&Se(ct.index)&&(Gt=Ct.Representation_asArray[ct.index])&&(Ke=Gt.InbandEventStream_asArray),Nt(Ke,ct,Qt)},getUTCTimingSources:function Vt(St){var ct=$e(St),Qt=!!St&&St.hasOwnProperty(b.default.AVAILABILITY_START_TIME),Ke=St?St.UTCTiming_asArray:null,it=[];return(ct||Qt)&&Ke&&Ke.forEach(function(Ct){var Gt=new x.default;Ct.hasOwnProperty(t.default.SCHEME_ID_URI)&&(Gt.schemeIdUri=Ct.schemeIdUri,Ct.hasOwnProperty(b.default.VALUE)&&(Gt.value=Ct.value.toString(),it.push(Gt)))}),it},getBaseURLsFromElement:en,getRepresentationSortFunction:he,getContentSteering:function nn(St){if(St&&St.hasOwnProperty(b.default.CONTENT_STEERING_AS_ARRAY)){var ct=St[b.default.CONTENT_STEERING_AS_ARRAY][0],Qt=new A.default;return Qt.serverUrl=ct.__text,ct.hasOwnProperty(b.default.DEFAULT_SERVICE_LOCATION)&&(Qt.defaultServiceLocation=ct[b.default.DEFAULT_SERVICE_LOCATION]),ct.hasOwnProperty(b.default.QUERY_BEFORE_START)&&(Qt.queryBeforeStart="true"===ct[b.default.QUERY_BEFORE_START].toLowerCase()),ct.hasOwnProperty(b.default.PROXY_SERVER_URL)&&(Qt.proxyServerUrl=ct[b.default.PROXY_SERVER_URL]),Qt}},getLocation:function yn(St){if(St&&St.hasOwnProperty(t.default.LOCATION))return St.Location=St.Location_asArray[0],St.Location},getPatchLocation:function Tn(St){if(St&&St.hasOwnProperty(b.default.PATCH_LOCATION))return St.PatchLocation=St.PatchLocation_asArray[0],St.PatchLocation},getSuggestedPresentationDelay:function On(St){return St&&St.hasOwnProperty(b.default.SUGGESTED_PRESENTATION_DELAY)?St.suggestedPresentationDelay:null},getAvailabilityStartTime:function kn(St){return St&&St.hasOwnProperty(b.default.AVAILABILITY_START_TIME)&&null!==St.availabilityStartTime?St.availabilityStartTime.getTime():null},getServiceDescriptions:function qn(St){var ct=[];if(St&&St.hasOwnProperty(b.default.SERVICE_DESCRIPTION)){var Ke,Qt=E(St.ServiceDescription_asArray);try{for(Qt.s();!(Ke=Qt.n()).done;){var it=Ke.value,Ct=null,Gt=null,hn=null,bn=null,Ft=null,Rt=null;for(var Ht in it)it.hasOwnProperty(Ht)&&(Ht===b.default.ID?Ct=it[Ht]:Ht===b.default.SERVICE_DESCRIPTION_SCOPE?Gt=it[Ht].schemeIdUri:Ht===b.default.SERVICE_DESCRIPTION_LATENCY?hn={target:parseInt(it[Ht].target),max:parseInt(it[Ht].max),min:parseInt(it[Ht].min),referenceId:parseInt(it[Ht].referenceId)}:Ht===b.default.SERVICE_DESCRIPTION_PLAYBACK_RATE?bn={max:parseFloat(it[Ht].max),min:parseFloat(it[Ht].min)}:Ht===b.default.SERVICE_DESCRIPTION_OPERATING_QUALITY?Ft={mediaType:it[Ht].mediaType,max:parseInt(it[Ht].max),min:parseInt(it[Ht].min),target:parseInt(it[Ht].target),type:it[Ht].type,maxQualityDifference:parseInt(it[Ht].maxQualityDifference)}:Ht===b.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(Rt={mediaType:it[Ht].mediaType,max:parseInt(it[Ht].max),min:parseInt(it[Ht].min),target:parseInt(it[Ht].target)}));ct.push({id:Ct,schemeIdUri:Gt,latency:hn,playbackRate:bn,operatingQuality:Ft,operatingBandwidth:Rt})}}catch(on){Qt.e(on)}finally{Qt.f()}}return ct},getSupplementalProperties:function ui(St){var ct={};if(St&&St.hasOwnProperty(b.default.SUPPLEMENTAL_PROPERTY)){var Ke,Qt=E(St.SupplementalProperty_asArray);try{for(Qt.s();!(Ke=Qt.n()).done;){var it=Ke.value;it.hasOwnProperty(t.default.SCHEME_ID_URI)&&it.hasOwnProperty(b.default.VALUE)&&(ct[it[t.default.SCHEME_ID_URI]]=it[b.default.VALUE])}}catch(Ct){Qt.e(Ct)}finally{Qt.f()}}return ct},setConfig:function kt(St){St&&(St.errHandler&&(H=St.errHandler),St.BASE64&&(me=St.BASE64))}},function Ie(){oe=Object(k.default)(te).getInstance().getLogger(z)}(),z}Re.__dashjs_factory_name="DashManifestModel",C.default=V.default.getSingletonFactory(Re)},"./src/dash/models/PatchManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/dash/models/PatchManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),y=c(
/*! ../vo/SimpleXPath */
"./src/dash/vo/SimpleXPath.js"),F=c(
/*! ../vo/PatchOperation */
"./src/dash/vo/PatchOperation.js");function L(){var x,m,h=this.context;return x={getIsPatch:function v(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_MPD_ID)||!1},getPublishTime:function A(k){return k&&k.hasOwnProperty(t.default.PUBLISH_TIME)?new Date(k[t.default.PUBLISH_TIME]):null},getOriginalPublishTime:function U(k){return k&&k.hasOwnProperty(t.default.ORIGINAL_PUBLISH_TIME)?new Date(k[t.default.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function O(k){return k&&k[t.default.ORIGINAL_MPD_ID]||null},getPatchOperations:function V(k){return k?(k.__children||[]).map(function(P){var D=Object.keys(P)[0];if("add"!==D&&"remove"!==D&&"replace"!==D)return m.warn("Ignoring node of invalid action: ".concat(D)),null;var w=P[D],E=w.sel;if("add"===D&&w.type){if(!w.type.startsWith("@"))return m.warn("Ignoring add action for prefixed namespace declaration: ".concat(w.type,"=").concat(w.__text)),null;E="".concat(E,"/").concat(w.type)}var N=new y.default(E);if(!N.isValid())return m.warn("Ignoring action with invalid selector: ".concat(D," - ").concat(E)),null;var S=null;N.findsAttribute()?S=w.__text||"":"remove"!==D&&(S=w.__children.reduce(function(Y,re){var ae=Object.keys(re)[0];return"#text"!==ae&&(Y[ae]=Y[ae]||[],Y[ae].push(re[ae])),Y},{}));var B=new F.default(D,N,S);return"add"===D&&(B.position=w.pos),B}).filter(function(P){return!!P}):[]}},function p(){m=Object(I.default)(h).getInstance().getLogger(x)}(),x}L.__dashjs_factory_name="PatchManifestModel",C.default=b.default.getSingletonFactory(L)},"./src/dash/parser/DashParser.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/DashParser.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./objectiron */
"./src/dash/parser/objectiron.js"),I=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),y=c(
/*! ./matchers/StringMatcher */
"./src/dash/parser/matchers/StringMatcher.js"),F=c(
/*! ./matchers/DurationMatcher */
"./src/dash/parser/matchers/DurationMatcher.js"),L=c(
/*! ./matchers/DateTimeMatcher */
"./src/dash/parser/matchers/DateTimeMatcher.js"),x=c(
/*! ./matchers/NumericMatcher */
"./src/dash/parser/matchers/NumericMatcher.js"),m=c(
/*! ./matchers/LangMatcher */
"./src/dash/parser/matchers/LangMatcher.js"),h=c(
/*! ./maps/RepresentationBaseValuesMap */
"./src/dash/parser/maps/RepresentationBaseValuesMap.js"),p=c(
/*! ./maps/SegmentValuesMap */
"./src/dash/parser/maps/SegmentValuesMap.js");function v(A){var V,k,P,D,w,U=this.context,O=(A=A||{}).debug;return V={parse:function B(Y){var re,ae=window.performance.now();if(!(re=D.xml_str2json(Y)))throw new Error("parsing the manifest failed");var Re=window.performance.now();re.Patch?((re=re.Patch).add_asArray&&re.add_asArray.forEach(function(oe){return w.run(oe)}),re.replace_asArray&&re.replace_asArray.forEach(function(oe){return w.run(oe)})):w.run(re=re.MPD);var z=window.performance.now();return k.info("Parsing complete: ( xml2json: "+(Re-ae).toPrecision(3)+"ms, objectiron: "+(z-Re).toPrecision(3)+"ms, total: "+((z-ae)/1e3).toPrecision(3)+"s)"),re.protocol="DASH",re},getMatchers:function N(){return P},getIron:function S(){return w}},function E(){k=O.getLogger(V),P=[new F.default,new L.default,new x.default,new m.default,new y.default],D=new I.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:P}),w=Object(b.default)(U).create({adaptationset:new h.default,period:new p.default})}(),V}v.__dashjs_factory_name="DashParser",C.default=t.default.getClassFactory(v)},"./src/dash/parser/maps/CommonProperty.js":
/*!************************************************!*\
                  !*** ./src/dash/parser/maps/CommonProperty.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function I(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function m(h){!function b(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m);var A;this._name=h,this._merge=(A=h)&&A.length&&A.charAt(0)===A.charAt(0).toUpperCase()}return function y(m,h,p){return h&&I(m.prototype,h),p&&I(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),m}()},"./src/dash/parser/maps/MapNode.js":
/*!*****************************************!*\
                  !*** ./src/dash/parser/maps/MapNode.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./CommonProperty */
"./src/dash/parser/maps/CommonProperty.js");function b(h){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function y(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,L(A.key),A)}}function L(h){var p=function x(h,p){if("object"!==b(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==b(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===b(p)?p:String(p)}C.default=function(){function h(p,v,A){var U=this;(function I(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this._name=p||"",this._properties=[],this._children=A||[],Array.isArray(v)&&v.forEach(function(O){U._properties.push(new t.default(O))})}return function F(h,p,v){return p&&y(h.prototype,p),v&&y(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),h}()},"./src/dash/parser/maps/RepresentationBaseValuesMap.js":
/*!*************************************************************!*\
                  !*** ./src/dash/parser/maps/RepresentationBaseValuesMap.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function I(P){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function y(P,D){for(var w=0;w<D.length;w++){var E=D[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,L(E.key),E)}}function L(P){var D=function x(P,D){if("object"!==I(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var E=w.call(P,D||"default");if("object"!==I(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(P)}(P,"string");return"symbol"===I(D)?D:String(D)}function h(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&p(P,D)}function p(P,D){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(P,D)}function v(P){var D=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,E=V(P);if(D){var S=V(this).constructor;N=Reflect.construct(E,arguments,S)}else N=E.apply(this,arguments);return function A(P,D){if(D&&("object"===I(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function U(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function V(P){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(P)}C.default=function(P){h(w,P);var D=v(w);function w(){!function m(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w);var E=[b.default.PROFILES,b.default.WIDTH,b.default.HEIGHT,b.default.SAR,b.default.FRAMERATE,b.default.AUDIO_SAMPLING_RATE,b.default.MIME_TYPE,b.default.SEGMENT_PROFILES,b.default.CODECS,b.default.MAXIMUM_SAP_PERIOD,b.default.START_WITH_SAP,b.default.MAX_PLAYOUT_RATE,b.default.CODING_DEPENDENCY,b.default.SCAN_TYPE,b.default.FRAME_PACKING,b.default.AUDIO_CHANNEL_CONFIGURATION,b.default.CONTENT_PROTECTION,b.default.ESSENTIAL_PROPERTY,b.default.SUPPLEMENTAL_PROPERTY,b.default.INBAND_EVENT_STREAM];return D.call(this,b.default.ADAPTATION_SET,E,[new t.default(b.default.REPRESENTATION,E,[new t.default(b.default.SUB_REPRESENTATION,E)])])}return function F(P,D,w){return D&&y(P.prototype,D),w&&y(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}(w)}(t.default)},"./src/dash/parser/maps/SegmentValuesMap.js":
/*!**************************************************!*\
                  !*** ./src/dash/parser/maps/SegmentValuesMap.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./MapNode */
"./src/dash/parser/maps/MapNode.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function I(P){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function y(P,D){for(var w=0;w<D.length;w++){var E=D[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,L(E.key),E)}}function L(P){var D=function x(P,D){if("object"!==I(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var E=w.call(P,D||"default");if("object"!==I(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(P)}(P,"string");return"symbol"===I(D)?D:String(D)}function h(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&p(P,D)}function p(P,D){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(P,D)}function v(P){var D=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,E=V(P);if(D){var S=V(this).constructor;N=Reflect.construct(E,arguments,S)}else N=E.apply(this,arguments);return function A(P,D){if(D&&("object"===I(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function U(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function V(P){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(P)}C.default=function(P){h(w,P);var D=v(w);function w(){!function m(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w);var E=[b.default.SEGMENT_BASE,b.default.SEGMENT_TEMPLATE,b.default.SEGMENT_LIST];return D.call(this,b.default.PERIOD,E,[new t.default(b.default.ADAPTATION_SET,E,[new t.default(b.default.REPRESENTATION,E)])])}return function F(P,D,w){return D&&y(P.prototype,D),w&&y(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}(w)}(t.default)},"./src/dash/parser/matchers/BaseMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/BaseMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function I(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function m(h,p){(function b(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this._test=h,this._converter=p}return function y(m,h,p){return h&&I(m.prototype,h),p&&I(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),m}()},"./src/dash/parser/matchers/DateTimeMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DateTimeMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function b(E){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(E)}function I(E,N){for(var S=0;S<N.length;S++){var B=N[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(E,F(B.key),B)}}function F(E){var N=function L(E,N){if("object"!==b(E)||null===E)return E;var S=E[Symbol.toPrimitive];if(void 0!==S){var B=S.call(E,N||"default");if("object"!==b(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(E)}(E,"string");return"symbol"===b(N)?N:String(N)}function m(E,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),N&&h(E,N)}function h(E,N){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(E,N)}function p(E){var N=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=O(E);if(N){var re=O(this).constructor;Y=Reflect.construct(B,arguments,re)}else Y=B.apply(this,arguments);return function v(E,N){if(N&&("object"===b(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function A(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(E)}(this,Y)}}function O(E){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(E)}var D=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;C.default=function(E){m(S,E);var N=p(S);function S(){return function x(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}(this,S),N.call(this,function(B){return D.test(B.value)},function(B){var re,Y=D.exec(B);if(re=Date.UTC(parseInt(Y[1],10),parseInt(Y[2],10)-1,parseInt(Y[3],10),parseInt(Y[4],10),parseInt(Y[5],10),Y[6]&&parseInt(Y[6],10)||0,Y[7]&&1e3*parseFloat(Y[7])||0),Y[9]&&Y[10]){var ae=60*parseInt(Y[9],10)+parseInt(Y[10],10);re+=("+"===Y[8]?-1:1)*ae*60*1e3}return new Date(re)})}return function y(E,N,S){return N&&I(E.prototype,N),S&&I(E,S),Object.defineProperty(E,"prototype",{writable:!1}),E}(S)}(t.default)},"./src/dash/parser/matchers/DurationMatcher.js":
/*!*****************************************************!*\
                  !*** ./src/dash/parser/matchers/DurationMatcher.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=c(
/*! ../../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function y(Y){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(Y)}function F(Y,re){for(var ae=0;ae<re.length;ae++){var Re=re[ae];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Y,x(Re.key),Re)}}function x(Y){var re=function m(Y,re){if("object"!==y(Y)||null===Y)return Y;var ae=Y[Symbol.toPrimitive];if(void 0!==ae){var Re=ae.call(Y,re||"default");if("object"!==y(Re))return Re;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===re?String:Number)(Y)}(Y,"string");return"symbol"===y(re)?re:String(re)}function p(Y,re){if("function"!=typeof re&&null!==re)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(re&&re.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),re&&v(Y,re)}function v(Y,re){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,z){return Re.__proto__=z,Re})(Y,re)}function A(Y){var re=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,Re=k(Y);if(re){var oe=k(this).constructor;z=Reflect.construct(Re,arguments,oe)}else z=Re.apply(this,arguments);return function U(Y,re){if(re&&("object"===y(re)||"function"==typeof re))return re;if(void 0!==re)throw new TypeError("Derived constructors may only return object or undefined");return function O(Y){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(Y)}(this,z)}}function k(Y){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)})(Y)}var P=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;C.default=function(Y){p(ae,Y);var re=A(ae);function ae(){return function h(Y,re){if(!(Y instanceof re))throw new TypeError("Cannot call a class as a function")}(this,ae),re.call(this,function(Re){for(var z=[I.default.MIN_BUFFER_TIME,I.default.MEDIA_PRESENTATION_DURATION,I.default.MINIMUM_UPDATE_PERIOD,I.default.TIMESHIFT_BUFFER_DEPTH,I.default.MAX_SEGMENT_DURATION,I.default.MAX_SUBSEGMENT_DURATION,I.default.SUGGESTED_PRESENTATION_DELAY,I.default.START,b.default.START_TIME,I.default.DURATION],oe=z.length,H=0;H<oe;H++)if(Re.nodeName===z[H])return P.test(Re.value);return!1},function(Re){var z=P.exec(Re),oe=31536e3*parseFloat(z[3]||0)+2592e3*parseFloat(z[5]||0)+86400*parseFloat(z[7]||0)+3600*parseFloat(z[9]||0)+60*parseFloat(z[11]||0)+parseFloat(z[13]||0);return void 0!==z[1]&&(oe=-oe),oe})}return function L(Y,re,ae){return re&&F(Y.prototype,re),ae&&F(Y,ae),Object.defineProperty(Y,"prototype",{writable:!1}),Y}(ae)}(t.default)},"./src/dash/parser/matchers/LangMatcher.js":
/*!*************************************************!*\
                  !*** ./src/dash/parser/matchers/LangMatcher.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),y=c.n(I);function F(E){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(E)}function L(E,N,S){return(N=h(N))in E?Object.defineProperty(E,N,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[N]=S,E}function x(E,N){for(var S=0;S<N.length;S++){var B=N[S];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(E,h(B.key),B)}}function h(E){var N=function p(E,N){if("object"!==F(E)||null===E)return E;var S=E[Symbol.toPrimitive];if(void 0!==S){var B=S.call(E,N||"default");if("object"!==F(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(E)}(E,"string");return"symbol"===F(N)?N:String(N)}function A(E,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),N&&U(E,N)}function U(E,N){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,Y){return B.__proto__=Y,B})(E,N)}function O(E){var N=function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,B=D(E);if(N){var re=D(this).constructor;Y=Reflect.construct(B,arguments,re)}else Y=B.apply(this,arguments);return function V(E,N){if(N&&("object"===F(N)||"function"==typeof N))return N;if(void 0!==N)throw new TypeError("Derived constructors may only return object or undefined");return function k(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(E)}(this,Y)}}function D(E){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)})(E)}C.default=function(E){A(S,E);var N=O(S);function S(){return function v(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}(this,S),N.call(this,function(B,Y){var re,ae=(L(re={},b.default.ADAPTATION_SET,[b.default.LANG]),L(re,b.default.REPRESENTATION,[b.default.LANG]),L(re,b.default.CONTENT_COMPONENT,[b.default.LANG]),L(re,b.default.LABEL,[b.default.LANG]),L(re,b.default.GROUP_LABEL,[b.default.LANG]),re);if(ae.hasOwnProperty(Y)){var Re=ae[Y];return void 0!==Re&&Re.indexOf(B.name)>=0}return!1},function(B){var Y=y()(B);return void 0!==Y?Y:String(B)})}return function m(E,N,S){return N&&x(E.prototype,N),S&&x(E,S),Object.defineProperty(E,"prototype",{writable:!1}),E}(S)}(t.default)},"./src/dash/parser/matchers/NumericMatcher.js":
/*!****************************************************!*\
                  !*** ./src/dash/parser/matchers/NumericMatcher.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js");function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function I(P,D){for(var w=0;w<D.length;w++){var E=D[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,F(E.key),E)}}function F(P){var D=function L(P,D){if("object"!==b(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var E=w.call(P,D||"default");if("object"!==b(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(P)}(P,"string");return"symbol"===b(D)?D:String(D)}function m(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&h(P,D)}function h(P,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(P,D)}function p(P){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,E=O(P);if(D){var S=O(this).constructor;N=Reflect.construct(E,arguments,S)}else N=E.apply(this,arguments);return function v(P,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(P)}var V=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;C.default=function(P){m(w,P);var D=p(w);function w(){return function x(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w),D.call(this,function(E){return V.test(E.value)},function(E){return parseFloat(E)})}return function y(P,D,w){return D&&I(P.prototype,D),w&&I(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}(w)}(t.default)},"./src/dash/parser/matchers/StringMatcher.js":
/*!***************************************************!*\
                  !*** ./src/dash/parser/matchers/StringMatcher.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./BaseMatcher */
"./src/dash/parser/matchers/BaseMatcher.js"),b=c(
/*! ../../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function I(D){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(D)}function y(D,w,E){return(w=x(w))in D?Object.defineProperty(D,w,{value:E,enumerable:!0,configurable:!0,writable:!0}):D[w]=E,D}function F(D,w){for(var E=0;E<w.length;E++){var N=w[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,x(N.key),N)}}function x(D){var w=function m(D,w){if("object"!==I(D)||null===D)return D;var E=D[Symbol.toPrimitive];if(void 0!==E){var N=E.call(D,w||"default");if("object"!==I(N))return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===w?String:Number)(D)}(D,"string");return"symbol"===I(w)?w:String(w)}function p(D,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(w&&w.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),w&&v(D,w)}function v(D,w){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,S){return N.__proto__=S,N})(D,w)}function A(D){var w=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,N=k(D);if(w){var B=k(this).constructor;S=Reflect.construct(N,arguments,B)}else S=N.apply(this,arguments);return function U(D,w){if(w&&("object"===I(w)||"function"==typeof w))return w;if(void 0!==w)throw new TypeError("Derived constructors may only return object or undefined");return function O(D){if(void 0===D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(D)}(this,S)}}function k(D){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)})(D)}C.default=function(D){p(E,D);var w=A(E);function E(){return function h(D,w){if(!(D instanceof w))throw new TypeError("Cannot call a class as a function")}(this,E),w.call(this,function(N,S){var B,Y=(y(B={},b.default.MPD,[b.default.ID,b.default.PROFILES]),y(B,b.default.PERIOD,[b.default.ID]),y(B,b.default.BASE_URL,[b.default.SERVICE_LOCATION,b.default.BYTE_RANGE]),y(B,b.default.SEGMENT_BASE,[b.default.INDEX_RANGE]),y(B,b.default.INITIALIZATION,[b.default.RANGE]),y(B,b.default.REPRESENTATION_INDEX,[b.default.RANGE]),y(B,b.default.SEGMENT_LIST,[b.default.INDEX_RANGE]),y(B,b.default.BITSTREAM_SWITCHING,[b.default.RANGE]),y(B,b.default.SEGMENT_URL,[b.default.MEDIA_RANGE,b.default.INDEX_RANGE]),y(B,b.default.SEGMENT_TEMPLATE,[b.default.INDEX_RANGE,b.default.MEDIA,b.default.INDEX,b.default.INITIALIZATION_MINUS,b.default.BITSTREAM_SWITCHING_MINUS]),y(B,b.default.ASSET_IDENTIFIER,[b.default.VALUE,b.default.ID]),y(B,b.default.EVENT_STREAM,[b.default.VALUE]),y(B,b.default.ADAPTATION_SET,[b.default.PROFILES,b.default.MIME_TYPE,b.default.SEGMENT_PROFILES,b.default.CODECS,b.default.CONTENT_TYPE]),y(B,b.default.FRAME_PACKING,[b.default.VALUE,b.default.ID]),y(B,b.default.AUDIO_CHANNEL_CONFIGURATION,[b.default.VALUE,b.default.ID]),y(B,b.default.CONTENT_PROTECTION,[b.default.VALUE,b.default.ID]),y(B,b.default.ESSENTIAL_PROPERTY,[b.default.VALUE,b.default.ID]),y(B,b.default.SUPPLEMENTAL_PROPERTY,[b.default.VALUE,b.default.ID]),y(B,b.default.INBAND_EVENT_STREAM,[b.default.VALUE,b.default.ID]),y(B,b.default.ACCESSIBILITY,[b.default.VALUE,b.default.ID]),y(B,b.default.ROLE,[b.default.VALUE,b.default.ID]),y(B,b.default.RATING,[b.default.VALUE,b.default.ID]),y(B,b.default.VIEWPOINT,[b.default.VALUE,b.default.ID]),y(B,b.default.CONTENT_COMPONENT,[b.default.CONTENT_TYPE]),y(B,b.default.REPRESENTATION,[b.default.ID,b.default.DEPENDENCY_ID,b.default.MEDIA_STREAM_STRUCTURE_ID]),y(B,b.default.SUBSET,[b.default.ID]),y(B,b.default.METRICS,[b.default.METRICS_MINUS]),y(B,b.default.REPORTING,[b.default.VALUE,b.default.ID]),B);if(Y.hasOwnProperty(S)){var re=Y[S];return void 0!==re&&re.indexOf(N.name)>=0}return!1},function(N){return String(N)})}return function L(D,w,E){return w&&F(D.prototype,w),E&&F(D,E),Object.defineProperty(D,"prototype",{writable:!1}),D}(E)}(t.default)},"./src/dash/parser/objectiron.js":
/*!***************************************!*\
                  !*** ./src/dash/parser/objectiron.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(F){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}function I(F){function L(p,v){for(var A in p)v.hasOwnProperty(A)||(v[A]=p[A])}function x(p,v,A){for(var U=0,O=p.length;U<O;++U){var V=p[U];if(v[V.name])if(A[V.name]){if(V.merge){var k=v[V.name],P=A[V.name];"object"===b(k)&&"object"===b(P)?L(k,P):A[V.name]=k+P}}else A[V.name]=v[V.name]}}function m(p,v){for(var A=0,U=p.children.length;A<U;++A){var O=p.children[A],V=v[O.name+"_asArray"];if(V)for(var k=0,P=V.length;k<P;++k){var D=V[k];x(p.properties,v,D),m(O,D)}}}return{run:function h(p){if(null===p||"object"!==b(p))return p;if(p.Period_asArray&&"period"in F)for(var v=F.period,A=p.Period_asArray,U=0,O=A.length;U<O;++U){var V=A[U];if(m(v,V),"adaptationset"in F){var k=V.AdaptationSet_asArray;if(k)for(var P=F.adaptationset,D=0,w=k.length;D<w;++D)m(P,k[D])}}return p}}}I.__dashjs_factory_name="ObjectIron";var y=t.default.getClassFactory(I);C.default=y},"./src/dash/utils/ListSegmentsGetter.js":
/*!**********************************************!*\
                  !*** ./src/dash/utils/ListSegmentsGetter.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function y(L,x){var m=(L=L||{}).timelineConverter;function p(){if(!m||!m.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function A(O,V){if(p(),!O)return null;var k=O.adaptation.period.mpd.manifest.Period_asArray[O.adaptation.period.index].AdaptationSet_asArray[O.adaptation.index].Representation_asArray[O.index].SegmentList,P=k.SegmentURL_asArray.length,D=O&&!isNaN(O.startNumber)?O.startNumber:1,w=Math.max(D-1,0),E=Math.max(V-w,0),N=null;if(E<P){var S=k.SegmentURL_asArray[E];(N=Object(I.getIndexBasedSegment)(m,x,O,V))&&(N.replacementTime=(D+V-1)*O.segmentDuration,N.media=S.media?S.media:"",N.mediaRange=S.mediaRange,N.indexRange=S.indexRange)}return N}return{getSegmentByIndex:A,getSegmentByTime:function U(O,V){if(p(),!O)return null;var k=O.segmentDuration;if(isNaN(k))return null;var P=m.calcPeriodRelativeTimeFromMpdRelativeTime(O,V);return A(O,Math.floor(P/k))},getMediaFinishedInformation:function v(O){var V={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!O)return V;var k=O.adaptation.period.mpd.manifest.Period_asArray[O.adaptation.period.index].AdaptationSet_asArray[O.adaptation.index].Representation_asArray[O.index].SegmentList,P=O&&!isNaN(O.startNumber)?O.startNumber:1,D=Math.max(P-1,0);return V.numberOfSegments=D+k.SegmentURL_asArray.length,V}}}y.__dashjs_factory_name="ListSegmentsGetter";var F=t.default.getClassFactory(y);C.default=F},"./src/dash/utils/Round10.js":
/*!***********************************!*\
                  !*** ./src/dash/utils/Round10.js ***!
                  \***********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function I(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C),c.d(C,"default",function(){return x});var x=function(){function h(){!function b(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}(this,h)}return function y(h,p,v){return p&&I(h.prototype,p),v&&I(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,null,[{key:"round10",value:function(v,A){return function m(h,p,v){return typeof v>"u"||0==+v?Math[h](p):(v=+v,null===(p=+p)||isNaN(p)||"number"!=typeof v||v%1!=0?NaN:(p=p.toString().split("e"),+((p=(p=Math[h](+(p[0]+"e"+(p[1]?+p[1]-v:-v)))).toString().split("e"))[0]+"e"+(p[1]?+p[1]+v:v))))}("round",v,A)}}]),h}()},"./src/dash/utils/SegmentBaseGetter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/SegmentBaseGetter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js");function I(F){var L=(F=F||{}).timelineConverter;function m(){if(!L||!L.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function p(U,O){if(m(),!U)return null;var k,V=U.segments?U.segments.length:-1;if(O<V&&(k=U.segments[O])&&k.index===O)return k;for(var P=0;P<V;P++)if((k=U.segments[P])&&k.index===O)return k;return null}return{getSegmentByIndex:p,getSegmentByTime:function v(U,O){return m(),p(U,function A(U,O){if(!U)return-1;var D,w,E,N,S,V=U.segments,k=V?V.length:null,P=-1;if(V&&k>0)for(S=0;S<k;S++)if(O+(D=(N=(w=V[S]).duration)/2)>=(E=w.presentationStartTime)&&O-D<E+N){P=w.index;break}return P}(U,O))},getMediaFinishedInformation:function h(U){var O={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return!U||!U.segments||(O.numberOfSegments=U.segments.length),O}}}I.__dashjs_factory_name="SegmentBaseGetter";var y=t.default.getClassFactory(I);C.default=y},"./src/dash/utils/SegmentsUtils.js":
/*!*****************************************!*\
                  !*** ./src/dash/utils/SegmentsUtils.js ***!
                  \*****************************************/
/*! exports provided: unescapeDollarsInTemplate, replaceIDForTemplate, replaceTokenForTemplate, getIndexBasedSegment, getTimeBasedSegment */function(Ze,C,c){"use strict";c.r(C),c.d(C,"unescapeDollarsInTemplate",function(){return y}),c.d(C,"replaceIDForTemplate",function(){return F}),c.d(C,"replaceTokenForTemplate",function(){return L}),c.d(C,"getIndexBasedSegment",function(){return h}),c.d(C,"getTimeBasedSegment",function(){return p});var t=c(
/*! ./../vo/Segment */
"./src/dash/vo/Segment.js");function b(v,A){for(;v.length<A;)v="0"+v;return v}function y(v){return v&&v.split("$$").join("$")}function F(v,A){if(!A||!v||-1===v.indexOf("$RepresentationID$"))return v;var U=A.toString();return v.split("$RepresentationID$").join(U)}function L(v,A,U){var V,k,P,D,w,E,N=A.length;if(!v)return v;for(;;){if((V=v.indexOf("$"+A))<0||(k=v.indexOf("$",V+N))<0)return v;if((P=v.indexOf("%0",V+N))>V&&P<k)switch(D=v.charAt(k-1),w=parseInt(v.substring(P+2,k-1),10),D){case"d":case"i":case"u":E=b(U.toString(),w);break;case"x":E=b(U.toString(16),w);break;case"X":E=b(U.toString(16),w).toUpperCase();break;case"o":E=b(U.toString(8),w);break;default:return v}else E=U;v=v.substring(0,V)+E+v.substring(k+1)}}function x(v,A,U,O,V,k,P,D){var w=new t.default;return w.representation=v,w.duration=A,w.presentationStartTime=U,w.mediaStartTime=O,w.availabilityStartTime=V.calcAvailabilityStartTimeFromPresentationTime(k,v,P),w.availabilityEndTime=V.calcAvailabilityEndTimeFromPresentationTime(k+A,v,P),w.wallStartTime=V.calcWallTimeForSegment(w,P),w.replacementNumber=function I(v,A){return v.representation.startNumber+A}(w,D),w.index=D,w}function m(v,A,U,O){var V=A.adaptation.period;if(isFinite(V.duration)&&V.start+V.duration<=U.presentationStartTime)return!1;if(O){if("INF"===A.availabilityTimeOffset)return!0;var k=v.getClientReferenceTime();return U.availabilityStartTime.getTime()<=k&&(!isFinite(U.availabilityEndTime)||U.availabilityEndTime.getTime()>=k)}return!0}function h(v,A,U,O){var V,k,P;V=U.segmentDuration,isNaN(V)&&(V=U.adaptation.period.duration),k=parseFloat((U.adaptation.period.start+O*V).toFixed(5)),P=parseFloat((k+V).toFixed(5));var w=x(U,V,k,v.calcMediaTimeFromPresentationTime(k,U),v,P,A,O);return m(v,U,w,A)?w:null}function p(v,A,U,O,V,k,P,D,w,E){var B,re,N=O/k,S=V/k;return B=v.calcPresentationTimeFromMediaTime(N,U),m(v,U,re=x(U,S,B,N,v,B+S,A,w),A)?(re.replacementTime=E||O,P=L(P,"Number",re.replacementNumber),P=L(P,"Time",re.replacementTime),re.media=P,re.mediaRange=D,re):null}},"./src/dash/utils/TemplateSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TemplateSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function y(L,x){var m=(L=L||{}).timelineConverter;function p(){if(!m||!m.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(b.default.MISSING_CONFIG_ERROR)}function A(O,V){if(p(),!O)return null;var k=O.adaptation.period.mpd.manifest.Period_asArray[O.adaptation.period.index].AdaptationSet_asArray[O.adaptation.index].Representation_asArray[O.index].SegmentTemplate;V=Math.max(V,0);var P=Object(I.getIndexBasedSegment)(m,x,O,V);if(P){P.replacementTime=Math.round((V-1)*O.segmentDuration*O.timescale,10);var D=k.media;D=Object(I.replaceTokenForTemplate)(D,"Number",P.replacementNumber),D=Object(I.replaceTokenForTemplate)(D,"Time",P.replacementTime),P.media=D}return P}return{getSegmentByIndex:A,getSegmentByTime:function U(O,V){if(p(),!O)return null;var k=O.segmentDuration;if(isNaN(k))return null;var P=m.calcPeriodRelativeTimeFromMpdRelativeTime(O,V);return A(O,Math.floor(P/k))},getMediaFinishedInformation:function v(O){var V={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!O)return V;var k=O.segmentDuration;return V.numberOfSegments=isNaN(k)?1:Math.ceil(O.adaptation.period.duration/k),V}}}y.__dashjs_factory_name="TemplateSegmentsGetter";var F=t.default.getClassFactory(y);C.default=F},"./src/dash/utils/TimelineConverter.js":
/*!*********************************************!*\
                  !*** ./src/dash/utils/TimelineConverter.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ../models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),L=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),x=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),m=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../streaming/constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function p(){var O,V,k,P,v=this.context,A=Object(t.default)(v).getInstance(),U=Object(L.default)(v).getInstance();function N(Pe){P=Pe}function B(Pe,Oe,je,ze){var He,Ae=Oe.adaptation.period.mpd,ye=Ae.availabilityStartTime;if(ze)He=je&&Ae.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(ye.getTime()+1e3*(Pe+Ae.timeShiftBufferDepth)):Ae.availabilityEndTime;else if(je){var K=Oe.availabilityTimeOffset;He=new Date(ye.getTime()+1e3*(Pe-K))}else He=ye;return He}function ae(Pe,Oe){return(Pe.getTime()-Oe.mpd.availabilityStartTime.getTime()+1e3*P)/1e3}function Re(Pe,Oe){return Pe+(Oe.adaptation.period.start-Oe.presentationTimeOffset)}function ue(Pe){var Oe={start:NaN,end:NaN},je=Pe[0].getAdapter().getRegularPeriods()[0],ze=ae(new Date,je);if(!Pe||0===Pe.length)return{range:Oe,now:ze};Pe.forEach(function(Ae){var ye=Ae.getAdapter(),K=ye.getMediaInfoForType(Ae.getStreamInfo(),x.default.VIDEO)||ye.getMediaInfoForType(Ae.getStreamInfo(),x.default.AUDIO),he=ye.getVoRepresentations(K)[0],$={start:NaN,end:NaN};if(he)if(he.segmentInfoType===y.default.SEGMENT_TIMELINE)$=function le(Pe){var ie,he,$,Z,je=V.getRepresentationFor(Pe.index,Pe.adaptation.period.mpd.manifest.Period_asArray[Pe.adaptation.period.index].AdaptationSet_asArray[Pe.adaptation.index]),He=je.SegmentTemplate.timescale,Ae=je.SegmentTemplate.SegmentTimeline.S_asArray,ye={start:0,end:0},K=0;for(ye.start=Re(Ae[0].t/He,Pe),$=0,Z=Ae.length;$<Z;$++)he=0,(ie=Ae[$]).hasOwnProperty("r")&&(he=ie.r),K+=ie.d*(1+he);return ye.end=Re((Ae[0].t+K)/He,Pe),ye}(he);else{var Z=he.adaptation.period;$.start=Z.start,$.end=Math.max(ze,Z.start+Z.duration)}!isNaN($.start)&&(isNaN(Oe.start)||Oe.start>$.start)&&(Oe.start=$.start),!isNaN($.end)&&(isNaN(Oe.end)||Oe.end<$.end)&&(Oe.end=$.end)}),Oe.end=Math.min(ze,Oe.end);var He=Ie(Pe,Oe.end,!0);return Oe.end=isNaN(He)?Oe.end:He,Oe.start=je&&je.mpd&&je.mpd.timeShiftBufferDepth&&!isNaN(je.mpd.timeShiftBufferDepth)&&!isNaN(Oe.end)?Math.max(Oe.end-je.mpd.timeShiftBufferDepth,Oe.start):Oe.start,Oe.start=Ie(Pe,Oe.start),{range:Oe,now:ze}}function Se(Pe,Oe){k=Pe-Oe.end}function Ie(Pe,Oe){var je=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{for(var ze=0,He=!1,Ae=NaN;!He&&ze<Pe.length;){var ye=Pe[ze].getStreamInfo();ye.start<=Oe&&(!isFinite(ye.duration)||ye.start+ye.duration>=Oe)?(Ae=Oe,He=!0):!je&&ye.start>Oe&&(isNaN(Ae)||ye.start<Ae)?Ae=ye.start:je&&ye.start+ye.duration<Oe&&(isNaN(Ae)||ye.start+ye.duration>Ae)&&(Ae=ye.start+ye.duration),ze+=1}return Ae}catch{return Oe}}function we(Pe){void 0!==Pe.offset&&!isNaN(Pe.offset)&&N(Pe.offset/1e3)}function _e(){P=0,k=0}function Le(){A.off(b.default.UPDATE_TIME_SYNC_OFFSET,we,this),_e()}return O={initialize:function w(){_e(),A.on(b.default.UPDATE_TIME_SYNC_OFFSET,we,this)},getClientTimeOffset:function E(){return P},setClientTimeOffset:N,getClientReferenceTime:function S(){return Date.now()-1e3*k+1e3*P},calcAvailabilityStartTimeFromPresentationTime:function Y(Pe,Oe,je){return B(Pe,Oe,je)},calcAvailabilityEndTimeFromPresentationTime:function re(Pe,Oe,je){return B(Pe,Oe,je,!0)},calcPresentationTimeFromWallTime:ae,calcPresentationTimeFromMediaTime:Re,calcPeriodRelativeTimeFromMpdRelativeTime:function Me(Pe,Oe){return Oe-Pe.adaptation.period.start},calcMediaTimeFromPresentationTime:function z(Pe,Oe){return Pe-Oe.adaptation.period.start+Oe.presentationTimeOffset},calcWallTimeForSegment:function oe(Pe,Oe){var ze,He;return Oe&&(ze=Pe.presentationStartTime+Pe.representation.adaptation.period.mpd.suggestedPresentationDelay,He=new Date(Pe.availabilityStartTime.getTime()+1e3*ze)),He},calcTimeShiftBufferWindow:function H(Pe,Oe){if(!Oe)return function me(Pe){var Oe={start:NaN,end:NaN},je=0,ze=NaN;return Pe.forEach(function(He){var Ae=He.getStreamInfo();je+=Ae.duration,(isNaN(ze)||Ae.start<ze)&&(ze=Ae.start)}),Oe.start=ze,Oe.end=ze+je,Oe}(Pe);if(U.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var je=ue(Pe);return Se(je.now,je.range),je.range}return function te(Pe){var Oe={start:NaN,end:NaN};if(!Pe||0===Pe.length)return Oe;var je=Pe[0].getAdapter().getRegularPeriods()[0],ze=ae(new Date,je),He=je.mpd.timeShiftBufferDepth,Ae=isNaN(He)?0:ze-He;if(Oe.start=Ie(Pe,Ae),Oe.end=!isNaN(Oe.start)&&ze<Oe.start?ze:Ie(Pe,ze,!0),!isNaN(He)&&Oe.end<ze-He&&(Oe.end=NaN),U.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var ye=ue(Pe);if(ye.range.end<Oe.start)return A.trigger(m.default.CONFORMANCE_VIOLATION,{level:h.default.LEVELS.WARNING,event:h.default.EVENTS.INVALID_DVR_WINDOW}),Se(ye.now,ye.range),ye.range}return Oe}(Pe)},reset:Le},function D(){V=Object(F.default)(v).getInstance(),Le()}(),O}p.__dashjs_factory_name="TimelineConverter",C.default=I.default.getSingletonFactory(p)},"./src/dash/utils/TimelineSegmentsGetter.js":
/*!**************************************************!*\
                  !*** ./src/dash/utils/TimelineSegmentsGetter.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ./SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function y(L,x){var m=(L=L||{}).timelineConverter,h=L.dashMetrics;function v(){if(!m)throw new Error(b.default.MISSING_CONFIG_ERROR)}function U(D,w){var re,ae,Re,z,oe,H,me,E=D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList,S=E.SegmentURL_asArray,B=0,Y=-1;me=D.timescale;var te=!1;for(Re=0,z=(re=E.SegmentTimeline.S_asArray).length;Re<z&&!te;Re++)for(H=0,(ae=re[Re]).hasOwnProperty("r")&&(H=ae.r),ae.hasOwnProperty("t")&&(B=ae.t),H<0&&(H=O(D,re[Re+1],ae,me,B/me)),oe=0;oe<=H&&!te;oe++)(te=w(B,E,S,ae,me,++Y,Re))&&(D.segmentDuration=ae.d/me),B+=ae.d}function O(D,w,E,N,S){var B;if(w&&w.hasOwnProperty("t"))B=w.t/N;else try{var Y=0;if(isNaN(D.adaptation.period.start)||isNaN(D.adaptation.period.duration)||!isFinite(D.adaptation.period.duration)){var re=h.getCurrentDVRInfo();Y=isNaN(re.end)?0:re.end}else Y=D.adaptation.period.start+D.adaptation.period.duration;B=m.calcMediaTimeFromPresentationTime(Y,D),D.segmentDuration=E.d/N}catch{B=0}return Math.max(Math.ceil((B-S)/(E.d/N))-1,0)}return{getSegmentByIndex:function V(D,w,E){if(v(),!D)return null;var N=null,S=!1;return U(D,function(B,Y,re,ae,Re,z,oe){if(S||E<0){var H=Y.media,me=ae.mediaRange;return re&&(H=re[oe].media||"",me=re[oe].mediaRange),N=Object(I.getTimeBasedSegment)(m,x,D,B,ae.d,Re,H,me,z,ae.tManifest),!0}return B>=E*Re-.5*ae.d&&(S=!0),!1}),N},getSegmentByTime:function k(D,w){if(v(),!D)return null;void 0===w&&(w=null);var E=null,N=m.calcMediaTimeFromPresentationTime(w,D);return U(D,function(S,B,Y,re,ae,Re,z){var oe=function P(D){return parseFloat(D.toPrecision(15))}(N*ae);if(oe<S+re.d&&oe>=S){var H=B.media,me=re.mediaRange;return Y&&(H=Y[z].media||"",me=Y[z].mediaRange),E=Object(I.getTimeBasedSegment)(m,x,D,S,re.d,ae,H,me,Re,re.tManifest),!0}return!1}),E},getMediaFinishedInformation:function A(D){if(!D)return 0;var Y,re,ae,Re,z,oe,H,N=0,S=0,B=0;for(H=D.timescale,Re=(Y=(D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentTemplate||D.adaptation.period.mpd.manifest.Period_asArray[D.adaptation.period.index].AdaptationSet_asArray[D.adaptation.index].Representation_asArray[D.index].SegmentList).SegmentTimeline.S_asArray).length,ae=0;ae<Re;ae++)for(oe=0,(re=Y[ae]).hasOwnProperty("r")&&(oe=re.r),re.hasOwnProperty("t")&&(S=(N=re.t)/H),oe<0&&(oe=O(D,Y[ae+1],re,H,S)),z=0;z<=oe;z++)B++,S=(N+=re.d)/H;return{numberOfSegments:B,mediaTimeOfLastSignaledSegment:S}}}}y.__dashjs_factory_name="TimelineSegmentsGetter";var F=t.default.getClassFactory(y);C.default=F},"./src/dash/vo/AdaptationSet.js":
/*!**************************************!*\
                  !*** ./src/dash/vo/AdaptationSet.js ***!
                  \**************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.period=null,this.index=-1,this.type=null})},"./src/dash/vo/BaseURL.js":
/*!********************************!*\
                  !*** ./src/dash/vo/BaseURL.js ***!
                  \********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}function b(p,v){for(var A=0;A<v.length;A++){var U=v[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(p,y(U.key),U)}}function I(p,v,A){return v&&b(p.prototype,v),A&&b(p,A),Object.defineProperty(p,"prototype",{writable:!1}),p}function y(p){var v=function F(p,v){if("object"!==t(p)||null===p)return p;var A=p[Symbol.toPrimitive];if(void 0!==A){var U=A.call(p,v||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(p)}(p,"string");return"symbol"===t(v)?v:String(v)}c.r(C);var h=I(function p(v,A,U,O){(function L(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")})(this,p),this.url=v||"",this.serviceLocation=A||v||"",this.dvb_priority=U||1,this.dvb_weight=O||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0});h.DEFAULT_DVB_PRIORITY=1,h.DEFAULT_DVB_WEIGHT=1,C.default=h},"./src/dash/vo/ContentSteering.js":
/*!****************************************!*\
                  !*** ./src/dash/vo/ContentSteering.js ***!
                  \****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null})},"./src/dash/vo/ContentSteeringRequest.js":
/*!***********************************************!*\
                  !*** ./src/dash/vo/ContentSteeringRequest.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../streaming/vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function b(h){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function I(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function y(h,p,v){return p&&I(h.prototype,p),v&&I(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function F(h){var p=function L(h,p){if("object"!==b(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==b(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===b(p)?p:String(p)}C.default=y(function h(p){(function x(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.url=p||null,this.type=t.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"})},"./src/dash/vo/ContentSteeringResponse.js":
/*!************************************************!*\
                  !*** ./src/dash/vo/ContentSteeringResponse.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]})},"./src/dash/vo/Event.js":
/*!******************************!*\
                  !*** ./src/dash/vo/Event.js ***!
                  \******************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN})},"./src/dash/vo/EventStream.js":
/*!************************************!*\
                  !*** ./src/dash/vo/EventStream.js ***!
                  \************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0})},"./src/dash/vo/ManifestInfo.js":
/*!*************************************!*\
                  !*** ./src/dash/vo/ManifestInfo.js ***!
                  \*************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null})},"./src/dash/vo/MediaInfo.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/MediaInfo.js ***!
                  \**********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}})},"./src/dash/vo/Mpd.js":
/*!****************************!*\
                  !*** ./src/dash/vo/Mpd.js ***!
                  \****************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN})},"./src/dash/vo/PatchOperation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/PatchOperation.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function I(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function m(h,p,v){(function b(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.action=h,this.xpath=p,this.value=v,this.position=null}return function y(m,h,p){return h&&I(m.prototype,h),p&&I(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"getMpdTarget",value:function(p){return this.xpath.getMpdTarget(p,"remove"===this.action||"replace"===this.action||"before"===this.position||"after"===this.position)}}]),m}()},"./src/dash/vo/Period.js":
/*!*******************************!*\
                  !*** ./src/dash/vo/Period.js ***!
                  \*******************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C);var x=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null});x.DEFAULT_ID="defaultId",C.default=x},"./src/dash/vo/ProducerReferenceTime.js":
/*!**********************************************!*\
                  !*** ./src/dash/vo/ProducerReferenceTime.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null})},"./src/dash/vo/Representation.js":
/*!***************************************!*\
                  !*** ./src/dash/vo/Representation.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/DashConstants */
"./src/dash/constants/DashConstants.js");function b(h){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function y(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,L(A.key),A)}}function L(h){var p=function x(h,p){if("object"!==b(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==b(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===b(p)?p:String(p)}C.default=function(){function h(){(function I(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return function F(h,p,v){return p&&y(h.prototype,p),v&&y(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==t.default.BASE_URL&&this.segmentInfoType!==t.default.SEGMENT_BASE&&!this.indexRange}}]),h}()},"./src/dash/vo/RepresentationInfo.js":
/*!*******************************************!*\
                  !*** ./src/dash/vo/RepresentationInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null})},"./src/dash/vo/Segment.js":
/*!********************************!*\
                  !*** ./src/dash/vo/Segment.js ***!
                  \********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null})},"./src/dash/vo/SimpleXPath.js":
/*!************************************!*\
                  !*** ./src/dash/vo/SimpleXPath.js ***!
                  \************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function I(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function m(h){var p=this;(function b(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.valid="/"==h[0],this.path=h.split("/").filter(function(v){return 0!==v.length}).map(function(v){var A={name:v},U=v.indexOf("[");if(-1!=U){A.name=v.substring(0,U);var O=v.substring(U+1,v.length-1);p.valid=p.valid&&-1==O.indexOf("[");var V=O.indexOf("=");-1!=V?(A.attribute={name:O.substring(1,V),value:O.substring(V+1)},-1!=["'",'"'].indexOf(A.attribute.value[0])&&(A.attribute.value=A.attribute.value.substring(1,A.attribute.value.length-1))):A.position=parseInt(O,10)-1}return A})}return function y(m,h,p){return h&&I(m.prototype,h),p&&I(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(p,v){for(var A=null,U=p,O=1,V="MPD";O<this.path.length&&null!==U;){A=U;var k=this.path[O];if(V=k.name,O!==this.path.length-1||!V.startsWith("@")){var P=A[V+"_asArray"]||[];0===P.length&&A[V]&&P.push(A[V]),k.position?U=P[k.position]||null:k.attribute?function(){var D=k.attribute;U=P.filter(function(w){return w[D.name]==D.value})[0]||null}():U=P[0]||null}O++}return null===U?null:V.startsWith("@")?{name:V.substring(1),leaf:U,target:U}:{name:V,leaf:U,target:v?A:U}}}]),m}()},"./src/dash/vo/StreamInfo.js":
/*!***********************************!*\
                  !*** ./src/dash/vo/StreamInfo.js ***!
                  \***********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0})},"./src/dash/vo/UTCTiming.js":
/*!**********************************!*\
                  !*** ./src/dash/vo/UTCTiming.js ***!
                  \**********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.schemeIdUri="",this.value=""})},"./src/streaming/FragmentLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/FragmentLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),I=c(
/*! ./vo/HeadRequest */
"./src/streaming/vo/HeadRequest.js"),y=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js");function L(x){var O,V,m=this.context,h=(x=x||{}).eventBus,p=x.events,v=x.urlUtils,A=x.errors,U=x.streamId;return O={checkForExistence:function P(N){var S=function(re){h.trigger(p.CHECK_FOR_EXISTENCE_COMPLETED,{request:N,exists:re})};if(N){var B=new I.default(N.url);V.load({request:B,success:function(){S(!0)},error:function(){S(!1)}})}else S(!1)},load:function D(N){var S=function(Y,re){h.trigger(p.LOADING_COMPLETED,{request:N,response:Y||null,error:re||null,sender:O})};N?V.load({request:N,progress:function(Y){h.trigger(p.LOADING_PROGRESS,{request:N,stream:Y.stream,streamId:U}),Y.data&&h.trigger(p.LOADING_DATA_PROGRESS,{request:N,response:Y.data||null,error:null,sender:O})},success:function(Y){S(Y)},error:function(Y,re,ae){S(void 0,new y.default(A.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,ae,re))},abort:function(Y){Y&&h.trigger(p.LOADING_ABANDONED,{mediaType:Y.mediaType,request:Y,sender:O})}}):S(void 0,new y.default(A.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,A.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function w(){V&&V.abort()},reset:function E(){V&&(V.abort(),V=null)}},function k(){V=Object(b.default)(m).create({errHandler:x.errHandler,errors:A,dashMetrics:x.dashMetrics,mediaPlayerModel:x.mediaPlayerModel,requestModifier:x.requestModifier,urlUtils:v,constants:t.default,boxParser:x.boxParser,dashConstants:x.dashConstants,requestTimeout:x.settings.get().streaming.fragmentRequestTimeout})}(),O}L.__dashjs_factory_name="FragmentLoader",C.default=F.default.getClassFactory(L)},"./src/streaming/ManifestLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/ManifestLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! ./controllers/XlinkController */
"./src/streaming/controllers/XlinkController.js"),y=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),F=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),x=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),m=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),h=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),p=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),v=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),A=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),U=c(
/*! ../dash/parser/DashParser */
"./src/dash/parser/DashParser.js");function O(k){var S,B,Y,re,ae,P=this.context,D=(k=k||{}).debug,w=k.settings,E=Object(h.default)(P).getInstance(),N=Object(F.default)(P).getInstance(),Re=k.mssHandler,z=k.errHandler;function H(Se){E.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:Se.manifest})}return S={load:function te(Se){var Ie=new L.default(Se,m.HTTPRequest.MPD_TYPE);Y.load({request:Ie,success:function(Me,we,_e){if(re){var Le,Pe,Oe;if(_e&&_e!==Se?(Pe=N.parseBaseUrl(_e),Le=_e):(N.isRelative(Se)&&(Se=N.resolve(Se,window.location.href)),Pe=N.parseBaseUrl(Se)),"No Content"==we)return void E.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null});if(null===ae&&(ae=function me(Se){var Ie=null;return Se.indexOf("SmoothStreamingMedia")>-1?(Re&&(Ie=Re.createMssParser(),Re.registerEvents()),Ie):Se.indexOf("MPD")>-1||Se.indexOf("Patch")>-1?Object(U.default)(P).create({debug:D}):Ie}(Me)),null===ae)return void E.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))});re.setMatchers(ae.getMatchers()),re.setIron(ae.getIron());try{Oe=ae.parse(Me)}catch{return void E.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))})}if(Oe){if(Oe.url=Le||Se,Oe.originalUrl||(Oe.originalUrl=Oe.url),Oe.hasOwnProperty(t.default.LOCATION)&&(Pe=N.parseBaseUrl(Oe.Location_asArray[0]),B.debug("BaseURI set by Location to: "+Pe)),w&&w.get().streaming.enableManifestDurationMismatchFix&&Oe.mediaPresentationDuration&&Oe.Period_asArray.length>1){var je=Oe.Period_asArray.reduce(function(ze,He){return ze+He.duration},0);!isNaN(je)&&Oe.mediaPresentationDuration>je&&(B.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),Oe.mediaPresentationDuration=je)}Oe.baseUri=Pe,Oe.loadedTime=new Date,re.resolveManifestOnLoad(Oe),E.trigger(p.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:Me})}else E.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(Se))})}},error:function(Me,we,_e){E.trigger(p.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new x.default(v.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,v.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(Se,", ").concat(_e))})}})},reset:function ue(){E.off(p.default.XLINK_READY,H,S),Re&&Re.reset(),re&&(re.reset(),re=null),Y&&(Y.abort(),Y=null)}},function oe(){B=D.getLogger(S),E.on(p.default.XLINK_READY,H,S),Y=Object(y.default)(P).create({errHandler:k.errHandler,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,urlUtils:N,constants:t.default,dashConstants:b.default,errors:v.default,requestTimeout:k.settings.get().streaming.manifestRequestTimeout}),re=Object(I.default)(P).create({errHandler:z,dashMetrics:k.dashMetrics,mediaPlayerModel:k.mediaPlayerModel,requestModifier:k.requestModifier,settings:k.settings}),ae=null}(),S}O.__dashjs_factory_name="ManifestLoader";var V=A.default.getClassFactory(O);C.default=V},"./src/streaming/ManifestUpdater.js":
/*!******************************************!*\
                  !*** ./src/streaming/ManifestUpdater.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),y=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),x=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),m=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function h(){var U,O,V,k,P,D,w,E,N,S,B,Y,p=this.context,v=Object(t.default)(p).getInstance(),A=Object(m.default)(p).getInstance();function oe(){V=NaN,w=!1,P=!0,D=!1,me()}function me(){null!==k&&(clearTimeout(k),k=null)}function te(Pe){me(),!D&&(isNaN(Pe)&&!isNaN(V)&&(Pe=1e3*V),isNaN(Pe)||(O.debug("Refresh manifest in "+Pe+" milliseconds."),k=setTimeout(Ie,Pe)))}function ue(){var Pe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w=!0;var Oe=N.getValue(),je=Oe.url,ze=S.getPatchLocation(Oe),He=S.getLocation(Oe);ze&&!Pe?je=ze:He&&(je=He),A.isRelative(je)&&(je=A.resolve(je,Oe.url)),E.load(je)}function Se(Pe){if(Pe){if(S.getIsPatch(Pe)){var Oe=Pe;Pe=N.getValue();var je=S.isPatchValid(Pe,Oe),ze=je;if(je){var He=S.getPublishTime(Pe);ze=S.applyPatchToManifest(Pe,Oe);var Ae=S.getPublishTime(Pe);ze=He.getTime()!=Ae.getTime()}if(!ze)return O.debug("Patch provided is invalid, performing full manifest refresh"),void ue(!0);Pe.loadedTime=new Date}}else(Pe=N.getValue()).loadedTime=new Date;if(N.getValue()&&N.getValue().type===x.default.DYNAMIC&&Pe.type===x.default.STATIC)return v.trigger(b.default.DYNAMIC_TO_STATIC),w=!1,void(D=!0);N.setValue(Pe);var ye=new Date,K=(ye.getTime()-Pe.loadedTime.getTime())/1e3;1e3*(V=S.getManifestUpdatePeriod(Pe,K))>2147483647&&(V=2147483.647),v.trigger(b.default.MANIFEST_UPDATED,{manifest:Pe}),O.info("Manifest has been refreshed at "+ye+"["+ye.getTime()/1e3+"] "),P||te()}function Ie(){if(!P){if(w)return void te(Y.get().streaming.manifestUpdateRetryInterval);ue()}}function le(Pe){Pe.error?Pe.error.code===L.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(Pe.error):Se(Pe.manifest)}function Me(){P=!1,te()}function we(){(P=!Y.get().streaming.scheduling.scheduleWhilePaused)&&me()}function _e(){w=!1}return U={initialize:function Re(){oe(),v.on(b.default.STREAMS_COMPOSED,_e,this),v.on(I.default.PLAYBACK_STARTED,Me,this),v.on(I.default.PLAYBACK_PAUSED,we,this),v.on(b.default.INTERNAL_MANIFEST_LOADED,le,this)},setManifest:function z(Pe){Se(Pe)},refreshManifest:ue,getIsUpdating:function Le(){return w},setConfig:function ae(Pe){Pe&&(Pe.manifestModel&&(N=Pe.manifestModel),Pe.adapter&&(S=Pe.adapter),Pe.manifestLoader&&(E=Pe.manifestLoader),Pe.errHandler&&(B=Pe.errHandler),Pe.settings&&(Y=Pe.settings))},reset:function H(){v.off(I.default.PLAYBACK_STARTED,Me,this),v.off(I.default.PLAYBACK_PAUSED,we,this),v.off(b.default.STREAMS_COMPOSED,_e,this),v.off(b.default.INTERNAL_MANIFEST_LOADED,le,this),oe()}},function re(){O=Object(F.default)(p).getInstance().getLogger(U)}(),U}h.__dashjs_factory_name="ManifestUpdater",C.default=y.default.getClassFactory(h)},"./src/streaming/MediaPlayer.js":
/*!**************************************!*\
                  !*** ./src/streaming/MediaPlayer.js ***!
                  \**************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../externals/cea608-parser */
"./externals/cea608-parser.js"),b=c.n(t),I=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),F=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),L=c(
/*! ./controllers/PlaybackController */
"./src/streaming/controllers/PlaybackController.js"),x=c(
/*! ./controllers/StreamController */
"./src/streaming/controllers/StreamController.js"),m=c(
/*! ./controllers/GapController */
"./src/streaming/controllers/GapController.js"),h=c(
/*! ./controllers/CatchupController */
"./src/streaming/controllers/CatchupController.js"),p=c(
/*! ../dash/controllers/ServiceDescriptionController */
"./src/dash/controllers/ServiceDescriptionController.js"),v=c(
/*! ../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js"),A=c(
/*! ./controllers/MediaController */
"./src/streaming/controllers/MediaController.js"),U=c(
/*! ./controllers/BaseURLController */
"./src/streaming/controllers/BaseURLController.js"),O=c(
/*! ./ManifestLoader */
"./src/streaming/ManifestLoader.js"),V=c(
/*! ./utils/ErrorHandler */
"./src/streaming/utils/ErrorHandler.js"),k=c(
/*! ./utils/Capabilities */
"./src/streaming/utils/Capabilities.js"),P=c(
/*! ./utils/CapabilitiesFilter */
"./src/streaming/utils/CapabilitiesFilter.js"),D=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),w=c(
/*! ./models/URIFragmentModel */
"./src/streaming/models/URIFragmentModel.js"),E=c(
/*! ./models/ManifestModel */
"./src/streaming/models/ManifestModel.js"),N=c(
/*! ./models/MediaPlayerModel */
"./src/streaming/models/MediaPlayerModel.js"),S=c(
/*! ./controllers/AbrController */
"./src/streaming/controllers/AbrController.js"),B=c(
/*! ./net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js"),Y=c(
/*! ./models/VideoModel */
"./src/streaming/models/VideoModel.js"),re=c(
/*! ./models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),ae=c(
/*! ./utils/DOMStorage */
"./src/streaming/utils/DOMStorage.js"),Re=c(
/*! ./../core/Debug */
"./src/core/Debug.js"),z=c(
/*! ./../core/errors/Errors */
"./src/core/errors/Errors.js"),oe=c(
/*! ./../core/EventBus */
"./src/core/EventBus.js"),H=c(
/*! ./../core/events/Events */
"./src/core/events/Events.js"),me=c(
/*! ./MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),te=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),ue=c(
/*! ../core/Settings */
"./src/core/Settings.js"),Se=c(
/*! ../core/Version */
"./src/core/Version.js"),Ie=c(
/*! ../dash/controllers/SegmentBaseController */
"./src/dash/controllers/SegmentBaseController.js"),le=c(
/*! ../dash/DashAdapter */
"./src/dash/DashAdapter.js"),Me=c(
/*! ../dash/DashMetrics */
"./src/dash/DashMetrics.js"),we=c(
/*! ../dash/utils/TimelineConverter */
"./src/dash/utils/TimelineConverter.js"),_e=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),Le=c(
/*! ../../externals/base64 */
"./externals/base64.js"),Pe=c.n(Le),Oe=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),je=c.n(Oe),ze=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),He=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),Ae=c(
/*! ./ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),ye=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),K=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),ie=c(
/*! ./text/TextController */
"./src/streaming/text/TextController.js"),he=c(
/*! ./models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function $(){var Ye,Be,$e,Qe,qe,dt,It,_t,Ot,jt,zt,$t,dn,pn,jn,st,ut,xe,fe,pe,lt,mt,Dt,ft,bt,Nt,Wt,wt,Vt,en,nn,yn,Tn,On,kn,qn,ui,W="You must first call initialize() and set a source before calling this method",X="You must first call initialize() and set a valid source and view before calling this method",Q="You must first call attachView() to set the video element before calling this method",J="MediaPlayer not initialized!",de=this.context,ge=Object(oe.default)(de).getInstance(),ce=Object(ue.default)(de).getInstance(),Ce=Object(Re.default)(de).getInstance({settings:ce});function Qt(){So(null),Ri(null),Qe=null,dn&&(dn.reset(),dn=null),pn&&(pn.reset(),pn=null),fe&&fe.reset(),ce.reset(),st&&(st.reset(),st=null)}function it(){return!!$e&&!!On.getElement()}function hn(){return Object(Se.getVersionString)()}function Ht(){if(!It)throw X;return Wt.isPaused()}function rt(){if(!It)throw X;return Wt.getIsDynamic()}function sr(Jt){var We=ft&&ft.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,et=nn.getCurrentDVRInfo(We);if(!et)return 0;var Ve=Wt.getOriginalLiveDelay(),yt=et.range.start+Jt;return yt>et.range.end-Ve&&(yt=et.range.end-Ve),yt}function Br(Jt){if(!It)throw X;var We=li().currentTime;if(void 0!==Jt)We=ft.getTimeRelativeToStreamId(We,Jt);else if(Wt.getIsDynamic()){var et=ft&&ft.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,Ve=nn.getCurrentDVRInfo(et);We=null===Ve||0===We?0:Math.max(0,We-Ve.range.start)}return We}function vo(){if(!It)throw X;var Jt=li().duration;if(Wt.getIsDynamic()){var We=ft&&ft.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,et=nn.getCurrentDVRInfo(We);Jt=et?et.range.end-et.range.start:0}return Jt}function ni(Jt){Object(He.checkParameterType)(Jt,"boolean"),_t=Jt}function Sr(){fe.restoreDefaultUTCTimingSources()}function mn(){return nn}function li(){if(!On.getElement())throw Q;return On.getElement()}function Ri(Jt){if(!qe)throw J;On.setElement(Jt),Jt&&(Do(),function as(){if(!pn){var Jt=dashjs.MetricsReporting;if("function"==typeof Jt){var We=Jt(de).create();pn=We.createMetricsReporting({debug:Ce,eventBus:ge,mediaElement:li(),adapter:ut,dashMetrics:nn,mediaPlayerModel:xe,events:H.default,constants:I.default,metricsConstants:F.default})}}}(),function Pa(){if(!jn){var Jt=dashjs.MssHandler;"function"==typeof Jt&&(z.default.extend(Jt.errors),jn=Jt(de).create({eventBus:ge,mediaPlayerModel:xe,dashMetrics:nn,manifestModel:yn,playbackController:Wt,streamController:ft,protectionController:dn,baseURLController:lt,errHandler:pe,events:H.default,constants:I.default,debug:Ce,initSegmentType:_e.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Pe.a,ISOBoxer:je.a,settings:ce}))}}(),ft&&ft.switchToVideoElement()),It&&Lo(),qi()}function wr(Jt){if(!dt)throw W;var We=ft.getActiveStreamInfo();return We?$t.getTracksFor(Jt,We.id):[]}function So(Jt){var We=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;if(!qe)throw J;"string"==typeof Jt&&kn.initialize(Jt),(null==We||isNaN(We))&&(We=NaN),We=Math.max(0,We),$e=Jt,(dt||It)&&Lo(),it()&&qi(We)}function Rr(){if(!dt)throw W;var Jt=ft.getActiveStreamInfo();return Jt?ft.getStreamById(Jt.id):null}function Lo(){It=!1,dt=!1,ut.reset(),ft.reset(),Nt.reset(),en.reset(),Wt.reset(),wt.reset(),Vt.reset(),Ot.reset(),$t.reset(),ui.reset(),dn&&(ce.get().streaming.protection.keepProtectionMediaKeys?dn.stop():(dn.reset(),dn=null,Do())),bt.reset(),Tn.reset()}function Za(){return Object(O.default)(de).create({debug:Ce,errHandler:pe,dashMetrics:nn,mediaPlayerModel:xe,requestModifier:Object(D.default)(de).getInstance(),mssHandler:jn,settings:ce})}function Do(){if(dn)return dn;var Jt=dashjs.Protection;if("function"==typeof Jt){var We=Jt(de).create();return H.default.extend(Jt.events),me.default.extend(Jt.events,{publicOnly:!0}),z.default.extend(Jt.errors),mt||(mt=Object(k.default)(de).getInstance()),dn=We.createProtectionSystem({debug:Ce,errHandler:pe,videoModel:On,customParametersModel:fe,capabilities:mt,eventBus:ge,events:H.default,BASE64:Pe.a,constants:I.default,cmcdModel:Tn,settings:ce})}return null}function $a(){if(!qe)throw J;if(st)return st;var Jt=dashjs.OfflineController;if("function"==typeof Jt){H.default.extend(Jt.events),me.default.extend(Jt.events,{publicOnly:!0}),z.default.extend(Jt.errors);var We=Za(),et=Object(Ae.default)(de).create();return et.setConfig({manifestModel:yn,adapter:ut,manifestLoader:We,errHandler:pe}),st=Jt(de).create({debug:Ce,manifestUpdater:et,baseURLController:lt,manifestLoader:We,manifestModel:yn,mediaPlayerModel:xe,abrController:Ot,playbackController:Wt,adapter:ut,errHandler:pe,dashMetrics:nn,timelineConverter:zt,segmentBaseController:ui,schemeLoaderFactory:jt,eventBus:ge,events:H.default,errors:z.default,constants:I.default,settings:ce,dashConstants:y.default,urlUtils:Object(ye.default)(de).getInstance()})}return null}function xs(Jt){var We=ft&&ft.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,et=nn.getCurrentDVRInfo(We);return et?Jt+(et.manifestInfo.availableFrom.getTime()/1e3+et.range.start):0}function qi(){var Jt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;st&&st.resetRecords(),!dt&&$e&&(dt=!0,Be.info("Streaming Initialized"),function ll(){var Jt=Za();ft||(ft=Object(x.default)(de).getInstance()),bt||(bt=Object(ie.default)(de).create({errHandler:pe,manifestModel:yn,adapter:ut,mediaController:$t,videoModel:On,settings:ce})),Dt.setConfig({capabilities:mt,customParametersModel:fe,adapter:ut,settings:ce,manifestModel:yn,errHandler:pe}),ft.setConfig({capabilities:mt,capabilitiesFilter:Dt,manifestLoader:Jt,manifestModel:yn,mediaPlayerModel:xe,customParametersModel:fe,protectionController:dn,textController:bt,adapter:ut,dashMetrics:nn,errHandler:pe,timelineConverter:zt,videoModel:On,playbackController:Wt,serviceDescriptionController:wt,contentSteeringController:Vt,abrController:Ot,mediaController:$t,settings:ce,baseURLController:lt,uriFragmentModel:kn,segmentBaseController:ui}),Nt.setConfig({settings:ce,playbackController:Wt,streamController:ft,videoModel:On,timelineConverter:zt,adapter:ut}),Wt.setConfig({streamController:ft,serviceDescriptionController:wt,dashMetrics:nn,adapter:ut,videoModel:On,timelineConverter:zt,settings:ce}),en.setConfig({streamController:ft,playbackController:Wt,mediaPlayerModel:xe,videoModel:On,settings:ce}),Ot.setConfig({streamController:ft,domStorage:qn,mediaPlayerModel:xe,customParametersModel:fe,dashMetrics:nn,adapter:ut,videoModel:On,settings:ce}),Tn.setConfig({abrController:Ot,dashMetrics:nn,playbackController:Wt}),Vt.setConfig({adapter:ut,errHandler:pe,dashMetrics:nn,mediaPlayerModel:xe,manifestModel:yn,abrController:Ot,eventBus:ge,requestModifier:Object(D.default)(de).getInstance()}),Ot.initialize(),ft.initialize(_t,Qe),bt.initialize(),Nt.initialize(),en.initialize(),Tn.initialize(),Vt.initialize(),ui.initialize()}(),"string"==typeof $e?ft.load($e,Jt):ft.loadWithManifest($e,Jt)),!It&&it()&&(It=!0,Be.info("Playback Initialized"))}return Ye={initialize:function ct(Jt,We,et){var Ve=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NaN;mt||(mt=Object(k.default)(de).getInstance()).setConfig({settings:ce}),pe||(pe=Object(V.default)(de).getInstance()),mt.supportsMediaSource()?(qe||(qe=!0,zt=Object(we.default)(de).getInstance(),Ot||(Ot=Object(S.default)(de).getInstance()).setConfig({settings:ce}),jt||(jt=Object(B.default)(de).getInstance()),Wt||(Wt=Object(L.default)(de).getInstance()),$t||($t=Object(A.default)(de).getInstance()),ft||(ft=Object(x.default)(de).getInstance()),Nt||(Nt=Object(m.default)(de).getInstance()),en||(en=Object(h.default)(de).getInstance()),wt||(wt=Object(p.default)(de).getInstance()),Vt||(Vt=Object(v.default)(de).getInstance()),Dt||(Dt=Object(P.default)(de).getInstance()),ut=Object(le.default)(de).getInstance(),yn=Object(E.default)(de).getInstance(),Tn=Object(re.default)(de).getInstance(),nn=Object(Me.default)(de).getInstance({settings:ce}),qn=Object(ae.default)(de).getInstance({settings:ce}),ut.setConfig({constants:I.default,cea608parser:b.a,errHandler:pe,BASE64:Pe.a}),lt||(lt=Object(U.default)(de).create()),lt.setConfig({adapter:ut}),wt.setConfig({adapter:ut}),ui||(ui=Object(Ie.default)(de).getInstance({dashMetrics:nn,mediaPlayerModel:xe,errHandler:pe,baseURLController:lt,events:H.default,eventBus:ge,debug:Ce,boxParser:Object(K.default)(de).getInstance(),requestModifier:Object(D.default)(de).getInstance(),errors:z.default})),$t.setConfig({domStorage:qn,settings:ce,customParametersModel:fe}),xe.setConfig({playbackController:Wt,serviceDescriptionController:wt}),Sr(),ni(void 0===et||et),$a()),Jt&&Ri(Jt),We&&So(We,Ve),Be.info("[dash.js "+hn()+"] MediaPlayer has been initialized")):pe.error(new ze.default(z.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,z.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function St(Jt){Jt&&(Jt.capabilities&&(mt=Jt.capabilities),Jt.capabilitiesFilter&&(Dt=Jt.capabilitiesFilter),Jt.streamController&&(ft=Jt.streamController),Jt.textController&&(bt=Jt.textController),Jt.gapController&&(Nt=Jt.gapController),Jt.playbackController&&(Wt=Jt.playbackController),Jt.serviceDescriptionController&&(wt=Jt.serviceDescriptionController),Jt.contentSteeringController&&(Vt=Jt.contentSteeringController),Jt.catchupController&&(en=Jt.catchupController),Jt.mediaPlayerModel&&(xe=Jt.mediaPlayerModel),Jt.customParametersModel&&(fe=Jt.customParametersModel),Jt.abrController&&(Ot=Jt.abrController),Jt.schemeLoaderFactory&&(jt=Jt.schemeLoaderFactory),Jt.mediaController&&($t=Jt.mediaController),Jt.settings&&(ce=Jt.settings))},on:function Ct(Jt,We,et,Ve){ge.on(Jt,We,et,Ve)},off:function Gt(Jt,We,et){ge.off(Jt,We,et)},extend:function Dr(Jt,We,et){te.default.extend(Jt,We,et,de)},attachView:Ri,attachSource:So,isReady:it,play:function Ft(){if(!It)throw X;(!_t||Ht()&&It)&&Wt.play(!0)},isPaused:Ht,pause:function Rt(){if(!It)throw X;Wt.pause()},isSeeking:function Un(){if(!It)throw X;return Wt.isSeeking()},isDynamic:rt,getLowLatencyModeEnabled:function Xt(){if(!It)throw X;return Wt.getLowLatencyModeEnabled()},seek:function on(Jt){if(!It)throw X;if(Object(He.checkParameterType)(Jt,"number"),isNaN(Jt))throw I.default.BAD_ARGUMENT_ERROR;Jt<0&&(Jt=0);var We=Wt.getIsDynamic()?sr(Jt):Jt,et=li();!Wt.getIsDynamic()&&et.duration&&(We=Math.min(et.duration,We)),Wt.seek(We,!1,!1,!0)},seekToOriginalLive:function vn(){!It||!rt()||Wt.seekToOriginalLive()},setPlaybackRate:function ve(Jt){li().playbackRate=Jt},getPlaybackRate:function at(){return li().playbackRate},setMute:function tt(Jt){Object(He.checkParameterType)(Jt,"boolean"),li().muted=Jt},isMuted:function At(){return li().muted},setVolume:function qt(Jt){if("number"!=typeof Jt||isNaN(Jt)||Jt<0||Jt>1)throw I.default.BAD_ARGUMENT_ERROR;li().volume=Jt},getVolume:function tn(){return li().volume},time:Br,duration:vo,timeAsUTC:function eo(){if(!It)throw X;return Br()<0?NaN:xs(Br())},durationAsUTC:function yo(){if(!It)throw X;return xs(vo())},getActiveStream:Rr,getDVRWindowSize:function si(){var Jt=ft&&ft.hasVideoTrack()?I.default.VIDEO:I.default.AUDIO,We=nn.getCurrentDVRInfo(Jt);return We?We.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:sr,getTargetLiveDelay:function Ui(){if(!It)throw X;return Wt.getOriginalLiveDelay()},convertToTimeCode:function Cr(Jt){Jt=Math.max(Jt,0);var We=Math.floor(Jt/3600),et=Math.floor(Jt%3600/60),Ve=Math.floor(Jt%3600%60);return(0===We?"":We<10?"0"+We.toString()+":":We.toString()+":")+(et<10?"0"+et.toString():et.toString())+":"+(Ve<10?"0"+Ve.toString():Ve.toString())},formatUTC:function Pr(Jt,We,et){var Ve=arguments.length>3&&void 0!==arguments[3]&&arguments[3],yt=new Date(1e3*Jt),Yt=yt.toLocaleDateString(We),Wn=yt.toLocaleTimeString(We,{hour12:et});return Ve?Wn+" "+Yt:Wn},getVersion:hn,getDebug:function bn(){return Ce},getBufferLength:function pi(Jt){var We=[I.default.VIDEO,I.default.AUDIO,I.default.TEXT];if(Jt)return-1!==We.indexOf(Jt)?mn().getCurrentBufferLevel(Jt)||NaN:(Be.warn("getBufferLength requested for invalid type"),NaN);var et=We.map(function(yt){return wr(yt).length>0?mn().getCurrentBufferLevel(yt):Number.MAX_VALUE}).reduce(function(yt,Yt){return Math.min(yt,Yt)});return et===Number.MAX_VALUE?NaN:et},getTTMLRenderingDiv:function dr(){return On?On.getTTMLRenderingDiv():null},getVideoElement:li,getSource:function Xo(){if(!$e)throw"You must first call attachSource() with a valid source before calling this method";return $e},updateSource:function rs(Jt){ft.load($e=Jt)},getCurrentLiveLatency:function so(){if(!qe)throw J;return It?Wt.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function di(Jt){if(!dt)throw W;return Ot.getTopBitrateInfoFor(Jt)},setAutoPlay:ni,getAutoPlay:function Ro(){return _t},getDashMetrics:mn,getQualityFor:function Zi(Jt){if(!dt)throw W;if(Jt===I.default.IMAGE){var We=Rr();if(!We)return-1;var et=We.getThumbnailController();return et?et.getCurrentTrackIndex():-1}return Ot.getQualityFor(Jt)},setQualityFor:function gr(Jt,We){var et=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!dt)throw W;if(Jt===I.default.IMAGE){var Ve=Rr();if(!Ve)return;var yt=Ve.getThumbnailController();yt&&yt.setTrackByIndex(We)}Ot.setPlaybackQuality(Jt,ft.getActiveStreamInfo(),We,{forceReplace:et})},updatePortalSize:function Si(){Ot.setElementSize(),Ot.setWindowResizeEventCalled(!0)},enableText:function Mn(Jt){var We=ft.getActiveStreamInfo();return!(!We||!bt)&&bt.enableText(We.id,Jt)},enableForcedTextStreaming:function Nn(Jt){return!(!ft.getActiveStreamInfo()||!bt)&&bt.enableForcedTextStreaming(Jt)},isTextEnabled:function Zn(){var Jt=ft.getActiveStreamInfo();return!(!Jt||!bt)&&bt.isTextEnabled(Jt)},setTextTrack:function ei(Jt){if(!It)throw X;var We=ft.getActiveStreamInfo();!We||!bt||bt.setTextTrack(We.id,Jt)},getBitrateInfoListFor:function Ia(Jt){if(!dt)throw W;var We=Rr();return We?We.getBitrateListFor(Jt):[]},getStreamsFromManifest:function to(Jt){if(!dt)throw W;return ut.getStreamsInfo(Jt)},getTracksFor:wr,getTracksForTypeFromManifest:function Hr(Jt,We,et){if(!dt)throw W;return(et=et||ut.getStreamsInfo(We,1)[0])?ut.getAllMediaInfoForType(et,Jt,We):[]},getCurrentTrackFor:function bo(Jt){if(!dt)throw W;var We=ft.getActiveStreamInfo();return $t.getCurrentTrackFor(Jt,We.id)},setInitialMediaSettingsFor:function Di(Jt,We){if(!qe)throw J;$t.setInitialSettings(Jt,We)},getInitialMediaSettingsFor:function ir(Jt){if(!qe)throw J;return $t.getInitialSettings(Jt)},setCurrentTrack:function Ir(Jt){if(!dt)throw W;$t.setTrack(Jt)},addABRCustomRule:function wi(Jt,We,et){fe.addAbrCustomRule(Jt,We,et)},removeABRCustomRule:function lo(Jt){fe.removeAbrCustomRule(Jt)},removeAllABRCustomRule:function xn(){fe.removeAllAbrCustomRule()},getABRCustomRules:function _i(){return fe.getAbrCustomRules()},getAverageThroughput:function cr(Jt){var We=Ot.getThroughputHistory(),et=Wt.getIsDynamic();return We?We.getAverageThroughput(Jt,et):0},retrieveManifest:function rr(Jt,We){var et=Za(),Ve=this;ge.on(H.default.INTERNAL_MANIFEST_LOADED,function Yt(Wn){Wn.error?We(null,Wn.error):We(Wn.manifest),ge.off(H.default.INTERNAL_MANIFEST_LOADED,Yt,Ve),et.reset()},Ve),kn.initialize(Jt),et.load(Jt)},addUTCTimingSource:function Rn(Jt,We){fe.addUTCTimingSource(Jt,We)},removeUTCTimingSource:function ai(Jt,We){fe.removeUTCTimingSource(Jt,We)},clearDefaultUTCTimingSources:function Li(){fe.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Sr,setXHRWithCredentialsForType:function nr(Jt,We){fe.setXHRWithCredentialsForType(Jt,We)},getXHRWithCredentialsForType:function Jn(Jt){return fe.getXHRWithCredentialsForType(Jt)},getProtectionController:function Or(){return Do()},attachProtectionController:function To(Jt){dn=Jt},setProtectionData:function hr(Jt){Qe=Jt,ft&&ft.setProtectionData(Qe)},registerLicenseRequestFilter:function No(Jt){fe.registerLicenseRequestFilter(Jt)},registerLicenseResponseFilter:function $i(Jt){fe.registerLicenseResponseFilter(Jt)},unregisterLicenseRequestFilter:function sl(Jt){fe.unregisterLicenseRequestFilter(Jt)},unregisterLicenseResponseFilter:function pr(Jt){fe.unregisterLicenseResponseFilter(Jt)},registerCustomCapabilitiesFilter:function Oa(Jt){fe.registerCustomCapabilitiesFilter(Jt)},unregisterCustomCapabilitiesFilter:function Fr(Jt){fe.unregisterCustomCapabilitiesFilter(Jt)},setCustomInitialTrackSelectionFunction:function Zo(Jt){fe.setCustomInitialTrackSelectionFunction(Jt)},resetCustomInitialTrackSelectionFunction:function Eo(){fe.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function ur(Jt){if(!On.getElement())throw Q;On.setTTMLRenderingDiv(Jt)},attachVttRenderingDiv:function fr(Jt){if(!On.getElement())throw Q;On.setVttRenderingDiv(Jt)},getCurrentTextTrackIndex:function fi(){var We=ft.getActiveStreamInfo();if(We&&bt)return bt.getCurrentTrackIdx(We.id)},provideThumbnail:function Qo(Jt,We){if("function"==typeof We){if(Jt<0)return void We(null);var et=Wt.getIsDynamic()?sr(Jt):Jt,Ve=ft.getStreamForTime(et);if(null===Ve)return void We(null);var yt=Ve.getThumbnailController();return yt?yt.provide(et,We):void We(null)}},getDashAdapter:function os(){return ut},getOfflineController:function Ut(){return $a()},triggerSteeringRequest:function Co(){if(Vt)return Vt.loadSteeringData()},getCurrentSteeringResponseData:function Kr(){if(Vt)return Vt.getCurrentSteeringResponseData()},getSettings:function Yr(){return ce.get()},updateSettings:function ea(Jt){ce.update(Jt)},resetSettings:function za(){ce.reset()},reset:Qt,destroy:function Ke(){Qt(),te.default.deleteSingletonInstances(de)}},function kt(){Be=Ce.getLogger(Ye),qe=!1,It=!1,dt=!1,_t=!0,dn=null,st=null,Qe=null,ut=null,ui=null,H.default.extend(me.default),xe=Object(N.default)(de).getInstance(),fe=Object(he.default)(de).getInstance(),On=Object(Y.default)(de).getInstance(),kn=Object(w.default)(de).getInstance()}(),Ye}$.__dashjs_factory_name="MediaPlayer";var Z=te.default.getClassFactory($);Z.events=me.default,Z.errors=z.default,te.default.updateClassFactory($.__dashjs_factory_name,Z),C.default=Z},"./src/streaming/MediaPlayerEvents.js":
/*!********************************************!*\
                  !*** ./src/streaming/MediaPlayerEvents.js ***!
                  \********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function I(P,D){for(var w=0;w<D.length;w++){var E=D[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,F(E.key),E)}}function F(P){var D=function L(P,D){if("object"!==b(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var E=w.call(P,D||"default");if("object"!==b(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(P)}(P,"string");return"symbol"===b(D)?D:String(D)}function m(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&h(P,D)}function h(P,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(P,D)}function p(P){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,E=O(P);if(D){var S=O(this).constructor;N=Reflect.construct(E,arguments,S)}else N=E.apply(this,arguments);return function v(P,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(P)}c.r(C);var k=new(function(P){m(w,P);var D=p(w);function w(){var E;return function x(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w),(E=D.call(this)).AST_IN_FUTURE="astInFuture",E.BUFFER_EMPTY="bufferStalled",E.BUFFER_LOADED="bufferLoaded",E.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",E.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",E.DYNAMIC_TO_STATIC="dynamicToStatic",E.ERROR="error",E.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",E.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",E.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",E.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",E.LOG="log",E.MANIFEST_LOADED="manifestLoaded",E.METRICS_CHANGED="metricsChanged",E.METRIC_CHANGED="metricChanged",E.METRIC_ADDED="metricAdded",E.METRIC_UPDATED="metricUpdated",E.PERIOD_SWITCH_STARTED="periodSwitchStarted",E.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",E.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",E.QUALITY_CHANGE_RENDERED="qualityChangeRendered",E.TRACK_CHANGE_RENDERED="trackChangeRendered",E.STREAM_INITIALIZING="streamInitializing",E.STREAM_UPDATED="streamUpdated",E.STREAM_ACTIVATED="streamActivated",E.STREAM_DEACTIVATED="streamDeactivated",E.STREAM_INITIALIZED="streamInitialized",E.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",E.TEXT_TRACKS_ADDED="allTextTracksAdded",E.TEXT_TRACK_ADDED="textTrackAdded",E.TTML_PARSED="ttmlParsed",E.TTML_TO_PARSE="ttmlToParse",E.CAPTION_RENDERED="captionRendered",E.CAPTION_CONTAINER_RESIZE="captionContainerResize",E.CAN_PLAY="canPlay",E.CAN_PLAY_THROUGH="canPlayThrough",E.PLAYBACK_ENDED="playbackEnded",E.PLAYBACK_ERROR="playbackError",E.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",E.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",E.PLAYBACK_LOADED_DATA="playbackLoadedData",E.PLAYBACK_PAUSED="playbackPaused",E.PLAYBACK_PLAYING="playbackPlaying",E.PLAYBACK_PROGRESS="playbackProgress",E.PLAYBACK_RATE_CHANGED="playbackRateChanged",E.PLAYBACK_SEEKED="playbackSeeked",E.PLAYBACK_SEEKING="playbackSeeking",E.PLAYBACK_STALLED="playbackStalled",E.PLAYBACK_STARTED="playbackStarted",E.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",E.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",E.PLAYBACK_WAITING="playbackWaiting",E.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",E.EVENT_MODE_ON_START="eventModeOnStart",E.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",E.CONFORMANCE_VIOLATION="conformanceViolation",E.REPRESENTATION_SWITCH="representationSwitch",E.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",E.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",E}return function y(P,D,w){return D&&I(P.prototype,D),w&&I(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}(w)}(c(
/*! ../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));C.default=k},"./src/streaming/MediaPlayerFactory.js":
/*!*********************************************!*\
                  !*** ./src/streaming/MediaPlayerFactory.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./MediaPlayer */
"./src/streaming/MediaPlayer.js");var y,I=function b(){var h,m="application/dash+xml";function p(U,O,V){if(!U||!/^VIDEO$/i.test(U.nodeName))return null;if(U._dashjs_player)return U._dashjs_player;var k,P=U.id||U.name||"video element";if(!(O=O||[].slice.call(U.querySelectorAll("source")).filter(function(D){return D.type==m})[0])&&U.src)(O=document.createElement("source")).src=U.src;else if(!O&&!U.src)return null;return V=V||{},(k=Object(t.default)(V).create()).initialize(U,O.src,U.autoplay),h||(h=k.getDebug().getLogger()),h.debug("Converted "+P+" to dash.js player and added content: "+O.src),U._dashjs_player=k,k}function A(U){return/^VIDEO$/i.test(U.nodeName)?U:A(U.parentNode)}return{create:p,createAll:function v(U,O){var V=[];U=U||"[data-dashjs-player]";for(var k=(O=O||document).querySelectorAll(U),P=0;P<k.length;P++){var D=p(k[P],null);V.push(D)}for(var w=O.querySelectorAll('source[type="'+m+'"]'),E=0;E<w.length;E++){var S=p(A(w[E]),null);V.push(S)}return V}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?I.createAll():y=window.setInterval(function L(){window.dashjs&&(window.clearInterval(y),I.createAll())},500):window.addEventListener("load",function F(){window.removeEventListener("load",F),I.createAll()})),C.default=I},"./src/streaming/SourceBufferSink.js":
/*!*******************************************!*\
                  !*** ./src/streaming/SourceBufferSink.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),I=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),F=c(
/*! ../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),x=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),m=c(
/*! ../core/events/Events */
"./src/core/events/Events.js");function A(O){var w,E,N,S,B,Y,V=this.context,k=Object(F.default)(V).getInstance(),P=O.textController,D=O.eventBus,re=[],ae=[],Re=!1,z=O.mediaSource,oe=null;function te(X){return new Promise(function(Q){W(function(){S.changeType&&S.changeType(X),Q()})})}function Ie(X){return S=P.getTextSourceBuffer(X),Promise.resolve()}function le(){if("function"==typeof S.addEventListener)try{S.addEventListener("updateend",he,!1),S.addEventListener("error",$,!1),S.addEventListener("abort",$,!1)}catch{Y=setInterval(he,50)}else Y=setInterval(he,50)}function _e(X){return new Promise(function(Q){S&&k.get().streaming.buffer.useAppendWindow?W(function(){try{if(!S)return void Q();var q=z.duration,J=0;X&&!isNaN(X.start)&&!isNaN(X.duration)&&isFinite(X.duration)&&(q=X.start+X.duration),X&&!isNaN(X.start)&&(J=X.start),(S.appendWindowEnd!==q||S.appendWindowStart!==J)&&(S.appendWindowStart=0,S.appendWindowEnd=q+.01,S.appendWindowStart=Math.max(J-.1,0),N.debug("Updated append window for ".concat(B.type,". Set start to ").concat(S.appendWindowStart," and end to ").concat(S.appendWindowEnd))),Q()}catch{N.warn("Failed to set append window"),Q()}}):Q()})}function Le(X){return new Promise(function(Q){S?W(function(){try{S.timestampOffset!==X&&!isNaN(X)&&(S.timestampOffset=X,N.debug("Set MSE timestamp offset to ".concat(X))),Q()}catch{Q()}}):Q()})}function ye(){if(!Re&&ae.length>0){Re=!0;var X=ae[0];ae.splice(0,1);var Q=function(){Re=!1,ae.length>0&&ye.call(this),X&&X.data&&X.data.segmentType&&X.data.segmentType!==x.HTTPRequest.INIT_SEGMENT_TYPE&&delete X.data.bytes,X.promise.resolve({chunk:X.data})};try{oe=X.request,0===X.data.bytes.byteLength?Q.call(this):(S.appendBuffer?S.appendBuffer(X.data.bytes):S.append(X.data.bytes,X.data),W(Q.bind(this)))}catch(q){N.fatal('SourceBuffer append failed "'+q+'"'),ae.length>0?ye():Re=!1,delete X.data.bytes,X.promise.reject({chunk:X.data,error:new b.default(q.code,q.message)})}}}function ie(){re.length>0&&!S.updating&&(re.shift()(),ie())}function he(){S.updating||ie()}function $(X){!function Z(X,Q){D.trigger(X,Q||{},{streamId:B.streamInfo.id,mediaType:E})}(m.default.SOURCE_BUFFER_ERROR,{error:X.target||{},lastRequestAppended:oe})}function W(X){re.push(X),S.updating||ie()}return w={getType:function Me(){return E},getAllBufferRanges:function je(){try{return S.buffered}catch(X){return N.error("getAllBufferRanges exception: "+X.message),null}},getBuffer:function Oe(){return S},append:function ze(X){var Q=this,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(J,de){X?(ae.push({data:X,promise:{resolve:J,reject:de},request:q}),W(ye.bind(Q))):de({chunk:X,error:new b.default(y.default.APPEND_ERROR_CODE,y.default.APPEND_ERROR_MESSAGE)})})},remove:function Ae(X){return new Promise(function(Q,q){var J=X.start,de=X.end;J>=0&&de>J?W(function(){try{S.remove(J,de),W(function(){Q({from:J,to:de,unintended:!1}),X.resolve&&X.resolve()})}catch(ge){q({from:J,to:de,unintended:!1,error:new b.default(y.default.REMOVE_ERROR_CODE,y.default.REMOVE_ERROR_MESSAGE)}),X.reject&&X.reject(ge)}}):Q()})},abort:function K(){return new Promise(function(X){try{ae=[],"open"===z.readyState?W(function(){try{S&&S.abort(),X()}catch{X()}}):(S&&S.setTextTrack&&"ended"===z.readyState&&S.abort(),X())}catch{X()}})},reset:function Pe(){if(S){try{re=[],function we(){try{"function"==typeof S.removeEventListener&&(S.removeEventListener("updateend",he,!1),S.removeEventListener("error",$,!1),S.removeEventListener("abort",$,!1)),clearInterval(Y)}catch(X){N.error(X)}}(),Re=!1,ae=[],(!S.getClassName||"TextSourceBuffer"!==S.getClassName())&&(N.debug("Removing sourcebuffer from media source"),z.removeSourceBuffer(S))}catch{}S=null}oe=null},updateTimestampOffset:Le,initializeForStreamSwitch:function me(X,Q,q){E=(B=X).type;var J=B.codec;(function ue(X){S=X.getBuffer()})(q),le();var de=[];return de.push(function He(){return new Promise(function(X){W(function(){var Q=S.appendWindowStart,q=S.appendWindowEnd;S&&(S.abort(),S.appendWindowStart=Q,S.appendWindowEnd=q),X()})})}()),de.push(_e(B.streamInfo)),de.push(te(J)),Q&&void 0!==Q.MSETimeOffset&&de.push(Le(Q.MSETimeOffset)),Promise.all(de)},initializeForFirstUse:function Se(X,Q,q){E=(B=Q).type;var J=B.codec;try{if(J.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return Ie(X);S=z.addSourceBuffer(J),le();var de=[];return de.push(_e(B.streamInfo)),q&&void 0!==q.MSETimeOffset&&de.push(Le(q.MSETimeOffset)),Promise.all(de)}catch(ge){return B.type==L.default.TEXT&&!B.isFragmented||-1!==J.indexOf('codecs="stpp')||-1!==J.indexOf('codecs="vtt')?Ie(X):Promise.reject(ge)}},updateAppendWindow:_e,changeType:te},function H(){N=Object(t.default)(V).getInstance().getLogger(w)}(),w}A.__dashjs_factory_name="SourceBufferSink";var U=I.default.getClassFactory(A);C.default=U},"./src/streaming/Stream.js":
/*!*********************************!*\
                  !*** ./src/streaming/Stream.js ***!
                  \*********************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! ./StreamProcessor */
"./src/streaming/StreamProcessor.js"),y=c(
/*! ./controllers/FragmentController */
"./src/streaming/controllers/FragmentController.js"),F=c(
/*! ./thumbnail/ThumbnailController */
"./src/streaming/thumbnail/ThumbnailController.js"),L=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),x=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),m=c(
/*! ../core/Debug */
"./src/core/Debug.js"),h=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),p=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),A=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),U=c(
/*! ./utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),O=c(
/*! ./controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),V=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT,t.default.MUXED,t.default.IMAGE];function k(P){P=P||{};var we,_e,Le,Pe,Oe,je,ze,He,Ae,ye,K,ie,he,$,Z,W,X,Q,D=this.context,w=Object(L.default)(D).getInstance(),E=Object(U.default)(D).getInstance(),N=P.manifestModel,S=P.mediaPlayerModel,B=P.dashMetrics,Y=P.manifestUpdater,re=P.adapter,ae=P.timelineConverter,Re=P.capabilities,z=P.errHandler,oe=P.abrController,H=P.playbackController,me=P.eventController,te=P.mediaController,ue=P.protectionController,Se=P.textController,Ie=P.videoModel,le=P.streamInfo,Me=P.settings;function qe(Rt,Ht){return new Promise(function(on,vn){ft(),ye=!0,Vt();var Un=Ie.getElement();V.forEach(function(rt){(rt!==t.default.VIDEO||!Un||Un&&/^VIDEO$/i.test(Un.nodeName))&&function dt(Rt,Ht){var rt,on=re.getAllMediaInfoForType(le,Rt),vn=[],Un=null;if(on&&0!==on.length){Rt===t.default.VIDEO&&(ze=!0),Rt===t.default.AUDIO&&(He=!0);for(var Xt=0,ve=on.length;Xt<ve;Xt++)Un=on[Xt],Rt===t.default.TEXT&&Un.isEmbedded&&(Se.addEmbeddedTrack(le,Un),vn.push(Un)),It(Un)&&te.addTrack(Un);if(vn.length>0&&(te.setInitialMediaSettingsForType(Rt,le),Se.addMediaInfosToBuffer(le,Rt,vn)),0!==(on=on.filter(function(tt){return!tt.isEmbedded})).length){if(Rt===t.default.IMAGE)return void(ie=Object(F.default)(D).create({streamInfo:le,adapter:re,baseURLController:P.baseURLController,timelineConverter:P.timelineConverter,debug:W,eventBus:w,events:x.default,dashConstants:b.default,dashMetrics:P.dashMetrics,segmentBaseController:P.segmentBaseController})).initialize();w.trigger(x.default.STREAM_INITIALIZING,{streamInfo:le,mediaInfo:Un}),te.setInitialMediaSettingsForType(Rt,le);var at=function _t(Rt,Ht){var on=Rt&&Rt.length>0?Rt[0]:null,vn=K.getModel(on?on.type:null),Un=on?on.type:null,rt=on?on.mimeType:null,Xt=on?on.isFragmented:null,ve=Object(I.default)(D).create({streamInfo:le,type:Un,mimeType:rt,timelineConverter:ae,adapter:re,manifestModel:N,mediaPlayerModel:S,fragmentModel:vn,dashMetrics:P.dashMetrics,baseURLController:P.baseURLController,segmentBaseController:P.segmentBaseController,abrController:oe,playbackController:H,mediaController:te,textController:Se,errHandler:z,settings:Me,boxParser:Z,segmentBlacklistController:he});ve.initialize(Ht,ze,Xt),Le.push(ve);for(var at=0;at<Rt.length;at++)ve.addMediaInfo(Rt[at]);return Un===t.default.TEXT&&Se.addMediaInfosToBuffer(le,Un,Rt,vn),ve}(on,Ht);(rt=te.getCurrentTrackFor(Rt,le.id))&&(oe.updateTopQualityIndex(rt),at.selectMediaInfo(Rt===t.default.TEXT&&rt.isEmbedded?on[0]:rt))}}else _e.info("No "+Rt+" data.")}(rt,Rt)}),function Ot(Rt){return new Promise(function(Ht){var on={},vn=Le.map(function(Un){return Un.createBufferSinks(Rt)});Promise.all(vn).then(function(Un){Un.forEach(function(rt){rt&&(on[rt.getType()]=rt)}),Ht(on)}).catch(function(){Ht(on)})})}(Ht).then(function(rt){if(ye=!1,0===Le.length){var Xt="No streams to play.";z.error(new v.default(h.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Xt,N.getValue())),_e.fatal(Xt)}else en();Se.createTracks(le),on(rt)}).catch(function(rt){vn(rt)})})}function It(Rt){var Ht=Rt?Rt.type:null;return Ht===t.default.MUXED?(_e.fatal("Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),z.error(new v.default(h.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,"Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",N.getValue())),!1):!(Ht!==t.default.TEXT&&Ht!==t.default.IMAGE&&Rt.contentProtection&&!Re.supportsEncryptedMedia()&&(z.error(new v.default(h.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,h.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function jt(Rt){for(var Ht=Le?Le.length:0,vn=0;vn<Ht;vn++){var Un=Le[vn].getFragmentModel();Un.abortRequests(),Un.resetInitialSettings(),Le[vn].reset(false,Rt)}Se&&Se.deactivateStream(le),Le=[],Oe=!1,je=!1,Gt(!1),ut(!1),w.trigger(x.default.STREAM_DEACTIVATED,{streamInfo:le})}function dn(Rt){jt(Rt),Pe=!1,ze=!1,He=!1,Ae={},ye=!1,X=!1,Q=[]}function ut(Rt){X=Rt}function xe(){return le?le.start:NaN}function fe(){return le?le.id:null}function pe(){return le}function ft(){if(!Ie||!oe)throw new Error(t.default.MISSING_CONFIG_ERROR)}function Nt(Rt){Rt.error&&(z.error(Rt.error),_e.fatal(Rt.error.message))}function Vt(){if(me){var Rt=re.getEventsFor(le);Rt&&Rt.length>0&&me.addInlineEvents(Rt,le.id)}}function en(){for(var Rt=Le.length,on=Ae.audio||Ae.video?new v.default(h.default.DATA_UPDATE_FAILED_ERROR_CODE,h.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,vn=0;vn<Rt;vn++)if(Le[vn].isUpdating()||ye)return;if(ue){ue.clearMediaInfoArray();for(var Un=0;Un<Rt&&Le[Un];Un++){var rt=Le[Un].getType(),Xt=Le[Un].getMediaInfo();if(rt===t.default.AUDIO||rt===t.default.VIDEO||rt===t.default.TEXT&&Xt.isFragmented){var ve=Le[Un].getMediaInfo();ve&&ue.initializeForMedia(ve)}}ue.handleKeySystemFromManifest()}on?z.error(on):Pe||(Pe=!0,Ie.waitForReadyState(t.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){w.trigger(x.default.STREAM_INITIALIZED,{streamInfo:le})}))}function yn(){var Rt=ui(),Ht=Rt.length;if(0!==Ht){for(var on=0;on<Ht;on++)if(!Rt[on].isBufferingCompleted()&&(Rt[on].getType()===t.default.AUDIO||Rt[on].getType()===t.default.VIDEO))return void _e.debug("onBufferingCompleted - One streamProcessor has finished but",Rt[on].getType(),"one is not buffering completed");_e.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),je=!0,w.trigger(x.default.STREAM_BUFFERING_COMPLETED,{streamInfo:le},{streamInfo:le})}else _e.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Tn(Rt){Ae[Rt.mediaType]=Rt.error,en()}function On(Rt){me&&me.addInbandEvents(Rt.events,le.id)}function kn(Rt){return Rt&&Rt.type?qn(Rt.type):null}function qn(Rt){return Rt?ui().filter(function(on){return on.getType()===Rt})[0]:null}function ui(){for(var Ht,on,Rt=[],vn=0;vn<Le.length;vn++)((Ht=(on=Le[vn]).getType())===t.default.AUDIO||Ht===t.default.VIDEO||Ht===t.default.TEXT)&&Rt.push(on);return Rt}function Ke(Rt,Ht){var on=pe(),vn=Ht.getStreamInfo();if(!vn||!on)return!0;var Un=re.getAdaptationForType(vn.index,Rt,vn),rt=re.getAdaptationForType(on.index,Rt,on);return Un&&rt?!(!it(rt)&&it(Un)):!Un&&!rt}function it(Rt){return!!Rt&&!!(Rt.ContentProtection||Rt.Representation&&Rt.Representation.length>0&&Rt.Representation[0].ContentProtection)}function Ct(Rt,Ht){var on=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Rt||!Rt.hasOwnProperty("getStreamInfo"))return!1;var vn=Rt.getStreamInfo(),Un=on?on.getStreamInfo():pe();if(!vn||!Un)return!1;var rt=re.getAdaptationForType(vn.index,Ht,vn),Xt=re.getAdaptationForType(Un.index,Ht,Un);if(!rt||!Xt)return!rt&&!Xt;var ve=rt&&Xt&&rt.mimeType===Xt.mimeType,at=Xt.Representation_asArray.map(function(tn){return tn.codecs}),tt=rt.Representation_asArray.map(function(tn){return tn.codecs}),At=tt.some(function(tn){return at.indexOf(tn)>-1}),qt=tt.some(function(tn){return at.some(function(pi){return Re.codecRootCompatibleWithCodec(pi,tn)})});return At||qt&&ve}function Gt(Rt){$=Rt}function hn(){return $}return we={initialize:function J(){(function de(){w.on(x.default.BUFFERING_COMPLETED,yn,we),w.on(x.default.DATA_UPDATE_COMPLETED,Tn,we),w.on(x.default.INBAND_EVENTS,On,we)})(),function ce(){ue&&(w.on(x.default.KEY_ERROR,Nt,we),w.on(x.default.SERVER_CERTIFICATE_UPDATED,Nt,we),w.on(x.default.LICENSE_REQUEST_COMPLETE,Nt,we),w.on(x.default.KEY_SYSTEM_SELECTED,Nt,we),w.on(x.default.KEY_SESSION_CREATED,Nt,we),w.on(x.default.KEY_STATUSES_CHANGED,Nt,we))}(),Se.initializeForStream(le),w.trigger(x.default.STREAM_UPDATED,{streamInfo:le})},getStreamId:function Ye(){return le?le.id:null},activate:function Be(Rt,Ht){return new Promise(function(on,vn){if(!Oe)return hn()?(Oe=!0,w.trigger(x.default.STREAM_ACTIVATED,{streamInfo:le}),void on(Ht)):void function $e(Rt,Ht){return qe(Rt,Ht)}(Rt,Ht).then(function(Un){Oe=!0,w.trigger(x.default.STREAM_ACTIVATED,{streamInfo:le}),on(Un)}).catch(function(Un){vn(Un)});on(Ht)})},deactivate:jt,getIsActive:function zt(){return Oe},getDuration:function jn(){return le?le.duration:NaN},getStartTime:xe,getId:fe,getStreamInfo:pe,getHasAudioTrack:function lt(){return He},getHasVideoTrack:function mt(){return ze},startPreloading:function Qe(Rt,Ht){return new Promise(function(on,vn){hn()?vn():(_e.info("[startPreloading] Preloading next stream with id ".concat(fe())),Gt(!0),qe(Rt,Ht).then(function(){for(var Un=0;Un<Le.length&&Le[Un];Un++)Le[Un].setExplicitBufferingTime(xe()),Le[Un].getScheduleController().startScheduleTimer();on()}).catch(function(){Gt(!1),vn()}))})},getThumbnailController:function Dt(){return ie},getBitrateListFor:function bt(Rt){if(ft(),Rt===t.default.IMAGE)return ie?ie.getBitrateList():[];var Ht=function nn(Rt){for(var Ht=null,on=0;on<Le.length;on++)if((Ht=Le[on]).getType()===Rt)return Ht.getMediaInfo();return null}(Rt);return oe.getBitrateList(Ht)},updateData:function St(Rt){return new Promise(function(Ht){ye=!0,le=Rt,me&&Vt();for(var on=[],vn=0,Un=Le.length;vn<Un;vn++){var rt=Le[vn],Xt=rt.getMediaInfo();on.push(rt.updateStreamInfo(le));var ve=re.getAllMediaInfoForType(le,rt.getType());if(ve){rt.clearMediaInfoArray();for(var at=0;at<ve.length;at++){var tt=ve[at];rt.addMediaInfo(ve[at]),re.areMediaInfosEqual(Xt,tt)&&(oe.updateTopQualityIndex(tt),on.push(rt.selectMediaInfo(tt)))}}}Promise.all(on).then(function(){for(on=[];Q.length>0;){var At=Q.pop(),qt=At.newMediaInfo,tn=kn(At.oldMediaInfo);if(!tn)return;on.push(tn.prepareTrackSwitch()),tn.selectMediaInfo(qt)}return Promise.all(on)}).then(function(){ye=!1,en(),w.trigger(x.default.STREAM_UPDATED,{streamInfo:le}),Ht()})})},reset:function pn(Rt){K&&(K.reset(),K=null),oe&&le&&oe.clearDataForStream(le.id),he&&(he.reset(),he=null),dn(Rt),le=null,function ge(){w.off(x.default.DATA_UPDATE_COMPLETED,Tn,we),w.off(x.default.BUFFERING_COMPLETED,yn,we),w.off(x.default.INBAND_EVENTS,On,we)}(),function Ce(){ue&&(w.off(x.default.KEY_ERROR,Nt,we),w.off(x.default.SERVER_CERTIFICATE_UPDATED,Nt,we),w.off(x.default.LICENSE_REQUEST_COMPLETE,Nt,we),w.off(x.default.KEY_SYSTEM_SELECTED,Nt,we),w.off(x.default.KEY_SESSION_CREATED,Nt,we),w.off(x.default.KEY_STATUSES_CHANGED,Nt,we))}()},getProcessors:ui,setMediaSource:function $t(Rt){for(var Ht=0;Ht<Le.length;)It(Le[Ht].getMediaInfo())?(Le[Ht].setMediaSource(Rt),Ht++):(Le[Ht].reset(),Le.splice(Ht,1));if(0===Le.length){var on="No streams to play.";z.error(new v.default(h.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,on+"nostreams",N.getValue())),_e.fatal(on)}},isMediaCodecCompatible:function ct(Rt){var Ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ct(Rt,t.default.VIDEO,Ht)&&Ct(Rt,t.default.AUDIO,Ht)},isProtectionCompatible:function Qt(Rt){return!Rt||Ke(t.default.VIDEO,Rt)&&Ke(t.default.AUDIO,Rt)},getPreloaded:hn,getIsEndedEventSignaled:function st(){return X},setIsEndedEventSignaled:ut,getAdapter:function Ft(){return re},getHasFinishedBuffering:function bn(){return je},setPreloaded:Gt,startScheduleControllers:function kt(){for(var Rt=Le.length,Ht=0;Ht<Rt&&Le[Ht];Ht++)Le[Ht].getScheduleController().startScheduleTimer()},prepareTrackChange:function Wt(Rt){if(Oe&&le){je=!1;var Ht=Rt.newMediaInfo,on=N.getValue();re.setCurrentMediaInfo(le.id,Ht.type,Ht);var vn=kn(Ht);if(vn){var Un=H.getTime();_e.info("Stream -  Process track changed at current time "+Un),on.refreshManifestOnSwitchTrack?(Q.push(Rt),Y.getIsUpdating()||(_e.debug("Stream -  Refreshing manifest for switch track"),Y.refreshManifest())):vn.selectMediaInfo(Ht).then(function(){(Ht.type===t.default.VIDEO||Ht.type===t.default.AUDIO)&&oe.updateTopQualityIndex(Ht),vn.prepareTrackSwitch()})}}},prepareQualityChange:function wt(Rt){var Ht=qn(Rt.mediaType);Ht&&Ht.prepareQualityChange(Rt)}},function q(){try{W=Object(m.default)(D).getInstance(),_e=W.getLogger(we),dn(),Z=Object(A.default)(D).getInstance(),he=Object(O.default)(D).create({updateEventName:x.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:x.default.SEGMENT_LOCATION_BLACKLIST_ADD}),K=Object(y.default)(D).create({streamInfo:le,mediaPlayerModel:S,dashMetrics:B,errHandler:z,settings:Me,boxParser:Z,dashConstants:b.default,urlUtils:E})}catch(Rt){throw Rt}}(),we}k.__dashjs_factory_name="Stream",C.default=p.default.getClassFactory(k)},"./src/streaming/StreamProcessor.js":
/*!******************************************!*\
                  !*** ./src/streaming/StreamProcessor.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! ./constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),y=c(
/*! ./models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),F=c(
/*! ./controllers/BufferController */
"./src/streaming/controllers/BufferController.js"),L=c(
/*! ./text/NotFragmentedTextBufferController */
"./src/streaming/text/NotFragmentedTextBufferController.js"),x=c(
/*! ./controllers/ScheduleController */
"./src/streaming/controllers/ScheduleController.js"),m=c(
/*! ../dash/controllers/RepresentationController */
"./src/dash/controllers/RepresentationController.js"),h=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ./utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),v=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),A=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),U=c(
/*! ../dash/DashHandler */
"./src/dash/DashHandler.js"),O=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js"),V=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../core/Debug */
"./src/core/Debug.js"),P=c(
/*! ./utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),D=c(
/*! ../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),w=c(
/*! ./utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),E=c(
/*! ./vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),N=c(
/*! ../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),S=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function B(Y){Y=Y||{};var ze,He,Ae,ye,K,ie,he,$,Z,W,X,Q,q,re=this.context,ae=Object(v.default)(re).getInstance(),Re=Y.streamInfo,z=Y.type,oe=Y.errHandler,H=Y.mimeType,me=Y.timelineConverter,te=Y.adapter,ue=Y.manifestModel,Se=Y.mediaPlayerModel,Ie=Y.fragmentModel,le=Y.abrController,Me=Y.playbackController,we=Y.mediaController,_e=Y.textController,Le=Y.dashMetrics,Pe=Y.settings,Oe=Y.boxParser,je=Y.segmentBlacklistController;function ge(){return Re.id}function ce(){return z}function Ce(){return te.getIsTextTrack($.getData())}function Ye(){K=[],ye=null,q=0,Z=!1,W=!1}function dt(rt){var Xt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(rt.sender){if(Me.getIsManifestUpdateInProgress())return void $t();if((!Ce()||_e.isTextEnabled())&&ie&&rt.representationId&&!ie.appendInitSegmentFromCache(rt.representationId)){var ve=$.getCurrentRepresentation();if(0===ve.range)return void It();var at=X?X.getInitRequest(ye,ve):null;at?Ie.executeRequest(at):Xt&&(he.setInitSegmentRequired(!0),$t())}}}function It(rt){var Xt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Me.getIsManifestUpdateInProgress()||ie.getIsPruningInProgress())$t();else{var ve=function zt(){var Xt,rt=ct();if(isNaN(q)||ce()===t.default.TEXT&&!_e.isTextEnabled())return null;var ve=Z;if(X){var at=$&&rt?$.getRepresentationForQuality(rt.quality):null;Xt=ve?X.getSegmentRequestForTime(ye,at,q):X.getNextSegmentRequest(ye,at)}return Xt}();ve?(Z=!1,function _t(rt){isNaN(rt.startTime+rt.duration)||(q=rt.startTime+rt.duration),rt.delayLoadingTime=(new Date).getTime()+he.getTimeToLoadDelay(),he.setTimeToLoadDelay(0),function jt(rt){var Xt=rt.url;return rt.range&&(Xt=Xt.concat("_",rt.range)),je.contains(Xt)}(rt)?(He.warn("Fragment request url ".concat(rt.url," for stream id ").concat(Re.id," and media type ").concat(z," is on the ignore list and will be skipped")),$t()):(He.debug("Next fragment request url for stream id ".concat(Re.id," and media type ").concat(z," is ").concat(rt.url)),Ie.executeRequest(rt))}(ve)):function Ot(rt){var ve,Xt=$.getCurrentRepresentation();if(!Pe.get().streaming.gaps.enableSeekFix||!Z&&0!==Me.getTime()||(Ae?Ae&&Xt.segmentInfoType===b.default.SEGMENT_TIMELINE&&(ve=X.getValidTimeAheadOfTargetTime(q,ye,Xt,Pe.get().streaming.gaps.threshold)):ve=X.getValidTimeAheadOfTargetTime(q,ye,Xt,Pe.get().streaming.gaps.threshold),isNaN(ve)||ve===q)){if(X.isLastSegmentRequested(Xt,q)){var tt=X.getCurrentIndex();return He.debug("Segment requesting for stream ".concat(Re.id," has finished")),ae.trigger(A.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:tt},{streamId:Re.id,mediaType:z}),ie.segmentRequestingCompleted(tt),void he.clearScheduleTimer()}rt&&$t()}else Me.isSeeking()||0===Me.getTime()?(He.warn("Adjusting playback time ".concat(ve," because of gap in the manifest. Seeking by ").concat(ve-q)),Me.seek(ve,!1,!1)):(He.warn("Adjusting buffering time ".concat(ve," because of gap in the manifest. Adjusting time by ").concat(ve-q)),vn(ve),rt&&$t())}(Xt)}}function $t(){he.startScheduleTimer(Me.getLowLatencyModeEnabled()?Pe.get().streaming.scheduling.lowLatencyTimeout:Pe.get().streaming.scheduling.defaultTimeout)}function dn(rt){rt.error||(he.setCurrentRepresentation(te.convertRepresentationToRepresentationInfo(rt.currentRepresentation)),ie.getIsBufferingCompleted()||ie.updateBufferTimestampOffset(rt.currentRepresentation))}function pn(rt){Le.addBufferState(z,rt.state,he.getBufferTarget()),rt.state===I.default.BUFFER_EMPTY&&!Me.isSeeking()&&(He.info("Buffer is empty! Stalling!"),Le.pushPlayListTraceMetrics(new Date,E.PlayListTrace.REBUFFERING_REASON))}function jn(rt){Ie.syncExecutedRequestsWithBufferedRange(ie.getBuffer().getAllBufferRanges(),Re.duration),rt.quotaExceeded&&rt.from>Me.getTime()&&vn(rt.from),rt.hasEnoughSpaceToAppend&&rt.quotaExceeded&&he.startScheduleTimer()}function st(rt){if(rt&&rt.lastRequestAppended&&rt.lastRequestAppended.url){var Xt=rt.lastRequestAppended.url;rt.lastRequestAppended.range&&(Xt=Xt.concat("_",rt.lastRequestAppended.range)),He.warn("Blacklisting segment with url ".concat(Xt)),je.add(Xt)}}function pe(){Rt(),W=!1}function lt(rt){He.info("onFragmentLoadingAbandoned request: "+rt.request.url+" has been aborted"),!Me.isSeeking()&&!he.getSwitchStrack()&&!W&&(He.info("onFragmentLoadingAbandoned request: "+rt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),rt.request&&rt.request.isInitializationRequest()?he.setInitSegmentRequired(!0):vn(rt.request.startTime+rt.request.duration/2),he.startScheduleTimer(0))}function mt(rt){He.info("OnFragmentLoadingCompleted for stream id "+Re.id+" and media type "+z+" - Url:",rt.request?rt.request.url:"undefined",rt.request.range?", Range:"+rt.request.range:""),Ce()&&he.startScheduleTimer(0),rt.error&&rt.request.serviceLocation&&function Dt(rt){He.info("Fragment loading completed with an error"),rt&&rt.request&&rt.request.type&&(rt.request.type===S.HTTPRequest.INIT_SEGMENT_TYPE?dt({representationId:rt.request.representationId,sender:{}},!1):rt.request.type===S.HTTPRequest.MEDIA_SEGMENT_TYPE&&(vn(rt.request.startTime+rt.request.duration/2),It({},!1)))}(rt)}function ft(){vn(Me.getTime()),St().startScheduleTimer()}function bt(rt){var Xt=rt.currentTrackInfo;if(Xt){var ve=K.find(function(at){return at.index===Xt.index&&at.lang===Xt.lang});ve&&Tn(ve).then(function(){ie.setIsBufferingCompleted(!1),vn(Me.getTime()),he.setInitSegmentRequired(!0),he.startScheduleTimer()})}}function Nt(rt){vn(rt.quotaExceededTime),he.clearScheduleTimer()}function wt(){return ie?ie.getBuffer():null}function Tn(rt){rt!==ye&&(!rt||!ye||rt.type===ye.type)&&(ye=rt);var Xt=te.getRealAdaptation(Re,ye),ve=te.getVoRepresentations(ye);if($){var qt,at=$.getData(),tt=le.getMaxAllowedIndexFor(z,Re.id),At=le.getMinAllowedIndexFor(z,Re.id),pi=null;return null!==at&&at.id===Xt.id||z===t.default.TEXT?qt=le.getQualityFor(z,Re.id):(pi=le.getThroughputHistory().getAverageThroughput(z,Ae)||le.getInitialBitrateFor(z,Re.id),qt=le.getQualityForBitrate(ye,pi,Re.id)),void 0!==At&&qt<At&&(qt=At),qt>tt&&(qt=tt),$.updateData(Xt,ve,z,ye.isFragmented,qt)}return Promise.resolve()}function St(){return he}function ct(rt){var Xt;return void 0!==rt?(Object(p.checkInteger)(rt),Xt=$?$.getRepresentationForQuality(rt):null):Xt=$?$.getCurrentRepresentation():null,te.convertRepresentationToRepresentationInfo(Xt)}function Qt(){return!!ie&&ie.getIsBufferingCompleted()}function Ct(rt){var Xt=rt.chunk,ve=Xt.bytes,at=Xt.quality,tt=ct(at),At=$&&tt?$.getRepresentationForQuality(tt.quality):null;if(tt&&At){var qt=te.getEventsFor(tt.mediaInfo,null,Re),tn=te.getEventsFor(tt,At,Re);if(qt&&qt.length>0||tn&&tn.length>0){var si=function Gt(rt,Xt,ve,at){try{for(var tt={},At=[],qt=ve.concat(at),tn=0,pi=qt.length;tn<pi;tn++)tt[qt[tn].schemeIdUri+"/"+qt[tn].value]=qt[tn];var si=Object(w.default)(re).getInstance().parse(rt),sr=si.getBoxes("emsg");if(!sr||0===sr.length)return At;for(var Ui=si.getBox("sidx"),Br=!Ui||isNaN(Ui.earliest_presentation_time)||isNaN(Ui.timescale)?Xt&&!isNaN(Xt.mediaStartTime)?Xt.mediaStartTime:0:Ui.earliest_presentation_time/Ui.timescale,vo=Math.max(Br,0),eo=$.getCurrentRepresentation(),yo=0,di=sr.length;yo<di;yo++){var Zi=te.getEvent(sr[yo],tt,vo,eo);Zi&&At.push(Zi)}return At}catch{return[]}}(ve,Ie.getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,quality:at,index:Xt.index})[0],qt,tn);ae.trigger(A.default.INBAND_EVENTS,{events:si},{streamId:Re.id})}}}function Ft(){var rt=Me.getTime();Pe.get().streaming.buffer.flushBufferAtTrackSwitch&&Me.seek(rt+.001,!1,!0),vn(rt),ie.setSeekTarget(rt),he.startScheduleTimer()}function Rt(){var rt=Me.getTime(),Xt=ie.getContinuousBufferTimeForTargetTime(rt);vn(isNaN(Xt)?rt:Xt),he.startScheduleTimer()}function on(rt){rt&&!isNaN(rt.time)&&(vn(rt.time),ie.setSeekTarget(rt.time))}function vn(rt){q=rt,Z=!0}return ze={initialize:function de(rt,Xt,ve){Q=Object(N.default)(re).create({events:A.default,eventBus:ae,streamInfo:Re,timelineConverter:me,dashConstants:b.default,segmentBaseController:Y.segmentBaseController,type:z}),(X=Object(U.default)(re).create({streamInfo:Re,type:z,timelineConverter:me,dashMetrics:Le,mediaPlayerModel:Se,baseURLController:Y.baseURLController,errHandler:oe,segmentsController:Q,settings:Pe,boxParser:Oe,events:A.default,eventBus:ae,errors:O.default,debug:Object(k.default)(re).getInstance(),requestModifier:Object(P.default)(re).getInstance(),dashConstants:b.default,constants:t.default,urlUtils:Object(D.default)(re).getInstance()})).initialize(Ae=Re.manifestInfo.isDynamic),le.registerStreamType(z,ze),$=Object(m.default)(re).create({streamInfo:Re,type:z,abrController:le,dashMetrics:Le,playbackController:Me,timelineConverter:me,dashConstants:b.default,events:A.default,eventBus:ae,errors:O.default,isDynamic:Ae,segmentsController:Q}),(ie=function Ht(rt,Xt){return rt?rt!==t.default.TEXT||Xt?Object(F.default)(re).create({streamInfo:Re,type:rt,mediaPlayerModel:Se,manifestModel:ue,fragmentModel:Ie,errHandler:oe,mediaController:we,representationController:$,adapter:te,textController:_e,abrController:le,playbackController:Me,settings:Pe}):Object(L.default)(re).create({streamInfo:Re,type:rt,mimeType:H,fragmentModel:Ie,textController:_e,errHandler:oe,settings:Pe}):(oe.error(new V.default(O.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,O.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(z,ve))&&ie.initialize(rt),(he=Object(x.default)(re).create({streamInfo:Re,type:z,mimeType:H,adapter:te,dashMetrics:Le,mediaPlayerModel:Se,fragmentModel:Ie,abrController:le,playbackController:Me,textController:_e,mediaController:we,bufferController:ie,settings:Pe})).initialize(Xt),q=0,Z=!1},getStreamId:ge,getType:ce,isUpdating:function $e(){return!!$&&$.isUpdating()},getBufferController:function Vt(){return ie},getFragmentModel:function en(){return Ie},getScheduleController:St,getRepresentationController:function Wt(){return $},getRepresentationInfo:ct,getBufferLevel:function Ke(){return ie?ie.getBufferLevel():0},isBufferingCompleted:Qt,createBufferSinks:function hn(rt){var Xt=wt();return Xt?Promise.resolve(Xt):ie?ie.createBufferSink(ye,rt):Promise.resolve(null)},updateStreamInfo:function nn(rt){return Re=rt,Qt()?Promise.resolve():ie.updateAppendWindow()},getStreamInfo:function yn(){return Re},selectMediaInfo:Tn,clearMediaInfoArray:function kn(){K=[]},addMediaInfo:function On(rt){-1===K.indexOf(rt)&&K.push(rt)},prepareTrackSwitch:function bn(){return new Promise(function(rt){He.debug("Preparing track switch for type ".concat(z));var Xt=z===t.default.TEXT||Pe.get().streaming.trackSwitchMode[z]===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Me.getTimeToStreamEnd(Re)>Pe.get().streaming.buffer.stallThreshold;if(ie.getIsBufferingCompleted()&&!Xt)return ie.prepareForNonReplacementTrackSwitch(ye.codec).then(function(){ae.trigger(A.default.BUFFERING_COMPLETED,{},{streamId:Re.id,mediaType:z})}).catch(function(){ae.trigger(A.default.BUFFERING_COMPLETED,{},{streamId:Re.id,mediaType:z})}),void rt();he.clearScheduleTimer(),he.setSwitchTrack(!0),Xt?(ae.trigger(A.default.BUFFER_REPLACEMENT_STARTED,{mediaType:z,streamId:Re.id},{mediaType:z,streamId:Re.id}),Ie.abortRequests(),ie.prepareForReplacementTrackSwitch(ye.codec).then(function(){var ve=ct();return ie.updateBufferTimestampOffset(ve)}).then(function(){Ft(),rt()}).catch(function(){Ft(),rt()})):ie.prepareForNonReplacementTrackSwitch(ye.codec).then(function(){Rt(),rt()}).catch(function(){Rt(),rt()})})},prepareQualityChange:function ut(rt){He.debug("Preparing quality switch for type ".concat(z));var Xt=rt.newQuality;W=!0,he.clearScheduleTimer();var ve=ct(Xt);he.setCurrentRepresentation(ve),$.prepareQualityChange(Xt),Ie.abortRequests(),ie.updateBufferTimestampOffset(ve).then(function(){rt.reason&&rt.reason.forceReplace?function xe(){ae.trigger(A.default.BUFFER_REPLACEMENT_STARTED,{mediaType:z,streamId:Re.id},{mediaType:z,streamId:Re.id}),ie.prepareForReplacementQualitySwitch().then(function(){Ft(),W=!1}).catch(function(){Ft(),W=!1})}():Pe.get().streaming.buffer.fastSwitchEnabled?function fe(rt){var Xt=Me.getTime(),ve=1.5*(isNaN(rt.fragmentDuration)?1:rt.fragmentDuration),at=Ie.getRequests({state:y.default.FRAGMENT_MODEL_EXECUTED,time:Xt+ve,threshold:0})[0];if(at&&!Ce()){var tt=ie.getBufferLevel(),At=le.getAbandonmentStateFor(Re.id,z);at.quality<rt.quality&&tt>=ve&&At!==I.default.ABANDON_LOAD?(vn(Xt+ve),he.setCheckPlaybackQuality(!1),he.startScheduleTimer()):pe()}else he.startScheduleTimer();W=!1}(ve):pe(),Le.pushPlayListTraceMetrics(new Date,E.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),Le.createPlaylistTraceMetrics(ve.id,1e3*Me.getTime(),Me.getPlaybackRate())})},getMediaInfo:function qn(){return ye},getMediaSource:function ui(){return ie.getMediaSource()},setMediaSource:function kt(rt){ie.setMediaSource(rt)},getBuffer:wt,setExplicitBufferingTime:vn,finalisePlayList:function Un(rt,Xt){Le.pushPlayListTraceMetrics(rt,Xt)},probeNextRequest:function it(){var rt=ct(),Xt=$&&rt?$.getRepresentationForQuality(rt.quality):null;return X.getNextSegmentRequestIdempotent(ye,Xt)},prepareInnerPeriodPlaybackSeeking:function Qe(rt){return new Promise(function(Xt){if(ie.hasBufferAtTime(rt.seekTime))return ie.pruneBuffer(),void Xt();he.clearScheduleTimer(),Ie.abortRequests(),ie.prepareForPlaybackSeek().then(function(){var at=ie.getAllRangesWithSafetyFactor(rt.seekTime);return ie.clearBuffers(at)}).then(function(){var at=ie.getContinuousBufferTimeForTargetTime(rt.seekTime);if(!isNaN(at)&&!isNaN(Re.duration)&&isFinite(Re.duration)&&at>=Re.start+Re.duration)ie.setIsBufferingCompleted(!0),Xt();else{var tt=isNaN(at)?rt.seekTime:at;vn(tt),ie.setSeekTarget(tt);var At=[];At.push(ie.updateAppendWindow());var qt=ct();At.push(ie.updateBufferTimestampOffset(qt)),Promise.all(At).then(function(){he.setInitSegmentRequired(!0),he.setCheckPlaybackQuality(!1),he.startScheduleTimer(),Xt()})}}).catch(function(at){He.error(at)})})},prepareOuterPeriodPlaybackSeeking:function qe(){return new Promise(function(rt,Xt){try{he.clearScheduleTimer(),Ie.abortRequests(),ie.prepareForPlaybackSeek().then(function(){return ie.pruneAllSafely()}).then(function(){rt()})}catch(ve){Xt(ve)}})},reset:function Be(rt,Xt){X&&X.reset(),ie&&(ie.reset(rt,Xt),ie=null),he&&(he.reset(),he=null),$&&($.reset(),$=null),Q&&(Q=null),le&&le.unRegisterStreamType(ge(),z),ae.off(A.default.DATA_UPDATE_COMPLETED,dn,ze),ae.off(A.default.INIT_FRAGMENT_NEEDED,dt,ze),ae.off(A.default.MEDIA_FRAGMENT_NEEDED,It,ze),ae.off(A.default.MEDIA_FRAGMENT_LOADED,Ct,ze),ae.off(A.default.BUFFER_LEVEL_STATE_CHANGED,pn,ze),ae.off(A.default.BUFFER_CLEARED,jn,ze),ae.off(A.default.SEEK_TARGET,on,ze),ae.off(A.default.FRAGMENT_LOADING_ABANDONED,lt,ze),ae.off(A.default.FRAGMENT_LOADING_COMPLETED,mt,ze),ae.off(A.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ft,ze),ae.off(A.default.SET_NON_FRAGMENTED_TEXT,bt,ze),ae.off(A.default.QUOTA_EXCEEDED,Nt,ze),ae.off(A.default.SOURCE_BUFFER_ERROR,st,ze),Ye(),z=null,Re=null}},function J(){He=Object(k.default)(re).getInstance().getLogger(ze),Ye(),ae.on(A.default.DATA_UPDATE_COMPLETED,dn,ze,{priority:v.default.EVENT_PRIORITY_HIGH}),ae.on(A.default.INIT_FRAGMENT_NEEDED,dt,ze),ae.on(A.default.MEDIA_FRAGMENT_NEEDED,It,ze),ae.on(A.default.MEDIA_FRAGMENT_LOADED,Ct,ze),ae.on(A.default.BUFFER_LEVEL_STATE_CHANGED,pn,ze),ae.on(A.default.BUFFER_CLEARED,jn,ze),ae.on(A.default.SEEK_TARGET,on,ze),ae.on(A.default.FRAGMENT_LOADING_ABANDONED,lt,ze),ae.on(A.default.FRAGMENT_LOADING_COMPLETED,mt,ze),ae.on(A.default.QUOTA_EXCEEDED,Nt,ze),ae.on(A.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,ft,ze),ae.on(A.default.SET_NON_FRAGMENTED_TEXT,bt,ze),ae.on(A.default.SOURCE_BUFFER_ERROR,st,ze)}(),ze}B.__dashjs_factory_name="StreamProcessor",C.default=h.default.getClassFactory(B)},"./src/streaming/XlinkLoader.js":
/*!**************************************!*\
                  !*** ./src/streaming/XlinkLoader.js ***!
                  \**************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=c(
/*! ./net/URLLoader */
"./src/streaming/net/URLLoader.js"),I=c(
/*! ./vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),y=c(
/*! ./vo/TextRequest */
"./src/streaming/vo/TextRequest.js"),F=c(
/*! ../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=c(
/*! ../core/errors/Errors */
"./src/core/errors/Errors.js");function h(p){p=p||{};var A=this.context,U=Object(F.default)(A).getInstance(),O=Object(b.default)(A).create({errHandler:p.errHandler,dashMetrics:p.dashMetrics,mediaPlayerModel:p.mediaPlayerModel,requestModifier:p.requestModifier,errors:m.default});return{load:function k(D,w,E){var N=function(Y,re){w.resolved=!0,w.resolvedContent=Y||null,U.trigger(L.default.XLINK_ELEMENT_LOADED,{element:w,resolveObject:E,error:Y||re?null:new t.default(m.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,m.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+D)})};if("urn:mpeg:dash:resolve-to-zero:2013"===D)N(null,!0);else{var S=new y.default(D,I.HTTPRequest.XLINK_EXPANSION_TYPE);O.load({request:S,success:function(Y){N(Y)},error:function(){N(null)}})}},reset:function P(){O&&(O.abort(),O=null)}}}h.__dashjs_factory_name="XlinkLoader",C.default=x.default.getClassFactory(h)},"./src/streaming/constants/ConformanceViolationConstants.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/constants/ConformanceViolationConstants.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C),C.default={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}}},"./src/streaming/constants/Constants.js":
/*!**********************************************!*\
                  !*** ./src/streaming/constants/Constants.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function I(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);var m=new(function(){function h(){(function b(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function y(h,p,v){return p&&I(h.prototype,p),v&&I(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}]),h}());C.default=m},"./src/streaming/constants/MetricsConstants.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/constants/MetricsConstants.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function I(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);var m=new(function(){function h(){(function b(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function y(h,p,v){return p&&I(h.prototype,p),v&&I(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}]),h}());C.default=m},"./src/streaming/constants/ProtectionConstants.js":
/*!********************************************************!*\
                  !*** ./src/streaming/constants/ProtectionConstants.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function I(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);var m=new(function(){function h(){(function b(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.init()}return function y(h,p,v){return p&&I(h.prototype,p),v&&I(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}]),h}());C.default=m},"./src/streaming/controllers/AbrController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/AbrController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),b=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),y=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),F=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),x=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),h=c(
/*! ../rules/RulesContext */
"./src/streaming/rules/RulesContext.js"),p=c(
/*! ../rules/SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=c(
/*! ../rules/SwitchRequestHistory */
"./src/streaming/rules/SwitchRequestHistory.js"),A=c(
/*! ../rules/DroppedFramesHistory */
"./src/streaming/rules/DroppedFramesHistory.js"),U=c(
/*! ../rules/ThroughputHistory */
"./src/streaming/rules/ThroughputHistory.js"),O=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),V=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),k=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),P=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function N(){var ae,Re,z,oe,H,me,te,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,je,ze,He,Ae,ye,K,ie,he,$,B=this.context,Y=Object(O.default)(B).getInstance(),re=Object(L.default)(B).getInstance();function J(){H={},me={},ue={},te={},ze={},ye={},K={},ie={},void 0===Ie&&(Ie=!1),He&&He.reset(),je=void 0,He=void 0,Ae=void 0,clearTimeout(Se),Se=null}function Ce(wt){var Vt=wt.request.mediaType,en=wt.streamId;if(Vt&&en&&te[en]&&$.get().streaming.abr.autoSwitchBitrate[Vt]){var nn=te[en][Vt];if(nn){var yn=Object(h.default)(B).create({abrController:ae,streamProcessor:nn,currentRequest:wt.request,useBufferOccupancyABR:ye[Vt],useL2AABR:K[Vt],useLoLPABR:ie[Vt],videoModel:_e}),Tn=z.shouldAbandonFragment(yn,en);Tn.quality>p.default.NO_CHANGE&&nn.getFragmentModel().getRequests({state:F.default.FRAGMENT_MODEL_LOADING,index:wt.request.index})[0]&&(ue[en][Vt].state=I.default.ABANDON_LOAD,ze[en][Vt].reset(),ze[en][Vt].push({oldValue:dn(Vt,en),newValue:Tn.quality,confidence:1,reason:Tn.reason}),pn(Vt,oe.getActiveStreamInfo(),Tn.quality,Tn.reason),clearTimeout(Se),Se=setTimeout(function(){ue[en][Vt].state=I.default.ALLOW_LOAD,Se=null},$.get().streaming.abandonLoadTimeout))}}}function Ye(wt){wt.mediaType===b.default.VIDEO&&(void 0!==je&&He.push(wt.streamId,je,_e.getPlaybackQuality()),je=wt.newQuality)}function Be(wt){wt.metric===I.default.HTTP_REQUEST&&wt.value&&wt.value.type===V.HTTPRequest.MEDIA_SEGMENT_TYPE&&(wt.mediaType===b.default.AUDIO||wt.mediaType===b.default.VIDEO)&&Ae.push(wt.mediaType,wt.value,$.get().streaming.abr.useDeadTimeLatency),wt.metric===I.default.BUFFER_LEVEL&&(wt.mediaType===b.default.AUDIO||wt.mediaType===b.default.VIDEO)&&function pe(wt,Vt){$.get().streaming.abr.ABRStrategy===b.default.ABR_STRATEGY_DYNAMIC&&function lt(wt,Vt){try{var en=Le.getStableBufferTime(),Tn=ye[wt],On=Vt>(Tn?.5*en:en);ye[wt]=On,On!==Tn&&Re.info(On?"["+wt+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Vt.toFixed(3)+").":"["+wt+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Vt.toFixed(3)+").")}catch(kn){Re.error(kn)}}(wt,Vt)}(wt.mediaType,.001*wt.value.level)}function $e(wt,Vt){try{return H[Vt]=H[Vt]||{},H[Vt].hasOwnProperty(wt)||(H[Vt][wt]=0),function Ot(wt,Vt,en){if(Vt!==b.default.VIDEO||!$.get().streaming.abr.limitBitrateByPortal||!te[en]||!te[en][Vt])return wt;Ie||Nt();var nn=te[en][Vt].getStreamInfo(),yn=we.getAdaptationForType(nn.index,Vt,nn).Representation_asArray,Tn=wt;if(le>0&&Me>0){for(;Tn>0&&yn[Tn]&&le<yn[Tn].width&&le-yn[Tn-1].width<yn[Tn].width-le;)Tn-=1;for(;Tn<yn.length-1&&yn[Tn].width===yn[Tn+1].width;)Tn+=1}return Tn}(function _t(wt,Vt,en){var nn=H[en][Vt],yn=$.get().streaming.abr.maxRepresentationRatio[Vt];return isNaN(yn)||yn>=1||yn<0?wt:Math.min(wt,Math.round(nn*yn))}(function It(wt,Vt){var en=H[Vt][wt],nn=en;if(!te[Vt]||!te[Vt][wt])return nn;var yn=Qe(wt,Vt);void 0!==yn&&(nn=Math.max(en,yn));var Tn=function qe(wt,Vt){try{var en=Le.getAbrBitrateParameter("maxBitrate",wt);return en>-1?xe(te[Vt][wt].getMediaInfo(),en,Vt):void 0}catch{return}}(wt,Vt);return void 0!==Tn&&(nn=Math.min(nn,Tn)),nn}(wt,Vt),wt,Vt),wt,Vt)}catch{return}}function Qe(wt,Vt){try{return function dt(wt,Vt){try{var en=Le.getAbrBitrateParameter("minBitrate",wt);if(en>-1){var nn=te[Vt][wt].getMediaInfo(),yn=fe(nn),Tn=xe(nn,en,Vt);return yn[Tn]&&Tn<yn.length-1&&yn[Tn].bitrate<1e3*en&&Tn++,Tn}return}catch{return}}(wt,Vt)}catch{return}}function dn(wt){var Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return Vt||(Vt=oe.getActiveStreamInfo().id),wt&&te[Vt]&&te[Vt][wt]&&Vt?(me[Vt]=me[Vt]||{},me[Vt].hasOwnProperty(wt)||(me[Vt][wt]=0),me[Vt][wt]):0}catch{return 0}}function pn(wt,Vt,en){var nn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(Vt&&Vt.id&&wt){var yn=Vt.id,Tn=dn(wt,yn);Object(k.checkInteger)(en);var On=$e(wt,yn);en!==Tn&&en>=0&&en<=On&&st(wt,Tn,en,On,nn,yn)}}function st(wt,Vt,en,nn,yn,Tn){if(wt&&te[Tn]&&te[Tn][wt]){var On=te[Tn][wt].getStreamInfo(),kn=On&&On.manifestInfo&&On.manifestInfo.isDynamic,qn=he.getCurrentBufferLevel(wt);Re.info("Stream ID: "+Tn+" ["+wt+"] switch from "+Vt+" to "+en+"/"+nn+" (buffer: "+qn+") "+(yn?JSON.stringify(yn):".")),me[Tn]=me[Tn]||{},me[Tn][wt]=en;var ui=function ut(wt,Vt,en){if(Vt&&te&&te[wt]&&te[wt][Vt]){var nn=fe(te[wt][Vt].getMediaInfo());return nn[en]?nn[en]:null}return null}(Tn,wt,en);re.trigger(x.default.QUALITY_CHANGE_REQUESTED,{oldQuality:Vt,newQuality:en,reason:yn,streamInfo:On,bitrateInfo:ui,maxIdx:nn,mediaType:wt},{streamId:On.id,mediaType:wt});var kt=Ae.getAverageThroughput(wt,kn);isNaN(kt)||Oe.setSavedBitrateSettings(wt,kt)}}function xe(wt,Vt,en){var nn=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,yn=wt&&wt.type?te[en][wt.type].getRepresentationInfo():null;if($.get().streaming.abr.useDeadTimeLatency&&nn&&yn&&yn.fragmentDuration){var Tn=yn.fragmentDuration;if((nn/=1e3)>Tn)return 0;Vt*=1-nn/Tn}for(var kn=fe(wt),qn=kn.length-1;qn>=0;qn--)if(1e3*Vt>=kn[qn].bitrate)return qn;return 0}function fe(wt){var Vt=[];if(!wt||!wt.bitrateList)return Vt;for(var yn,en=wt.bitrateList,nn=wt.type,Tn=0,On=en.length;Tn<On;Tn++)(yn=new y.default).mediaType=nn,yn.qualityIndex=Tn,yn.bitrate=en[Tn].bandwidth,yn.width=en[Tn].width,yn.height=en[Tn].height,yn.scanType=en[Tn].scanType,Vt.push(yn);return Vt}function Nt(){if(_e){var Vt=$.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;le=_e.getClientWidth()*Vt,Me=_e.getClientHeight()*Vt}}return ae={initialize:function W(){He=Object(A.default)(B).create(),Ae=Object(U.default)(B).create({settings:$}),(z=Object(t.default)(B).create({dashMetrics:he,customParametersModel:Pe,mediaPlayerModel:Le,settings:$})).initialize(),re.on(P.default.QUALITY_CHANGE_RENDERED,Ye,ae),re.on(P.default.METRIC_ADDED,Be,ae),re.on(x.default.LOADING_PROGRESS,Ce,ae)},isPlayingAtTopQuality:function ft(wt){var Vt=wt?wt.id:null,en=dn(b.default.AUDIO,Vt),nn=dn(b.default.VIDEO,Vt);return en===$e(b.default.AUDIO,Vt)&&nn===$e(b.default.VIDEO,Vt)},updateTopQualityIndex:function Dt(wt){var Vt=wt.type,en=wt.streamInfo.id,nn=wt.representationCount-1;return H[en]=H[en]||{},H[en][Vt]=nn,nn},clearDataForStream:function Wt(wt){He&&He.clearForStream(wt),te[wt]&&delete te[wt],ze[wt]&&delete ze[wt],ue[wt]&&delete ue[wt]},getThroughputHistory:function mt(){return Ae},getBitrateList:fe,getQualityForBitrate:xe,getTopBitrateInfoFor:function jt(wt){var Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Vt||(Vt=oe.getActiveStreamInfo().id),wt&&te&&te[Vt]&&te[Vt][wt]){var en=$e(wt,Vt),nn=fe(te[Vt][wt].getMediaInfo());return nn[en]?nn[en]:null}return null},getMinAllowedIndexFor:Qe,getMaxAllowedIndexFor:$e,getInitialBitrateFor:function zt(wt,Vt){if(function ce(){if(!Oe||!Oe.hasOwnProperty("getSavedBitrateSettings"))throw new Error(b.default.MISSING_CONFIG_ERROR)}(),wt===b.default.TEXT)return NaN;var en=Oe.getSavedBitrateSettings(wt),nn=Le.getAbrBitrateParameter("initialBitrate",wt),yn=$.get().streaming.abr.initialRepresentationRatio[wt];if(-1===nn)if(yn>-1){var Tn=te[Vt][wt].getStreamInfo(),On=we.getAdaptationForType(Tn.index,wt,Tn).Representation_asArray;nn=Array.isArray(On)?On[Math.max(Math.round(On.length*yn)-1,0)].bandwidth/1e3:0}else nn=isNaN(en)?wt===b.default.VIDEO?1e3:100:en;return nn},getQualityFor:dn,getAbandonmentStateFor:function jn(wt,Vt){return ue[wt]&&ue[wt][Vt]?ue[wt][Vt].state:null},setPlaybackQuality:pn,checkPlaybackQuality:function $t(wt,Vt){try{if(!(wt&&te&&te[Vt]&&te[Vt][wt]))return!1;if(He){var en=_e.getPlaybackQuality();en&&He.push(Vt,je,en)}if(!$.get().streaming.abr.autoSwitchBitrate[wt])return!1;var nn=dn(wt,Vt),yn=Object(h.default)(B).create({abrController:ae,switchHistory:ze[Vt][wt],droppedFramesHistory:He,streamProcessor:te[Vt][wt],currentValue:nn,useBufferOccupancyABR:ye[wt],useL2AABR:K[wt],useLoLPABR:ie[wt],videoModel:_e}),Tn=Qe(wt,Vt),On=$e(wt,Vt),kn=z.getMaxQuality(yn),qn=kn.quality;return void 0!==Tn&&(qn>p.default.NO_CHANGE?qn:nn)<Tn&&(qn=Tn),qn>On&&(qn=On),ze[Vt][wt].push({oldValue:nn,newValue:qn}),qn>p.default.NO_CHANGE&&qn!==nn&&(ue[Vt][wt].state===I.default.ALLOW_LOAD||qn<nn)&&(st(wt,nn,qn,On,kn.reason,Vt),!0)}catch{return!1}},setElementSize:Nt,setWindowResizeEventCalled:function bt(wt){Ie=wt},registerStreamType:function X(wt,Vt){var en=Vt.getStreamInfo().id;te[en]||(te[en]={}),ze[en]||(ze[en]={}),ue[en]||(ue[en]={}),ze[en][wt]=Object(v.default)(B).create(),te[en][wt]=Vt,ue[en][wt]={},ue[en][wt].state=I.default.ALLOW_LOAD,function Q(wt){var Vt=$.get().streaming.abr.ABRStrategy;Vt===b.default.ABR_STRATEGY_L2A?(ye[wt]=!1,ie[wt]=!1,K[wt]=!0):Vt===b.default.ABR_STRATEGY_LoLP?(ye[wt]=!1,ie[wt]=!0,K[wt]=!1):Vt===b.default.ABR_STRATEGY_BOLA?(ye[wt]=!0,ie[wt]=!1,K[wt]=!1):Vt===b.default.ABR_STRATEGY_THROUGHPUT?(ye[wt]=!1,ie[wt]=!1,K[wt]=!1):Vt===b.default.ABR_STRATEGY_DYNAMIC&&(ye[wt]=!(!ye||!ye[wt])&&ye[wt],ie[wt]=!1,K[wt]=!1)}(wt),wt===b.default.VIDEO&&Nt()},unRegisterStreamType:function q(wt,Vt){try{te[wt]&&te[wt][Vt]&&delete te[wt][Vt],ze[wt]&&ze[wt][Vt]&&delete ze[wt][Vt],ue[wt]&&ue[wt][Vt]&&delete ue[wt][Vt]}catch{}},setConfig:function ge(wt){wt&&(wt.streamController&&(oe=wt.streamController),wt.domStorage&&(Oe=wt.domStorage),wt.mediaPlayerModel&&(Le=wt.mediaPlayerModel),wt.customParametersModel&&(Pe=wt.customParametersModel),wt.dashMetrics&&(he=wt.dashMetrics),wt.adapter&&(we=wt.adapter),wt.videoModel&&(_e=wt.videoModel),wt.settings&&($=wt.settings))},reset:function de(){J(),re.off(x.default.LOADING_PROGRESS,Ce,ae),re.off(P.default.QUALITY_CHANGE_RENDERED,Ye,ae),re.off(P.default.METRIC_ADDED,Be,ae),z&&z.reset()}},function Z(){Re=Y.getLogger(ae),J()}(),ae}N.__dashjs_factory_name="AbrController";var S=m.default.getSingletonFactory(N);S.QUALITY_DEFAULT=0,m.default.updateSingletonFactory(N.__dashjs_factory_name,S),C.default=S},"./src/streaming/controllers/BaseURLController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/BaseURLController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../models/BaseURLTreeModel */
"./src/streaming/models/BaseURLTreeModel.js"),b=c(
/*! ../utils/BaseURLSelector */
"./src/streaming/utils/BaseURLSelector.js"),I=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),y=c(
/*! ../../dash/vo/BaseURL */
"./src/dash/vo/BaseURL.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),x=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function m(){var h,p,O,V,v=this.context,A=Object(L.default)(v).getInstance(),U=Object(I.default)(v).getInstance();function k(B){O.invalidateSelectedIndexes(B.entry)}return h={reset:function N(){O.reset(),V.reset()},initialize:function S(B){O.setConfig({adapter:p}),function w(B){O.update(B),V.chooseSelector(p.getIsDVB(B))}(B)},resolve:function E(B){var re=O.getForPath(B).reduce(function(ae,Re){var z=V.select(Re);return z?(U.isRelative(z.url)?ae.url=U.resolve(z.url,ae.url):(ae.url=z.url,ae.serviceLocation=z.serviceLocation),ae.availabilityTimeOffset=z.availabilityTimeOffset,ae.availabilityTimeComplete=z.availabilityTimeComplete,ae):new y.default},new y.default);if(!U.isRelative(re.url))return re},setConfig:function D(B){B.baseURLTreeModel&&(O=B.baseURLTreeModel),B.baseURLSelector&&(V=B.baseURLSelector),B.adapter&&(p=B.adapter)}},function P(){O=Object(t.default)(v).create(),V=Object(b.default)(v).create(),A.on(x.default.SERVICE_LOCATION_BLACKLIST_CHANGED,k,h)}(),h}m.__dashjs_factory_name="BaseURLController",C.default=F.default.getClassFactory(m)},"./src/streaming/controllers/BlacklistController.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/controllers/BlacklistController.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js");function I(y){y=y||{};var F,L=[],x=Object(b.default)(this.context).getInstance(),m=y.updateEventName,h=y.addBlacklistEventName;function v(V){-1===L.indexOf(V)&&(L.push(V),x.trigger(m,{entry:V}))}function A(V){v(V.entry)}return F={add:v,contains:function p(V){return!!(L.length&&V&&V.length)&&-1!==L.indexOf(V)},reset:function O(){L=[]}},function U(){h&&x.on(h,A,F)}(),F}I.__dashjs_factory_name="BlackListController",C.default=t.default.getClassFactory(I)},"./src/streaming/controllers/BufferController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/BufferController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),I=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),y=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),h=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),p=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),v=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),A=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),U=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),V=.01,P="BufferController";function D(w){w=w||{};var te,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,je,ze,He,Ae,ye,K,ie,E=this.context,N=Object(F.default)(E).getInstance(),S=w.errHandler,B=w.fragmentModel,Y=w.representationController,re=w.adapter,ae=w.textController,Re=w.abrController,z=w.playbackController,oe=w.streamInfo,H=w.type,me=w.settings;function Q(Ft){Me=Ft}function q(Ft){return re.convertRepresentationToRepresentationInfo(Y.getRepresentationForQuality(Ft))}function ge(Ft){me.get().streaming.cacheInitSegments&&(ue.info("Init fragment finished loading saving to",H+"'s init cache"),Ae.save(Ft.chunk)),ue.debug("Append Init fragment",H," with representationId:",Ft.chunk.representationId," and quality:",Ft.chunk.quality,", data size:",Ft.chunk.bytes.byteLength),Ye(Ft.chunk)}function Ce(Ft){Ye(Ft.chunk,Ft.request)}function Ye(Ft){Le.append(Ft,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).then(function(Ht){$e(Ht)}).catch(function(Ht){$e(Ht)}),Ft.mediaInfo.type===t.default.VIDEO&&Gt(L.default.VIDEO_CHUNK_RECEIVED,{chunk:Ft})}function Be(Ft){if(Ft&&Ft.length>0)for(var Rt=0,Ht=Ft.length;Rt<Ht;Rt++)ue.debug("Buffered range: "+Ft.start(Rt)+" - "+Ft.end(Rt)+", currentTime = ",z.getTime())}function $e(Ft){if(Ft.error)return 22===Ft.error.code&&function qe(){if(He=!0,le=.8*Qt(),ue.warn("Quota exceeded, Critical Buffer: "+le),le>0){var Ft=Math.max(.2*le,1),Rt=le-Ft,Ht=Math.min(me.get().streaming.buffer.bufferTimeAtTopQuality,.9*Rt),on=Math.min(me.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Rt),vn={streaming:{buffer:{bufferToKeep:parseFloat(Ft.toFixed(5)),bufferTimeAtTopQuality:parseFloat(Ht.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(on.toFixed(5))}}};me.update(vn)}}(),void((22===Ft.error.code||!it())&&(ue.warn("Clearing playback buffer to overcome quota exceed situation"),Gt(L.default.QUOTA_EXCEEDED,{criticalBufferLevel:le,quotaExceededTime:Ft.chunk.start}),Nt(bt())));if(Le&&(pe(),He=!1,(Oe=Ft.chunk)&&Oe.endFragment)){Oe&&!isNaN(Oe.index)&&(we=Math.max(Oe.index,we),lt());var Rt=Le.getAllBufferRanges();Oe.segmentType===A.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Be(Rt),pn(),function Qe(){if(!isNaN(ie)){if(H!==t.default.AUDIO&&H!==t.default.VIDEO)return void(ie=NaN);var Ft=z.getTime(),Rt=xe(Ft,0),Ht=xe(ie,0);if(Rt&&Ht&&Rt.start===Ht.start)return void(ie=NaN);var on=Y.getCurrentRepresentation().segmentDuration,vn=xe(ie,on);vn&&(me.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(Ft-ie)>on?ie<=vn.end&&z.seek(Math.max(ie,vn.start),!1,!0):Ft<vn.start&&z.seek(vn.start,!1,!0))}}()),Oe&&Gt(L.default.BYTES_APPENDED_END_FRAGMENT,{quality:Oe.quality,startTime:Oe.start,index:Oe.index,bufferedRanges:Rt,segmentType:Oe.segmentType,mediaType:H})}}function jt(){return new Promise(function(Ft,Rt){var Ht=zt();if(!Ht||0===Ht.length)return pn(),void Ft();Nt(Ht).then(function(){Ft()}).catch(function(on){Rt(on)})})}function zt(Ft){var Rt=[],Ht=Le.getAllBufferRanges();if(!Ht||0===Ht.length)return Rt;if(!Ft&&0!==Ft||isNaN(Ft))Rt.push({start:Ht.start(0),end:Ht.end(Ht.length-1)+.5});else{var on=function $t(Ft,Rt){var Ht=me.get().streaming.buffer.bufferToKeep,on=Rt.start(0);if(Ft-on>Ht){var Un=Math.max(0,Ft-Ht),rt=B.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:Ft,threshold:V})[0];if(rt&&(Un=Math.min(rt.startTime,Un)),Un>0)return{start:on,end:Un}}return null}(Ft,Ht),vn=function dn(Ft,Rt){var Ht=Rt.end(Rt.length-1)+.5,on=Ke(Ft),Un=oe.manifestInfo.duration>=me.get().streaming.buffer.longFormContentDurationThreshold?me.get().streaming.buffer.bufferTimeAtTopQualityLongForm:me.get().streaming.buffer.bufferTimeAtTopQuality,rt=isNaN(on)?Ft:Math.min(on,Ft+Un);if(rt>=Rt.end(Rt.length-1))return null;var Xt=B.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:Ft,threshold:V})[0];if(Xt&&(rt=Math.max(Xt.startTime+Xt.duration,rt)),me.get().streaming.buffer.avoidCurrentTimeRangePruning)for(var at=0;at<Rt.length;at++)if(Rt.start(at)<=Ft&&Ft<=Rt.end(at)&&Rt.start(at)<=rt&&rt<=Rt.end(at)){var tt=rt;rt=at+1<Rt.length?Rt.start(at+1):Rt.end(at)+1,ue.debug("Buffered range ["+Rt.start(at)+", "+Rt.end(at)+"] overlaps with targetTime "+Ft+" and range to be pruned ["+tt+", "+Ht+"], using ["+rt+", "+Ht+"] instead"+(rt<Ht?"":" (no actual pruning)"));break}return rt<Rt.end(Rt.length-1)?{start:rt,end:Ht}:null}(Ft,Ht);on&&Rt.push(on),vn&&Rt.push(vn)}return Rt}function pn(){(!K||H===t.default.TEXT&&ae.isTextEnabled())&&pe()}function jn(){mt()}function st(){mt(),ie=NaN}function xe(Ft,Rt){var ve,at,Ht=Le.getAllBufferRanges(),on=0,vn=0,Un=null,rt=null,Xt=0,tt=isNaN(Rt)?.15:Rt;if(null!=Ht){for(at=0,ve=Ht.length;at<ve;at++)if(on=Ht.start(at),vn=Ht.end(at),null===Un)Xt=Math.abs(on-Ft),(Ft>=on&&Ft<vn||Xt<=tt)&&(Un=on,rt=vn);else{if(!((Xt=on-rt)<=tt))break;rt=vn}if(null!==Un)return{start:Un,end:rt}}return null}function pe(){if(z){var Ft=me.get().streaming.gaps.jumpGaps&&!isNaN(me.get().streaming.gaps.smallGapLimit)?me.get().streaming.gaps.smallGapLimit:NaN;Ie=Math.max(function fe(Ft,Rt){var Ht;return me.get().streaming.gaps.jumpGaps&&(Rt=me.get().streaming.gaps.smallGapLimit),null===(Ht=xe(Ft,Rt))?0:Ht.end-Ft}(z.getTime()||0,Ft),0),Gt(L.default.BUFFER_LEVEL_UPDATED,{mediaType:H,bufferLevel:Ie}),mt()}}function lt(){var Ft=we>=_e-1,Rt=z.getTimeToStreamEnd(oe)-Ie<1e-5;(Ft||Rt)&&!Se&&(St(!0),ue.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(oe.id," and type ").concat(H)))}function mt(){H!==t.default.AUDIO&&H!==t.default.VIDEO||((!z.getLowLatencyModeEnabled()&&Ie<me.get().streaming.buffer.stallThreshold||0===Ie)&&!Se?Dt(b.default.BUFFER_EMPTY):(Se||Ie>=me.get().streaming.buffer.stallThreshold||z.getLowLatencyModeEnabled()&&Ie>0)&&Dt(b.default.BUFFER_LOADED))}function Dt(Ft){Pe===Ft||Ft===b.default.BUFFER_EMPTY&&0===z.getTime()||H===t.default.TEXT&&!ae.isTextEnabled()||(Pe=Ft,Gt(L.default.BUFFER_LEVEL_STATE_CHANGED,{state:Ft}),Gt(Ft===b.default.BUFFER_LOADED?L.default.BUFFER_LOADED:L.default.BUFFER_EMPTY),ue.debug(Ft===b.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function ft(){!Le||H===t.default.TEXT||Se||Nt(bt())}function bt(){var Ft=[],Rt=Le.getAllBufferRanges();if(!Rt||0===Rt.length)return Ft;var Ht=z.getTime(),on=Math.max(0,Ht-me.get().streaming.buffer.bufferToKeep),vn=B.getRequests({state:I.default.FRAGMENT_MODEL_EXECUTED,time:Ht,threshold:V})[0];if(vn)on=Math.min(vn.startTime,on);else if(0===Ht&&z.getIsDynamic())return[];if(Rt.start(0)<=on){for(var Un={start:0,end:on},rt=0;rt<Rt.length&&Rt.end(rt)<=on;rt++)Un.end=Rt.end(rt);Un.start<Un.end&&Ft.push(Un)}return Ft}function Nt(Ft){return new Promise(function(Rt,Ht){if(Ft&&Le&&0!==Ft.length){var on=[];Ft.forEach(function(vn){on.push(function Wt(Ft){return new Promise(function(Rt,Ht){Ft.resolve=Rt,Ft.reject=Ht,ye.push(Ft)})}(vn))}),ze||wt(),Promise.all(on).then(function(){Rt()}).catch(function(vn){Ht(vn)})}else Rt()})}function wt(){try{if(0===ye.length||!Le)return ue.debug("Nothing to prune, halt pruning"),ye=[],void(ze=!1);var Ft=Le.getBuffer();if(!Ft||!Ft.buffered||0===Ft.buffered.length)return ue.debug("SourceBuffer is empty (or does not exist), halt pruning"),ye=[],void(ze=!1);var Rt=ye.shift();ue.debug("".concat(H,": Removing buffer from: ").concat(Rt.start," to ").concat(Rt.end)),ze=!0,z.getTime()<Rt.end&&St(!1),Le.remove(Rt).then(function(on){Vt(on)}).catch(function(on){Vt(on)})}catch{ze=!1}}function Vt(Ft){ue.debug("onRemoved buffer from:",Ft.from,"to",Ft.to),Be(Le.getAllBufferRanges()),0===ye.length&&(ze=!1,pe()),Ft.unintended&&(ue.warn("Detected unintended removal from:",Ft.from,"to",Ft.to,"setting streamprocessor time to",Ft.from),Gt(L.default.SEEK_TARGET,{time:Ft.from})),ze?wt():(K?K=!1:pe(),Gt(L.default.BUFFER_CLEARED,{from:Ft.from,to:Ft.to,unintended:Ft.unintended,hasEnoughSpaceToAppend:it(),quotaExceeded:He}))}function en(Ft){return new Promise(function(Rt){Ft&&void 0!==Ft.MSETimeOffset&&Le&&Le.updateTimestampOffset?Le.updateTimestampOffset(Ft.MSETimeOffset).then(function(){Rt()}).catch(function(){Rt()}):Rt()})}function nn(){return Le&&!Se?Le.updateAppendWindow(oe):Promise.resolve()}function Tn(){++je*(me.get().streaming.wallclockTimeUpdateInterval/1e3)>=me.get().streaming.buffer.bufferPruningInterval&&(je=0,ft())}function On(){mt()}function St(Ft){Se!==Ft&&((Se=Ft)?Gt(L.default.BUFFERING_COMPLETED):_e=Number.POSITIVE_INFINITY)}function Qt(){try{var Ht,on,Ft=Le.getAllBufferRanges(),Rt=0;if(!Ft)return Rt;for(on=0,Ht=Ft.length;on<Ht;on++)Rt+=Ft.end(on)-Ft.start(on);return Rt}catch{return 0}}function Ke(Ft){try{var Rt=Ft,Ht=Le.getAllBufferRanges();if(!Ht||0===Ht.length)return NaN;for(var on=0;Rt===Ft&&on<Ht.length;){var vn=Ht.start(on),Un=Ht.end(on);Rt>=vn&&Rt<=Un&&(Rt=Un),on+=1}return Rt===Ft?NaN:Rt}catch{}}function it(){var Ft=Qt();return isNaN(Ft)||Ft<le}function Gt(Ft,Rt){N.trigger(Ft,Rt||{},{streamId:oe.id,mediaType:H})}function hn(Ft,Rt){if(le=Number.POSITIVE_INFINITY,Pe=void 0,_e=Number.POSITIVE_INFINITY,we=0,Oe=null,Se=!1,ze=!1,He=!1,Ie=0,je=0,ye=[],ie=NaN,Le){var Ht=Le;Le=null,!Ft&&!Rt&&Ht.abort().then(function(){Ht.reset(Rt),Ht=null})}K=!1}return te={initialize:function $(Ft){Q(Ft),N.on(L.default.INIT_FRAGMENT_LOADED,ge,te),N.on(L.default.MEDIA_FRAGMENT_LOADED,Ce,te),N.on(L.default.WALLCLOCK_TIME_UPDATED,Tn,te),N.on(U.default.PLAYBACK_PLAYING,st,te),N.on(U.default.PLAYBACK_PROGRESS,pn,te),N.on(U.default.PLAYBACK_TIME_UPDATED,pn,te),N.on(U.default.PLAYBACK_RATE_CHANGED,On,te),N.on(U.default.PLAYBACK_STALLED,jn,te)},getStreamId:function Z(){return oe.id},getType:function W(){return H},getBufferControllerType:function X(){return P},createBufferSink:function J(Ft){var Rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(Ht,on){if(Ae&&Ft&&Me){var vn=Re.getQualityFor(H,oe.id);Le=Object(y.default)(E).create({mediaSource:Me,textController:ae,eventBus:N}),function de(Ft,Rt,Ht){var on=q(Ht);return Rt&&Rt[H]&&(H===t.default.VIDEO||H===t.default.AUDIO)?Le.initializeForStreamSwitch(Ft,on,Rt[H]):Le.initializeForFirstUse(oe,Ft,on)}(Ft,Rt,vn).then(function(){return en(q(vn))}).then(function(){Ht(Le)}).catch(function(Un){ue.fatal("Caught error on create SourceBuffer: "+Un),S.error(new p.default(v.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,v.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+H)),on(Un)})}else Ht(null)})},getBuffer:function kn(){return Le},getBufferLevel:function qn(){return Ie},getRangeAt:xe,hasBufferAtTime:function ut(Ft){try{var Rt=Le.getAllBufferRanges();if(!Rt||0===Rt.length)return!1;for(var Ht=0;Ht<Rt.length;){var on=Rt.start(Ht),vn=Rt.end(Ht);if(Ft>=on&&Ft<=vn)return!0;Ht+=1}return!1}catch(Un){return ue.error(Un),!1}},pruneBuffer:ft,setMediaSource:Q,getMediaSource:function ui(){return Me},appendInitSegmentFromCache:function ce(Ft){var Rt=Ae.extract(oe.id,Ft);return!!Rt&&(ue.info("Append Init fragment",H," with representationId:",Rt.representationId," and quality:",Rt.quality,", data size:",Rt.bytes.byteLength),Ye(Rt),!0)},getIsBufferingCompleted:function kt(){return Se},setIsBufferingCompleted:St,getIsPruningInProgress:function ct(){return ze},reset:function bn(Ft,Rt){N.off(L.default.INIT_FRAGMENT_LOADED,ge,this),N.off(L.default.MEDIA_FRAGMENT_LOADED,Ce,this),N.off(L.default.WALLCLOCK_TIME_UPDATED,Tn,this),N.off(U.default.PLAYBACK_PLAYING,st,this),N.off(U.default.PLAYBACK_PROGRESS,pn,this),N.off(U.default.PLAYBACK_TIME_UPDATED,pn,this),N.off(U.default.PLAYBACK_RATE_CHANGED,On,this),N.off(U.default.PLAYBACK_STALLED,jn,this),hn(Ft,Rt)},prepareForPlaybackSeek:function dt(){return Se&&St(!1),Le.abort()},prepareForReplacementTrackSwitch:function It(Ft){return new Promise(function(Rt,Ht){Le.abort().then(function(){return nn()}).then(function(){return me.get().streaming.buffer.useChangeTypeForTrackSwitch?Le.changeType(Ft):Promise.resolve()}).then(function(){return jt()}).then(function(){St(!1),Rt()}).catch(function(on){Ht(on)})})},prepareForNonReplacementTrackSwitch:function Ot(Ft){return new Promise(function(Rt,Ht){nn().then(function(){return me.get().streaming.buffer.useChangeTypeForTrackSwitch?Le.changeType(Ft):Promise.resolve()}).then(function(){Rt()}).catch(function(on){Ht(on)})})},prepareForReplacementQualitySwitch:function _t(){return new Promise(function(Ft,Rt){Le.abort().then(function(){return nn()}).then(function(){return jt()}).then(function(){St(!1),Ft()}).catch(function(Ht){Rt(Ht)})})},updateAppendWindow:nn,getAllRangesWithSafetyFactor:zt,getContinuousBufferTimeForTargetTime:Ke,clearBuffers:Nt,pruneAllSafely:jt,updateBufferTimestampOffset:en,setSeekTarget:function Ct(Ft){ie=Ft},segmentRequestingCompleted:function yn(Ft){isNaN(Ft)||(_e=Ft,lt())}},function he(){ue=Object(m.default)(E).getInstance().getLogger(te),Ae=Object(h.default)(E).getInstance(),hn()}(),te}D.__dashjs_factory_name=P,C.default=x.default.getClassFactory(D)},"./src/streaming/controllers/CatchupController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/controllers/CatchupController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),F=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function h(){var A,U,O,V,k,P,D,w,E,N,p=this.context,v=Object(I.default)(p).getInstance();function z(){U=!1;var je=m.default.parseUserAgent();O=je&&je.browser&&je.browser.name&&"safari"===je.browser.name.toLowerCase()}function oe(){U=!1}function H(je){if(je.streamId===P.getActiveStreamInfo().id&&E){var ze=D.getLiveDelay();D.getBufferLevel()>ze/2&&(E=!1)}}function me(je){je.streamId===P.getActiveStreamInfo().id&&(E=je.state===x.default.BUFFER_EMPTY)}function te(){w.getCatchupModeEnabled()||V.setPlaybackRate(1)}function ue(){D.getIsDynamic()&&w.getCatchupModeEnabled()&&(w.getCatchupPlaybackRates().max>0||w.getCatchupPlaybackRates().min<0)&&!D.isPaused()&&!D.isSeeking()&&function le(){try{return!(!D.getTime()>0||U)&&(Me()===y.default.LIVE_CATCHUP_MODE_LOLP?function _e(je,ze){try{return Math.abs(Ie())>0||je<ze}catch{return!1}}(D.getBufferLevel(),k.get().streaming.liveCatchup.playbackBufferMin):function we(){try{return Math.abs(Ie())>0}catch{return!1}}())}catch{return!1}}()&&function Se(){if(!U&&V){var je,ze=V.getPlaybackRate(),He=w.getCatchupPlaybackRates(),Ae=D.getBufferLevel(),ye=Ie(),K=w.getCatchupMaxDrift();if(!isNaN(K)&&K>0&&ye>K)N.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),U=!0,D.seekToCurrentLive(!0,!1);else{var ie=D.getCurrentLiveLatency(),he=D.getLiveDelay();je=Me()===y.default.LIVE_CATCHUP_MODE_LOLP?function Pe(je,ze,He,Ae,ye){var K;if(ye<Ae){var ie=Math.abs(je.min),Z=2*ie/(1+Math.pow(Math.E,-5*(ye-Ae)));N.debug("[LoL+ playback control_buffer-based] bufferLevel: "+ye+", newRate: "+(K=1-ie+Z))}else{var W=je.max,X=.02;K=Math.abs(ze-He)<=X*He?1:1-W+2*W/(1+Math.pow(Math.E,-5*(ze-He))),N.debug("[LoL+ playback control_latency-based] latency: "+ze+", newRate: "+K)}return K}(He,ie,he,k.get().streaming.liveCatchup.playbackBufferMin,Ae):function Le(je,ze,He,Ae){if(E)return 1;var ye=ze-He,K=ye<0?Math.abs(je.min):je.max,$=1-K+2*K/(1+Math.pow(Math.E,-5*ye));return D.getPlaybackStalled()&&Ae<=He/2&&ye>0&&($=1),$}(He,ie,he,Ae);var Z=O?.25:.02/(.5/He.max);je&&Math.abs(ze-je)>=Z&&(N.debug("[CatchupController]: Setting playback rate to ".concat(je)),V.setPlaybackRate(je))}}}()}function Ie(){return D.getCurrentLiveLatency()-D.getLiveDelay()}function Me(){var je=k.get().streaming.liveCatchup.playbackBufferMin;return k.get().streaming.liveCatchup.mode!==y.default.LIVE_CATCHUP_MODE_LOLP||null===je||isNaN(je)?y.default.LIVE_CATCHUP_MODE_DEFAULT:y.default.LIVE_CATCHUP_MODE_LOLP}function Oe(){w.getCatchupPlaybackRates(!0)}return A={reset:function Re(){(function re(){v.off(F.default.BUFFER_LEVEL_UPDATED,H,A),v.off(F.default.BUFFER_LEVEL_STATE_CHANGED,me,A),v.off(F.default.PLAYBACK_PROGRESS,ue,A),v.off(F.default.PLAYBACK_TIME_UPDATED,ue,A),v.off(F.default.PLAYBACK_SEEKED,ue,A),v.off(L.default.SETTING_UPDATED_CATCHUP_ENABLED,te,A),v.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Oe,A),v.off(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Oe,A),v.off(F.default.STREAM_INITIALIZED,Oe,A)})(),z(),V.setPlaybackRate(1,!0)},setConfig:function B(je){je&&(je.settings&&(k=je.settings),je.videoModel&&(V=je.videoModel),je.streamController&&(P=je.streamController),je.playbackController&&(D=je.playbackController),je.mediaPlayerModel&&(w=je.mediaPlayerModel))},initialize:function S(){(function Y(){v.on(F.default.BUFFER_LEVEL_UPDATED,H,A),v.on(F.default.BUFFER_LEVEL_STATE_CHANGED,me,A),v.on(F.default.PLAYBACK_PROGRESS,ue,A),v.on(F.default.PLAYBACK_TIME_UPDATED,ue,A),v.on(F.default.PLAYBACK_SEEKED,oe,A),v.on(L.default.SETTING_UPDATED_CATCHUP_ENABLED,te,A),v.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,Oe,A),v.on(L.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,Oe,A),v.on(F.default.STREAM_INITIALIZED,Oe,A)})(),Oe()}},function ae(){N=Object(b.default)(p).getInstance().getLogger(A),z()}(),A}h.__dashjs_factory_name="CatchupController",C.default=t.default.getSingletonFactory(h)},"./src/streaming/controllers/EventController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/EventController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../net/XHRLoader */
"./src/streaming/net/XHRLoader.js");function L(){var V,k,P,D,w,E,N,S,B,Y,re,x="urn:mpeg:dash:event:2012",m=1,h="urn:mpeg:dash:event:callback:2015",p=1,v=300,A={DISCARDED:"discarded",UPDATED:"updated",ADDED:"added"},U=this.context,O=Object(I.default)(U).getInstance();function Re(){if(!N||!S)throw new Error("setConfig function has to be called previously")}function z(){re=!1,P={},D={},w=null,Y=!1,E=Date.now()/1e3}function oe(){try{null!==w&&re&&(clearInterval(w),w=null,re=!1,function we(){try{_e(D),_e(P)}catch($){k.error($)}}())}catch($){throw $}}function me(){try{if(!Y){Y=!0;var $=S.getTime(),Z=$-E;Z=E>0?Math.max(0,Z):0,te(D,Z,$),te(P,Z,$),ue(D),ue(P),E=$,Y=!1}}catch(W){Y=!1,k.error(W)}}function te($,Z,W){try{Le($,function(q){if(void 0!==q){var J=isNaN(q.duration)?0:q.duration;q.calculatedPresentationTime<=W&&q.calculatedPresentationTime+Z+J>=W?je(q,y.default.EVENT_MODE_ON_START):(Pe(W,J+Z,q.calculatedPresentationTime)||function Oe($){try{return $.calculatedPresentationTime>$.eventStream.period.start+$.eventStream.period.duration}catch(W){return k.error(W),!1}}(q))&&(k.debug("Removing event ".concat(q.id," from period ").concat(q.eventStream.period.id," as it is expired or invalid")),function ze($,Z){try{var W=Z.eventStream.schemeIdUri,X=Z.eventStream.period.id,Q=Z.eventStream.value,q=Z.id;$[X][W]=$[X][W].filter(function(J){return Q&&J.eventStream.value&&J.eventStream.value!==Q||J.id!==q}),0===$[X][W].length&&delete $[X][W]}catch(J){k.error(J)}}($,q))}})}catch(Q){k.error(Q)}}function ue($){try{for(var Z in $)$.hasOwnProperty(Z)&&0===Object.keys($[Z]).length&&delete $[Z]}catch(W){k.error(W)}}function le($,Z){var W=arguments.length>2&&void 0!==arguments[2]&&arguments[2],X=$.eventStream.schemeIdUri,Q=$.eventStream.value,q=$.id,J=A.DISCARDED;Z[X]||(Z[X]=[]);var de=Z[X].findIndex(function(ce){return(!Q||ce.eventStream.value&&ce.eventStream.value===Q)&&ce.id===q});if(-1===de)Z[X].push($),$.triggeredReceivedEvent=!1,$.triggeredStartEvent=!1,J=A.ADDED;else if(W){var ge=Z[X][de];$.triggeredReceivedEvent=ge.triggeredReceivedEvent,$.triggeredStartEvent=ge.triggeredStartEvent,Z[X][de]=$,J=A.UPDATED}return J}function Me($){try{$.eventStream.value==m&&O.trigger(y.default.MANIFEST_VALIDITY_CHANGED,{id:$.id,validUntil:$.calculatedPresentationTime,newDuration:4294967295==$.calculatedPresentationTime?NaN:$.calculatedPresentationTime+$.duration,newManifestValidAfter:NaN},{mode:y.default.EVENT_MODE_ON_START})}catch(X){k.error(X)}}function _e($){try{var Z=S.getTime();Le($,function(Q){var q=Q.eventStream&&Q.eventStream.period&&!isNaN(Q.eventStream.period.duration)?Q.eventStream.period.duration:NaN,J=Q.eventStream&&Q.eventStream.period&&!isNaN(Q.eventStream.period.start)?Q.eventStream.period.start:NaN;isNaN(q)||isNaN(J)||Math.abs(Q.calculatedPresentationTime-Z)<v&&je(Q,y.default.EVENT_MODE_ON_START)})}catch(X){k.error(X)}}function Le($,Z){try{if($)for(var W=Object.keys($),X=0;X<W.length;X++)for(var Q=$[W[X]],q=Object.keys(Q),J=0;J<q.length;J++)Q[q[J]].forEach(function(ge){void 0!==ge&&Z(ge)})}catch(ge){k.error(ge)}}function Pe($,Z,W){try{return $-Z>W}catch(X){return k.error(X),!1}}function je($,Z){try{var W=S.getTime(),X=$.id;if(Z===y.default.EVENT_MODE_ON_RECEIVE&&!$.triggeredReceivedEvent)return k.debug("Received event ".concat(X)),$.triggeredReceivedEvent=!0,void O.trigger($.eventStream.schemeIdUri,{event:$},{mode:Z});$.triggeredStartEvent||($.eventStream.schemeIdUri===x&&$.eventStream.value==m?(0!==$.duration||0!==$.presentationTimeDelta)&&(k.debug("Starting manifest refresh event ".concat(X," at ").concat(W)),function He(){try{Re(),N.refreshManifest()}catch($){k.error($)}}()):$.eventStream.schemeIdUri===h&&$.eventStream.value==p?(k.debug("Starting callback event ".concat(X," at ").concat(W)),function Ae($){try{Object(F.default)(U).create({}).load({method:"get",url:$,request:{responseType:"arraybuffer"}})}catch(W){k.error(W)}}($.messageData)):(k.debug("Starting event ".concat(X," from period ").concat($.eventStream.period.id," at ").concat(W)),O.trigger($.eventStream.schemeIdUri,{event:$},{mode:Z})),$.triggeredStartEvent=!0)}catch(Q){k.error(Q)}}return V={addInlineEvents:function Se($,Z){try{if(Re(),P[Z]||(P[Z]={}),$)for(var W=0;W<$.length;W++){var X=$[W];if(!Pe(S.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)){var J=le(X,P[Z],!0);J===A.ADDED?(k.debug("Added inline event with id ".concat(X.id," from period ").concat(Z)),je(X,y.default.EVENT_MODE_ON_RECEIVE)):J===A.UPDATED&&k.debug("Updated inline event with id ".concat(X.id," from period ").concat(Z))}}}catch(de){throw de}},addInbandEvents:function Ie($,Z){try{Re(),D[Z]||(D[Z]={});for(var W=0;W<$.length;W++){var X=$[W];Pe(S.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)||(le(X,D[Z],!1)===A.ADDED?(X.eventStream.schemeIdUri===x&&Me(X),k.debug("Added inband event with id ".concat(X.id," from period ").concat(Z)),je(X,y.default.EVENT_MODE_ON_RECEIVE)):k.debug("Inband event with scheme_id_uri ".concat(X.eventStream.schemeIdUri,", value ").concat(X.eventStream.value,", period id ").concat(Z," and event id ").concat(X.id," was ignored because it has been added before.")))}me()}catch(de){throw de}},getInbandEvents:function ie(){return D},getInlineEvents:function K(){return P},start:function H(){try{Re(),k.debug("Start Event Controller");var $=B.get().streaming.eventControllerRefreshDelay;!re&&!isNaN($)&&(re=!0,w=setInterval(me,$))}catch(Z){throw Z}},setConfig:function ye($){try{if(!$)return;$.manifestUpdater&&(N=$.manifestUpdater),$.playbackController&&(S=$.playbackController),$.settings&&(B=$.settings)}catch(Z){throw Z}},reset:function he(){oe(),z()}},function ae(){k=Object(b.default)(U).getInstance().getLogger(V),z()}(),V}L.__dashjs_factory_name="EventController",C.default=t.default.getSingletonFactory(L)},"./src/streaming/controllers/FragmentController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/FragmentController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../vo/DataChunk */
"./src/streaming/vo/DataChunk.js"),I=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),y=c(
/*! ../FragmentLoader */
"./src/streaming/FragmentLoader.js"),F=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js"),L=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),x=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),m=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),p=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),v=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function A(U){U=U||{};var N,S,B,O=this.context,V=Object(L.default)(O).getInstance(),k=U.errHandler,P=U.mediaPlayerModel,D=U.dashMetrics,w=Object(v.default)(O).getInstance(),E=U.streamInfo;function re(){return E.id}function Re(){for(var me in B)B[me].reset();B={}}function H(me){if(me.sender){var te=me.request,ue=me.response,Se=te.isInitializationRequest(),Ie=te.mediaInfo.streamInfo;if(me.error&&(te.mediaType===t.default.AUDIO||te.mediaType===t.default.VIDEO||te.mediaType===t.default.TEXT&&te.mediaInfo.isFragmented)&&V.trigger(x.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:me.request.serviceLocation}),!ue||!Ie)return void S.warn("No "+te.mediaType+" bytes to push or stream is inactive.");var le=function oe(me,te,ue,Se){var Ie=new b.default;return Ie.streamId=ue,Ie.mediaInfo=te.mediaInfo,Ie.segmentType=te.type,Ie.start=te.startTime,Ie.duration=te.duration,Ie.end=Ie.start+Ie.duration,Ie.bytes=me,Ie.index=te.index,Ie.quality=te.quality,Ie.representationId=te.representationId,Ie.endFragment=Se,Ie}(ue,te,E.id,me.type!==x.default.FRAGMENT_LOADING_PROGRESS);V.trigger(Se?x.default.INIT_FRAGMENT_LOADED:x.default.MEDIA_FRAGMENT_LOADED,{chunk:le,request:te},{streamId:Ie.id,mediaType:te.mediaType})}}return N={getStreamId:re,getModel:function ae(me){var te=B[me];return te||(te=Object(I.default)(O).create({streamInfo:E,type:me,dashMetrics:D,fragmentLoader:Object(y.default)(O).create({dashMetrics:D,mediaPlayerModel:P,errHandler:k,requestModifier:Object(F.default)(O).getInstance(),settings:U.settings,boxParser:U.boxParser,eventBus:V,events:x.default,errors:h.default,dashConstants:U.dashConstants,urlUtils:U.urlUtils,streamId:re()}),debug:w,eventBus:V,events:x.default}),B[me]=te),te},reset:function z(){V.off(m.default.FRAGMENT_LOADING_COMPLETED,H,this),V.off(m.default.FRAGMENT_LOADING_PROGRESS,H,this),Re()}},function Y(){S=w.getLogger(N),Re(),V.on(m.default.FRAGMENT_LOADING_COMPLETED,H,N),V.on(m.default.FRAGMENT_LOADING_PROGRESS,H,N)}(),N}A.__dashjs_factory_name="FragmentController",C.default=p.default.getClassFactory(A)},"./src/streaming/controllers/GapController.js":
/*!****************************************************!*\
                  !*** ./src/streaming/controllers/GapController.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function h(){var A,U,O,V,k,P,D,w,E,N,S,B,p=this.context,v=Object(y.default)(p).getInstance();function ae(){(function Pe(){B.debug("Stopping the gap controller"),k&&(clearInterval(k),k=null)})(),function H(){v.off(I.default.WALLCLOCK_TIME_UPDATED,Ie,this),v.off(I.default.INITIAL_STREAM_SWITCH,Se,this),v.off(I.default.PLAYBACK_SEEKING,me,this),v.off(I.default.BUFFER_REPLACEMENT_STARTED,te,A),v.off(I.default.TRACK_CHANGE_RENDERED,ue,A)}(),function Re(){k=null,P=NaN,V=0,N=null,S={}}()}function me(){N&&(clearTimeout(N),N=null)}function te(je){try{if(je.streamId!==w.getActiveStreamInfo().id||je.mediaType!==F.default.VIDEO&&je.mediaType!==F.default.AUDIO)return;je.streamId===w.getActiveStreamInfo().id&&(S[je.mediaType]=!0)}catch(ze){B.error(ze)}}function ue(je){!je||!je.mediaType||(S[je.mediaType]=!1)}function Se(){k||function Le(){try{k||(B.debug("Starting the gap controller"),k=setInterval(function(){le()&&Oe(D.getTime())},100))}catch{}}()}function Ie(){if(le(O.get().streaming.gaps.enableSeekFix)&&++V>=10){var je=D.getTime();U===je?Oe(je,!0):(U=je,P=NaN),V=0}}function le(){var je=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!w.getActiveStream())return!1;var ze=Object.keys(S).some(function(Ae){return S[Ae]}),He=!!je&&function Me(){var je=w.getActiveStream(),ze=parseFloat((je.getStartTime()+je.getDuration()).toFixed(5));return D.getTime()+O.get().streaming.gaps.threshold>=ze}();return!ze&&O.get().streaming.gaps.jumpGaps&&w.getActiveStreamProcessors().length>0&&(!D.isSeeking()||He)&&!D.isPaused()&&!w.getIsStreamSwitchInProgress()&&!w.getHasMediaOrInitialisationError()}function Oe(je){var he,ze=arguments.length>1&&void 0!==arguments[1]&&arguments[1],He=O.get().streaming.gaps.enableStallFix,Ae=O.get().streaming.gaps.stallSeek,ye=O.get().streaming.gaps.smallGapLimit,K=O.get().streaming.gaps.jumpLargeGaps,ie=E.getBufferRange(),$=NaN,Z=!1;if(he=function we(je,ze){try{if(!je||je.length<=1&&ze>0)return NaN;for(var He=NaN,Ae=0;isNaN(He)&&Ae<je.length;){var ye=Ae>0?je.end(Ae-1):0;ze<je.start(Ae)&&ye-ze<O.get().streaming.gaps.threshold&&(He=Ae),Ae+=1}return He}catch{return null}}(ie,je),!isNaN(he)){var W=ie.start(he),X=W-je;X>0&&(X<=ye||K)&&($=W)}var Q=D.getTimeToStreamEnd();if(isNaN($)&&ze&&isFinite(Q)&&!isNaN(Q)&&Q<ye&&($=parseFloat(D.getStreamEndTime().toFixed(5)),Z=!0),He&&isNaN($)&&ze&&isNaN(he)&&function _e(je,ze){for(var He=0,Ae=je.length;He<Ae;He++)if(ze>=je.start(He)&&ze<=je.end(He))return!0;return!1}(ie,je)&&(0===Ae?(B.warn("Toggle play pause to break stall"),E.pause(),E.play()):(B.warn("Jumping ".concat(Ae,"s to break stall")),$=je+Ae)),$>0&&P!==$&&$>je&&!N){var q=$-je;if(Z){var J=w.getStreamForTime($),de=J&&!!J.getPreloaded();B.warn("Jumping to end of stream because of gap from ".concat(je," to ").concat($,". Gap duration: ").concat(q)),D.seek($,!0,de)}else{var ge=D.getIsDynamic(),ce=he>0?ie.end(he-1):je,Ce=ge?1e3*Math.max(0,q-.1):0;N=window.setTimeout(function(){D.seek($,!0,!0),B.warn("Jumping gap occuring in period ".concat(w.getActiveStream().getStreamId()," starting at ").concat(ce," and ending at ").concat($,". Jumping by: ").concat($-ce)),N=null},Ce)}P=$}}return A={reset:ae,setConfig:function z(je){je&&(je.settings&&(O=je.settings),je.playbackController&&(D=je.playbackController),je.streamController&&(w=je.streamController),je.videoModel&&(E=je.videoModel))},initialize:function Y(){!function oe(){v.on(I.default.WALLCLOCK_TIME_UPDATED,Ie,this),v.on(I.default.INITIAL_STREAM_SWITCH,Se,this),v.on(I.default.PLAYBACK_SEEKING,me,this),v.on(I.default.BUFFER_REPLACEMENT_STARTED,te,A),v.on(I.default.TRACK_CHANGE_RENDERED,ue,A)}()}},function re(){B=Object(b.default)(p).getInstance().getLogger(A),ae()}(),A}h.__dashjs_factory_name="GapController",C.default=t.default.getSingletonFactory(h)},"./src/streaming/controllers/MediaController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/MediaController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! bcp-47-normalize */
"./node_modules/bcp-47-normalize/index.js"),x=c.n(L),m=c(
/*! bcp-47-match */
"./node_modules/bcp-47-match/index.js");function p(){var O,V,k,P,D,w,E,N,A=this.context,U=Object(I.default)(A).getInstance();function re(J,de){return J&&k[de]&&k[de][J]?k[de][J].list:[]}function ae(J,de){return J&&k[de]&&k[de][J]?k[de][J].current:null}function z(J){var de=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(J&&J.streamInfo){var ge=J.type,Ce=J.streamInfo.id,Ye=ae(ge,Ce);if(k[Ce]&&k[Ce][ge]&&(k[Ce][ge].current=J,k[Ce][ge].current&&(ge!==t.default.TEXT&&!ue(J,Ye)||ge===t.default.TEXT&&J.isFragmented)&&U.trigger(b.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:Ye,newMediaInfo:J,switchMode:P.get().streaming.trackSwitchMode[ge]},{streamId:Ce}),!de)){var Be=function le(J){var de={lang:J.lang,viewpoint:J.viewpoint,roles:J.roles,accessibility:J.accessibility,audioChannelConfiguration:J.audioChannelConfiguration};return de.lang||de.viewpoint||de.role&&de.role.length>0||de.accessibility&&de.accessibility.length>0||de.audioChannelConfiguration&&de.audioChannelConfiguration.length>0?de:null}(J);if(!Be||!k[Ce][ge].storeLastSettings)return;Be.roles&&(Be.role=Be.roles[0],delete Be.roles),Be.accessibility&&(Be.accessibility=Be.accessibility[0]),Be.audioChannelConfiguration&&(Be.audioChannelConfiguration=Be.audioChannelConfiguration[0]),w[ge]=Be,N.setSavedMediaSettings(ge,Be)}}}function oe(J,de){!J||!de||(D[J]=de)}function H(J){return J?D[J]:null}function ue(J,de){if(!J&&!de)return!0;if(!J||!de)return!1;var ge=J.id===de.id,ce=J.viewpoint===de.viewpoint,Ce=J.lang===de.lang,Ye=J.codec===de.codec,Be=J.roles.toString()===de.roles.toString(),$e=J.accessibility.toString()===de.accessibility.toString(),Qe=J.audioChannelConfiguration.toString()===de.audioChannelConfiguration.toString();return ge&&Ye&&ce&&Ce&&Be&&$e&&Qe}function Ie(){k={},w={},function He(){D={audio:null,video:null,text:null}}()}function Me(J,de,ge){var ce=[];return J.forEach(function(Ce){de(ge,Ce)&&ce.push(Ce)}),0!==ce.length?ce:J}function we(J,de){return!J.lang||J.lang instanceof RegExp?de.lang.match(J.lang):""!==de.lang&&Object(m.extendedFilter)(de.lang,x()(J.lang)).length>0}function _e(J,de){return null==J.index||de.index===J.index}function Le(J,de){return!J.viewpoint||J.viewpoint===de.viewpoint}function Pe(J,de){var ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!J.role||!!de.roles.filter(function(Ce){return Ce===J.role})[0]||de.type===t.default.AUDIO&&ge}function Oe(J,de){return J.accessibility?!!de.accessibility.filter(function(ce){return ce===J.accessibility})[0]:!de.accessibility.length}function je(J,de){return!J.audioChannelConfiguration||!!de.audioChannelConfiguration.filter(function(ce){return ce===J.audioChannelConfiguration})[0]}function ye(J){var ce,de=0,ge=[];return J.forEach(function(Ce){(ce=Math.max.apply(Math,Ce.bitrateList.map(function(Ye){return Ye.bandwidth})))>de?(de=ce,ge=[Ce]):ce===de&&ge.push(Ce)}),ge}function K(J){var ce,de=1/0,ge=[];return J.forEach(function(Ce){var Ye=Ce.bitrateList.reduce(function(Be,$e){var Qe=Math.max(1,$e.width*$e.height);return Be+$e.bandwidth/Qe},0);(ce=Ye/Ce.bitrateList.length)<de?(de=ce,ge=[Ce]):ce===de&&ge.push(Ce)}),ge}function ie(J){var ce,de=0,ge=[];return J.forEach(function(Ce){(ce=Ce.representationCount)>de?(de=ce,ge=[Ce]):ce===de&&ge.push(Ce)}),ge}function he(J,de){if(J===t.default.TEXT)return de[0];var ce,ge=P.get().streaming.selectionModeForInitialTrack,Ce=E.getCustomInitialTrackSelectionFunction();if(Ce&&"function"==typeof Ce)ce=Ce(de);else switch(ge){case t.default.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ce=function $(J){var de=function Ae(J){var de=0,ge=[];return J.forEach(function(ce){isNaN(ce.selectionPriority)||(ce.selectionPriority>de?(de=ce.selectionPriority,ge=[ce]):ce.selectionPriority===de&&ge.push(ce))}),ge}(J);return de.length>1&&(de=ye(de)),de.length>1&&(de=ie(de)),de}(de);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ce=function Z(J){var de=ye(J);return de.length>1&&(de=ie(de)),de}(de);break;case t.default.TRACK_SELECTION_MODE_FIRST_TRACK:ce=W(de);break;case t.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ce=function X(J){var de=K(J);return de.length>1&&(de=ye(de)),de}(de);break;case t.default.TRACK_SELECTION_MODE_WIDEST_RANGE:ce=function Q(J){var de=ie(J);return de.length>1&&(de=ye(J)),de}(de);break;default:V.warn("Track selection mode ".concat(ge," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ce=W(de)}return ce.length>0?ce[0]:de[0]}function W(J){return J[0]}return O={setInitialMediaSettingsForType:function B(J,de){var ge=w[J]||H(J),ce=re(J,de.id),Ce=[];ge||oe(J,ge=N.getSavedMediaSettings(J)),ce&&0!==ce.length&&(ge&&(Ce=Me(Ce=Array.from(ce),we,ge),Ce=Me(Ce,_e,ge),Ce=Me(Ce,Le,ge),J===t.default.AUDIO&&w[J]||(Ce=Me(Ce,Pe,ge)),Ce=Me(Ce,Oe,ge),Ce=Me(Ce,je,ge)),0===Ce.length?z(he(J,ce),!0):z(Ce.length>1?he(J,Ce):Ce[0]))},addTrack:function Y(J){if(J){var de=J.type;if(function te(J){return J===t.default.AUDIO||J===t.default.VIDEO||J===t.default.TEXT||J===t.default.IMAGE}(de)){var ge=J.streamInfo.id;k[ge]||(k[ge]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var ce=k[ge][de].list,Ce=0,Ye=ce.length;Ce<Ye;++Ce)if(ue(ce[Ce],J))return;ce.push(J)}}},getTracksFor:re,getCurrentTrackFor:ae,isCurrentTrack:function Re(J){if(!J)return!1;var de=J.type,ge=J.streamInfo.id;return k[ge]&&k[ge][de]&&ue(k[ge][de].current,J)},setTrack:z,selectInitialTrack:he,setInitialSettings:oe,getInitialSettings:H,getTracksWithHighestBitrate:ye,getTracksWithHighestEfficiency:K,getTracksWithWidestRange:ie,isTracksEqual:ue,matchSettings:function ze(J,de){var ge=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var ce=!1;if(J.lang){if(J.lang instanceof RegExp)ce=de.lang.match(J.lang);else if(""!==de.lang){var Ce=x()(J.lang);Ce&&(ce=Object(m.extendedFilter)(de.lang,Ce).length>0)}}else ce=!0;var Ye=null==J.index||de.index===J.index,Be=!J.viewpoint||J.viewpoint===de.viewpoint,$e=!J.role||!!de.roles.filter(function(dt){return dt===J.role})[0],Qe=!J.accessibility||!!de.accessibility.filter(function(dt){return dt===J.accessibility})[0],qe=!J.audioChannelConfiguration||!!de.audioChannelConfiguration.filter(function(dt){return dt===J.audioChannelConfiguration})[0];return ce&&Ye&&Be&&($e||de.type===t.default.AUDIO&&ge)&&Qe&&qe}catch(dt){return!1}},matchSettingsLang:we,matchSettingsIndex:_e,matchSettingsViewPoint:Le,matchSettingsRole:Pe,matchSettingsAccessibility:Oe,matchSettingsAudioChannelConfig:je,saveTextSettingsDisabled:function me(){N.setSavedMediaSettings(t.default.TEXT,null)},setConfig:function Se(J){J&&(J.domStorage&&(N=J.domStorage),J.settings&&(P=J.settings),J.customParametersModel&&(E=J.customParametersModel))},reset:Ie},function S(){V=Object(F.default)(A).getInstance().getLogger(O),Ie()}(),O}p.__dashjs_factory_name="MediaController";var v=y.default.getSingletonFactory(p);y.default.updateSingletonFactory(p.__dashjs_factory_name,v),C.default=v},"./src/streaming/controllers/MediaSourceController.js":
/*!************************************************************!*\
                  !*** ./src/streaming/controllers/MediaSourceController.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function I(){var y,F,L,x=this.context;return y={createMediaSource:function h(){var k="WebKitMediaSource"in window;return"MediaSource"in window?F=new MediaSource:k&&(F=new WebKitMediaSource),F},attachMediaSource:function p(k){var P=window.URL.createObjectURL(F);return k.setSource(P),P},detachMediaSource:function v(k){k.setSource(null)},setDuration:function A(k){!F||"open"!==F.readyState||null===k&&isNaN(k)||F.duration!==k&&(function V(k){for(var P=k.sourceBuffers,D=0;D<P.length;D++)if(P[D].updating)return!0;return!1}(F)?setTimeout(A.bind(null,k),50):(L.info("Set MediaSource duration:"+k),F.duration=k))},setSeekable:function U(k,P){F&&"function"==typeof F.setLiveSeekableRange&&"function"==typeof F.clearLiveSeekableRange&&"open"===F.readyState&&k>=0&&k<P&&(F.clearLiveSeekableRange(),F.setLiveSeekableRange(k,P))},signalEndOfStream:function O(k){if(k&&"open"===k.readyState){for(var P=k.sourceBuffers,D=0;D<P.length;D++)if(P[D].updating||0===P[D].buffered.length)return;L.info("call to mediaSource endOfStream"),k.endOfStream()}}},function m(){L=Object(b.default)(x).getInstance().getLogger(y)}(),y}I.__dashjs_factory_name="MediaSourceController",C.default=t.default.getSingletonFactory(I)},"./src/streaming/controllers/PlaybackController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/PlaybackController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),L=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),x=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function h(){var A,U,O,V,k,P,D,w,E,N,S,B,Y,re,ae,Re,oe,H,me,te,ue,Se,Ie,p=this.context,v=Object(b.default)(p).getInstance();function Me(){ze(),re=!1,N=0,S=0,Re=0,ue=!1,oe=!1,Se=!1,H=NaN,D&&(v.off(I.default.DATA_UPDATE_COMPLETED,Ot,A),v.off(I.default.LOADING_PROGRESS,yn,A),v.off(I.default.MANIFEST_UPDATED,ui,A),v.off(I.default.STREAMS_COMPOSED,kt,A),v.off(L.default.PLAYBACK_ENDED,Nt,A),v.off(L.default.STREAM_INITIALIZING,On,A),v.off(L.default.REPRESENTATION_SWITCH,kn,A),v.off(L.default.BUFFER_LEVEL_STATE_CHANGED,$t,A),_t(),function Qt(){D.removeEventListener("canplay",jt),D.removeEventListener("canplaythrough",zt),D.removeEventListener("play",dn),D.removeEventListener("waiting",pn),D.removeEventListener("playing",jn),D.removeEventListener("pause",st),D.removeEventListener("error",Wt),D.removeEventListener("seeking",ut),D.removeEventListener("seeked",xe),D.removeEventListener("timeupdate",fe),D.removeEventListener("progress",pe),D.removeEventListener("ratechange",lt),D.removeEventListener("loadedmetadata",mt),D.removeEventListener("loadeddata",Dt),D.removeEventListener("stalled",Tn),D.removeEventListener("ended",ft),D.removeEventListener("volumechange",bt)}()),E=null,D=null,B=null,Y=null}function Pe(){return parseFloat((Oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)-he()).toFixed(5))}function Oe(Ke){var it=Ke||B;return it.start+it.duration}function je(){var Ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0];B&&D&&D.getElement()?(Ke&&Y&&ie(he()),D.play()):re=!0}function ze(){B&&D&&D.pause()}function He(Ke){var it=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Gt=arguments.length>3&&void 0!==arguments[3]&&arguments[3];B&&D&&Ke!==(isNaN(H)?D.getTime():H)&&((me=!0===Ct)||(H=Ke),U.info("Requesting seek to time: "+Ke+(me?" (internal)":"")),Y&&Gt&&ie(Ke),D.setCurrentTime(Ke,it))}function K(){if(B&&D&&Y){var Ke=O&&O.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO,it=k.getCurrentDVRInfo(Ke);return it&&it.range?it.range.end:0}}function ie(Ke){var it=new Date(w.getClientReferenceTime()),Ct=P.getRegularPeriods()[0],Gt=w.calcPresentationTimeFromWallTime(it,Ct);N=Gt-Ke}function he(){return B&&D?D.getTime():null}function $(){return B&&D?D.isPaused():null}function Z(){return B&&D?D.isSeeking():null}function W(){return B&&D?D.isStalled():null}function X(){return B&&D?D.getPlaybackRate():null}function q(){return B&&D?D.getEnded():null}function J(){return Y}function qe(){var Ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!$()&&Y&&0!==D.getReadyState()&&!Z()&&!ue){Ke||(Ke=O.hasVideoTrack()?t.default.VIDEO:t.default.AUDIO);var it=he(),Ct=function dt(Ke,it){var Ct=k.getCurrentDVRInfo(it),Gt=Ct?Ct.range:null;return Gt?Ke>Gt.end?Math.max(Gt.end-N,Gt.start):Ke>0&&Ke+.25<Gt.start&&Math.abs(Ke-Gt.start)<31536e4?oe?Math.max(Gt.end-N,Gt.start):Gt.start:Ke:NaN}(it,Ke);!isNaN(Ct)&&Ct!==it&&!Z()&&(W()||te||1===D.getReadyState())&&(U.debug("UpdateCurrentTime: Seek to actual time: ".concat(Ct," from currentTime: ").concat(it)),He(Ct,!1,!1))}}function It(){null===E&&(E=setInterval(function(){!function wt(){v.trigger(I.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Y,time:new Date}),J()&&(O.addDVRMetric(),$()?function Vt(){var Ke=Date.now();(!ae||Ke>ae+500)&&(ae=Ke,fe())}():qe())}()},Ie.get().streaming.wallclockTimeUpdateInterval))}function _t(){clearInterval(E),E=null}function Ot(Ke){var it=P.convertRepresentationToRepresentationInfo(Ke.currentRepresentation),Ct=it?it.mediaInfo.streamInfo:null;null===Ct||B.id!==Ct.id||(B=Ct)}function jt(){v.trigger(I.default.CAN_PLAY)}function zt(){v.trigger(I.default.CAN_PLAY_THROUGH)}function $t(Ke){Ke.streamId===O.getActiveStreamInfo().id&&(te=Ke.state===x.default.BUFFER_EMPTY,Ie.get().streaming.buffer.setStallState&&D.setStallState(Ke.mediaType,Ke.state===x.default.BUFFER_EMPTY))}function dn(){U.info("Native video element event: play"),qe(),It(),v.trigger(I.default.PLAYBACK_STARTED,{startTime:he()})}function pn(){U.info("Native video element event: waiting"),v.trigger(I.default.PLAYBACK_WAITING,{playingTime:he()})}function jn(){U.info("Native video element event: playing"),me=!1,v.trigger(I.default.PLAYBACK_PLAYING,{playingTime:he()})}function st(){U.info("Native video element event: pause"),v.trigger(I.default.PLAYBACK_PAUSED,{ended:q()})}function ut(){if(!me){var Ke=he();!isNaN(H)&&H!==Ke&&(Ke=H),H=NaN,U.info("Seeking to: "+Ke),It(),v.trigger(I.default.PLAYBACK_SEEKING,{seekTime:Ke,streamId:B.id})}}function xe(){U.info("Native video element event: seeked"),me=!1,v.trigger(I.default.PLAYBACK_SEEKED)}function fe(){B&&v.trigger(I.default.PLAYBACK_TIME_UPDATED,{timeToEnd:Pe(),time:he(),streamId:B.id})}function pe(){v.trigger(I.default.PLAYBACK_PROGRESS,{streamId:B.id})}function lt(){var Ke=X();U.info("Native video element event: ratechange: ",Ke),v.trigger(I.default.PLAYBACK_RATE_CHANGED,{playbackRate:Ke})}function mt(){U.info("Native video element event: loadedmetadata"),v.trigger(I.default.PLAYBACK_METADATA_LOADED),It()}function Dt(){U.info("Native video element event: loadeddata"),v.trigger(I.default.PLAYBACK_LOADED_DATA)}function ft(){U.info("Native video element event: ended"),ze(),_t();var Ke=O?O.getActiveStreamInfo():null;Ke&&v.trigger(I.default.PLAYBACK_ENDED,{isLast:Ke.isLast})}function bt(){v.trigger(I.default.PLAYBACK_VOLUME_CHANGED)}function Nt(Ke){if(E&&Ke.isLast){U.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var it=Ke.seekTime?Ke.seekTime:Oe();D.setCurrentTime(it),ze(),_t()}}function Wt(Ke){v.trigger(I.default.PLAYBACK_ERROR,{error:(Ke.target||Ke.srcElement).error})}function yn(Ke){if(!1===Ke.stream&&oe&&!isNaN(Ke.request.duration)){var it=1.2*Ke.request.duration;it>N&&(U.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",it.toFixed(2)),N=it,S=it)}}function Tn(Ke){v.trigger(I.default.PLAYBACK_STALLED,{e:Ke})}function On(Ke){!function St(Ke){Ke&&Ke.supplementalProperties&&"true"===Ke.supplementalProperties[t.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]&&(U.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),oe=!0)}(Ke.mediaInfo)}function kn(Ke){var it=O.getActiveStreamInfo();!Ke||!it||!Ke.currentRepresentation||!Ke.streamId||Ke.streamId!==it.id||!Ke.mediaType||Ke.mediaType!==t.default.VIDEO&&Ke.mediaType!==t.default.AUDIO||(oe=!Ke.currentRepresentation.availabilityTimeComplete)&&!Se&&(Se=!0)}function ui(){ue=!0}function kt(){ue=!1}return A={initialize:function we(Ke,it){B=Ke,!0!==it&&function _e(){(function ct(){D.addEventListener("canplay",jt),D.addEventListener("canplaythrough",zt),D.addEventListener("play",dn),D.addEventListener("waiting",pn),D.addEventListener("playing",jn),D.addEventListener("pause",st),D.addEventListener("error",Wt),D.addEventListener("seeking",ut),D.addEventListener("seeked",xe),D.addEventListener("timeupdate",fe),D.addEventListener("progress",pe),D.addEventListener("ratechange",lt),D.addEventListener("loadedmetadata",mt),D.addEventListener("loadeddata",Dt),D.addEventListener("stalled",Tn),D.addEventListener("ended",ft),D.addEventListener("volumechange",bt)})(),Y=B.manifestInfo.isDynamic,te=!1,me=!1,v.on(I.default.DATA_UPDATE_COMPLETED,Ot,A),v.on(I.default.LOADING_PROGRESS,yn,A),v.on(I.default.MANIFEST_UPDATED,ui,A),v.on(I.default.STREAMS_COMPOSED,kt,A),v.on(L.default.PLAYBACK_ENDED,Nt,A,{priority:b.default.EVENT_PRIORITY_HIGH}),v.on(L.default.STREAM_INITIALIZING,On,A),v.on(L.default.REPRESENTATION_SWITCH,kn,A),v.on(L.default.BUFFER_LEVEL_STATE_CHANGED,$t,A),re&&(re=!1,je())}()},setConfig:function Qe(Ke){Ke&&(Ke.streamController&&(O=Ke.streamController),Ke.serviceDescriptionController&&(V=Ke.serviceDescriptionController),Ke.dashMetrics&&(k=Ke.dashMetrics),Ke.adapter&&(P=Ke.adapter),Ke.videoModel&&(D=Ke.videoModel),Ke.timelineConverter&&(w=Ke.timelineConverter),Ke.settings&&(Ie=Ke.settings))},getTimeToStreamEnd:Pe,getBufferLevel:function en(){var Ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,it=null;return O.getActiveStreamProcessors().forEach(function(Ct){if(!Ke||0===Ke.length||-1===Ke.indexOf(Ct.getType())){var Gt=Ct.getBufferLevel();it=null===it?Gt:Math.min(it,Gt)}}),it},getPlaybackStalled:function Le(){return te},getTime:he,getLowLatencyModeEnabled:function nn(){return oe},getInitialCatchupModeActivated:function qn(){return Se},getIsManifestUpdateInProgress:function ge(){return ue},getPlaybackRate:X,getPlayedRanges:function Q(){return B&&D?D.getPlayedRanges():null},getEnded:q,getIsDynamic:J,getStreamController:function de(){return O},computeAndSetLiveDelay:function $e(Ke,it){var Ct,Gt,hn,Rt=!isNaN(Ke)&&isFinite(Ke)?Ke:NaN,Ht=P.getSuggestedPresentationDelay(),on=V.getServiceDescriptionSettings();return Ct=isNaN(Ie.get().streaming.delay.liveDelay)?null===Ie.get().streaming.delay.liveDelayFragmentCount||isNaN(Ie.get().streaming.delay.liveDelayFragmentCount)||isNaN(Rt)?on&&!isNaN(on.liveDelay)&&on.liveDelay>0?on.liveDelay:!0===Ie.get().streaming.delay.useSuggestedPresentationDelay&&null!==Ht&&!isNaN(Ht)&&Ht>0?Ht:isNaN(Rt)?it&&!isNaN(it.minBufferTime)?4*it.minBufferTime:4*B.manifestInfo.minBufferTime:4*Rt:Rt*Ie.get().streaming.delay.liveDelayFragmentCount:Ie.get().streaming.delay.liveDelay,null!==(hn=P.getAvailabilityStartTime())&&(Re=hn),Gt=it&&it.dvrWindowSize>0?Math.min(Ct,it.dvrWindowSize):Ct,N=Gt,S=Gt,Gt},getLiveDelay:function Ce(){return N},getOriginalLiveDelay:function Ye(){return S},getCurrentLiveLatency:function Be(){if(!Y||isNaN(Re))return NaN;var Ke=he();if(isNaN(Ke)||0===Ke)return 0;var it=(new Date).getTime()+1e3*w.getClientTimeOffset();return Math.max(((it-Re-1e3*Ke)/1e3).toFixed(3),0)},play:je,isPaused:$,isStalled:W,pause:ze,isSeeking:Z,getStreamEndTime:Oe,seek:He,seekToOriginalLive:function Ae(){var Ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0],it=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Gt=K();0!==Gt&&He(Gt-(N=S),Ke,it,Ct)},seekToCurrentLive:function ye(){var Ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0],it=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ct=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Gt=K();0!==Gt&&He(Gt-N,Ke,it,Ct)},reset:Me,updateCurrentTime:qe,getAvailabilityStartTime:function ce(){return Re}},function le(){U=Object(F.default)(p).getInstance().getLogger(A),Me()}(),A}h.__dashjs_factory_name="PlaybackController",C.default=y.default.getSingletonFactory(h)},"./src/streaming/controllers/ScheduleController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/ScheduleController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../models/FragmentModel */
"./src/streaming/models/FragmentModel.js"),I=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),x=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function h(p){p=p||{};var S,B,Y,re,ae,Re,z,oe,H,me,te,ue,Se,v=this.context,A=Object(I.default)(v).getInstance(),U=p.dashMetrics,O=p.mediaPlayerModel,V=p.fragmentModel,k=p.abrController,P=p.playbackController,D=p.textController,w=p.type,E=p.bufferController,N=p.settings;function Le(dt){if(!E.getIsBufferingCompleted()){Pe();var It=isNaN(dt)?0:dt;Re=setTimeout(je,It)}}function Pe(){Re&&(clearTimeout(Re),Re=null)}function je(){try{if(function He(){try{return w===t.default.TEXT&&!D.isTextEnabled()||P.isPaused()&&(!P.getStreamController().getInitialPlayback()||!P.getStreamController().getAutoPlay())&&!N.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void Pe();if(function Ae(){try{return re&&(isNaN(me)||te||function Oe(){var It=k.getMaxAllowedIndexFor(w,B.id);return!(!isNaN(H)&&H==It||(Y.info("Top quality "+w+" index has changed from "+H+" to "+It),H=It,0))}()||function ye(){return!w||!re||U.getCurrentBufferLevel(w)<K()}())}catch{return!1}}()){var dt=!1;Se&&(dt=k.checkPlaybackQuality(w,B.id)),dt||function ze(){ue||re.quality!==me||te?(te?(Y.debug("Switch track for "+w+", representation id = "+re.id),te=!1):Y.debug("Quality has changed, get init request for representationid = "+re.id),A.trigger(y.default.INIT_FRAGMENT_NEEDED,{representationId:re.id,sender:S},{streamId:B.id,mediaType:w}),Se=!1,ue=!1):(Y.debug("Media segment needed for ".concat(w," and stream id ").concat(B.id)),A.trigger(y.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:B.id,mediaType:w}),Se=!0)}()}else Le(P.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}catch{Le(P.getLowLatencyModeEnabled()?N.get().streaming.scheduling.lowLatencyTimeout:N.get().streaming.scheduling.defaultTimeout)}}function K(){var dt=NaN;return!w||!re||(dt=w===t.default.TEXT?function ie(){try{if(D.isTextEnabled()){if(isNaN(re.fragmentDuration)){var dt=U.getCurrentSchedulingInfo(x.default.SCHEDULING_INFO);return dt?dt.duration:0}return re.fragmentDuration}return 0}catch{return 0}}():w===t.default.AUDIO&&z?function he(){try{var dt=U.getCurrentBufferLevel(t.default.VIDEO);return isNaN(re.fragmentDuration)?dt+1:Math.max(dt+1,re.fragmentDuration)}catch{return 0}}():function $(){try{var dt=re.mediaInfo.streamInfo;return k.isPlayingAtTopQuality(dt)?dt.manifestInfo.duration>=N.get().streaming.buffer.longFormContentDurationThreshold?N.get().streaming.buffer.bufferTimeAtTopQualityLongForm:N.get().streaming.buffer.bufferTimeAtTopQuality:O.getStableBufferTime()}catch{return O.getStableBufferTime()}}()),dt}function X(){Q(!0)}function Q(dt){if(P&&V){var It=V.getRequests({state:b.default.FRAGMENT_MODEL_EXECUTED,time:P.getTime(),threshold:0})[0];It&&P.getTime()>=It.startTime&&((!oe.mediaInfo||It.mediaInfo.type===oe.mediaInfo.type&&It.mediaInfo.id!==oe.mediaInfo.id)&&dt&&A.trigger(y.default.TRACK_CHANGE_RENDERED,{mediaType:w,oldMediaInfo:oe.mediaInfo,newMediaInfo:It.mediaInfo,streamId:B.id}),(It.quality!==oe.quality||It.adaptationIndex!==oe.adaptationIndex)&&dt&&(Y.debug("Quality change rendered for streamId ".concat(B.id," and type ").concat(w)),A.trigger(y.default.QUALITY_CHANGE_RENDERED,{mediaType:w,oldQuality:oe.quality,newQuality:It.quality,streamId:B.id})),oe={mediaInfo:It.mediaInfo,quality:It.quality,adaptationIndex:It.adaptationIndex})}}function q(dt){Y.debug("Appended bytes for ".concat(dt.mediaType," and stream id ").concat(B.id)),(isNaN(dt.index)||isNaN(me))&&(me=dt.quality,Y.info("["+w+"] lastInitializedRepresentationInfo changed to "+dt.quality)),Le(0)}function J(){V.abortRequests(),Pe()}function de(){N.get().streaming.scheduling.scheduleWhilePaused||Le()}function ge(dt){U.updatePlayListTraceMetrics({playbackspeed:dt.playbackRate.toString()})}function $e(){Se=!0,ae=0,me=NaN,oe={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},H=NaN,te=!1,ue=!1}return S={initialize:function le(dt){z=dt,A.on(y.default.BYTES_APPENDED_END_FRAGMENT,q,S),A.on(y.default.URL_RESOLUTION_FAILED,J,S),A.on(m.default.PLAYBACK_STARTED,de,S),A.on(m.default.PLAYBACK_RATE_CHANGED,ge,S),A.on(m.default.PLAYBACK_TIME_UPDATED,X,S)},getType:function Me(){return w},getStreamId:function we(){return B.id},setCurrentRepresentation:function _e(dt){re=dt},setTimeToLoadDelay:function ce(dt){ae=dt},getTimeToLoadDelay:function Ce(){return ae},setSwitchTrack:function Z(dt){te=dt},getSwitchStrack:function W(){return te},startScheduleTimer:Le,clearScheduleTimer:Pe,reset:function Qe(){A.off(y.default.BYTES_APPENDED_END_FRAGMENT,q,S),A.off(y.default.URL_RESOLUTION_FAILED,J,S),A.off(m.default.PLAYBACK_STARTED,de,S),A.off(m.default.PLAYBACK_RATE_CHANGED,ge,S),A.off(m.default.PLAYBACK_TIME_UPDATED,X,S),Pe(),Q(!1),$e(),B=null},getBufferTarget:K,getPlaybackController:function qe(){return P},setCheckPlaybackQuality:function Ye(dt){Se=dt},setInitSegmentRequired:function Be(dt){ue=dt}},function Ie(){Y=Object(L.default)(v).getInstance().getLogger(S),$e(),B=p.streamInfo}(),S}h.__dashjs_factory_name="ScheduleController",C.default=F.default.getClassFactory(h)},"./src/streaming/controllers/StreamController.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/controllers/StreamController.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),I=c(
/*! ../Stream */
"./src/streaming/Stream.js"),y=c(
/*! ../ManifestUpdater */
"./src/streaming/ManifestUpdater.js"),F=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=c(
/*! ../vo/metrics/PlayList */
"./src/streaming/vo/metrics/PlayList.js"),h=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),p=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),v=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),A=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),U=c(
/*! ./TimeSyncController */
"./src/streaming/controllers/TimeSyncController.js"),O=c(
/*! ./MediaSourceController */
"./src/streaming/controllers/MediaSourceController.js"),V=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),P=c(
/*! ./EventController */
"./src/streaming/controllers/EventController.js"),D=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function w(z){return function B(z){if(Array.isArray(z))return Y(z)}(z)||function S(z){if(typeof Symbol<"u"&&null!=z[Symbol.iterator]||null!=z["@@iterator"])return Array.from(z)}(z)||function N(z,oe){if(z){if("string"==typeof z)return Y(z,oe);var H=Object.prototype.toString.call(z).slice(8,-1);if("Object"===H&&z.constructor&&(H=z.constructor.name),"Map"===H||"Set"===H)return Array.from(z);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return Y(z,oe)}}(z)||function E(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(z,oe){(null==oe||oe>z.length)&&(oe=z.length);for(var H=0,me=new Array(oe);H<oe;H++)me[H]=z[H];return me}function Re(){var H,me,te,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,je,ze,He,Ae,ye,K,ie,he,$,Z,W,X,Q,q,J,de,ge,ce,Ce,Ye,Be,$e,Qe,qe,dt,It,_t,Ot,jt,zt,$t,dn,pn,jn,st,ut,z=this.context,oe=Object(F.default)(z).getInstance();function mt(){if(!(Ie&&Ie.hasOwnProperty("load")&&$&&$.hasOwnProperty("initialize")&&$.hasOwnProperty("reset")&&$.hasOwnProperty("getClientTimeOffset")&&le&&he&&we&&Be))throw new Error(t.default.MISSING_CONFIG_ERROR)}function Nt(){!function wt(){try{var Ut=Me.getStreamsInfo();if(!W&&0===Ut.length)throw new Error("There are no periods in the MPD");W&&Ut.length>0&&we.updateManifestUpdateInfo({currentTime:Be.getTime(),buffered:Ye.getBufferRange(),presentationStartTime:Ut[0].start,clientTimeOffset:$.getClientTimeOffset()}),Z.length>0&&function vo(Ut){0!==Ut.length?Z=Z.filter(function(mn){var Nn=Ut.filter(function(Zn){return Zn.id===mn.getId()}).length>0||mn.getId()===W.getId();return Nn||(me.debug("Removing stream ".concat(mn.getId())),mn.reset(!0)),Nn}):me.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Ut);for(var mn=[],Mn=0,Nn=Ut.length;Mn<Nn;Mn++){var Zn=Ut[Mn];mn.push(Vt(Zn)),we.addManifestUpdateStreamInfo(Zn)}Promise.all(mn).then(function(){return dn.get().streaming.applyContentSteering&&!W&&Pe.shouldQueryBeforeStart()?Pe.loadSteeringData():Promise.resolve()}).then(function(){W||en(Ut),oe.trigger(L.default.STREAMS_COMPOSED),on()}).catch(function(ei){throw ei})}catch(ei){he.error(new V.default(k.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,ei.message+" nostreamscomposed",le.getValue())),ce=!0,cr()}}()}function Wt(){pn=!0}function Vt(Ut){var mn=_i(Ut.id);return mn?mn.updateData(Ut):(mn=Object(I.default)(z).create({manifestModel:le,mediaPlayerModel:Qe,dashMetrics:we,manifestUpdater:Se,adapter:Me,timelineConverter:$,capabilities:te,capabilitiesFilter:ue,errHandler:he,baseURLController:Oe,segmentBaseController:je,textController:Q,abrController:He,playbackController:Be,eventController:ye,mediaController:Ae,protectionController:X,videoModel:Ye,streamInfo:Ut,settings:dn}),Z.push(mn),mn.initialize(),Promise.resolve())}function en(Ut){it();var mn=we.getCurrentDVRInfo().range;if(mn.end<mn.start){jn&&clearTimeout(jn);var Mn=Math.min(1e3*(-1*(mn.end-mn.start)+2),2147483647);return me.debug("Waiting for ".concat(Mn," ms before playback can start")),oe.trigger(L.default.AST_IN_FUTURE,{delay:Mn}),void(jn=setTimeout(function(){en(Ut)},Mn))}dn.get().streaming.applyProducerReferenceTime&&$e.calculateProducerReferenceTimeOffsets(Ut);var Nn=Ut[0].manifestInfo;if(dn.get().streaming.applyServiceDescription&&$e.applyServiceDescription(Nn),Me.getIsDynamic()){var Zn=eo(Ut,Nn);Be.computeAndSetLiveDelay(Zn,Nn)}var ei=function si(){var Ut;if(Me.getIsDynamic()){var Mn=we.getCurrentDVRInfo();Ut=(Mn&&Mn.range?Mn.range.end:0)-Be.getOriginalLiveDelay();var Zn=Mn?Mn.range:null;if(Zn){if(isNaN(st)&&-1===st.toString().indexOf("posix:")){var fi=sr(!0);isNaN(fi)||(me.info("Start time from URI parameters: ".concat(fi)),Ut=Math.min(Ut,fi))}else{me.info("Start time provided by the app: ".concat(st));var ei=Ui(!0,st);isNaN(ei)||(Ut=Math.min(Ut,ei))}var li=dn.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;Ut=Math.max(Ut,Zn.start+li)}}else if(Ut=Jn()[0].getStreamInfo().start,isNaN(st)){var fr=sr(!1);isNaN(fr)||(me.info("Start time from URI parameters: ".concat(fr)),Ut=Math.max(Ut,fr))}else{me.info("Start time provided by the app: ".concat(st));var ur=Ui(!1,st);isNaN(ur)||(Ut=Math.max(Ut,ur))}return Ut}(),fi=Ke(ei),li=null!==fi?fi:Z[0];oe.trigger(L.default.INITIAL_STREAM_SWITCH,{startTime:ei}),nn(li,null,ei),function vn(){Ot||(Ot=setInterval(function(){!de&&Be.getTimeToStreamEnd()<=0&&!Be.isSeeking()&&oe.trigger(L.default.PLAYBACK_ENDED,{isLast:wi().isLast})},200))}()}function nn(Ut,mn,Mn){try{if(de||!Ut||mn===Ut&&Ut.getIsActive())return;de=!0,oe.trigger(L.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:mn?mn.getStreamInfo():null,toStreamInfo:Ut.getStreamInfo()});var Nn=!1;W=Ut,mn&&(Nn=ct(Ut,mn),mn.deactivate(Nn)),Mn=isNaN(Mn)?!Nn&&mn?Ut.getStreamInfo().start:NaN:Mn,me.info("Switch to stream ".concat(Ut.getId(),". Seektime is ").concat(Mn,", current playback time is ").concat(Be.getTime(),". Seamless period switch is set to ").concat(Nn)),zt=zt.filter(function(Zn){return Zn.getId()!==W.getId()}),Be.initialize(wi(),!!mn),Ye.getElement()&&yn(Mn,Nn)}catch{de=!1}}function yn(Ut,mn){var Mn;function Nn(){if(Ce&&"open"===Ce.readyState){me.debug("MediaSource is open!"),window.URL.revokeObjectURL(Mn),Ce.removeEventListener("sourceopen",Nn),Ce.removeEventListener("webkitsourceopen",Nn),At();var ei=we.getCurrentDVRInfo();_e.setSeekable(ei.range.start,ei.range.end),Tn(Ut,mn)}}function Zn(){Ce.addEventListener("sourceopen",Nn,!1),Ce.addEventListener("webkitsourceopen",Nn,!1),Mn=_e.attachMediaSource(Ye),me.debug("MediaSource attached to element.  Waiting on open...")}Ce?mn?Tn(Ut,mn):(_e.detachMediaSource(Ye),Zn()):(Ce=_e.createMediaSource(),Zn())}function Tn(Ut,mn){W.activate(Ce,mn?jt:void 0,Ut).then(function(Mn){if(Mn){var Nn=Object.keys(Mn);Nn.length>0&&Mn[Nn[0]].getBuffer().changeType&&($t=!0),jt=Mn}isNaN(Ut)||(oe.trigger(L.default.SEEK_TARGET,{time:Ut},{streamId:W.getId()}),Be.seek(Ut,!1,!0),W.startScheduleControllers()),de=!1,oe.trigger(L.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:wi()})})}function On(Ut){var Mn=Ke(Ut.seekTime);Mn&&Mn!==W?Mn&&Mn!==W&&(kn(),function kt(Ut,mn){var Mn=Ut&&!isNaN(Ut.seekTime)?Ut.seekTime:NaN,Zn=W.getProcessors().map(function(ei){return ei.prepareOuterPeriodPlaybackSeeking(Ut)});Promise.all(Zn).then(function(){nn(mn,W,Mn)}).catch(function(ei){he.error(ei)})}(Ut,Mn)):(kn(),function ui(Ut){W.getProcessors().forEach(function(Mn){return Mn.prepareInnerPeriodPlaybackSeeking(Ut)}),Si(m.PlayListTrace.USER_REQUEST_STOP_REASON)}(Ut)),ni(m.PlayList.SEEK_START_REASON)}function kn(){qn()}function qn(){zt&&zt.length>0&&(zt.forEach(function(Ut){Ut.deactivate(!0)}),zt=[])}function St(Ut){Ut.newMediaInfo.streamInfo.id===W.getId()&&(qn(),W.prepareTrackChange(Ut))}function ct(Ut,mn){try{return dn.get().streaming.buffer.reuseExistingSourceBuffers&&(mn.isProtectionCompatible(Ut)||pn)&&($t||mn.isMediaCodecCompatible(Ut,mn))}catch{return!1}}function Qt(Ut){var mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ce&&!Ut.getPreloaded()&&ct(Ut,mn)&&Ut.startPreloading(Ce,jt).then(function(){zt.push(Ut)})}function Ke(Ut){if(isNaN(Ut))return null;for(var mn=Z.length,Mn=0;Mn<mn;Mn++){var Nn=Z[Mn];if(Ut<parseFloat((Nn.getStartTime()+Nn.getDuration()).toFixed(5)))return Nn}return null}function it(){try{var Ut=Me.getIsDynamic(),Mn=Me.getStreamsInfo()[0].manifestInfo,Nn=Be.getTime(),Zn=$.calcTimeShiftBufferWindow(Z,Ut),ei=Xt();if(typeof Zn.start>"u"||typeof Zn.end>"u")return;ei&&0!==ei.length?ei.forEach(function(fi){we.addDVRInfo(fi.getType(),Nn,Mn,Zn)}):we.addDVRInfo(t.default.VIDEO,Nn,Mn,Zn)}catch{}}function Ct(Ut){if(It&&J){var mn=Qe.getInitialBufferLevel(),Mn=[t.default.TEXT];(isNaN(mn)||mn<=Be.getBufferLevel(Mn)||Me.getIsDynamic()&&mn>Be.getLiveDelay())&&(It=!1,ni(m.PlayList.INITIAL_PLAYOUT_START_REASON),Be.play())}Ut&&Ut.mediaType&&we.addBufferLevel(Ut.mediaType,new Date,1e3*Ut.bufferLevel)}function Gt(Ut){Ut.streamInfo.id===W.getId()&&Ut.reason&&Ut.reason.forceReplace&&qn(),_i(Ut.streamInfo.id).prepareQualityChange(Ut)}function hn(){if(Me.getIsDynamic()&&0!==Be.getOriginalLiveDelay()&&W){var Ut=Me.getStreamsInfo();if(Ut.length>0){var mn=Ut[0].manifestInfo,Mn=eo(Ut,mn);Be.computeAndSetLiveDelay(Mn,mn)}}}function bn(){if(di()){var Ut=Ye.getPlaybackQuality();Ut&&we.addDroppedFrames(Ut)}}function Ft(){me.debug("[onPlaybackStarted]"),!It&&dt&&ni(m.PlayList.RESUME_FROM_PAUSE_START_REASON),It&&(It=!1),_t&&(_t=!1,dn.get().streaming.applyContentSteering&&!Pe.shouldQueryBeforeStart()&&Pe.loadSteeringData()),dt=!1}function Rt(Ut){me.debug("[onPlaybackPaused]"),Ut.ended||(dt=!0,Si(m.PlayListTrace.USER_REQUEST_STOP_REASON))}function Ht(Ut){me.debug("Stream with id ".concat(Ut.streamInfo.id," finished buffering")),Ce&&Ut.streamInfo.isLast?(me.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),_e.signalEndOfStream(Ce)):on()}function on(){if(W&&W.getHasFinishedBuffering())for(var Ut=function tt(){var Ut=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{var mn=Ut||W||null;if(mn){var Mn=mn.getStreamInfo();return Z.filter(function(Nn){var Zn=Nn.getStreamInfo();return Zn.start>Mn.start&&Mn.id!==Zn.id})}}catch{return[]}}(W),mn=0;mn<Ut.length;){var Mn=Ut[mn],Nn=0===mn?W:Ut[mn-1];!Mn.getPreloaded()&&Nn.getHasFinishedBuffering()&&Ce&&Qt(Mn,Nn),mn+=1}}function Un(){Ot&&(clearInterval(Ot),Ot=null)}function Xt(){return W?W.getProcessors():[]}function ve(Ut){if(W&&!W.getIsEndedEventSignaled()){W.setIsEndedEventSignaled(!0);var mn=function at(){var mn=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||W||null;if(!mn)return null;for(var Mn=mn.getStreamInfo(),Nn=Mn.start,Zn=0,ei=-1,fi=NaN;Zn<Z.length;){var Ri=Z[Zn].getStreamInfo(),dr=Ri.start-Nn;dr>0&&(isNaN(fi)||dr<fi)&&Mn.id!==Ri.id&&(fi=dr,ei=Zn),Zn+=1}return ei>=0?Z[ei]:null}();mn?(me.debug("StreamController onEnded, found next stream with id ".concat(mn.getStreamInfo().id,". Switching from ").concat(W.getStreamInfo().id," to ").concat(mn.getStreamInfo().id)),nn(mn,W,NaN)):(me.debug("StreamController no next stream found"),W.setIsEndedEventSignaled(!1)),Si(mn?m.PlayListTrace.END_OF_PERIOD_STOP_REASON:m.PlayListTrace.END_OF_CONTENT_STOP_REASON)}Ut&&Ut.isLast&&(Un(),Pe.stopSteeringRequestTimer())}function At(Ut){var mn=Ut||wi().manifestInfo.duration;_e.setDuration(mn)}function sr(Ut){var mn=ze.getURIFragmentData();if(!mn||!mn.t)return NaN;var Nn=Jn()[0].getStreamInfo().start;return mn.t=mn.t.split(",")[0],Br(Ut,mn.t,Nn)}function Ui(Ut,mn){var Mn=0;return Ut||(Mn=Jn()[0].getStreamInfo().start),Br(Ut,mn,Mn)}function Br(Ut,mn,Mn){var Nn=Me.getRegularPeriods()[0],Zn=mn.toString(),ei=-1!==Zn.indexOf("posix:")?"now"===Zn.substring(6)?Date.now()/1e3:parseFloat(Zn.substring(6)):NaN;return Ut&&!isNaN(ei)?$.calcPresentationTimeFromWallTime(new Date(1e3*ei),Nn):parseFloat(Zn)+Mn}function eo(Ut,mn){try{var Mn=NaN;if(mn&&!isNaN(mn.maxFragmentDuration)&&isFinite(mn.maxFragmentDuration))return mn.maxFragmentDuration;if(Ut&&1===Ut.length){var Nn=Ut[0],ei=[t.default.VIDEO,t.default.AUDIO,t.default.TEXT].reduce(function(fi,li){var Ri=Me.getMediaInfoForType(Nn,li);return Ri&&!1!==Ri.isFragmented&&fi.push(Ri),fi},[]).reduce(function(fi,li){var Ri=Me.getVoRepresentations(li);return Ri&&Ri.length>0&&Ri.forEach(function(dr){dr&&fi.push(dr)}),fi},[]).reduce(function(fi,li){var Ri=Me.convertRepresentationToRepresentationInfo(li);return Ri&&Ri.fragmentDuration&&!isNaN(Ri.fragmentDuration)&&fi.push(Ri.fragmentDuration),fi},[]);Mn=Math.max.apply(Math,w(ei))}return isFinite(Mn)?Mn:NaN}catch{return NaN}}function yo(Ut){if(Ut.error)ce=!0,cr();else{me.info("Manifest updated... updating data system wide.");var mn=Ut.manifest;Me.updatePeriods(mn);var Mn=Me.getUTCTimingSources();Me.getIsDynamic()&&(!Mn||0===Mn.length)&&oe.trigger(A.default.CONFORMANCE_VIOLATION,{level:D.default.LEVELS.WARNING,event:D.default.EVENTS.NO_UTC_TIMING_ELEMENT});var Nn=Me.getIsDynamic()?Mn.concat(qe.getUTCTimingSources()):Mn,Zn=ie.isHTTPS(Ut.manifest.url);Nn.forEach(function(ei){ei.value.replace(/.*?:\/\//g,"")===dn.get().streaming.utcSynchronization.defaultTimingSource.value.replace(/.*?:\/\//g,"")&&(ei.value=ei.value.replace(Zn?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),Zn?"https://":"http://"),me.debug("Matching default timing source protocol to manifest protocol: ",ei.value))}),ue.filterUnsupportedFeatures(mn).then(function(){Oe.initialize(mn),Le.attemptSync(Nn,Me.getIsDynamic())})}}function di(){return!!W&&W.getHasVideoTrack()}function Zi(){return!!W&&W.getHasAudioTrack()}function Si(Ut,mn){mn=mn||new Date,Xt().forEach(function(Mn){Mn.finalisePlayList(mn,Ut)}),we.addPlayList()}function ni(Ut){we.createPlaylistMetrics(1e3*Be.getTime(),Ut)}function Ro(Ut){if(Ut.error){var mn="";switch(Ut.error.code){case 1:mn="MEDIA_ERR_ABORTED";break;case 2:mn="MEDIA_ERR_NETWORK";break;case 3:mn="MEDIA_ERR_DECODE",ut.counts.mediaErrorDecode+=1;break;case 4:mn="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:mn="MEDIA_ERR_ENCRYPTED";break;default:mn="UNKNOWN"}if("MEDIA_ERR_DECODE"===mn&&dn.get().errors.recoverAttempts.mediaErrorDecode>=ut.counts.mediaErrorDecode)return void function so(){me.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var Ut=Be.getTime();W.deactivate(!1),me.warn("MediaSource has been resetted. Resuming playback from time ".concat(Ut)),yn(Ut,!1)}();ge=!0,Ut.error.message&&(mn+=" ("+Ut.error.message+")"),Ut.error.msExtendedCode&&(mn+=" (0x"+(Ut.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),me.fatal("Video Element Error: "+mn),Ut.error&&me.fatal(Ut.error),he.error(new V.default(Ut.error.code,mn)),cr()}}function wi(){return W?W.getStreamInfo():null}function _i(Ut){for(var mn=0,Mn=Z.length;mn<Mn;mn++)if(Z[mn].getId()===Ut)return Z[mn];return null}function Rn(Ut){isNaN(Ut.newDuration)||At(Ut.newDuration)}function Sr(){Z=[],st=NaN,X=null,de=!1,W=null,ge=!1,ce=!1,It=!0,_t=!0,dt=!1,J=!0,Ot=null,pn=!1,$t=!1,zt=[],jn=null,ut={counts:{mediaErrorDecode:0}}}function cr(){mt(),Le.reset(),Si(ge||ce?m.PlayListTrace.FAILURE_STOP_REASON:m.PlayListTrace.USER_REQUEST_STOP_REASON);for(var Ut=0,mn=Z?Z.length:0;Ut<mn;Ut++)Z[Ut].reset(ge);(function lt(){oe.off(A.default.PLAYBACK_TIME_UPDATED,bn,H),oe.off(A.default.PLAYBACK_SEEKING,On,H),oe.off(A.default.PLAYBACK_ERROR,Ro,H),oe.off(A.default.PLAYBACK_STARTED,Ft,H),oe.off(A.default.PLAYBACK_PAUSED,Rt,H),oe.off(A.default.PLAYBACK_ENDED,ve,H),oe.off(A.default.METRIC_ADDED,nr,H),oe.off(A.default.MANIFEST_VALIDITY_CHANGED,Rn,H),oe.off(A.default.BUFFER_LEVEL_UPDATED,Ct,H),oe.off(A.default.QUALITY_CHANGE_REQUESTED,Gt,H),L.default.KEY_SESSION_UPDATED&&oe.off(L.default.KEY_SESSION_UPDATED,Wt,H),oe.off(L.default.MANIFEST_UPDATED,yo,H),oe.off(L.default.STREAM_BUFFERING_COMPLETED,Ht,H),oe.off(L.default.TIME_SYNCHRONIZATION_COMPLETED,Nt,H),oe.off(L.default.CURRENT_TRACK_CHANGED,St,H),oe.off(L.default.SETTING_UPDATED_LIVE_DELAY,hn,H),oe.off(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,hn,H)})(),Oe.reset(),Se.reset(),ye.reset(),we.clearAllCurrentMetrics(),le.setValue(null),Ie.reset(),$.reset(),K.reset(),Ce&&(_e.detachMediaSource(Ye),Ce=null),Ye=null,X&&(X=null,q=null,le.getValue()&&oe.trigger(L.default.PROTECTION_DESTROYED,{data:le.getValue().url})),Un(),oe.trigger(L.default.STREAM_TEARDOWN_COMPLETE),Sr()}function nr(Ut){if(Ut.metric===b.default.DVR_INFO){var mn=Zi()?t.default.AUDIO:t.default.VIDEO;Ut.mediaType===mn&&_e.setSeekable(Ut.value.range.start,Ut.value.range.end)}}function Jn(){return Z}return H={initialize:function fe(Ut,mn){mt(),J=Ut,q=mn,$.initialize(),(Se=Object(y.default)(z).create()).setConfig({manifestModel:le,adapter:Me,manifestLoader:Ie,errHandler:he,settings:dn}),Se.initialize(),(ye=Object(P.default)(z).getInstance()).setConfig({manifestUpdater:Se,playbackController:Be,settings:dn}),ye.start(),Le.setConfig({dashMetrics:we,baseURLController:Oe,errHandler:he,settings:dn}),Le.initialize(),X&&(oe.trigger(L.default.PROTECTION_CREATED,{controller:X}),X.setMediaElement(Ye.getElement()),q&&X.setProtectionData(q)),function pe(){oe.on(A.default.PLAYBACK_TIME_UPDATED,bn,H),oe.on(A.default.PLAYBACK_SEEKING,On,H),oe.on(A.default.PLAYBACK_ERROR,Ro,H),oe.on(A.default.PLAYBACK_STARTED,Ft,H),oe.on(A.default.PLAYBACK_PAUSED,Rt,H),oe.on(A.default.PLAYBACK_ENDED,ve,H),oe.on(A.default.METRIC_ADDED,nr,H),oe.on(A.default.MANIFEST_VALIDITY_CHANGED,Rn,H),oe.on(A.default.BUFFER_LEVEL_UPDATED,Ct,H),oe.on(A.default.QUALITY_CHANGE_REQUESTED,Gt,H),L.default.KEY_SESSION_UPDATED&&oe.on(L.default.KEY_SESSION_UPDATED,Wt,H),oe.on(L.default.MANIFEST_UPDATED,yo,H),oe.on(L.default.STREAM_BUFFERING_COMPLETED,Ht,H),oe.on(L.default.TIME_SYNCHRONIZATION_COMPLETED,Nt,H),oe.on(L.default.CURRENT_TRACK_CHANGED,St,H),oe.on(L.default.SETTING_UPDATED_LIVE_DELAY,hn,H),oe.on(L.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,hn,H)}()},getActiveStreamInfo:wi,addDVRMetric:it,hasVideoTrack:di,hasAudioTrack:Zi,getStreamById:_i,getStreamForTime:Ke,getTimeRelativeToStreamId:function rt(Ut,mn){for(var Mn=null,Nn=0,Zn=0,ei=null,fi=0;fi<Z.length;fi++){if(Zn=(Mn=Z[fi]).getStartTime(),ei=Mn.getDuration(),Number.isFinite(Zn)&&(Nn=Zn),Mn.getId()===mn)return Ut-Nn;Number.isFinite(ei)&&(Nn+=ei)}return null},load:function ft(Ut){var mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;mt(),st=mn,Ie.load(Ut)},loadWithManifest:function bt(Ut){var mn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NaN;(function Dt(){if(!Se||!Se.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),st=mn,Se.setManifest(Ut)},getActiveStreamProcessors:Xt,setConfig:function ai(Ut){Ut&&(Ut.capabilities&&(te=Ut.capabilities),Ut.capabilitiesFilter&&(ue=Ut.capabilitiesFilter),Ut.manifestLoader&&(Ie=Ut.manifestLoader),Ut.manifestModel&&(le=Ut.manifestModel),Ut.mediaPlayerModel&&(Qe=Ut.mediaPlayerModel),Ut.customParametersModel&&(qe=Ut.customParametersModel),Ut.protectionController&&(X=Ut.protectionController),Ut.adapter&&(Me=Ut.adapter),Ut.dashMetrics&&(we=Ut.dashMetrics),Ut.errHandler&&(he=Ut.errHandler),Ut.timelineConverter&&($=Ut.timelineConverter),Ut.videoModel&&(Ye=Ut.videoModel),Ut.playbackController&&(Be=Ut.playbackController),Ut.serviceDescriptionController&&($e=Ut.serviceDescriptionController),Ut.contentSteeringController&&(Pe=Ut.contentSteeringController),Ut.textController&&(Q=Ut.textController),Ut.abrController&&(He=Ut.abrController),Ut.mediaController&&(Ae=Ut.mediaController),Ut.settings&&(dn=Ut.settings),Ut.baseURLController&&(Oe=Ut.baseURLController),Ut.uriFragmentModel&&(ze=Ut.uriFragmentModel),Ut.segmentBaseController&&(je=Ut.segmentBaseController))},setProtectionData:function Li(Ut){q=Ut,X&&X.setProtectionData(q)},getIsStreamSwitchInProgress:function lo(){return de},switchToVideoElement:function gr(Ut){W&&(Be.initialize(wi()),yn(Ut,!1))},getHasMediaOrInitialisationError:function xn(){return ge||ce},getStreams:Jn,getActiveStream:function qt(){return W},getInitialPlayback:function tn(){return It},getAutoPlay:function pi(){return J},reset:cr},function xe(){me=Object(h.default)(z).getInstance().getLogger(H),Le=Object(U.default)(z).getInstance(),_e=Object(O.default)(z).getInstance(),K=Object(p.default)(z).getInstance(),ie=Object(v.default)(z).getInstance(),Sr()}(),H}Re.__dashjs_factory_name="StreamController",C.default=x.default.getSingletonFactory(Re)},"./src/streaming/controllers/TimeSyncController.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/controllers/TimeSyncController.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),b=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=c(
/*! ./../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ./../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! ./../../core/errors/Errors */
"./src/core/errors/Errors.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),x=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js");function P(){var S,B,Y,re,ae,Re,z,oe,H,me,te,ue,Se,Ie,le,Me,w=this.context,E=Object(I.default)(w).getInstance(),N=Object(m.default)(w).getInstance();function Le(){oe=[],H=[],me=null,te=null,Se=null,ue=NaN,Y=!1,re=!1,Ie=ae.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function je(){!ae.get().streaming.utcSynchronization.enabled||Y||re||!Se||!Se.value||!Se.schemeIdUri||isNaN(ue)||isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)||te&&(Date.now()-te)/1e3<30||(oe=[],re=!0,ze(isNaN(ae.get().streaming.utcSynchronization.backgroundAttempts)?2:ae.get().streaming.utcSynchronization.backgroundAttempts))}function ze(Be){try{if(Be<=0)return void ce();var $e=Date.now();Re[Se.schemeIdUri](Se.value,function(Qe){var qe=Date.now(),dt=Ae($e,qe,Qe);oe.push(dt),ze(Be-1)},function(){ce()})}catch{ce()}}function He(){var $e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||0;if(!H||0===H.length||$e>=H.length)K();else{var Qe=H[$e];if(Qe)if(Re.hasOwnProperty(Qe.schemeIdUri)){var qe=(new Date).getTime();Re[Qe.schemeIdUri](Qe.value,function(dt){var It=(new Date).getTime(),_t=Ae(qe,It,dt);Se=Qe,K(_t)},function(){He($e+1)})}else He($e+1);else K()}}function Ae(Be,$e,Qe){return Qe-($e-($e-Be)/2)}function K(){var Be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,$e=isNaN(Be);$e&&ae.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?function J(){var Be=z.getLatestMPDRequestHeaderValueByID("Date"),$e=null!==Be?new Date(Be).getTime():Number.NaN;isNaN($e)?de(!0):de(!1,$e-Date.now())}():de($e,Be)}function he(Be){var $e=Date.parse(Be);return isNaN($e)&&($e=function ie(Be){var It,_t,Ot=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Be);return It=Date.UTC(parseInt(Ot[1],10),parseInt(Ot[2],10)-1,parseInt(Ot[3],10),parseInt(Ot[4],10),parseInt(Ot[5],10),Ot[6]&&(parseInt(Ot[6],10)||0),Ot[7]&&1e3*parseFloat(Ot[7])||0),Ot[9]&&Ot[10]&&(_t=60*parseInt(Ot[9],10)+parseInt(Ot[10],10),It+=("+"===Ot[8]?-1:1)*_t*60*1e3),new Date(It).getTime()}(Be)),$e}function $(Be){return Date.parse(Be)}function Z(Be){return Date.parse(Be)}function W(Be,$e,Qe){Qe()}function X(Be,$e,Qe){var qe=he(Be);isNaN(qe)?Qe():$e(qe)}function Q(Be,$e,Qe,qe,dt){var It,_t,Ot=!1,jt=new XMLHttpRequest,zt=dt?b.HTTPRequest.HEAD:b.HTTPRequest.GET,$t=$e.match(/\S+/g);if($e=$t.shift(),It=function(){Ot||(Ot=!0,$t.length?Q(Be,$t.join(" "),Qe,qe,dt):qe())},_t=function(){var jn,st;200===jt.status&&(jn=dt?jt.getResponseHeader("Date"):jt.response,st=Be(jn),isNaN(st)||(Qe(st),Ot=!0))},N.isRelative($e)){var dn=Me.resolve();dn&&($e=N.resolve($e,dn.url))}jt.open(zt,$e),jt.timeout=5e3,jt.onload=_t,jt.onloadend=It,jt.send()}function q(Be,$e,Qe){Q(Z,Be,$e,Qe,!0)}function de(Be,$e){if(!isNaN(ue)&&!isNaN($e)&&!Be&&function ge(Be){try{var _t,$e=Ce(Be),Qe=isNaN(Ie)?30:Ie,qe=isNaN(ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:ae.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,dt=isNaN(ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:ae.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,It=isNaN(ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:ae.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;$e?(_t=Math.min(Qe*qe,dt),B.debug("Increasing timeBetweenSyncAttempts to ".concat(_t))):(_t=Math.max(Qe/qe,It),B.debug("Decreasing timeBetweenSyncAttempts to ".concat(_t))),Ie=_t}catch{}}($e),!Be&&!isNaN($e)){me=Date.now(),Y=!1;var Qe=isNaN(ue);ue=$e,Qe&&je(),B.debug("Completed UTC sync. Setting client - server offset to ".concat($e))}Be&&(Se=null,Y=!1,le.error(new t.default(F.default.TIME_SYNC_FAILED_ERROR_CODE,F.default.TIME_SYNC_FAILED_ERROR_MESSAGE))),E.trigger(y.default.UPDATE_TIME_SYNC_OFFSET,{offset:$e}),E.trigger(y.default.TIME_SYNCHRONIZATION_COMPLETED)}function ce(){if(oe&&0!==oe.length){var Be=oe.reduce(function($e,Qe){return $e+Qe},0)/oe.length;Ce(Be)?B.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(B.debug("Completed background UTC sync. Setting client - server offset to ".concat(Be)),E.trigger(y.default.UPDATE_TIME_SYNC_OFFSET,{offset:ue=Be})),re=!1,te=Date.now()}}function Ce(Be){try{if(isNaN(ue))return!0;var $e=ae.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(ae.get().streaming.utcSynchronization.maximumAllowedDrift)?ae.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Be>=ue-$e&&Be<=ue+$e}catch{return!0}}return S={initialize:function Pe(){Le(),Re={"urn:mpeg:dash:utc:http-head:2014":q,"urn:mpeg:dash:utc:http-xsdate:2014":Q.bind(null,he),"urn:mpeg:dash:utc:http-iso:2014":Q.bind(null,$),"urn:mpeg:dash:utc:direct:2014":X,"urn:mpeg:dash:utc:http-head:2012":q,"urn:mpeg:dash:utc:http-xsdate:2012":Q.bind(null,he),"urn:mpeg:dash:utc:http-iso:2012":Q.bind(null,$),"urn:mpeg:dash:utc:direct:2012":X,"urn:mpeg:dash:utc:http-ntp:2014":W,"urn:mpeg:dash:utc:ntp:2014":W,"urn:mpeg:dash:utc:sntp:2014":W}},attemptSync:function Oe(Be,$e){if(H=Be,!Y){if(!function ye(Be){try{if(!Be||!ae.get().streaming.utcSynchronization.enabled)return!1;var $e=isNaN(Ie)?30:Ie;return!(me&&$e&&!isNaN($e))||(Date.now()-me)/1e3>=$e}catch{return!0}}($e))return void E.trigger(y.default.TIME_SYNCHRONIZATION_COMPLETED);Y=!0,He()}},setConfig:function _e(Be){Be&&(Be.dashMetrics&&(z=Be.dashMetrics),Be.baseURLController&&(Me=Be.baseURLController),Be.errHandler&&(le=Be.errHandler),Be.settings&&(ae=Be.settings))},reset:function Ye(){Le(),E.off(y.default.ATTEMPT_BACKGROUND_SYNC,je,S)}},function we(){B=Object(x.default)(w).getInstance().getLogger(S),E.on(y.default.ATTEMPT_BACKGROUND_SYNC,je,S)}(),S}P.__dashjs_factory_name="TimeSyncController";var D=L.default.getSingletonFactory(P);D.HTTP_TIMEOUT_MS=5e3,L.default.updateSingletonFactory(P.__dashjs_factory_name,D),C.default=D},"./src/streaming/controllers/XlinkController.js":
/*!******************************************************!*\
                  !*** ./src/streaming/controllers/XlinkController.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../XlinkLoader */
"./src/streaming/XlinkLoader.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../../externals/xml2json */
"./externals/xml2json.js"),L=c(
/*! ../utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),x=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),m="onLoad";function v(A){A=A||{};var k,P,D,w,E,N,U=this.context,O=Object(b.default)(U).getInstance(),V=Object(L.default)(U).getInstance();function Re(Ie,le,Me){var _e,Le,we={};we.elements=Ie,we.type=le,we.resolveType=Me,0===we.elements.length&&oe(we);for(var Pe=0;Pe<we.elements.length;Pe++)Le=V.isHTTPURL((_e=we.elements[Pe]).url)?_e.url:_e.originalContent.BaseURL+_e.url,N.load(Le,_e,we)}function z(Ie){var le,Me,Le="";if(Me=Ie.resolveObject,(le=Ie.element).resolvedContent){var Pe=0;0===le.resolvedContent.indexOf("<?xml")&&(Pe=le.resolvedContent.indexOf("?>")+2),Le=le.resolvedContent.substr(0,Pe)+"<response>"+le.resolvedContent.substr(Pe)+"</response>",le.resolvedContent=E.xml_str2json(Le)}(function ue(Ie){var le;for(le=0;le<Ie.elements.length;le++)if(!1===Ie.elements[le].resolved)return!1;return!0})(Me)&&oe(Me)}function oe(Ie){var Me,we,le=[];if(function me(Ie){var Me,we,Le,Pe,Oe,le=[];for(Le=Ie.elements.length-1;Le>=0;Le--){if(we=(Me=Ie.elements[Le]).type+"_asArray",Me.resolvedContent){if(Me.resolvedContent)for(Pe=0;Pe<Me.resolvedContent[we].length;Pe++)le.push(Me.resolvedContent[we][Pe])}else delete Me.originalContent["xlink:actuate"],delete Me.originalContent["xlink:href"],le.push(Me.originalContent);for(Me.parentElement[we].splice(Me.index,1),Oe=0;Oe<le.length;Oe++)Me.parentElement[we].splice(Me.index+Oe,0,le[Oe]);le=[]}Ie.elements.length>0&&D.run(w)}(Ie),"onActuate"===Ie.resolveType&&O.trigger(I.default.XLINK_READY,{manifest:w}),Ie.resolveType===m)switch(Ie.type){case x.default.PERIOD:for(Me=0;Me<w[x.default.PERIOD+"_asArray"].length;Me++)(we=w[x.default.PERIOD+"_asArray"][Me]).hasOwnProperty(x.default.ADAPTATION_SET+"_asArray")&&(le=le.concat(H(we[x.default.ADAPTATION_SET+"_asArray"],we,x.default.ADAPTATION_SET,m))),we.hasOwnProperty(x.default.EVENT_STREAM+"_asArray")&&(le=le.concat(H(we[x.default.EVENT_STREAM+"_asArray"],we,x.default.EVENT_STREAM,m)));Re(le,x.default.ADAPTATION_SET,m);break;case x.default.ADAPTATION_SET:O.trigger(I.default.XLINK_READY,{manifest:w})}}function H(Ie,le,Me,we){var Le,Pe,Oe,_e=[];for(Pe=Ie.length-1;Pe>=0;Pe--)(Le=Ie[Pe]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===Le["xlink:href"]&&Ie.splice(Pe,1);for(Pe=0;Pe<Ie.length;Pe++)(Le=Ie[Pe]).hasOwnProperty("xlink:href")&&Le.hasOwnProperty("xlink:actuate")&&Le["xlink:actuate"]===we&&(Oe=te(Le["xlink:href"],le,Me,Pe,we,Le),_e.push(Oe));return _e}function te(Ie,le,Me,we,_e,Le){return{url:Ie,parentElement:le,type:Me,index:we,resolveType:_e,originalContent:Le,resolvedContent:null,resolved:!1}}return k={resolveManifestOnLoad:function re(Ie){E=new F.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:P}),(w=Ie).Period_asArray?Re(H(w.Period_asArray,w,x.default.PERIOD,m),x.default.PERIOD,m):O.trigger(I.default.XLINK_READY,{manifest:w})},setMatchers:function B(Ie){Ie&&(P=Ie)},setIron:function Y(Ie){Ie&&(D=Ie)},reset:function ae(){O.off(I.default.XLINK_ELEMENT_LOADED,z,k),N&&(N.reset(),N=null)}},function S(){O.on(I.default.XLINK_ELEMENT_LOADED,z,k),N=Object(t.default)(U).create({errHandler:A.errHandler,dashMetrics:A.dashMetrics,mediaPlayerModel:A.mediaPlayerModel,requestModifier:A.requestModifier,settings:A.settings})}(),k}v.__dashjs_factory_name="XlinkController",C.default=y.default.getClassFactory(v)},"./src/streaming/metrics/MetricsReporting.js":
/*!***************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReporting.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./utils/DVBErrorsTranslator */
"./src/streaming/metrics/utils/DVBErrorsTranslator.js"),b=c(
/*! ./MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),I=c(
/*! ./controllers/MetricsCollectionController */
"./src/streaming/metrics/controllers/MetricsCollectionController.js"),y=c(
/*! ./metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js"),F=c(
/*! ./reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function L(){var m=this.context;return{createMetricsReporting:function v(O){return Object(t.default)(m).getInstance({eventBus:O.eventBus,dashMetrics:O.dashMetrics,metricsConstants:O.metricsConstants,events:O.events}).initialise(),Object(I.default)(m).create(O)},getReportingFactory:function A(){return Object(F.default)(m).getInstance()},getMetricsHandlerFactory:function U(){return Object(y.default)(m).getInstance()}}}L.__dashjs_factory_name="MetricsReporting";var x=dashjs.FactoryMaker.getClassFactory(L);x.events=b.default,dashjs.FactoryMaker.updateClassFactory(L.__dashjs_factory_name,x),C.default=x},"./src/streaming/metrics/MetricsReportingEvents.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/MetricsReportingEvents.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function I(P,D){for(var w=0;w<D.length;w++){var E=D[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,F(E.key),E)}}function F(P){var D=function L(P,D){if("object"!==b(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var E=w.call(P,D||"default");if("object"!==b(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(P)}(P,"string");return"symbol"===b(D)?D:String(D)}function m(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&h(P,D)}function h(P,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(P,D)}function p(P){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,E=O(P);if(D){var S=O(this).constructor;N=Reflect.construct(E,arguments,S)}else N=E.apply(this,arguments);return function v(P,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(P)}c.r(C);var k=new(function(P){m(w,P);var D=p(w);function w(){var E;return function x(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w),(E=D.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",E.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",E.CMCD_DATA_GENERATED="cmcdDataGenerated",E}return function y(P,D,w){return D&&I(P.prototype,D),w&&I(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}(w)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));C.default=k},"./src/streaming/metrics/controllers/MetricsCollectionController.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsCollectionController.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./MetricsController */
"./src/streaming/metrics/controllers/MetricsController.js"),b=c(
/*! ../utils/ManifestParsing */
"./src/streaming/metrics/utils/ManifestParsing.js"),I=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function y(F){var L,x={},m=this.context,h=(F=F||{}).eventBus,p=F.events;function v(V){if(!V.error){var k=Object.keys(x);Object(b.default)(m).getInstance({adapter:F.adapter,constants:F.constants}).getMetrics(V.manifest).forEach(function(D){var w=JSON.stringify(D);if(x.hasOwnProperty(w))k.splice(w,1);else try{var E=Object(t.default)(m).create(F);E.initialize(D),x[w]=E}catch{}}),k.forEach(function(D){x[D].reset(),delete x[D]}),h.trigger(I.default.METRICS_INITIALISATION_COMPLETE)}}function A(){Object.keys(x).forEach(function(V){x[V].reset()}),x={}}return L={reset:function O(){h.off(p.MANIFEST_UPDATED,v,L),h.off(p.STREAM_TEARDOWN_COMPLETE,A,L)}},function U(){h.on(p.MANIFEST_UPDATED,v,L),h.on(p.STREAM_TEARDOWN_COMPLETE,A,L)}(),L}y.__dashjs_factory_name="MetricsCollectionController",C.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/controllers/MetricsController.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsController.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./RangeController */
"./src/streaming/metrics/controllers/RangeController.js"),b=c(
/*! ./ReportingController */
"./src/streaming/metrics/controllers/ReportingController.js"),I=c(
/*! ./MetricsHandlersController */
"./src/streaming/metrics/controllers/MetricsHandlersController.js");function y(F){F=F||{};var L,x,m,p=this.context;function A(){L&&L.reset(),x&&x.reset(),m&&m.reset()}return{initialize:function v(U){try{(m=Object(t.default)(p).create({mediaElement:F.mediaElement})).initialize(U.Range),(x=Object(b.default)(p).create({debug:F.debug,metricsConstants:F.metricsConstants,mediaPlayerModel:F.mediaPlayerModel})).initialize(U.Reporting,m),(L=Object(I.default)(p).create({debug:F.debug,eventBus:F.eventBus,metricsConstants:F.metricsConstants,events:F.events})).initialize(U.metrics,x)}catch(O){throw A(),O}},reset:A}}y.__dashjs_factory_name="MetricsController",C.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/controllers/MetricsHandlersController.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/MetricsHandlersController.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../metrics/MetricsHandlerFactory */
"./src/streaming/metrics/metrics/MetricsHandlerFactory.js");function b(I){var F,y=[],L=this.context,x=(I=I||{}).eventBus,m=I.events,h=Object(t.default)(L).getInstance({debug:I.debug,eventBus:I.eventBus,metricsConstants:I.metricsConstants});function p(U){y.forEach(function(O){O.handleNewMetric(U.metric,U.value,U.mediaType)})}return F={initialize:function v(U,O){U.split(",").forEach(function(V,k,P){var D;if(-1!==V.indexOf("(")&&-1===V.indexOf(")")){var w=P[k+1];w&&-1===w.indexOf("(")&&-1!==w.indexOf(")")&&(V+=","+w,delete P[k+1])}(D=h.create(V,O))&&y.push(D)}),x.on(m.METRIC_ADDED,p,F),x.on(m.METRIC_UPDATED,p,F)},reset:function A(){x.off(m.METRIC_ADDED,p,F),x.off(m.METRIC_UPDATED,p,F),y.forEach(function(U){return U.reset()}),y=[]}}}b.__dashjs_factory_name="MetricsHandlersController",C.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/RangeController.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/RangeController.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js");function b(I){var L,x,y=!1,F=this.context,m=(I=I||{}).mediaElement;return L={initialize:function h(U){U&&U.length&&(U.forEach(function(O){var V=O.starttime;x.add(V,V+O.duration)}),y=!!U[0]._useWallClockTime)},reset:function p(){x.clear()},isEnabled:function A(){var O,U=x.length;if(!U)return!0;O=y?(new Date).getTime()/1e3:m.currentTime;for(var V=0;V<U;V+=1){var k=x.start(V),P=x.end(V);if(k<=O&&O<P)return!0}return!1}},function v(){x=Object(t.default)(F).create()}(),L}b.__dashjs_factory_name="RangeController",C.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/controllers/ReportingController.js":
/*!******************************************************************!*\
                  !*** ./src/streaming/metrics/controllers/ReportingController.js ***!
                  \******************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../reporting/ReportingFactory */
"./src/streaming/metrics/reporting/ReportingFactory.js");function b(I){var y=[],L=Object(t.default)(this.context).getInstance(I);return{initialize:function x(p,v){p.some(function(A){var U=L.create(A,v);if(U)return y.push(U),!0})},reset:function m(){y.forEach(function(p){return p.reset()}),y=[]},report:function h(p,v){y.forEach(function(A){return A.report(p,v)})}}}b.__dashjs_factory_name="ReportingController",C.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/metrics/MetricsHandlerFactory.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/MetricsHandlerFactory.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./handlers/BufferLevelHandler */
"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js"),b=c(
/*! ./handlers/DVBErrorsHandler */
"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js"),I=c(
/*! ./handlers/HttpListHandler */
"./src/streaming/metrics/metrics/handlers/HttpListHandler.js"),y=c(
/*! ./handlers/GenericMetricHandler */
"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js");function F(L){var x,m=(L=L||{}).debug?L.debug.getLogger(x):{},h=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,p=this.context,v={BufferLevel:t.default,DVBErrors:b.default,HttpList:I.default,PlayList:y.default,RepSwitchList:y.default,TcpList:y.default};return{create:function A(V,k){var D,P=V.match(h);if(P){try{(D=v[P[1]](p).create({eventBus:L.eventBus,metricsConstants:L.metricsConstants})).initialize(P[1],k,P[3],P[5])}catch(w){D=null,m.error("MetricsHandlerFactory: Could not create handler for type ".concat(P[1]," with args ").concat(P[3],", ").concat(P[5]," (").concat(w.message,")"))}return D}},register:function U(V,k){v[V]=k},unregister:function O(V){delete v[V]}}}F.__dashjs_factory_name="MetricsHandlerFactory",C.default=dashjs.FactoryMaker.getSingletonFactory(F)},"./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/BufferLevelHandler.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function b(I){I=I||{};var F,L,x,m,h,p=this.context,v=Object(t.default)(p).getInstance(),A=[],U=I.metricsConstants;function V(){var w=function O(){try{return Object.keys(A).map(function(w){return A[w]}).reduce(function(w,E){return w.level<E.level?w:E})}catch{return}}();w&&h!==w.t&&(h=w.t,F.report(x,w))}return{initialize:function k(w,E,N){E&&(L=v.validateN(N),F=E,x=v.reconstructFullMetricName(w,N),m=setInterval(V,L))},reset:function P(){clearInterval(m),m=null,L=0,F=null,h=null},handleNewMetric:function D(w,E,N){w===U.BUFFER_LEVEL&&(A[N]=E)}}}b.__dashjs_factory_name="BufferLevelHandler",C.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js":
/*!********************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/DVBErrorsHandler.js ***!
                  \********************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");C.default=dashjs.FactoryMaker.getClassFactory(function b(I){var F,L=(I=I||{}).eventBus,x=I.metricsConstants;function m(){L.off(t.default.METRICS_INITIALISATION_COMPLETE,m,this),L.trigger(t.default.BECAME_REPORTING_PLAYER)}return{initialize:function h(A,U){U&&(F=U,L.on(t.default.METRICS_INITIALISATION_COMPLETE,m,this))},reset:function p(){F=null},handleNewMetric:function v(A,U){A===x.DVB_ERRORS&&F&&F.report(A,U)}}})},"./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js":
/*!************************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/GenericMetricHandler.js ***!
                  \************************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){var I,y;return{initialize:function F(m,h){I=m,y=h},reset:function L(){y=null,I=void 0},handleNewMetric:function x(m,h){m===I&&y&&y.report(I,h)}}}c.r(C),t.__dashjs_factory_name="GenericMetricHandler",C.default=dashjs.FactoryMaker.getClassFactory(t)},"./src/streaming/metrics/metrics/handlers/HttpListHandler.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/metrics/handlers/HttpListHandler.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/HandlerHelpers */
"./src/streaming/metrics/utils/HandlerHelpers.js");function b(I){I=I||{};var F,L,x,m,h,p=[],v=Object(t.default)(this.context).getInstance(),A=I.metricsConstants;function U(){p.length&&F&&F.report(m,p),p=[]}return{initialize:function O(P,D,w,E){D&&(L=v.validateN(w),F=D,E&&E.length&&(x=E),m=v.reconstructFullMetricName(P,w,E),h=setInterval(U,L))},reset:function V(){clearInterval(h),h=null,L=null,x=null,p=[],F=null},handleNewMetric:function k(P,D){P===A.HTTP_REQUEST&&(!x||x===D.type)&&p.push(D)}}}b.__dashjs_factory_name="HttpListHandler",C.default=dashjs.FactoryMaker.getClassFactory(b)},"./src/streaming/metrics/reporting/ReportingFactory.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/ReportingFactory.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./reporters/DVBReporting */
"./src/streaming/metrics/reporting/reporters/DVBReporting.js");function b(I){var L,y={"urn:dvb:dash:reporting:2014":t.default},F=this.context,x=(I=I||{}).debug?I.debug.getLogger(L):{},m=I.metricsConstants,h=I.mediaPlayerModel||{};return{create:function p(U,O){var V;try{(V=y[U.schemeIdUri](F).create({metricsConstants:m,mediaPlayerModel:h})).initialize(U,O)}catch(k){V=null,x.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(U.schemeIdUri," (").concat(k.message,")"))}return V},register:function v(U,O){y[U]=O},unregister:function A(U){delete y[U]}}}b.__dashjs_factory_name="ReportingFactory",C.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/metrics/reporting/reporters/DVBReporting.js":
/*!*******************************************************************!*\
                  !*** ./src/streaming/metrics/reporting/reporters/DVBReporting.js ***!
                  \*******************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../utils/MetricSerialiser */
"./src/streaming/metrics/utils/MetricSerialiser.js"),b=c(
/*! ../../utils/RNG */
"./src/streaming/metrics/utils/RNG.js"),I=c(
/*! ../../../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function y(F){var L,m,h,p,v,A,U,O,x=this.context,P=[],D=(F=F||{}).metricsConstants;function B(){v=!1,A=!1,U=null,O=null}return L={report:function N(re,ae){Array.isArray(ae)||(ae=[ae]),A&&O.isEnabled()&&ae.forEach(function(Re){var z=m.serialise(Re);re!==D.DVB_ERRORS&&(z="metricname=".concat(re,"&").concat(z)),function E(re,ae,Re){var z=new XMLHttpRequest;z.withCredentials=h.getXHRWithCredentialsForType(D.HTTP_REQUEST_DVB_REPORTING_TYPE);var oe=function(){var me=P.indexOf(z);-1!==me&&(P.splice(me,1),z.status>=200&&z.status<300?ae&&ae():Re&&Re())};P.push(z);try{z.open("GET",re),z.onloadend=oe,z.onerror=oe,z.send()}catch{z.onerror()}}(z="".concat(U,"?").concat(z),null,function(){A=!1})})},initialize:function S(re,ae){var Re;if(O=ae,!(U=re.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");v||((Re=re.dvb_probability)&&(1e3===Re||Re/1e3>=p.random())&&(A=!0),v=!0)},reset:function Y(){B()}},function w(){m=Object(t.default)(x).getInstance(),p=Object(b.default)(x).getInstance(),h=Object(I.default)(x).getInstance(),B()}(),L}y.__dashjs_factory_name="DVBReporting",C.default=dashjs.FactoryMaker.getClassFactory(y)},"./src/streaming/metrics/utils/DVBErrorsTranslator.js":
/*!************************************************************!*\
                  !*** ./src/streaming/metrics/utils/DVBErrorsTranslator.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/DVBErrors */
"./src/streaming/metrics/vo/DVBErrors.js"),b=c(
/*! ../MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js");function I(y){var F,L,x=(y=y||{}).eventBus,m=y.dashMetrics,h=y.metricsConstants,p=y.events;function v(E){var N=new t.default;if(L){for(var S in E)E.hasOwnProperty(S)&&(N[S]=E[S]);N.mpdurl||(N.mpdurl=L.originalUrl||L.url),N.terror||(N.terror=new Date),m.addDVBErrors(N)}}function A(E){E.error||(L=E.manifest)}function U(E){v({errorcode:t.default.BASE_URL_CHANGED,servicelocation:E.entry})}function O(){v({errorcode:t.default.BECAME_REPORTER})}function k(E){E.metric===h.HTTP_REQUEST&&function V(E){(0===E.responsecode||null==E.responsecode||E.responsecode>=400||E.responsecode<100||E.responsecode>=600)&&v({errorcode:E.responsecode||t.default.CONNECTION_ERROR,url:E.url,terror:E.tresponse,servicelocation:E._serviceLocation})}(E.value)}function P(E){var S;switch(E.error?E.error.code:0){case MediaError.MEDIA_ERR_NETWORK:S=t.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:S=t.default.CORRUPT_MEDIA_OTHER;break;default:return}v({errorcode:S})}return F={initialise:function D(){x.on(p.MANIFEST_UPDATED,A,F),x.on(p.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),x.on(p.METRIC_ADDED,k,F),x.on(p.METRIC_UPDATED,k,F),x.on(p.PLAYBACK_ERROR,P,F),x.on(b.default.BECAME_REPORTING_PLAYER,O,F)},reset:function w(){x.off(p.MANIFEST_UPDATED,A,F),x.off(p.SERVICE_LOCATION_BLACKLIST_CHANGED,U,F),x.off(p.METRIC_ADDED,k,F),x.off(p.METRIC_UPDATED,k,F),x.off(p.PLAYBACK_ERROR,P,F),x.off(b.default.BECAME_REPORTING_PLAYER,O,F)}}}I.__dashjs_factory_name="DVBErrorsTranslator",C.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/metrics/utils/HandlerHelpers.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/metrics/utils/HandlerHelpers.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){return{reconstructFullMetricName:function(I,y,F){var L=I;return y&&(L+="("+y,F&&F.length&&(L+=","+F),L+=")"),L},validateN:function(I){if(!I)throw new Error("missing n");if(isNaN(I))throw new Error("n is NaN");if(I<0)throw new Error("n must be positive");return I}}}c.r(C),t.__dashjs_factory_name="HandlerHelpers",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/ManifestParsing.js":
/*!********************************************************!*\
                  !*** ./src/streaming/metrics/utils/ManifestParsing.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/Metrics */
"./src/streaming/metrics/vo/Metrics.js"),b=c(
/*! ../vo/Range */
"./src/streaming/metrics/vo/Range.js"),I=c(
/*! ../vo/Reporting */
"./src/streaming/metrics/vo/Reporting.js");function y(F){var x=(F=F||{}).adapter,m=F.constants;return{getMetrics:function p(v){var A=[];return v&&v.Metrics_asArray&&v.Metrics_asArray.forEach(function(U){var O=new t.default,V=x.getIsDynamic(v);U.hasOwnProperty("metrics")&&(O.metrics=U.metrics,U.Range_asArray&&U.Range_asArray.forEach(function(k){var P=new b.default;P.starttime=function h(v,A,U){var O,V,k=0;return A?k=x.getAvailabilityStartTime(v)/1e3:(O=x.getRegularPeriods(v)).length&&(k=O[0].start),V=k,U&&U.hasOwnProperty(m.START_TIME)&&(V+=U.starttime),V}(v,V,k),P.duration=k.hasOwnProperty("duration")?k.duration:x.getDuration(v),P._useWallClockTime=V,O.Range.push(P)}),U.Reporting_asArray&&(U.Reporting_asArray.forEach(function(k){var P=new I.default;k.hasOwnProperty(m.SCHEME_ID_URI)&&(P.schemeIdUri=k.schemeIdUri,k.hasOwnProperty("value")&&(P.value=k.value),k.hasOwnProperty(m.DVB_REPORTING_URL)&&(P.dvb_reportingUrl=k[m.DVB_REPORTING_URL]),k.hasOwnProperty(m.DVB_PROBABILITY)&&(P.dvb_probability=k[m.DVB_PROBABILITY]),O.Reporting.push(P))}),A.push(O)))}),A}}}y.__dashjs_factory_name="ManifestParsing",C.default=dashjs.FactoryMaker.getSingletonFactory(y)},"./src/streaming/metrics/utils/MetricSerialiser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/metrics/utils/MetricSerialiser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){return{serialise:function b(I){var L,x,y=[],F=[];for(L in I)if(I.hasOwnProperty(L)&&0!==L.indexOf("_")){if(null==(x=I[L])&&(x=""),Array.isArray(x)){if(!x.length)continue;F=[],x.forEach(function(m){var h="Object"!==Object.prototype.toString.call(m).slice(8,-1);F.push(h?m:b(m))}),x=F.map(encodeURIComponent).join(",")}else"string"==typeof x?x=encodeURIComponent(x):x instanceof Date?x=x.toISOString():"number"==typeof x&&(x=Math.round(x));y.push(L+"="+x)}return y.join("&")}}}c.r(C),t.__dashjs_factory_name="MetricSerialiser",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/utils/RNG.js":
/*!********************************************!*\
                  !*** ./src/streaming/metrics/utils/RNG.js ***!
                  \********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){var L,x,m,b=window.crypto||window.msCrypto,I=Uint32Array,y=Math.pow(2,8*I.BYTES_PER_ELEMENT)-1,F=10;function h(){b&&(L||(L=new I(F)),b.getRandomValues(L),x=0)}return m={random:function p(v,A){var U;return v||(v=0),A||(A=1),b?(x===L.length&&h(),U=L[x]/y,x+=1):U=Math.random(),U*(A-v)+v}},h(),m}c.r(C),t.__dashjs_factory_name="RNG",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/metrics/vo/DVBErrors.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/DVBErrors.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C);var x=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null});x.SSL_CONNECTION_FAILED_PREFIX="SSL",x.DNS_RESOLUTION_FAILED="C00",x.HOST_UNREACHABLE="C01",x.CONNECTION_REFUSED="C02",x.CONNECTION_ERROR="C03",x.CORRUPT_MEDIA_ISOBMFF="M00",x.CORRUPT_MEDIA_OTHER="M01",x.BASE_URL_CHANGED="F00",x.BECAME_REPORTER="S00",C.default=x},"./src/streaming/metrics/vo/Metrics.js":
/*!*********************************************!*\
                  !*** ./src/streaming/metrics/vo/Metrics.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.metrics="",this.Range=[],this.Reporting=[]})},"./src/streaming/metrics/vo/Range.js":
/*!*******************************************!*\
                  !*** ./src/streaming/metrics/vo/Range.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1})},"./src/streaming/metrics/vo/Reporting.js":
/*!***********************************************!*\
                  !*** ./src/streaming/metrics/vo/Reporting.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,y(A.key),A)}}function I(h,p,v){return p&&b(h.prototype,p),v&&b(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function y(h){var p=function F(h,p){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);C.default=I(function h(){(function L(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3})},"./src/streaming/models/BaseURLTreeModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/BaseURLTreeModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../utils/ObjectUtils */
"./src/streaming/utils/ObjectUtils.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(A){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(A)}function y(A,U){for(var O=0;O<U.length;O++){var V=U[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(A,L(V.key),V)}}function F(A,U,O){return U&&y(A.prototype,U),O&&y(A,O),Object.defineProperty(A,"prototype",{writable:!1}),A}function L(A){var U=function x(A,U){if("object"!==I(A)||null===A)return A;var O=A[Symbol.toPrimitive];if(void 0!==O){var V=O.call(A,U||"default");if("object"!==I(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===U?String:Number)(A)}(A,"string");return"symbol"===I(U)?U:String(U)}var h=NaN,p=F(function A(U,O){(function m(A,U){if(!(A instanceof U))throw new TypeError("Cannot call a class as a function")})(this,A),this.data={baseUrls:U||null,selectedIdx:O||h},this.children=[]});function v(){var A,U,O,V=this.context,k=Object(t.default)(V).getInstance();function E(Re,z,oe){var H=O.getBaseURLsFromElement(oe);Re[z]?k.areEqual(H,Re[z].data.baseUrls)||(Re[z].data.baseUrls=H,Re[z].data.selectedIdx=h):Re[z]=new p(H)}function N(Re){!function w(){if(!O||!O.hasOwnProperty("getBaseURLsFromElement")||!O.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var z=O.getBaseURLsFromElement(Re);k.areEqual(z,U.data.baseUrls)||(U.data.baseUrls=z,U.data.selectedIdx=h),Re&&Re.Period_asArray&&Re.Period_asArray.forEach(function(oe,H){E(U.children,H,oe),oe.AdaptationSet_asArray&&oe.AdaptationSet_asArray.forEach(function(me,te){E(U.children[H].children,te,me),me.Representation_asArray&&me.Representation_asArray.sort(O.getRepresentationSortFunction()).forEach(function(ue,Se){E(U.children[H].children[te].children,Se,ue)})})})}function S(Re,z){var oe=z||U;Re(oe.data),oe.children&&oe.children.forEach(function(H){return S(Re,H)})}function re(){U=new p}return A={reset:re,update:function Y(Re){N(Re)},getForPath:function ae(Re){var z=U,oe=[z.data];return Re&&Re.forEach(function(H){(z=z.children[H])&&oe.push(z.data)}),oe.filter(function(H){return H.baseUrls.length})},invalidateSelectedIndexes:function B(Re){S(function(z){isNaN(z.selectedIdx)||Re===z.baseUrls[z.selectedIdx].serviceLocation&&(z.selectedIdx=h)})},setConfig:function D(Re){Re.adapter&&(O=Re.adapter)}},function P(){re()}(),A}v.__dashjs_factory_name="BaseURLTreeModel",C.default=b.default.getClassFactory(v)},"./src/streaming/models/CmcdModel.js":
/*!*******************************************!*\
                  !*** ./src/streaming/models/CmcdModel.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),I=c(
/*! ../metrics/MetricsReportingEvents */
"./src/streaming/metrics/MetricsReportingEvents.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),L=c(
/*! ../../streaming/constants/Constants */
"./src/streaming/constants/Constants.js"),x=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),m=c(
/*! ../../dash/models/DashManifestModel */
"./src/dash/models/DashManifestModel.js"),h=c(
/*! ../../core/Utils */
"./src/core/Utils.js");function p(E,N){var S=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!S){if(Array.isArray(E)||(S=function v(E,N){if(E){if("string"==typeof E)return A(E,N);var S=Object.prototype.toString.call(E).slice(8,-1);if("Object"===S&&E.constructor&&(S=E.constructor.name),"Map"===S||"Set"===S)return Array.from(E);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return A(E,N)}}(E))||N&&E&&"number"==typeof E.length){S&&(E=S);var B=0,Y=function(){};return{s:Y,n:function(){return B>=E.length?{done:!0}:{done:!1,value:E[B++]}},e:function(oe){throw oe},f:Y}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Re,re=!0,ae=!1;return{s:function(){S=S.call(E)},n:function(){var oe=S.next();return re=oe.done,oe},e:function(oe){ae=!0,Re=oe},f:function(){try{!re&&null!=S.return&&S.return()}finally{if(ae)throw Re}}}}function A(E,N){(null==N||N>E.length)&&(N=E.length);for(var S=0,B=new Array(N);S<N;S++)B[S]=E[S];return B}var V_MANIFEST="m",V_AUDIO="a",V_VIDEO="v",V_INIT="i",V_CAPTION="c",V_ISOBMFF_TEXT_TRACK="tt",V_ENCRYPTION_KEY="k",V_OTHER="o",k_DASH="d",k_MSS="s",P_VOD="v",P_LIVE="l";function w(){var E,N,S,B,Y,re,ae,Re,z,oe,H=this.context,me=Object(t.default)(H).getInstance(),te=Object(F.default)(H).getInstance();function le(){S={pr:1,nor:null,st:null,sf:null,sid:"".concat(h.default.generateUuid()),cid:null},z={},Re={},oe={},we()}function Me(){we()}function we(){if(re){var qe=re.getStreamController();if(qe&&"function"==typeof qe.getActiveStream){var dt=qe.getActiveStream();dt&&(ae=dt.getProcessors())}}}function Pe(qe,dt){var Ot,It={},_t=p(dt);try{for(_t.s();!(Ot=_t.n()).done;){var jt=Ot.value;qe[jt]&&(It[jt]=qe[jt])}}catch(zt){_t.e(zt)}finally{_t.f()}return It}function je(qe){var dt=te.get().streaming.cmcd.enabledKeys;return qe.filter(function(It){return dt.includes(It)})}function ze(qe){try{return qe.type===x.HTTPRequest.MPD_TYPE?function Ae(){var qe=$();return qe.ot=V_MANIFEST,qe}():qe.type===x.HTTPRequest.MEDIA_SEGMENT_TYPE?(function K(qe){oe.hasOwnProperty(qe)||(oe[qe]=!1),Re.hasOwnProperty(qe)||(Re[qe]=!1),z.hasOwnProperty(qe)||(z[qe]=!1)}(qe.mediaType),function ye(qe){var jn,dt=$(),It=function Z(qe){try{return parseInt(qe.mediaInfo.bitrateList[qe.quality].bandwidth/1e3)}catch{return null}}(qe),_t=function X(qe){try{return isNaN(qe.duration)?null:Math.round(1e3*qe.duration)}catch{return null}}(qe),Ot=function Q(qe){try{return 100*parseInt(B.getThroughputHistory().getSafeAverageThroughput(qe)/100)}catch{return null}}(qe.mediaType),jt=function q(qe){try{var dt=S.pr,It=Y.getCurrentBufferLevel(qe);return isNaN(dt)||isNaN(It)?null:100*parseInt(It/dt*10)}catch{return null}}(qe.mediaType),zt=J(qe.mediaType),$t=function W(qe){try{var dt=B.getTopBitrateInfoFor(qe);return Math.round(dt.bitrate/1e3)}catch{return null}}(qe.mediaType),dn=S.pr,pn=function Be(qe){if(ae&&0!==ae.length){var It,dt=p(ae);try{for(dt.s();!(It=dt.n()).done;){var _t=It.value;if(_t.getType()===qe)return _t.probeNextRequest()}}catch(Ot){dt.e(Ot)}finally{dt.f()}}}(qe.mediaType);qe.mediaType===L.default.VIDEO&&(jn=V_VIDEO),qe.mediaType===L.default.AUDIO&&(jn=V_AUDIO),qe.mediaType===L.default.TEXT&&(jn="application/mp4"===qe.mediaInfo.mimeType?V_ISOBMFF_TEXT_TRACK:V_CAPTION);var st=te.get().streaming.cmcd.rtp;return st||(st=function $e(qe){var dt=re.getPlaybackRate();dt||(dt=1);var It=qe.quality,Ot=qe.mediaInfo,jt=qe.duration,zt=J(qe.mediaType);0===zt&&(zt=500);var jn=Ot.bitrateList[It].bandwidth*jt/1e3/(zt/dt/1e3),st=te.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(te.get().streaming.cmcd.rtpSafetyFactor)?te.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(jn*st/100)+1)}(qe)),dt.rtp=st,pn&&(qe.url!==pn.url?dt.nor=encodeURIComponent(h.default.getRelativeUrl(qe.url,pn.url)):pn.range&&(dt.nrr=pn.range)),It&&(dt.br=It),jn&&(dt.ot=jn),isNaN(_t)||(dt.d=_t),isNaN(Ot)||(dt.mtp=Ot),isNaN(jt)||(dt.dl=jt),isNaN(zt)||(dt.bl=zt),isNaN($t)||(dt.tb=$t),!isNaN(dn)&&1!==dn&&(dt.pr=dn),z[qe.mediaType]&&(dt.bs=!0,z[qe.mediaType]=!1),(Re[qe.mediaType]||!oe[qe.mediaType])&&(dt.su=!0,Re[qe.mediaType]=!1,oe[qe.mediaType]=!0),dt}(qe)):qe.type===x.HTTPRequest.INIT_SEGMENT_TYPE?function ie(){var qe=$();return qe.ot=V_INIT,qe.su=!0,qe}():qe.type===x.HTTPRequest.OTHER_TYPE||qe.type===x.HTTPRequest.XLINK_EXPANSION_TYPE?function he(){var qe=$();return qe.ot=V_OTHER,qe}():qe.type===x.HTTPRequest.LICENSE?function He(qe){var dt=$();return dt.ot=V_ENCRYPTION_KEY,dt}():null}catch{return null}}function $(){var qe={},dt=te.get().streaming.cmcd.cid?te.get().streaming.cmcd.cid:S.cid;return qe.v=1,qe.sid=te.get().streaming.cmcd.sid?te.get().streaming.cmcd.sid:S.sid,qe.sid="".concat(qe.sid),dt&&(qe.cid="".concat(dt)),!isNaN(S.pr)&&1!==S.pr&&null!==S.pr&&(qe.pr=S.pr),S.st&&(qe.st=S.st),S.sf&&(qe.sf=S.sf),qe}function J(qe){try{var dt=Y.getCurrentBufferLevel(qe);return isNaN(dt)?null:100*parseInt(10*dt)}catch{return null}}function de(qe){try{S.pr=qe.playbackRate}catch{}}function ge(qe){try{var dt=E.getIsDynamic(qe.data),_t=qe.protocol&&"MSS"===qe.protocol?k_MSS:k_DASH;S.st="".concat(dt?P_LIVE:P_VOD),S.sf="".concat(_t)}catch{}}function ce(qe){try{qe.state&&qe.mediaType&&qe.state===b.default.BUFFER_EMPTY&&(z[qe.mediaType]||(z[qe.mediaType]=!0),Re[qe.mediaType]||(Re[qe.mediaType]=!0))}catch{}}function Ce(){for(var qe in z)z.hasOwnProperty(qe)&&(z[qe]=!0);for(var dt in Re)Re.hasOwnProperty(dt)&&(Re[dt]=!0)}function Ye(qe){try{if(!qe)return null;var dt=Object.keys(qe).sort(function(Ot,jt){return Ot.localeCompare(jt)}),It=dt.length,_t=dt.reduce(function(Ot,jt,zt){return"v"===jt&&1===qe[jt]||(Ot+="string"==typeof qe[jt]&&"ot"!==jt&&"sf"!==jt&&"st"!==jt?"".concat(jt,"=").concat(JSON.stringify(qe[jt])):"".concat(jt,"=").concat(qe[jt]),zt<It-1&&(Ot+=",")),Ot},"");return(_t=_t.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return N={getQueryParameter:function _e(qe){try{if(te.get().streaming.cmcd&&te.get().streaming.cmcd.enabled){var dt=ze(qe),_t=Ye(function Le(qe){try{var dt=te.get().streaming.cmcd.enabledKeys;return Object.keys(qe).filter(function(It){return dt.includes(It)}).reduce(function(It,_t){return It[_t]=qe[_t],It},{})}catch{return qe}}(dt));return me.trigger(I.default.CMCD_DATA_GENERATED,{url:qe.url,mediaType:qe.mediaType,cmcdData:dt,cmcdString:_t}),{key:"CMCD",value:_t}}return null}catch{return null}},getHeaderParameters:function Oe(qe){try{if(te.get().streaming.cmcd&&te.get().streaming.cmcd.enabled){var dt=ze(qe),It=Pe(dt,je(["br","d","ot","tb"])),_t=Pe(dt,je(["bl","dl","mtp","nor","nrr","su"])),Ot=Pe(dt,je(["bs","rtp"])),jt=Pe(dt,je(["cid","pr","sf","sid","st","v"])),zt={"CMCD-Object":Ye(It),"CMCD-Request":Ye(_t),"CMCD-Status":Ye(Ot),"CMCD-Session":Ye(jt)};return me.trigger(I.default.CMCD_DATA_GENERATED,{url:qe.url,mediaType:qe.mediaType,cmcdData:dt,headers:zt}),zt}return null}catch{return null}},setConfig:function Ie(qe){qe&&(qe.abrController&&(B=qe.abrController),qe.dashMetrics&&(Y=qe.dashMetrics),qe.playbackController&&(re=qe.playbackController))},reset:function Qe(){me.off(b.default.PLAYBACK_RATE_CHANGED,de,this),me.off(b.default.MANIFEST_LOADED,ge,this),me.off(b.default.BUFFER_LEVEL_STATE_CHANGED,ce,N),me.off(b.default.PLAYBACK_SEEKED,Ce,N),le()},initialize:function Se(){me.on(b.default.PLAYBACK_RATE_CHANGED,de,N),me.on(b.default.MANIFEST_LOADED,ge,N),me.on(b.default.BUFFER_LEVEL_STATE_CHANGED,ce,N),me.on(b.default.PLAYBACK_SEEKED,Ce,N),me.on(b.default.PERIOD_SWITCH_COMPLETED,Me,N)}},function ue(){E=Object(m.default)(H).getInstance(),le()}(),N}w.__dashjs_factory_name="CmcdModel",C.default=y.default.getSingletonFactory(w)},"./src/streaming/models/CustomParametersModel.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/models/CustomParametersModel.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../dash/vo/UTCTiming */
"./src/dash/vo/UTCTiming.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),y=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),F=c(
/*! ../rules/abr/ABRRulesCollection */
"./src/streaming/rules/abr/ABRRulesCollection.js"),L=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function m(){var h,p,v,A,U,O,V,k,P=this.context,D=Object(I.default)(P).getInstance();function E(){A=[],U=[],O=[],k=[],V=null,p=[]}function Ie(K,ie){var he=-1;K.some(function($,Z){if($===ie)return he=Z,!0}),!(he<0)&&K.splice(he,1)}function le(K){var ie;for(ie=0;ie<k.length;ie++)if(k[ie].rulename===K)return ie;return-1}function Pe(K,ie){je(K,ie);var he=new t.default;he.schemeIdUri=K,he.value=ie,p.push(he)}function je(K,ie){Object(y.checkParameterType)(K,"string"),Object(y.checkParameterType)(ie,"string"),p.forEach(function(he,$){he.schemeIdUri===K&&he.value===ie&&p.splice($,1)})}return h={getCustomInitialTrackSelectionFunction:function re(){return V},setCustomInitialTrackSelectionFunction:function B(K){V=K},resetCustomInitialTrackSelectionFunction:function Y(){V=null},getLicenseResponseFilters:function Re(){return U},getLicenseRequestFilters:function ae(){return A},getCustomCapabilitiesFilters:function te(){return O},registerCustomCapabilitiesFilter:function ue(K){O.push(K)},registerLicenseResponseFilter:function oe(K){U.push(K)},registerLicenseRequestFilter:function z(K){A.push(K)},unregisterCustomCapabilitiesFilter:function Se(K){Ie(O,K)},unregisterLicenseResponseFilter:function me(K){Ie(U,K)},unregisterLicenseRequestFilter:function H(K){Ie(A,K)},addAbrCustomRule:function Me(K,ie,he){if("string"!=typeof K||K!==F.default.ABANDON_FRAGMENT_RULES&&K!==F.default.QUALITY_SWITCH_RULES||"string"!=typeof ie)throw L.default.BAD_ARGUMENT_ERROR;var $=le(ie);-1===$?k.push({type:K,rulename:ie,rule:he}):(k[$].type=K,k[$].rule=he)},removeAllAbrCustomRule:function _e(){k=[]},removeAbrCustomRule:function we(K){if(K){var ie=le(K);-1!==ie&&k.splice(ie,1)}else k=[]},getAbrCustomRules:function Le(){return k},addUTCTimingSource:Pe,removeUTCTimingSource:je,getUTCTimingSources:function Oe(){return p},clearDefaultUTCTimingSources:function ze(){p=[]},restoreDefaultUTCTimingSources:function He(){var K=D.get().streaming.utcSynchronization.defaultTimingSource;Pe(K.scheme,K.value)},setXHRWithCredentialsForType:function Ae(K,ie){K?v[K]=!!ie:Object.keys(v).forEach(function(he){Ae(he,ie)})},getXHRWithCredentialsForType:function ye(K){var ie=v[K];return void 0===ie?v.default:ie},setConfig:function S(){},reset:function N(){E()}},function w(){v={default:false},E()}(),h}m.__dashjs_factory_name="CustomParametersModel",C.default=b.default.getSingletonFactory(m)},"./src/streaming/models/FragmentModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/FragmentModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../vo/FragmentRequest */
"./src/streaming/vo/FragmentRequest.js"),I="loading",y="executed",L="failed";function x(h){var P,D,w,E,p=(h=h||{}).eventBus,v=h.events,A=h.dashMetrics,U=h.fragmentLoader,O=h.debug,V=h.streamInfo,k=h.type;function Y(He){var Z;return!!He&&(Z=!1,w.some(function(W){if(function($,Z){return!isNaN($.index)&&$.startTime===Z.startTime&&$.adaptationIndex===Z.adaptationIndex&&$.type===Z.type}(He,W)||function($,Z){return isNaN($.index)&&isNaN(Z.index)&&$.quality===Z.quality}(He,W)||function($,Z){return $.action===b.default.ACTION_COMPLETE&&$.action===Z.action}(He,W))return Z=!0}),Z)}function Re(He){return isNaN(He.duration)?.25:Math.min(He.duration/8,.5)}function z(He){w=w.filter(function(Ae){var ye=Re(Ae);return isNaN(Ae.startTime)||void 0!==He&&Ae.startTime>=He-ye})}function H(He,Ae){Ae<=He+.5||(w=w.filter(function(ye){var K=Re(ye);return isNaN(ye.startTime)||ye.startTime>=Ae-K||isNaN(ye.duration)||ye.startTime+ye.duration<=He+K}))}function Ie(He,Ae,ye){for(var ie=He.length-1;ie>=0;ie--){var he=He[ie],$=he.startTime,Z=$+he.duration;if(ye=isNaN(ye)?Re(he):ye,!isNaN($)&&!isNaN(Z)&&Ae+ye>=$&&Ae-ye<Z||isNaN($)&&isNaN(Ae))return he}return null}function we(He,Ae){A.addSchedulingInfo(He,Ae),A.addRequestsQueue(He.mediaType,E,w)}function _e(He){He.sender===U&&(E.splice(E.indexOf(He.request),1),He.response&&!He.error&&w.push(He.request),we(He.request,He.error?L:y),p.trigger(v.FRAGMENT_LOADING_COMPLETED,{request:He.request,response:He.response,error:He.error,sender:this},{streamId:V.id,mediaType:k}))}function Le(He){He.sender===U&&p.trigger(v.FRAGMENT_LOADING_PROGRESS,{request:He.request,response:He.response,error:He.error,sender:this},{streamId:V.id,mediaType:k})}function Pe(He){He.sender===U&&p.trigger(v.FRAGMENT_LOADING_ABANDONED,{request:He.request},{streamId:V.id,mediaType:k})}function Oe(){w=[],E=[]}return P={getStreamId:function S(){return V.id},getType:function B(){return k},getRequests:function ae(He){var ye=[];return(He?He.state instanceof Array?He.state:[He.state]:[]).forEach(function(K){var ie=function Me(He){var Ae;switch(He){case I:Ae=E;break;case y:Ae=w;break;default:Ae=[]}return Ae}(K);ye=ye.concat(function le(He,Ae){return Ae.hasOwnProperty("time")?[Ie(He,Ae.time,Ae.threshold)]:He.filter(function(ye){for(var K in Ae)if("state"!==K&&Ae.hasOwnProperty(K)&&ye[K]!=Ae[K])return!1;return!0})}(ie,He))}),ye},isFragmentLoaded:Y,isFragmentLoadedOrPending:function re(He){var K,Ae=!1,ye=0;if(!(Ae=Y(He)))for(ye=0;ye<E.length;ye++)He.url===(K=E[ye]).url&&He.startTime===K.startTime&&(Ae=!0);return Ae},removeExecutedRequestsBeforeTime:z,removeExecutedRequestsAfterTime:function oe(He){w=w.filter(function(Ae){return isNaN(Ae.startTime)||void 0!==He&&Ae.startTime<He})},syncExecutedRequestsWithBufferedRange:function me(He,Ae){if(He&&0!==He.length){for(var ye=0,K=0,ie=He.length;K<ie;K++)H(ye,He.start(K)),ye=He.end(K);Ae>0&&H(ye,Ae)}else z()},abortRequests:function te(){D.debug("abort requests"),U.abort(),E=[]},executeRequest:function ue(He){He.action===b.default.ACTION_DOWNLOAD?(we(He,I),E.push(He),function Se(He){p.trigger(v.FRAGMENT_LOADING_STARTED,{request:He},{streamId:V.id,mediaType:k}),U.load(He)}(He)):D.warn("Unknown request action.")},reset:function je(){p.off(v.LOADING_COMPLETED,_e,this),p.off(v.LOADING_DATA_PROGRESS,Le,this),p.off(v.LOADING_ABANDONED,Pe,this),U&&U.reset(),Oe()},resetInitialSettings:Oe,addExecutedRequest:function ze(He){w.push(He)}},function N(){D=O.getLogger(P),Oe(),p.on(v.LOADING_COMPLETED,_e,P),p.on(v.LOADING_DATA_PROGRESS,Le,P),p.on(v.LOADING_ABANDONED,Pe,P)}(),P}x.__dashjs_factory_name="FragmentModel";var m=t.default.getClassFactory(x);m.FRAGMENT_MODEL_LOADING=I,m.FRAGMENT_MODEL_EXECUTED=y,m.FRAGMENT_MODEL_CANCELED="canceled",m.FRAGMENT_MODEL_FAILED=L,t.default.updateClassFactory(x.__dashjs_factory_name,m),C.default=m},"./src/streaming/models/LowLatencyThroughputModel.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/models/LowLatencyThroughputModel.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(){var p,v,h=this.context,A={};function U(){v=Object(t.default)(h).getInstance().getLogger(p)}function O(w){for(var E={},N=0,S=0,B=0,Y=0,re=w.length,ae=0;ae<re;++ae)N+=w[ae].chunkDownloadTimeRelativeMS,S+=w[ae].bufferLevel,B+=w[ae].chunkDownloadTimeRelativeMS*w[ae].bufferLevel,Y+=w[ae].chunkDownloadTimeRelativeMS*w[ae].chunkDownloadTimeRelativeMS;return E.m=(B-N*S/re)/(Y-N*N/re),E.b=S/re-E.m*N/re,function(Re){return E.m*Re+E.b}}function V(w){var N,E=!0,S=w.reduce(function(B,Y){return B+Y.bufferLevelAtSegmentEnd},0)/w.length;return w.forEach(function(B){Math.abs(B.bufferLevelAtSegmentEnd/B.bufferLevelAtSegmentStart)<.95&&(E=!1),B.bufferLevelAtSegmentEnd/S<.8&&(E=!1),N?N>B.bitrate&&(E=!1):N=B.bitrate}),E}return p={setup:U,addMeasurement:function D(w,E,N,S,B){w&&w.mediaType&&!A[w.mediaType]&&(A[w.mediaType]=[]);var Y=w.mediaInfo.bitrateList.find(function(re){return re.id===w.representationId});A[w.mediaType].push({index:w.index,repId:w.representationId,mediaType:w.mediaType,requestTimeMS:S,adjustedAvailabilityStartTimeMS:w.availabilityStartTime.getTime(),segDurationMS:1e3*w.duration,chunksDurationMS:N.reduce(function(re,ae){return re+ae.chunkDownloadDurationMS},0),segmentBytes:N.reduce(function(re,ae){return re+ae.chunkBytes},0),bitrate:Y&&Y.bandwidth,bitrateList:w.mediaInfo.bitrateList,chunkMeasurements:N,fetchDownloadDurationMS:E,throughputCapacityDelayMS:B,getEstimatedBufferLevel:O(N.slice(1))}),A[w.mediaType].length>10&&A[w.mediaType].shift()},getThroughputCapacityDelayMS:function P(w,E){var N=A[w.mediaType]&&A[w.mediaType].slice(-3);return!N||N.length<3||!V(N)?0:E/4>250?250:E/4},getEstimatedDownloadDurationMS:function k(w){var E=A[w.mediaType].slice(-1).pop(),N=A[w.mediaType].slice(-3),S=E.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;E.bufferLevelAtSegmentStart=E.getEstimatedBufferLevel(S/2),E.bufferLevelAtSegmentEnd=E.getEstimatedBufferLevel(S);var B=V(N),Y=B?.6:.8;if(E.isBufferStable&&1.05*E.segDurationMS<E.fetchDownloadDurationMS)return E.fetchDownloadDurationMS;if(!B||E.segDurationMS<E.fetchDownloadDurationMS||E.adjustedAvailabilityStartTimeMS<=E.requestTimeMS+E.throughputCapacityDelayMS-E.segDurationMS)return.8*E.fetchDownloadDurationMS;for(var re=E.requestTimeMS+E.throughputCapacityDelayMS-E.adjustedAvailabilityStartTimeMS,ae=0,Re=0,z=0,oe=0;oe<E.chunkMeasurements.length;oe++){var H=E.chunkMeasurements[oe];if(re<Re+H.chunkDownloadDurationMS)break;Re+=H.chunkDownloadDurationMS,ae+=H.chunkBytes,z++}if(re<0&&v.warn("request time was before adjusted availibitly start time"),ae&&Re&&z>.2*E.chunkMeasurements.length){var te=E.segmentBytes/(ae/Re);return E.fetchDownloadDurationMS<te?E.fetchDownloadDurationMS*Y:te*Y}var ue=E.bitrate;return E.bitrateList.some(function(Se){if(Se.bandwidth>E.bitrate)return ue=Se.bandwidth,!0}),ue===E.bitrate?E.fetchDownloadDurationMS*Y:Y*E.segmentBytes*8*1e3/ue}},U(),p}I.__dashjs_factory_name="LowLatencyThroughputModel",C.default=b.default.getSingletonFactory(I)},"./src/streaming/models/ManifestModel.js":
/*!***********************************************!*\
                  !*** ./src/streaming/models/ManifestModel.js ***!
                  \***********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var m,F=this.context,L=Object(t.default)(F).getInstance();return{getValue:function h(){return m},setValue:function p(v){m=v,v&&L.trigger(b.default.MANIFEST_LOADED,{data:v})}}}y.__dashjs_factory_name="ManifestModel",C.default=I.default.getSingletonFactory(y)},"./src/streaming/models/MediaPlayerModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/MediaPlayerModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),v=-.5;function U(){var O,V,k,P,D=this.context,w=Object(I.default)(D).getInstance();function S(ue,Se){return isNaN(ue)?0:ue>0?(Se&&V.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ue<v?(Se&&V.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(v,": ").concat(-50,"% playback speed.")),v):ue}function B(ue,Se){return isNaN(ue)?0:ue<0?(Se&&V.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):ue>1?(Se&&V.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):ue}function oe(){var ue=w.get().streaming.buffer.stableBufferTime>0?w.get().streaming.buffer.stableBufferTime:w.get().streaming.buffer.fastSwitchEnabled?20:12,Se=k.getLiveDelay();return!isNaN(Se)&&Se>0?Math.min(ue,Se):ue}return O={getCatchupMaxDrift:function Y(){if(!isNaN(w.get().streaming.liveCatchup.maxDrift)&&w.get().streaming.liveCatchup.maxDrift>0)return w.get().streaming.liveCatchup.maxDrift;var ue=P.getServiceDescriptionSettings();return ue&&ue.liveCatchup&&!isNaN(ue.liveCatchup.maxDrift)&&ue.liveCatchup.maxDrift>0?ue.liveCatchup.maxDrift:12},getCatchupModeEnabled:function ae(){return null!==w.get().streaming.liveCatchup.enabled?w.get().streaming.liveCatchup.enabled:k.getInitialCatchupModeActivated()},getStableBufferTime:oe,getInitialBufferLevel:function z(){var ue=w.get().streaming.buffer.initialBufferLevel;return isNaN(ue)||ue<0?0:Math.min(oe(),ue)},getRetryAttemptsForType:function H(ue){var Se=isNaN(w.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:w.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return k.getLowLatencyModeEnabled()?w.get().streaming.retryAttempts[ue]*Se:w.get().streaming.retryAttempts[ue]},getRetryIntervalsForType:function me(ue){var Se=isNaN(w.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:w.get().streaming.retryIntervals.lowLatencyReductionFactor;return k.getLowLatencyModeEnabled()?w.get().streaming.retryIntervals[ue]/Se:w.get().streaming.retryIntervals[ue]},getCatchupPlaybackRates:function re(ue){var Se=w.get().streaming.liveCatchup.playbackRate;if(!isNaN(Se.min)||!isNaN(Se.max))return{min:S(Se.min,ue),max:B(Se.max,ue)};var Ie=P.getServiceDescriptionSettings();if(Ie&&Ie.liveCatchup&&(!isNaN(Ie.liveCatchup.playbackRate.min)||!isNaN(Ie.liveCatchup.playbackRate.max))){var le=Ie.liveCatchup.playbackRate;return{min:S(le.min,ue),max:B(le.max,ue)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function Re(ue,Se){try{var Ie=w.get().streaming.abr[ue][Se];if(!isNaN(Ie)&&-1!==Ie)return Ie;var le=P.getServiceDescriptionSettings();return le&&le[ue]&&!isNaN(le[ue][Se])?le[ue][Se]:-1}catch{return-1}},setConfig:function N(ue){ue.playbackController&&(k=ue.playbackController),ue.serviceDescriptionController&&(P=ue.serviceDescriptionController)},reset:function te(){}},function E(){V=Object(t.default)(D).getInstance().getLogger(O)}(),O}U.__dashjs_factory_name="MediaPlayerModel",C.default=b.default.getSingletonFactory(U)},"./src/streaming/models/MetricsModel.js":
/*!**********************************************!*\
                  !*** ./src/streaming/models/MetricsModel.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),I=c(
/*! ../vo/MetricsList */
"./src/streaming/vo/MetricsList.js"),y=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../vo/metrics/RepresentationSwitch */
"./src/streaming/vo/metrics/RepresentationSwitch.js"),L=c(
/*! ../vo/metrics/BufferLevel */
"./src/streaming/vo/metrics/BufferLevel.js"),x=c(
/*! ../vo/metrics/BufferState */
"./src/streaming/vo/metrics/BufferState.js"),m=c(
/*! ../vo/metrics/DVRInfo */
"./src/streaming/vo/metrics/DVRInfo.js"),h=c(
/*! ../vo/metrics/DroppedFrames */
"./src/streaming/vo/metrics/DroppedFrames.js"),p=c(
/*! ../vo/metrics/ManifestUpdate */
"./src/streaming/vo/metrics/ManifestUpdate.js"),v=c(
/*! ../vo/metrics/SchedulingInfo */
"./src/streaming/vo/metrics/SchedulingInfo.js"),A=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),U=c(
/*! ../vo/metrics/RequestsQueue */
"./src/streaming/vo/metrics/RequestsQueue.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),V=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function k(P){var N,S,D=(P=P||{}).settings,w=this.context,E=Object(A.default)(w).getInstance();function Y(){E.trigger(O.default.METRICS_CHANGED)}function re(K){E.trigger(O.default.METRIC_CHANGED,{mediaType:K}),Y()}function ae(K,ie,he){E.trigger(O.default.METRIC_UPDATED,{mediaType:K,metric:ie,value:he}),re(K)}function Re(K,ie,he){E.trigger(O.default.METRIC_ADDED,{mediaType:K,metric:ie,value:he}),re(K)}function H(K,ie){var he=null;return K&&(S.hasOwnProperty(K)?he=S[K]:ie||(he=new I.default,S[K]=he)),he}function me(K,ie,he){var $=H(K);null!==$&&($[ie].push(he),$[ie].length>D.get().streaming.metrics.maxListDepth&&$[ie].shift())}function Ie(K,ie,he){me(K,ie,he),Re(K,ie,he)}return N={clearCurrentMetricsForType:function z(K){delete S[K],re(K)},clearAllCurrentMetrics:function oe(){S={},Y()},getMetricsFor:H,addHttpRequest:function ue(K,ie,he,$,Z,W,X,Q,q,J,de,ge,ce,Ce,Ye,Be){var $e=new y.HTTPRequest;W&&W!==$&&(ue(K,null,he,$,Z,null,null,Q,q,null,null,null,ce,null,null,Be),$e.actualurl=W),$e.tcpid=ie,$e.type=he,$e.url=$,$e.range=Q,$e.trequest=q,$e.tresponse=J,$e.responsecode=ge,$e._tfinish=de,$e._stream=K,$e._mediaduration=ce,$e._quality=Z,$e._responseHeaders=Ce,$e._serviceLocation=X,$e._fileLoaderType=Be,Ye?Ye.forEach(function(Qe){!function te(K,ie,he,$){var Z=new y.HTTPRequestTrace;return Z.s=ie,Z.d=he,Z.b=$,K.trace.push(Z),K.interval||(K.interval=0),K.interval+=he,Z}($e,Qe.s,Qe.d,Qe.b)}):(delete $e.interval,delete $e.trace),Ie(K,b.default.HTTP_REQUEST,$e)},addRepresentationSwitch:function Se(K,ie,he,$,Z){var W=new F.default;W.t=ie,W.mt=he,W.to=$,Z?W.lto=Z:delete W.lto,Ie(K,b.default.TRACK_SWITCH,W)},addBufferLevel:function le(K,ie,he){var $=new L.default;$.t=ie,$.level=he,Ie(K,b.default.BUFFER_LEVEL,$)},addBufferState:function Me(K,ie,he){var $=new x.default;$.target=he,$.state=ie,Ie(K,b.default.BUFFER_STATE,$)},addDVRInfo:function we(K,ie,he,$){var Z=new m.default;Z.time=ie,Z.range=$,Z.manifestInfo=he,Ie(K,b.default.DVR_INFO,Z)},addDroppedFrames:function _e(K,ie){var he=new h.default,$=H(K).DroppedFrames;ie&&(he.time=ie.creationTime,he.droppedFrames=ie.droppedVideoFrames,!($.length>0&&$[$.length-1]==he)&&Ie(K,b.default.DROPPED_FRAMES,he))},addSchedulingInfo:function Le(K,ie,he,$,Z,W,X,Q,q){var J=new v.default;J.mediaType=K,J.t=ie,J.type=he,J.startTime=$,J.availabilityStartTime=Z,J.duration=W,J.quality=X,J.range=Q,J.state=q,Ie(K,b.default.SCHEDULING_INFO,J)},addRequestsQueue:function Pe(K,ie,he){var $=new U.default;$.loadingRequests=ie,$.executedRequests=he,H(K).RequestsQueue=$,Re(K,b.default.REQUESTS_QUEUE,$)},addManifestUpdate:function Oe(K,ie,he,$,Z,W,X,Q,q,J){var de=new p.ManifestUpdate;de.mediaType=K,de.type=ie,de.requestTime=he,de.fetchTime=$,de.availabilityStartTime=Z,de.presentationStartTime=W,de.clientTimeOffset=X,de.currentTime=Q,de.buffered=q,de.latency=J,me(t.default.STREAM,b.default.MANIFEST_UPDATE,de),Re(K,b.default.MANIFEST_UPDATE,de)},updateManifestUpdateInfo:function je(K,ie){if(K){for(var he in ie)K[he]=ie[he];ae(K.mediaType,b.default.MANIFEST_UPDATE,K)}},addManifestUpdateStreamInfo:function ze(K,ie,he,$,Z){if(K){var W=new p.ManifestUpdateStreamInfo;W.id=ie,W.index=he,W.start=$,W.duration=Z,K.streamInfo.push(W),ae(K.mediaType,b.default.MANIFEST_UPDATE_STREAM_INFO,K)}},addManifestUpdateRepresentationInfo:function He(K,ie,he,$,Z,W,X,Q){if(K&&K.representationInfo){var q=new p.ManifestUpdateRepresentationInfo;q.id=ie,q.index=he,q.streamIndex=$,q.mediaType=Z,q.startNumber=X,q.fragmentInfoType=Q,q.presentationTimeOffset=W,K.representationInfo.push(q),ae(K.mediaType,b.default.MANIFEST_UPDATE_TRACK_INFO,K)}},addPlayList:function Ae(K){K.trace&&Array.isArray(K.trace)?K.trace.forEach(function(ie){ie.hasOwnProperty("subreplevel")&&!ie.subreplevel&&delete ie.subreplevel}):delete K.trace,Ie(t.default.STREAM,b.default.PLAY_LIST,K)},addDVBErrors:function ye(K){Ie(t.default.STREAM,b.default.DVB_ERRORS,K)}},function B(){S={}}(),N}k.__dashjs_factory_name="MetricsModel",C.default=V.default.getSingletonFactory(k)},"./src/streaming/models/URIFragmentModel.js":
/*!**************************************************!*\
                  !*** ./src/streaming/models/URIFragmentModel.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/URIFragmentData */
"./src/streaming/vo/URIFragmentData.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(){var F;return{initialize:function L(m){if(F=new t.default,!m)return null;var h=m.indexOf("#");if(-1!==h)for(var p=m.substr(h+1).split("&"),v=0,A=p.length;v<A;++v){var U=p[v],O=U.indexOf("=");if(-1!==O){var V=U.substring(0,O);F.hasOwnProperty(V)&&(F[V]=U.substr(O+1))}}},getURIFragmentData:function x(){return F}}}I.__dashjs_factory_name="URIFragmentModel",C.default=b.default.getSingletonFactory(I)},"./src/streaming/models/VideoModel.js":
/*!********************************************!*\
                  !*** ./src/streaming/models/VideoModel.js ***!
                  \********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),L=new Map([[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[F.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function x(){var m,h,p,v,A,U,O,k=this.context,P=Object(b.default)(k).getInstance(),D=[];function S(){p&&(p.playbackRate=O||1,p.removeEventListener("canplay",S))}function Ie(){return D.length>0}function _e(){if(p&&Ie()&&0===p.playbackRate){var qe=document.createEvent("Event");qe.initEvent("waiting",!0,!1),p.dispatchEvent(qe)}}function ie(qe,dt){p&&p.addEventListener(qe,dt)}function he(qe,dt){p&&p.removeEventListener(qe,dt)}function $(){return p?p.readyState:NaN}function Z(){return p?p.buffered:null}function ce(qe,dt,It,_t,Ot){if(p)for(var jt=0;jt<p.textTracks.length;jt++)if(p.textTracks[jt].kind===qe&&(!dt||p.textTracks[jt].label==dt)&&p.textTracks[jt].language===It&&p.textTracks[jt].isTTML===_t&&p.textTracks[jt].isEmbedded===Ot)return p.textTracks[jt];return null}function $e(qe,dt){qe===F.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||$()>=qe?dt():function Qe(qe,dt){ie(qe,function _t(){he(qe,_t),dt(qe)})}(L.get(qe),dt)}return m={initialize:function E(){P.on(I.default.PLAYBACK_PLAYING,_e,this)},setCurrentTime:function Y(qe,dt){v=qe,$e(F.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(p){if(p.currentTime===v)return void(v=NaN);try{v=dt?function re(qe){var dt=Z(),It=qe,_t=9999999999;if(dt)for(var Ot=0;Ot<dt.length;Ot++){var jt=dt.start(Ot),zt=dt.end(Ot),$t=Math.abs(jt-qe),dn=Math.abs(zt-qe);if(qe>=jt&&qe<=zt)return qe;$t<_t&&(_t=$t,It=jt),dn<_t&&(_t=dn,It=zt)}return It}(v):v,p.currentTime=v,v=NaN}catch(It){0===p.readyState&&It.code===It.INVALID_STATE_ERR&&setTimeout(function(){p.currentTime=v,v=NaN},400)}}})},play:function Pe(){if(p){p.autoplay=!0;var qe=p.play();qe&&qe.catch&&typeof Promise<"u"&&qe.catch(function(dt){"NotAllowedError"===dt.name&&P.trigger(I.default.PLAYBACK_NOT_ALLOWED),h.warn("Caught pending play exception - continuing (".concat(dt,")"))})}},isPaused:function Oe(){return p?p.paused:null},pause:function je(){p&&(p.pause(),p.autoplay=!1)},isStalled:Ie,isSeeking:function ze(){return p?p.seeking||!isNaN(v):null},getTime:function He(){return p?isNaN(v)?p.currentTime:v:null},getPlaybackRate:function Ae(){return p?p.playbackRate:null},setPlaybackRate:function B(qe){p&&(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&p.readyState<=2&&qe>0?p.addEventListener("canplay",S):p.playbackRate=qe)},getPlayedRanges:function ye(){return p?p.played:null},getEnded:function K(){return p?p.ended:null},setStallState:function Se(qe,dt){!function we(qe,dt){dt?function le(qe){null===qe||!p||p.seeking||-1!==D.indexOf(qe)||D.push(qe)}(qe):function Me(qe){var dt=D.indexOf(qe);null!==qe&&-1!==dt&&D.splice(dt,1)}(qe)}(qe,dt)},getElement:function ae(){return p},setElement:function Re(qe){if(!(null==qe||qe&&/^(VIDEO|AUDIO)$/i.test(qe.nodeName)))throw"element is not video or audio DOM type!";(p=qe)&&(p.preload="auto")},setSource:function z(qe){p&&(qe?p.src=qe:(p.removeAttribute("src"),p.load()))},getSource:function oe(){return p?p.src:null},getTTMLRenderingDiv:function H(){return A},setTTMLRenderingDiv:function te(qe){(A=qe).style.position="absolute",A.style.display="flex",A.style.overflow="hidden",A.style.pointerEvents="none",A.style.top=0,A.style.left=0},getVttRenderingDiv:function me(){return U},setVttRenderingDiv:function ue(qe){U=qe},getPlaybackQuality:function Le(){if(!p)return null;var qe="webkitDroppedFrameCount"in p&&"webkitDecodedFrameCount"in p,It=null;return"getVideoPlaybackQuality"in p?It=p.getVideoPlaybackQuality():qe&&(It={droppedVideoFrames:p.webkitDroppedFrameCount,totalVideoFrames:p.webkitDroppedFrameCount+p.webkitDecodedFrameCount,creationTime:new Date}),It},addEventListener:ie,removeEventListener:he,getReadyState:$,getBufferRange:Z,getClientWidth:function W(){return p?p.clientWidth:NaN},getClientHeight:function X(){return p?p.clientHeight:NaN},getTextTracks:function ge(){return p?p.textTracks:[]},getTextTrack:ce,addTextTrack:function Ce(qe,dt,It,_t,Ot){if(!p)return null;var jt=ce(qe,dt,It,_t,Ot);return jt||((jt=p.addTextTrack(qe,dt,It)).isEmbedded=Ot,jt.isTTML=_t),jt},appendChild:function Ye(qe){p&&(p.appendChild(qe),void 0!==qe.isTTML&&(p.textTracks[p.textTracks.length-1].isTTML=qe.isTTML,p.textTracks[p.textTracks.length-1].isEmbedded=qe.isEmbedded))},removeChild:function Be(qe){p&&p.removeChild(qe)},getVideoWidth:function Q(){return p?p.videoWidth:NaN},getVideoHeight:function q(){return p?p.videoHeight:NaN},getVideoRelativeOffsetTop:function J(){var qe=p.parentNode.host||p.parentNode;return qe?p.getBoundingClientRect().top-qe.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function de(){var qe=p.parentNode.host||p.parentNode;return qe?p.getBoundingClientRect().left-qe.getBoundingClientRect().left:NaN},waitForReadyState:$e,reset:function N(){P.off(I.default.PLAYBACK_PLAYING,_e,this)}},function w(){h=Object(y.default)(k).getInstance().getLogger(m),v=NaN}(),m}x.__dashjs_factory_name="VideoModel",C.default=t.default.getSingletonFactory(x)},"./src/streaming/net/FetchLoader.js":
/*!******************************************!*\
                  !*** ./src/streaming/net/FetchLoader.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),I=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function F(O,V){return function m(O){if(Array.isArray(O))return O}(O)||function x(O,V){var k=null==O?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(null!=k){var P,D,w,E,N=[],S=!0,B=!1;try{if(w=(k=k.call(O)).next,0===V){if(Object(k)!==k)return;S=!1}else for(;!(S=(P=w.call(k)).done)&&(N.push(P.value),N.length!==V);S=!0);}catch(Y){B=!0,D=Y}finally{try{if(!S&&null!=k.return&&(E=k.return(),Object(E)!==E))return}finally{if(B)throw D}}return N}}(O,V)||p(O,V)||function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(O,V){if(O){if("string"==typeof O)return v(O,V);var k=Object.prototype.toString.call(O).slice(8,-1);if("Object"===k&&O.constructor&&(k=O.constructor.name),"Map"===k||"Set"===k)return Array.from(O);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return v(O,V)}}function v(O,V){(null==V||V>O.length)&&(V=O.length);for(var k=0,P=new Array(V);k<V;k++)P[k]=O[k];return P}function A(O){var N,V=this.context,k=(O=O||{}).requestModifier,P=O.lowLatencyThroughputModel,D=O.boxParser,w=Object(b.default)(V).getInstance();function Y(H){var le,me=new Date,te=H.request,ue=new Headers;if(te.range&&ue.append("Range","bytes="+te.range),H.headers)for(var Se in H.headers){var Ie=H.headers[Se];Ie&&ue.append(Se,Ie)}te.requestStartDate||(te.requestStartDate=me),k&&k.modifyRequestHeader&&k.modifyRequestHeader({setRequestHeader:function(Oe,je){ue.append(Oe,je)}},{url:H.url}),"function"==typeof window.AbortController&&(le=new AbortController,H.abortController=le,le.signal.onabort=H.onabort);var Me={method:H.method,headers:ue,credentials:H.withCredentials?"include":void 0,signal:le?le.signal:void 0},we=w.get().streaming.abr.fetchThroughputCalculationMode,_e=Date.now(),Le=0;new Promise(function(Pe){if(we===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&P&&(Le=P.getThroughputCapacityDelayMS(te,1e3*N.getCurrentBufferLevel(te.mediaType))))return setTimeout(Pe,Le);Pe()}).then(function(){var Pe=Date.now();fetch(H.url,Me).then(function(Oe){H.response||(H.response={}),H.response.status=Oe.status,H.response.statusText=Oe.statusText,H.response.responseURL=Oe.url,Oe.ok||H.onerror();var He,je="",ze=function h(O,V){var k=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!k){if(Array.isArray(O)||(k=p(O))||V&&O&&"number"==typeof O.length){k&&(O=k);var P=0,D=function(){};return{s:D,n:function(){return P>=O.length?{done:!0}:{done:!1,value:O[P++]}},e:function(B){throw B},f:D}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var N,w=!0,E=!1;return{s:function(){k=k.call(O)},n:function(){var B=k.next();return w=B.done,B},e:function(B){E=!0,N=B},f:function(){try{!w&&null!=k.return&&k.return()}finally{if(E)throw N}}}}(Oe.headers.keys());try{for(ze.s();!(He=ze.n()).done;){var Ae=He.value;je+=Ae+": "+Oe.headers.get(Ae)+"\r\n"}}catch($e){ze.e($e)}finally{ze.f()}if(H.response.responseHeaders=je,!Oe.body)return Oe.arrayBuffer().then(function($e){H.response.response=$e,H.progress({loaded:$e.byteLength,total:$e.byteLength,stream:!1}),H.onload(),H.onend()});var qe,dt,ye=parseInt(Oe.headers.get("Content-Length"),10),K=0,ie=!1,he=new Uint8Array,$=0;if(we===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&P){var W=Pe,X=0,q=F(Oe.body.tee(),2),de=q[1];qe=q[0].getReader(),dt=[],qe.read().then(function It(_t){var Ot=_t.value,jt=_t.done;if(X=Date.now(),Ot&&Ot.length){var zt=X-W,$t=Ot.length;dt.push({chunkDownloadTimeRelativeMS:X-Pe,chunkDownloadDurationMS:zt,chunkBytes:$t,kbps:Math.round(8*$t/(zt/1e3)),bufferLevel:N.getCurrentBufferLevel(te.mediaType)})}if(jt){var dn=X-Pe,pn=dt.reduce(function(jn,st){return jn+st.chunkBytes},0);return P.addMeasurement(te,dn,dt,_e,Le,je),void H.progress({loaded:pn,total:pn,lengthComputable:!0,time:P.getEstimatedDownloadDurationMS(te),stream:!0})}return W=Date.now(),qe.read().then(It)}),H.reader=de.getReader()}else H.reader=Oe.body.getReader();var ge=[],ce=[],Ce=[],Ye=!0;re(H,function $e(Qe){var qe=Qe.value;if(Qe.done){if(he){if(we!==I.default.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var It=null,_t=null;we===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(It=function oe(H,me){try{var te,ue;te=H.filter(function(Pe,Oe){return Oe<H.length-1}),ue=me.filter(function(Pe,Oe){return Oe<me.length-1});var Se=[];if(te.length>1){for(var Ie=0,le=0,Me=0;Me<te.length;Me++)if(te[Me]&&ue[Me]){var we=ue[Me].ts-te[Me].ts;if(we>1)Se.push(8*ue[Me].bytes/we);else{0===le&&(le=te[Me].ts);var _e=ue[Me].ts-le;_e>1?(Se.push(8*Ie/_e),Ie=0,le=0):Ie+=ue[Me].bytes}}if(Se.length>0)return Se.reduce(function(Pe,Oe){return Pe+Oe},0)/Se.length}return null}catch{return null}}(ce,Ce))&&(_t=8*K/It):we===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(_t=z(ge,K)),H.progress({loaded:K,total:isNaN(ye)?K:ye,lengthComputable:!0,time:_t,stream:!0})}H.response.response=he.buffer}return H.onload(),void H.onend()}if(qe&&qe.length>0){he=function ae(H,me){if(0===H.length)return me;var te=new Uint8Array(H.length+me.length);return te.set(H),te.set(me,H.length),te}(he,qe),K+=qe.length,ge.push({ts:Date.now(),bytes:qe.length}),we===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ye&&D.findLastTopIsoBoxCompleted(["moof"],he,$).found&&(Ye=!1,ce.push({ts:performance.now(),bytes:qe.length}));var jt=D.findLastTopIsoBoxCompleted(["moov","mdat"],he,$);if(jt.found){var $t,zt=jt.lastCompletedOffset+jt.size;we===I.default.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&!Ye&&(Ye=!0,Ce.push({ts:performance.now(),bytes:he.length})),zt===he.length?($t=he,he=new Uint8Array):($t=new Uint8Array(he.subarray(0,zt)),he=he.subarray(zt)),H.progress({data:$t.buffer,lengthComputable:!1,noTrace:!0}),$=0}else $=jt.lastCompletedOffset,ie||(H.progress({lengthComputable:!1,noTrace:!0}),ie=!0)}re(H,$e)})}).catch(function(Oe){H.onerror&&H.onerror(Oe)})})}function re(H,me){H.reader.read().then(me).catch(function(te){H.onerror&&200===H.response.status&&H.onerror(te)})}function z(H,me){try{if((H=H.filter(function(Se){return Se.bytes>me/4/H.length})).length>1){var te=0,ue=(H[H.length-1].ts-H[0].ts)/H.length;return H.forEach(function(Se,Ie){var le=H[Ie+1];if(le){var Me=le.ts-Se.ts;te+=Me<ue?Me:0}}),te}return null}catch{return null}}return{load:function B(H){k&&k.modifyRequest?Object(y.modifyRequest)(H,k).then(function(){return Y(H)}):Y(H)},abort:function Re(H){if(H.abortController)H.abortController.abort();else if(H.reader)try{H.reader.cancel(),H.onabort()}catch{}},calculateDownloadedTime:z,setup:function S(H){N=H.dashMetrics}}}A.__dashjs_factory_name="FetchLoader";var U=t.default.getClassFactory(A);C.default=U},"./src/streaming/net/HTTPLoader.js":
/*!*****************************************!*\
                  !*** ./src/streaming/net/HTTPLoader.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./XHRLoader */
"./src/streaming/net/XHRLoader.js"),b=c(
/*! ./FetchLoader */
"./src/streaming/net/FetchLoader.js"),I=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),y=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),F=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../models/CmcdModel */
"./src/streaming/models/CmcdModel.js"),x=c(
/*! ../../core/Utils */
"./src/core/Utils.js"),m=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),h=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),p=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),v=c(
/*! ../../core/Settings */
"./src/core/Settings.js"),A=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),U=c(
/*! ../models/LowLatencyThroughputModel */
"./src/streaming/models/LowLatencyThroughputModel.js"),O=c(
/*! ../models/CustomParametersModel */
"./src/streaming/models/CustomParametersModel.js");function V(N){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(N)}function k(N,S,B){return(S=function P(N){var S=function D(N,S){if("object"!==V(N)||null===N)return N;var B=N[Symbol.toPrimitive];if(void 0!==B){var Y=B.call(N,S||"default");if("object"!==V(Y))return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===S?String:Number)(N)}(N,"string");return"symbol"===V(S)?S:String(S)}(S))in N?Object.defineProperty(N,S,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[S]=B,N}function w(N){var te,ue,Se,Ie,le,Me,we,_e,Le,S=this.context,B=(N=N||{}).errHandler,Y=N.dashMetrics,re=N.mediaPlayerModel,ae=N.requestModifier,Re=N.boxParser,z=N.errors,oe=N.requestTimeout||0,H=Object(h.default)(S).getInstance(),me=Object(v.default)(S).getInstance();function Oe(Ae,ye){var q,K=Ae.request,ie=[],he=!0,$=!0,Z=new Date,W=Z,X=0,Q=null;if(!ae||!Y||!B)throw new Error("config object is not correct or missing");var Be,J=function($t){if($=!1,K.requestStartDate=Z,K.requestEndDate=new Date,K.firstByteDate=K.firstByteDate||Z,K.fileLoaderType=Q,!K.checkExistenceOnly){var dn=q.response?q.response.responseURL:null,pn=q.response?q.response.status:null,jn=q.response&&q.response.getAllResponseHeaders?q.response.getAllResponseHeaders():q.response?q.response.responseHeaders:[];Y.addHttpRequest(K,dn,pn,jn,$t?ie:null),K.type===I.HTTPRequest.MPD_TYPE&&Y.addManifestUpdate(K)}},de=function(){if(-1!==ue.indexOf(q)&&(ue.splice(ue.indexOf(q),1),$))if(J(!1),ye>0){try{me.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&K.type===I.HTTPRequest.MEDIA_SEGMENT_TYPE&&re.getRetryAttemptsForType(I.HTTPRequest.MEDIA_SEGMENT_TYPE)===ye&&H.trigger(p.default.ATTEMPT_BACKGROUND_SYNC)}catch{}ye--;var dn={config:Ae};Ie.push(dn),dn.timeout=setTimeout(function(){-1!==Ie.indexOf(dn)&&(Ie.splice(Ie.indexOf(dn),1),Oe(Ae,ye))},re.getRetryIntervalsForType(K.type))}else{if(K.type===I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;B.error(new F.default(le[K.type],K.url+" is not available",{request:K,response:q.response})),Ae.error&&Ae.error(K,"error",q.response.statusText),Ae.complete&&Ae.complete(K,q.response.statusText)}};K.hasOwnProperty("availabilityTimeComplete")&&!1===K.availabilityTimeComplete&&window.fetch&&"arraybuffer"===K.responseType&&K.type===I.HTTPRequest.MEDIA_SEGMENT_TYPE?((Be=Object(b.default)(S).create({requestModifier:ae,lowLatencyThroughputModel:_e,boxParser:Re})).setup({dashMetrics:Y}),Q=A.default.FILE_LOADER_TYPES.FETCH):(Be=Object(t.default)(S).create({requestModifier:ae}),Q=A.default.FILE_LOADER_TYPES.XHR);var $e=null,Qe=ae.modifyRequestURL?ae.modifyRequestURL(K.url):K.url;if(me.get().streaming.cmcd&&me.get().streaming.cmcd.enabled){var qe=me.get().streaming.cmcd.mode;if(qe===A.default.CMCD_MODE_QUERY){var dt=function je(Ae){try{var ye=[],K=Me.getQueryParameter(Ae);return K&&ye.push(K),ye}catch{return[]}}(K);Qe=x.default.addAditionalQueryParameterToUrl(Qe,dt)}else qe===A.default.CMCD_MODE_HEADER&&($e=Me.getHeaderParameters(K))}K.url=Qe;var It=K.checkExistenceOnly?I.HTTPRequest.HEAD:I.HTTPRequest.GET,_t=we.getXHRWithCredentialsForType(K.type);q={url:Qe,method:It,withCredentials:_t,request:K,onload:function(){q.response.status>=200&&q.response.status<=299&&(J(!0),Ae.success&&Ae.success(q.response.response,q.response.statusText,q.response.responseURL),Ae.complete&&Ae.complete(K,q.response.statusText))},onend:de,onerror:de,progress:function($t){var dn=new Date;he&&(he=!1,(!$t.lengthComputable||$t.lengthComputable&&$t.total!==$t.loaded)&&(K.firstByteDate=dn)),$t.lengthComputable&&(K.bytesLoaded=$t.loaded,K.bytesTotal=$t.total),$t.noTrace||(ie.push({s:W,d:$t.time?$t.time:dn.getTime()-W.getTime(),b:[$t.loaded?$t.loaded-X:0]}),W=dn,X=$t.loaded),Ae.progress&&$t&&Ae.progress($t)},onabort:function(){Ae.abort&&Ae.abort(K)},ontimeout:function($t){var dn;dn=$t.lengthComputable?"Request timeout: loaded: "+$t.loaded+", out of: "+$t.total+" : "+($t.loaded/$t.total*100).toFixed(3)+"% Completed":"Request timeout: non-computable download size",Le.warn(dn)},loader:Be,timeout:oe,headers:$e};var Ot=(new Date).getTime();if(isNaN(K.delayLoadingTime)||Ot>=K.delayLoadingTime)ue.push(q),Be.load(q);else{var jt={httpRequest:q};Se.push(jt),jt.delayTimeout=setTimeout(function(){if(-1!==Se.indexOf(jt)){Se.splice(Se.indexOf(jt),1);try{W=Z=new Date,ue.push(jt.httpRequest),Be.load(jt.httpRequest)}catch{jt.httpRequest.onerror()}}},K.delayLoadingTime-Ot)}}return te={load:function ze(Ae){Ae.request?Oe(Ae,re.getRetryAttemptsForType(Ae.request.type)):Ae.error&&Ae.error(Ae.request,"error")},abort:function He(){Ie.forEach(function(Ae){clearTimeout(Ae.timeout),Ae.config.request&&Ae.config.abort&&Ae.config.abort(Ae.config.request)}),Ie=[],Se.forEach(function(Ae){return clearTimeout(Ae.delayTimeout)}),Se=[],ue.forEach(function(Ae){Ae.request.type!==I.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Ae.onloadend=Ae.onerror=Ae.onprogress=void 0,Ae.loader.abort(Ae))}),ue=[]}},function Pe(){var Ae;Le=Object(m.default)(S).getInstance().getLogger(te),ue=[],Se=[],Ie=[],Me=Object(L.default)(S).getInstance(),_e=Object(U.default)(S).getInstance(),we=Object(O.default)(S).getInstance(),k(Ae={},I.HTTPRequest.MPD_TYPE,z.DOWNLOAD_ERROR_ID_MANIFEST_CODE),k(Ae,I.HTTPRequest.XLINK_EXPANSION_TYPE,z.DOWNLOAD_ERROR_ID_XLINK_CODE),k(Ae,I.HTTPRequest.INIT_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),k(Ae,I.HTTPRequest.MEDIA_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ae,I.HTTPRequest.INDEX_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ae,I.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),k(Ae,I.HTTPRequest.OTHER_TYPE,z.DOWNLOAD_ERROR_ID_CONTENT_CODE),le=Ae}(),te}w.__dashjs_factory_name="HTTPLoader";var E=y.default.getClassFactory(w);C.default=E},"./src/streaming/net/SchemeLoaderFactory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/net/SchemeLoaderFactory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/net/HTTPLoader */
"./src/streaming/net/HTTPLoader.js");function I(){var L;function h(){L={}}function v(){h()}return function A(){v()}(),{getLoader:function p(U){for(var O in L)if(L.hasOwnProperty(O)&&U.startsWith(O))return L[O];return b.default},registerLoader:function x(U,O){L[U]=O},unregisterLoader:function m(U){L[U]&&delete L[U]},unregisterAllLoader:h,reset:v}}I.__dashjs_factory_name="SchemeLoaderFactory";var y=t.default.getSingletonFactory(I);C.default=y},"./src/streaming/net/URLLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/URLLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../streaming/net/SchemeLoaderFactory */
"./src/streaming/net/SchemeLoaderFactory.js");function I(F){F=F||{};var m,h,L=this.context;return m=Object(b.default)(L).getInstance(),{load:function p(A){if(!h){var U=m.getLoader(A&&A.request?A.request.url:null);h=U(L).create({errHandler:F.errHandler,mediaPlayerModel:F.mediaPlayerModel,requestModifier:F.requestModifier,dashMetrics:F.dashMetrics,boxParser:F.boxParser?F.boxParser:null,constants:F.constants?F.constants:null,dashConstants:F.dashConstants?F.dashConstants:null,urlUtils:F.urlUtils?F.urlUtils:null,requestTimeout:isNaN(F.requestTimeout)?0:F.requestTimeout,errors:F.errors})}h.load(A)},abort:function v(){h&&h.abort()}}}I.__dashjs_factory_name="URLLoader";var y=t.default.getClassFactory(I);C.default=y},"./src/streaming/net/XHRLoader.js":
/*!****************************************!*\
                  !*** ./src/streaming/net/XHRLoader.js ***!
                  \****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/RequestModifier */
"./src/streaming/utils/RequestModifier.js");function I(F){var L=(F=F||{}).requestModifier;function h(v){var A=new Date,U=v.request,O=new XMLHttpRequest;if(O.open(v.method,v.url,!0),U.responseType&&(O.responseType=U.responseType),U.range&&O.setRequestHeader("Range","bytes="+U.range),U.requestStartDate||(U.requestStartDate=A),L&&L.modifyRequestHeader&&(O=L.modifyRequestHeader(O,{url:v.url})),v.headers)for(var V in v.headers){var k=v.headers[V];k&&O.setRequestHeader(V,k)}O.withCredentials=v.withCredentials,O.onload=v.onload,O.onloadend=v.onend,O.onerror=v.onerror,O.onprogress=v.progress,O.onabort=v.onabort,O.ontimeout=v.ontimeout,O.timeout=v.timeout,O.send(),v.response=O}return{load:function m(v){L&&L.modifyRequest?Object(b.modifyRequest)(v,L).then(function(){return h(v)}):h(v)},abort:function p(v){var A=v.response;A.onloadend=A.onerror=A.onprogress=void 0,A.abort()}}}I.__dashjs_factory_name="XHRLoader";var y=t.default.getClassFactory(I);C.default=y},"./src/streaming/protection/CommonEncryption.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/CommonEncryption.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function I(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function F(h){var p=function L(h,p){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}c.r(C);var x={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};C.default=function(){function h(){!function b(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}(this,h)}return function y(h,p,v){return p&&I(h.prototype,p),v&&I(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,null,[{key:"findCencContentProtection",value:function(v){for(var A=null,U=0;U<v.length;++U){var O=v[U];"urn:mpeg:dash:mp4protection:2011"===O.schemeIdUri.toLowerCase()&&("cenc"===O.value.toLowerCase()||"cbcs"===O.value.toLowerCase())&&(A=O)}return A}},{key:"getPSSHData",value:function(v){var A=8,U=new DataView(v),O=U.getUint8(A);return A+=20,O>0&&(A+=4+16*U.getUint32(A)),v.slice(A+=4)}},{key:"getPSSHForKeySystem",value:function(v,A){var U=h.parsePSSHList(A);return v&&U.hasOwnProperty(v.uuid.toLowerCase())?U[v.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(v,A){return"pssh"in v?(v.pssh.__text=v.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),A.decodeArray(v.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(v){if(null==v)return[];for(var A=new DataView(v.buffer||v),O={},V=0;;){var P,D=void 0,w=void 0,E=V;if(V>=A.buffer.byteLength)break;if(P=V+A.getUint32(V),1886614376===A.getUint32(V+=4))if(0===(D=A.getUint8(V+=4))||1===D){V++,V+=3,w="";var N=void 0,S=void 0;for(N=0;N<4;N++)w+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=4,w+="-",N=0;N<2;N++)w+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=2,w+="-",N=0;N<2;N++)w+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=2,w+="-",N=0;N<2;N++)w+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;for(V+=2,w+="-",N=0;N<6;N++)w+=1===(S=A.getUint8(V+N).toString(16)).length?"0"+S:S;V+=6,V+=4,O[w=w.toLowerCase()]=A.buffer.slice(E,P),V=P}else V=P;else V=P}return O}},{key:"getLicenseServerUrlFromMediaInfo",value:function(v,A){try{if(!v||0===v.length)return null;for(var U=0,O=null;U<v.length&&!O;){var V=v[U];if(V&&V.contentProtection&&V.contentProtection.length>0){var k=V.contentProtection.filter(function(B){return B.schemeIdUri&&B.schemeIdUri===A});if(k&&k.length>0)for(var P=0;P<k.length&&!O;){for(var D=k[P],w=0;w<x.attributes.length&&!O;){for(var E=0,N=x.attributes[w];E<x.prefixes.length&&!O;)D[N]&&D[N].__prefix&&D[N].__prefix===x.prefixes[E]&&D[N].__text&&(O=D[N].__text),E+=1;w+=1}P+=1}}U+=1}return O}catch{return null}}}]),h}()},"./src/streaming/protection/Protection.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/Protection.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./controllers/ProtectionController */
"./src/streaming/protection/controllers/ProtectionController.js"),b=c(
/*! ./controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),I=c(
/*! ./ProtectionEvents */
"./src/streaming/protection/ProtectionEvents.js"),y=c(
/*! ./errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ./models/ProtectionModel_21Jan2015 */
"./src/streaming/protection/models/ProtectionModel_21Jan2015.js"),L=c(
/*! ./models/ProtectionModel_3Feb2014 */
"./src/streaming/protection/models/ProtectionModel_3Feb2014.js"),x=c(
/*! ./models/ProtectionModel_01b */
"./src/streaming/protection/models/ProtectionModel_01b.js"),m=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],h=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function p(){var A,U=this.context;function k(P,D){for(var w=0;w<D.length;w++){var E=D[w];if("function"==typeof P[E[Object.keys(E)[0]]])return E}return null}return A={createProtectionSystem:function O(P){var D=null,w=Object(b.default)(U).getInstance();w.setConfig({debug:P.debug,BASE64:P.BASE64,settings:P.settings}),w.initialize();var E=function V(P){var D=P.debug,w=D.getLogger(A),E=P.eventBus,N=P.errHandler,S=P.videoModel?P.videoModel.getElement():null;return S&&void 0===S.onencrypted||S&&void 0===S.mediaKeys?k(S,h)?(w.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Object(L.default)(U).create({debug:D,eventBus:E,events:P.events,api:k(S,h)})):k(S,m)?(w.info("EME detected on this user agent! (ProtectionModel_01b)"),Object(x.default)(U).create({debug:D,eventBus:E,errHandler:N,events:P.events,api:k(S,m)})):(w.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(w.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Object(F.default)(U).create({debug:D,eventBus:E,events:P.events}))}(P);return!D&&E&&(D=Object(t.default)(U).create({protectionModel:E,protectionKeyController:w,eventBus:P.eventBus,debug:P.debug,events:P.events,BASE64:P.BASE64,constants:P.constants,cmcdModel:P.cmcdModel,customParametersModel:P.customParametersModel,settings:P.settings}),P.capabilities.setEncryptedMediaSupported(!0)),D}}}p.__dashjs_factory_name="Protection";var v=dashjs.FactoryMaker.getClassFactory(p);v.events=I.default,v.errors=y.default,dashjs.FactoryMaker.updateClassFactory(p.__dashjs_factory_name,v),C.default=v},"./src/streaming/protection/ProtectionEvents.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/ProtectionEvents.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function I(P,D){for(var w=0;w<D.length;w++){var E=D[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,F(E.key),E)}}function F(P){var D=function L(P,D){if("object"!==b(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var E=w.call(P,D||"default");if("object"!==b(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(P)}(P,"string");return"symbol"===b(D)?D:String(D)}function m(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&h(P,D)}function h(P,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(P,D)}function p(P){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,E=O(P);if(D){var S=O(this).constructor;N=Reflect.construct(E,arguments,S)}else N=E.apply(this,arguments);return function v(P,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(P)}c.r(C);var k=new(function(P){m(w,P);var D=p(w);function w(){var E;return function x(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w),(E=D.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",E.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",E.KEY_ADDED="public_keyAdded",E.KEY_ERROR="public_keyError",E.KEY_MESSAGE="public_keyMessage",E.KEY_SESSION_CLOSED="public_keySessionClosed",E.KEY_SESSION_CREATED="public_keySessionCreated",E.KEY_SESSION_REMOVED="public_keySessionRemoved",E.KEY_STATUSES_CHANGED="public_keyStatusesChanged",E.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",E.KEY_SYSTEM_SELECTED="public_keySystemSelected",E.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",E.LICENSE_REQUEST_SENDING="public_licenseRequestSending",E.NEED_KEY="needkey",E.PROTECTION_CREATED="public_protectioncreated",E.PROTECTION_DESTROYED="public_protectiondestroyed",E.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",E.TEARDOWN_COMPLETE="protectionTeardownComplete",E.VIDEO_ELEMENT_SELECTED="videoElementSelected",E.KEY_SESSION_UPDATED="public_keySessionUpdated",E}return function y(P,D,w){return D&&I(P.prototype,D),w&&I(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}(w)}(c(
/*! ../../core/events/EventsBase */
"./src/core/events/EventsBase.js").default));C.default=k},"./src/streaming/protection/controllers/ProtectionController.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionController.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../vo/MediaCapability */
"./src/streaming/protection/vo/MediaCapability.js"),I=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),y=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),L=c(
/*! ../vo/LicenseRequest */
"./src/streaming/protection/vo/LicenseRequest.js"),x=c(
/*! ../vo/LicenseResponse */
"./src/streaming/protection/vo/LicenseResponse.js"),m=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),h=c(
/*! ../../../core/Utils */
"./src/core/Utils.js"),p=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),v=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function A(w){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(w)}function D(w){var me,te,ue,Se,Ie,le,Me,we,_e,Le,Pe,E=(w=w||{}).protectionKeyController,N=w.protectionModel,S=w.eventBus,B=w.events,Y=w.debug,re=w.BASE64,ae=w.constants,Re=[],z=w.cmcdModel,oe=w.settings,H=w.customParametersModel;function je(){if(!(S&&S.hasOwnProperty("on")&&E&&E.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function ye(pe,lt){we||_e?we&&ie():function K(pe,lt){if(!_e){_e=!0;var bt,mt=[];pe=pe.sort(function(Nt,Wt){return(Ie&&Ie[Nt.ks.systemString]&&Ie[Nt.ks.systemString].priority>=0?Ie[Nt.ks.systemString].priority:pe.length)-(Ie&&Ie[Wt.ks.systemString]&&Ie[Wt.ks.systemString].priority>=0?Ie[Wt.ks.systemString].priority:pe.length)});for(var Dt=0;Dt<pe.length;Dt++){var ft=dt(pe[Dt]);mt.push({ks:pe[Dt].ks,configs:[ft],protData:pe[Dt].protData})}N.requestKeySystemAccess(mt).then(function(Nt){return te.info("DRM: KeySystem Access Granted for system string ("+((bt=Nt.data).mksa&&bt.mksa.selectedSystemString?bt.mksa.selectedSystemString:bt.keySystem.systemString)+")!  Selecting key system..."),N.selectKeySystem(bt)}).then(function(Nt){if(we=Nt,_e=!1,N){S.trigger(B.KEY_SYSTEM_SELECTED,{data:bt});var Wt=W(we);Wt&&Wt.serverCertificate&&Wt.serverCertificate.length>0&&N.setServerCertificate(re.decodeArray(Wt.serverCertificate).buffer),ie()}}).catch(function(Nt){we=null,_e=!1,lt||S.trigger(B.KEY_SYSTEM_SELECTED,{data:null,error:new F.default(y.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,y.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Nt.error)})})}}(pe,lt)}function ie(){for(var pe,lt=0;lt<ue.length;lt++)for(pe=0;pe<ue[lt].length;pe++)if(we===ue[lt][pe].ks){he(ue[lt][pe]);break}ue=[]}function he(pe){if(E.isClearKey(we)&&pe.protData&&pe.protData.hasOwnProperty("clearkeys")&&0!==Object.keys(pe.protData.clearkeys).length){var lt={kids:Object.keys(pe.protData.clearkeys)};pe.initData=(new TextEncoder).encode(JSON.stringify(lt))}pe.sessionId?$(pe):null!==pe.initData&&Z(pe)}function $(pe){je(),N.loadKeySession(pe)}function Z(pe){var lt=t.default.getPSSHForKeySystem(we,pe?pe.initData:null);if(lt){if(function q(pe){if(!pe)return!1;try{for(var lt=N.getSessions(),mt=0;mt<lt.length;mt++)if(lt[mt].getKeyId()===pe)return!0;return!1}catch{return!1}}(pe.keyId)||J(lt))return;try{pe.initData=lt,N.createKeySession(pe)}catch(mt){S.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(y.default.KEY_SESSION_CREATED_ERROR_CODE,y.default.KEY_SESSION_CREATED_ERROR_MESSAGE+mt.message)})}}else pe&&pe.initData?N.createKeySession(pe):S.trigger(B.KEY_SESSION_CREATED,{data:null,error:new F.default(y.default.KEY_SESSION_CREATED_ERROR_CODE,y.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(we?we.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function W(pe){if(pe){var lt=pe.systemString;if(Ie)return lt in Ie?Ie[lt]:null}return null}function J(pe){if(!pe)return!1;try{for(var lt=N.getAllInitData(),mt=0;mt<lt.length;mt++)if(E.initDataEquals(pe,lt[mt]))return te.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Ce(pe){je(),pe?(N.setMediaElement(pe),S.on(B.NEED_KEY,ut,me)):null===pe&&(N.setMediaElement(pe),S.off(B.NEED_KEY,ut,me))}function dt(pe){var lt=pe.protData,mt=[],Dt=[],ft=lt&&lt.audioRobustness&&lt.audioRobustness.length>0?lt.audioRobustness:Me,bt=lt&&lt.videoRobustness&&lt.videoRobustness.length>0?lt.videoRobustness:Me,Nt=pe.sessionType,Wt=lt&&lt.distinctiveIdentifier?lt.distinctiveIdentifier:"optional",wt=lt&&lt.persistentState?lt.persistentState:"temporary"===Nt?"optional":"required";return Se.forEach(function(Vt){Vt.type===ae.AUDIO?mt.push(new b.default(Vt.codec,ft)):Vt.type===ae.VIDEO&&Dt.push(new b.default(Vt.codec,bt))}),new I.default(mt,Dt,Wt,wt,[Nt])}function It(pe){pe.error?S.trigger(B.KEY_STATUSES_CHANGED,{data:null,error:pe.error}):te.debug("DRM: key status = "+pe.status)}function _t(pe){te.debug("DRM: onKeyMessage");var lt=pe.data;S.trigger(B.KEY_MESSAGE,{data:lt});var mt=lt.messageType?lt.messageType:"license-request",Dt=lt.message,ft=lt.sessionToken,bt=W(we),Nt=E.getLicenseServerModelInstance(we,bt,mt),Wt={sessionToken:ft,messageType:mt};if(Dt&&0!==Dt.byteLength){if(!Nt)return te.debug("DRM: License server request not required for this message (type = "+pe.data.messageType+").  Session ID = "+ft.getSessionId()),void Ot(Wt);if(E.isClearKey(we)){var wt=E.processClearKeyLicenseRequest(we,bt,Dt);if(wt&&wt.keyPairs&&wt.keyPairs.length>0)return te.debug("DRM: ClearKey license request handled by application!"),Ot(Wt),void N.updateKeySession(ft,wt)}!function jt(pe,lt,mt){var Dt=pe.sessionToken,ft=pe.messageType?pe.messageType:"license-request",bt={sessionToken:Dt,messageType:ft},Nt=we?we.systemString:null,Wt=function dn(pe,lt,mt,Dt,ft){var bt=null,Nt=Dt.message;if(pe&&pe.serverURL){var Wt=pe.serverURL;"string"==typeof Wt&&""!==Wt?bt=Wt:"object"===A(Wt)&&Wt.hasOwnProperty(lt)&&(bt=Wt[lt])}else if(pe&&pe.laURL&&""!==pe.laURL)bt=pe.laURL;else if(!(bt=t.default.getLicenseServerUrlFromMediaInfo(Se,we.schemeIdURI))&&!E.isClearKey(we)){var wt=t.default.getPSSHData(mt.initData);(bt=we.getLicenseServerURLFromInitData(wt))||(bt=Dt.laURL)}return ft.getServerURLFromMessage(bt,Nt,lt)}(mt,ft,Dt,pe,lt);if(Wt){var wt={},Vt=!1;mt&&pn(wt,mt.httpRequestHeaders);var en=pe.message;pn(wt,we.getRequestHeadersFromMessage(en)),Object.keys(wt).forEach(function(it){"authorization"===it.toLowerCase()&&(Vt=!0)}),mt&&"boolean"==typeof mt.withCredentials&&(Vt=mt.withCredentials);var yn=function(Ct){if(N)if(Ct.status>=200&&Ct.status<=299){var Gt=h.default.parseHttpHeaders(Ct.getAllResponseHeaders?Ct.getAllResponseHeaders():null),hn=new x.default(Ct.responseURL,Gt,Ct.response);st(H.getLicenseResponseFilters(),hn).then(function(){var Ft=lt.getLicenseMessage(hn.data,Nt,ft);null!==Ft?(Ot(bt),N.updateKeySession(Dt,Ft)):jn(Ct,bt,Nt,ft,lt)})}else jn(Ct,bt,Nt,ft,lt)},Tn=function(Ct){Ot(bt,new F.default(y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Nt+' update, XHR aborted. status is "'+Ct.statusText+'" ('+Ct.status+"), readyState is "+Ct.readyState))},On=function(Ct){Ot(bt,new F.default(y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Nt+' update, XHR error. status is "'+Ct.statusText+'" ('+Ct.status+"), readyState is "+Ct.readyState))},kn=we.getLicenseRequestFromMessage(en),qn=lt.getHTTPMethod(ft),ui=lt.getResponseType(Nt,ft),kt=mt&&!isNaN(mt.httpTimeout)?mt.httpTimeout:8e3,St=Dt.getSessionId()||null,ct=new L.default(Wt,qn,ui,wt,Vt,ft,St,kn),Qt=isNaN(oe.get().streaming.retryAttempts[m.HTTPRequest.LICENSE])?3:oe.get().streaming.retryAttempts[m.HTTPRequest.LICENSE];st(H.getLicenseRequestFilters(),ct).then(function(){zt(ct,Qt,kt,yn,Tn,On)})}else Ot(bt,new F.default(y.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}(lt,Nt,bt)}else Ot(Wt,new F.default(y.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Ot(pe,lt){S.trigger(B.LICENSE_REQUEST_COMPLETE,{data:pe,error:lt})}function zt(pe,lt,mt,Dt,ft,bt){var Nt=new XMLHttpRequest;if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled&&oe.get().streaming.cmcd.mode===p.default.CMCD_MODE_QUERY){var wt=z.getQueryParameter({url:pe.url,type:m.HTTPRequest.LICENSE});wt&&(pe.url=h.default.addAditionalQueryParameterToUrl(pe.url,[wt]))}for(var Vt in Nt.open(pe.method,pe.url,!0),Nt.responseType=pe.responseType,Nt.withCredentials=pe.withCredentials,mt>0&&(Nt.timeout=mt),pe.headers)Nt.setRequestHeader(Vt,pe.headers[Vt]);if(oe.get().streaming.cmcd&&oe.get().streaming.cmcd.enabled&&oe.get().streaming.cmcd.mode===p.default.CMCD_MODE_HEADER){var nn=z.getHeaderParameters({url:pe.url,type:m.HTTPRequest.LICENSE});if(nn)for(var yn in nn){var Tn=nn[yn];Tn&&Nt.setRequestHeader(yn,Tn)}}var On=function(){lt--;var qn=isNaN(oe.get().streaming.retryIntervals[m.HTTPRequest.LICENSE])?1e3:oe.get().streaming.retryIntervals[m.HTTPRequest.LICENSE];Pe=setTimeout(function(){zt(pe,lt,mt,Dt,ft,bt)},qn)};Nt.onload=function(){Le=null,this.status>=200&&this.status<=299||lt<=0?Dt(this):(te.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+lt),On())},Nt.ontimeout=Nt.onerror=function(){Le=null,lt<=0?bt(this):(te.warn("License request network request failed . Retrying it... Pending retries: "+lt),On())},Nt.onabort=function(){ft(this)},S.trigger(B.LICENSE_REQUEST_SENDING,{url:pe.url,headers:pe.headers,payload:pe.data,sessionId:pe.sessionId}),Le=Nt,Nt.send(pe.data)}function $t(){Le&&(Le.onloadend=Le.onerror=Le.onprogress=void 0,Le.abort(),Le=null),Pe&&(clearTimeout(Pe),Pe=null)}function pn(pe,lt){if(lt)for(var mt in lt)pe[mt]=lt[mt]}function jn(pe,lt,mt,Dt,ft){var bt="NONE",Nt=null;pe.response&&(bt=ft.getErrorResponse(pe.response,mt,Dt),Nt={serverResponse:pe.response||null,responseCode:pe.status||null,responseText:pe.statusText||null}),Ot(lt,new F.default(y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,y.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+mt+' update, XHR complete. status is "'+pe.statusText+'" ('+pe.status+"), readyState is "+pe.readyState+".  Response is "+bt,Nt))}function st(pe,lt){return pe?pe.reduce(function(mt,Dt){return mt.then(function(){return Dt(lt)})},Promise.resolve()):Promise.resolve()}function ut(pe,lt){if(!oe.get().streaming.protection.ignoreEmeEncryptedEvent){if(te.debug("DRM: onNeedKey"),"cenc"!==pe.key.initDataType)return void te.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+pe.key.initDataType);if(0===Se.length&&(te.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(lt=typeof lt>"u"?1:lt+1)<5))return void Re.push(setTimeout(function(){ut(pe,lt)},500));var mt=pe.key.initData;if(ArrayBuffer.isView(mt)&&(mt=mt.buffer),we){var Dt=t.default.getPSSHForKeySystem(we,mt);if(Dt&&J(Dt))return}te.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(mt)));var ft=E.getSupportedKeySystemsFromSegmentPssh(mt,Ie,le);if(0===ft.length)return void te.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");!function Ae(pe){ue.push(pe),ye(pe,!1)}(ft)}}return me={initializeForMedia:function ze(pe){if(!pe)throw new Error("mediaInfo can not be null or undefined");je(),Se.push(pe)},clearMediaInfoArray:function X(){Se=[]},handleKeySystemFromManifest:function He(){if(Se&&0!==Se.length){var pe=[];Se.forEach(function(lt){var mt=E.getSupportedKeySystemsFromContentProtection(lt.contentProtection,Ie,le);mt.length>0&&(0===pe.length&&(pe=mt),ue.push(mt))}),pe&&pe.length>0&&ye(pe,!0)}},createKeySession:Z,loadKeySession:$,removeKeySession:function de(pe){je(),N.removeKeySession(pe)},closeKeySession:function ge(pe){je(),N.closeKeySession(pe)},setServerCertificate:function ce(pe){je(),N.setServerCertificate(pe)},setMediaElement:Ce,setSessionType:function Ye(pe){le=pe},setRobustnessLevel:function Be(pe){Me=pe},setProtectionData:function $e(pe){Ie=pe,E.setProtectionData(pe)},getSupportedKeySystemsFromContentProtection:function Q(pe){return je(),E.getSupportedKeySystemsFromContentProtection(pe,Ie,le)},getKeySystems:function xe(){return E?E.getKeySystems():[]},setKeySystems:function fe(pe){E&&E.setKeySystems(pe)},stop:function Qe(){$t(),N&&N.stop()},reset:function qe(){S.off(B.INTERNAL_KEY_MESSAGE,_t,me),S.off(B.INTERNAL_KEY_STATUS_CHANGED,It,me),je(),$t(),Ce(null),we=null,_e=!1,N&&(N.reset(),N=null),Re.forEach(function(pe){return clearTimeout(pe)}),Re=[],Se=[],ue=[]}},function Oe(){te=Y.getLogger(me),ue=[],Se=[],le="temporary",Me="",Le=null,Pe=null,S.on(B.INTERNAL_KEY_MESSAGE,_t,me),S.on(B.INTERNAL_KEY_STATUS_CHANGED,It,me)}(),me}D.__dashjs_factory_name="ProtectionController",C.default=v.default.getClassFactory(D)},"./src/streaming/protection/controllers/ProtectionKeyController.js":
/*!*************************************************************************!*\
                  !*** ./src/streaming/protection/controllers/ProtectionKeyController.js ***!
                  \*************************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ./../drm/KeySystemClearKey */
"./src/streaming/protection/drm/KeySystemClearKey.js"),I=c(
/*! ./../drm/KeySystemW3CClearKey */
"./src/streaming/protection/drm/KeySystemW3CClearKey.js"),y=c(
/*! ./../drm/KeySystemWidevine */
"./src/streaming/protection/drm/KeySystemWidevine.js"),F=c(
/*! ./../drm/KeySystemPlayReady */
"./src/streaming/protection/drm/KeySystemPlayReady.js"),L=c(
/*! ./../servers/DRMToday */
"./src/streaming/protection/servers/DRMToday.js"),x=c(
/*! ./../servers/PlayReady */
"./src/streaming/protection/servers/PlayReady.js"),m=c(
/*! ./../servers/Widevine */
"./src/streaming/protection/servers/Widevine.js"),h=c(
/*! ./../servers/ClearKey */
"./src/streaming/protection/servers/ClearKey.js"),p=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function v(){var U,O,V,k,P,D,w,E,A=this.context;function ue(le,Me){return Me&&le in Me?Me[le]:null}function Se(le,Me){return le&&le.sessionId?le.sessionId:Me&&Me.sessionId?Me.sessionId:null}function Ie(le,Me){return le&&le.sessionType?le.sessionType:Me}return U={initialize:function S(){var le;k=[],le=Object(F.default)(A).getInstance({BASE64:P,settings:D}),k.push(le),le=Object(y.default)(A).getInstance({BASE64:P}),k.push(le),le=Object(b.default)(A).getInstance({BASE64:P}),k.push(le),w=le,le=Object(I.default)(A).getInstance({BASE64:P,debug:O}),k.push(le),E=le},setProtectionData:function te(le){for(var we=0;we<k.length;we++){var _e=k[we];_e.hasOwnProperty("init")&&_e.init((Pe=_e.systemString,Oe=void 0,Oe=null,le&&(Oe=Pe in le?le[Pe]:null),Oe))}var Pe,Oe},isClearKey:function ae(le){return le===w||le===E},initDataEquals:function Re(le,Me){if(le.byteLength===Me.byteLength){for(var we=new Uint8Array(le),_e=new Uint8Array(Me),Le=0;Le<we.length;Le++)if(we[Le]!==_e[Le])return!1;return!0}return!1},getKeySystems:function B(){return k},setKeySystems:function Y(le){k=le},getKeySystemBySystemString:function re(le){for(var Me=0;Me<k.length;Me++)if(k[Me].systemString===le)return k[Me];return null},getSupportedKeySystemsFromContentProtection:function z(le,Me,we){var _e,Le,Pe,Oe,je=[];if(le){var ze=t.default.findCencContentProtection(le);for(Pe=0;Pe<k.length;++Pe){var He=ue((Le=k[Pe]).systemString,Me);for(Oe=0;Oe<le.length;++Oe)if((_e=le[Oe]).schemeIdUri.toLowerCase()===Le.schemeIdURI){var Ae=Le.getInitData(_e,ze);je.push({ks:k[Pe],keyId:_e.keyId,initData:Ae,protData:He,cdmData:Le.getCDMData(He?He.cdmData:null),sessionId:Se(He,_e),sessionType:Ie(He,we)})}}}return je},getSupportedKeySystemsFromSegmentPssh:function oe(le,Me,we){for(var Pe,_e=[],Le=t.default.parsePSSHList(le),je=0;je<k.length;++je){var ze=ue((Pe=k[je]).systemString,Me);Pe.uuid in Le&&_e.push({ks:Pe,initData:Le[Pe.uuid],protData:ze,cdmData:Pe.getCDMData(ze?ze.cdmData:null),sessionId:Se(ze),sessionType:Ie(ze,we)})}return _e},getLicenseServerModelInstance:function H(le,Me,we){if("license-release"===we||"individualization-request"===we)return null;var _e=null;return Me&&Me.hasOwnProperty("drmtoday")?_e=Object(L.default)(A).getInstance({BASE64:P}):le.systemString===p.default.WIDEVINE_KEYSTEM_STRING?_e=Object(m.default)(A).getInstance():le.systemString===p.default.PLAYREADY_KEYSTEM_STRING?_e=Object(x.default)(A).getInstance():le.systemString===p.default.CLEARKEY_KEYSTEM_STRING&&(_e=Object(h.default)(A).getInstance()),_e},processClearKeyLicenseRequest:function me(le,Me,we){try{return le.getClearKeysFromProtectionData(Me,we)}catch{return V.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function N(le){le&&(le.debug&&(V=(O=le.debug).getLogger(U)),le.BASE64&&(P=le.BASE64),le.settings&&(D=le.settings))}}}v.__dashjs_factory_name="ProtectionKeyController",C.default=dashjs.FactoryMaker.getSingletonFactory(v)},"./src/streaming/protection/drm/KeySystemClearKey.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemClearKey.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),I=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),y=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="e2719d58-a985-b3c9-781a-b030af78d30e",L=y.default.CLEARKEY_KEYSTEM_STRING,x="urn:uuid:"+F;function m(h){var v=(h=h||{}).BASE64;function O(w){try{var E=w.replace(/-/g,"");return(E=btoa(E.match(/\w{2}/g).map(function(N){return String.fromCharCode(parseInt(N,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}return{uuid:F,schemeIdURI:x,systemString:L,getInitData:function U(w,E){try{var N=I.default.parseInitDataFromContentProtection(w,v);if(!N&&E){var B={kids:[O(E["cenc:default_KID"])]};N=(new TextEncoder).encode(JSON.stringify(B))}return N}catch{return null}},getRequestHeadersFromMessage:function V(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function k(w){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(w))))},getLicenseServerURLFromInitData:function P(){return null},getCDMData:function D(){return null},getClearKeysFromProtectionData:function A(w,E){var N=null;if(w){for(var S=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(E))),B=[],Y=0;Y<S.kids.length;Y++){var re=S.kids[Y],ae=w.clearkeys&&w.clearkeys.hasOwnProperty(re)?w.clearkeys[re]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+re+") is not known!");B.push(new t.default(re,ae))}N=new b.default(B)}return N}}}m.__dashjs_factory_name="KeySystemClearKey",C.default=dashjs.FactoryMaker.getSingletonFactory(m)},"./src/streaming/protection/drm/KeySystemPlayReady.js":
/*!************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemPlayReady.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),I="9a04f079-9840-4286-ab92-e65be0885f95",y=b.default.PLAYREADY_KEYSTEM_STRING,F="urn:uuid:"+I;function x(m){var p="utf-16",v=(m=m||{}).BASE64,A=m.settings;function U(){if(!v||!v.hasOwnProperty("decodeArray")||!v.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:I,schemeIdURI:F,systemString:y,getInitData:function P(E){var re,ae,Re,z,oe,N=new Uint8Array([112,115,115,104,0,0,0,0]),S=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),B=0,Y=null;if(U(),!E)return null;if("pssh"in E)return t.default.parseInitDataFromContentProtection(E,v);if("pro"in E)Y=v.decodeArray(E.pro.__text);else{if(!("prheader"in E))return null;Y=v.decodeArray(E.prheader.__text)}return ae=4+N.length+S.length+4+(re=Y.length),Re=new ArrayBuffer(ae),z=new Uint8Array(Re),(oe=new DataView(Re)).setUint32(B,ae),z.set(N,B+=4),z.set(S,B+=N.length),oe.setUint32(B+=S.length,re),z.set(Y,B+=4),B+=re,z.buffer},getRequestHeadersFromMessage:function O(E){var N,S,B={},Y=new DOMParser;if(A&&A.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===p&&E&&E.byteLength%2==1)return B["Content-Type"]="text/xml; charset=utf-8",B;var re="utf-16"===p?new Uint16Array(E):new Uint8Array(E);N=String.fromCharCode.apply(null,re);for(var ae=(S=Y.parseFromString(N,"application/xml")).getElementsByTagName("name"),Re=S.getElementsByTagName("value"),z=0;z<ae.length;z++)B[ae[z].childNodes[0].nodeValue]=Re[z].childNodes[0].nodeValue;return B.hasOwnProperty("Content")&&(B["Content-Type"]=B.Content,delete B.Content),B.hasOwnProperty("Content-Type")||(B["Content-Type"]="text/xml; charset=utf-8"),B},getLicenseRequestFromMessage:function V(E){var N=null,S=new DOMParser;if(A&&A.get().streaming.protection.detectPlayreadyMessageFormat&&"utf-16"===p&&E&&E.byteLength%2==1)return E;var B="utf-16"===p?new Uint16Array(E):new Uint8Array(E);U();var Y=String.fromCharCode.apply(null,B),re=S.parseFromString(Y,"application/xml");if(!re.getElementsByTagName("PlayReadyKeyMessage")[0])return E;var ae=re.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return ae&&(N=v.decode(ae)),N},getLicenseServerURLFromInitData:function k(E){if(E)for(var N=new DataView(E),S=N.getUint16(4,!0),B=6,Y=new DOMParser,re=0;re<S;re++){var ae=N.getUint16(B,!0),Re=N.getUint16(B+=2,!0);if(B+=2,1===ae){var z=E.slice(B,B+Re),oe=String.fromCharCode.apply(null,new Uint16Array(z)),H=Y.parseFromString(oe,"application/xml");if(H.getElementsByTagName("LA_URL")[0]){var me=H.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(me)return me}if(H.getElementsByTagName("LUI_URL")[0]){var te=H.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(te)return te}}else B+=Re}return null},getCDMData:function w(E){var N,S,B,Y;if(U(),!E)return null;for(N=[],Y=0;Y<E.length;++Y)N.push(E.charCodeAt(Y)),N.push(0);for(N=String.fromCharCode.apply(null,N),N=v.encode(N),S='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",N),B=[],Y=0;Y<S.length;++Y)B.push(S.charCodeAt(Y)),B.push(0);return new Uint8Array(B).buffer},setPlayReadyMessageFormat:function D(E){if("utf-8"!==E&&"utf-16"!==E)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');p=E}}}x.__dashjs_factory_name="KeySystemPlayReady",C.default=dashjs.FactoryMaker.getSingletonFactory(x)},"./src/streaming/protection/drm/KeySystemW3CClearKey.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemW3CClearKey.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js"),I=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),y=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),F="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",L=y.default.CLEARKEY_KEYSTEM_STRING,x="urn:uuid:"+F;function m(h){var p,v=h.BASE64,A=h.debug.getLogger(p);return{uuid:F,schemeIdURI:x,systemString:L,getInitData:function O(w){return I.default.parseInitDataFromContentProtection(w,v)},getRequestHeadersFromMessage:function V(){return null},getLicenseRequestFromMessage:function k(w){return new Uint8Array(w)},getLicenseServerURLFromInitData:function P(){return null},getCDMData:function D(){return null},getClearKeysFromProtectionData:function U(w,E){var N=null;if(w){for(var S=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(E))),B=[],Y=0;Y<S.kids.length;Y++){var re=S.kids[Y],ae=w.clearkeys&&w.clearkeys.hasOwnProperty(re)?w.clearkeys[re]:null;if(!ae)throw new Error("DRM: ClearKey keyID ("+re+") is not known!");B.push(new t.default(re,ae))}N=new b.default(B),A.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return N}}}m.__dashjs_factory_name="KeySystemW3CClearKey",C.default=dashjs.FactoryMaker.getSingletonFactory(m)},"./src/streaming/protection/drm/KeySystemWidevine.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/protection/drm/KeySystemWidevine.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../CommonEncryption */
"./src/streaming/protection/CommonEncryption.js"),b=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),I="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",y=b.default.WIDEVINE_KEYSTEM_STRING,F="urn:uuid:"+I;function L(x){var h=(x=x||{}).BASE64;return{uuid:I,schemeIdURI:F,systemString:y,getInitData:function p(V){return t.default.parseInitDataFromContentProtection(V,h)},getRequestHeadersFromMessage:function v(){return null},getLicenseRequestFromMessage:function A(V){return new Uint8Array(V)},getLicenseServerURLFromInitData:function U(){return null},getCDMData:function O(){return null}}}L.__dashjs_factory_name="KeySystemWidevine",C.default=dashjs.FactoryMaker.getSingletonFactory(L)},"./src/streaming/protection/errors/ProtectionErrors.js":
/*!*************************************************************!*\
                  !*** ./src/streaming/protection/errors/ProtectionErrors.js ***!
                  \*************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function b(P){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function I(P,D){for(var w=0;w<D.length;w++){var E=D[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,F(E.key),E)}}function F(P){var D=function L(P,D){if("object"!==b(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var E=w.call(P,D||"default");if("object"!==b(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(P)}(P,"string");return"symbol"===b(D)?D:String(D)}function m(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&h(P,D)}function h(P,D){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(P,D)}function p(P){var D=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,E=O(P);if(D){var S=O(this).constructor;N=Reflect.construct(E,arguments,S)}else N=E.apply(this,arguments);return function v(P,D){if(D&&("object"===b(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function A(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function O(P){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(P)}c.r(C);var k=new(function(P){m(w,P);var D=p(w);function w(){var E;return function x(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w),(E=D.call(this)).MEDIA_KEYERR_CODE=100,E.MEDIA_KEYERR_UNKNOWN_CODE=101,E.MEDIA_KEYERR_CLIENT_CODE=102,E.MEDIA_KEYERR_SERVICE_CODE=103,E.MEDIA_KEYERR_OUTPUT_CODE=104,E.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,E.MEDIA_KEYERR_DOMAIN_CODE=106,E.MEDIA_KEY_MESSAGE_ERROR_CODE=107,E.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,E.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,E.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,E.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,E.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,E.KEY_SESSION_CREATED_ERROR_CODE=113,E.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,E.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",E.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",E.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",E.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",E.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",E.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",E.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",E.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",E.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",E.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",E.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",E.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",E.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",E.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",E}return function y(P,D,w){return D&&I(P.prototype,D),w&&I(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}(w)}(c(
/*! ../../../core/errors/ErrorsBase */
"./src/core/errors/ErrorsBase.js").default));C.default=k},"./src/streaming/protection/models/ProtectionModel_01b.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_01b.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),I=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),F=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),x=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js");function m(h){var k,P,D,w,E,N,S,B,Y,p=this.context,v=(h=h||{}).eventBus,A=h.events,U=h.debug,O=h.api,V=h.errHandler;function ae(){D&&Le();for(var Pe=0;Pe<S.length;Pe++)Se(S[Pe]);v.trigger(A.TEARDOWN_COMPLETE)}function Se(Pe){try{D[O.cancelKeyRequest](w.systemString,Pe.sessionId)}catch(Oe){v.trigger(A.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+Pe.sessionId+") "+Oe.message})}}function _e(Pe,Oe){if(!Oe||!Pe)return null;for(var je=Pe.length,ze=0;ze<je;ze++)if(Pe[ze].sessionId==Oe)return Pe[ze];return null}function Le(){D.removeEventListener(O.keyerror,Y),D.removeEventListener(O.needkey,Y),D.removeEventListener(O.keymessage,Y),D.removeEventListener(O.keyadded,Y)}return k={getAllInitData:function Re(){for(var Pe=[],Oe=0;Oe<N.length;Oe++)Pe.push(N[Oe].initData);for(var je=0;je<S.length;je++)Pe.push(S[je].initData);return Pe},getSessions:function z(){return S.concat(N)},requestKeySystemAccess:function oe(Pe){return new Promise(function(Oe,je){var ze=D;ze||(ze=document.createElement("video"));for(var He=!1,Ae=0;Ae<Pe.length;Ae++)for(var ye=Pe[Ae].ks.systemString,K=Pe[Ae].configs,he=null,$=0;$<K.length;$++){var Z=K[$].videoCapabilities;if(Z&&0!==Z.length){he=[];for(var W=0;W<Z.length;W++)""!==ze.canPlayType(Z[W].contentType,ye)&&he.push(Z[W])}if(he&&(!he||0!==he.length)){He=!0;var X=new F.default(null,he),Q=E.getKeySystemBySystemString(ye),q=new L.default(Q,X);v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:q}),Oe({data:q});break}}if(!He){var J="Key system access denied! -- No valid audio/video content configurations detected!";v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:J}),je({error:J})}})},selectKeySystem:function H(Pe){return w=Pe.keySystem,Promise.resolve(w)},setMediaElement:function me(Pe){if(D!==Pe){if(D){Le();for(var Oe=0;Oe<S.length;Oe++)Se(S[Oe]);S=[]}(D=Pe)&&(D.addEventListener(O.keyerror,Y),D.addEventListener(O.needkey,Y),D.addEventListener(O.keymessage,Y),D.addEventListener(O.keyadded,Y),v.trigger(A.VIDEO_ELEMENT_SELECTED))}},createKeySession:function te(Pe){if(!w)throw new Error("Can not create sessions until you have selected a key system");if(B||0===S.length){var Oe={sessionId:null,keyId:Pe.keyId,initData:Pe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return N.push(Oe),D[O.generateKeyRequest](w.systemString,new Uint8Array(Pe.initData)),Oe}throw new Error("Multiple sessions not allowed!")},updateKeySession:function ue(Pe,Oe){var je=Pe.sessionId;if(E.isClearKey(w))for(var ze=0;ze<Oe.keyPairs.length;ze++)D[O.addKey](w.systemString,Oe.keyPairs[ze].key,Oe.keyPairs[ze].keyID,je);else D[O.addKey](w.systemString,new Uint8Array(Oe),new Uint8Array(Pe.initData),je);v.trigger(A.KEY_SESSION_UPDATED)},closeKeySession:Se,setServerCertificate:function Ie(){},loadKeySession:function le(){},removeKeySession:function Me(){},stop:ae,reset:ae},function re(){P=U.getLogger(k),D=null,w=null,N=[],S=[],E=Object(t.default)(p).getInstance(),Y=function we(){return{handleEvent:function(Oe){var je=null;switch(Oe.type){case O.needkey:var ze=ArrayBuffer.isView(Oe.initData)?Oe.initData.buffer:Oe.initData;v.trigger(A.NEED_KEY,{key:new b.default(ze,"cenc")});break;case O.keyerror:if((je=_e(S,Oe.sessionId))||(je=_e(N,Oe.sessionId)),je){var He=x.default.MEDIA_KEYERR_CODE,Ae="";switch(Oe.errorCode.code){case 1:He=x.default.MEDIA_KEYERR_UNKNOWN_CODE,Ae+="MEDIA_KEYERR_UNKNOWN - "+x.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:He=x.default.MEDIA_KEYERR_CLIENT_CODE,Ae+="MEDIA_KEYERR_CLIENT - "+x.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:He=x.default.MEDIA_KEYERR_SERVICE_CODE,Ae+="MEDIA_KEYERR_SERVICE - "+x.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:He=x.default.MEDIA_KEYERR_OUTPUT_CODE,Ae+="MEDIA_KEYERR_OUTPUT - "+x.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:He=x.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,Ae+="MEDIA_KEYERR_HARDWARECHANGE - "+x.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:He=x.default.MEDIA_KEYERR_DOMAIN_CODE,Ae+="MEDIA_KEYERR_DOMAIN - "+x.default.MEDIA_KEYERR_DOMAIN_MESSAGE}v.trigger(A.KEY_ERROR,{error:new I.default(He,Ae+="  System Code = "+Oe.systemCode,je)})}else P.error("No session token found for key error");break;case O.keyadded:(je=_e(S,Oe.sessionId))||(je=_e(N,Oe.sessionId)),je?(P.debug("DRM: Key added."),v.trigger(A.KEY_ADDED,{data:je})):P.debug("No session token found for key added");break;case O.keymessage:if((B=null!=Oe.sessionId)?!(je=_e(S,Oe.sessionId))&&N.length>0&&(je=N.shift(),S.push(je),je.sessionId=Oe.sessionId,v.trigger(A.KEY_SESSION_CREATED,{data:je})):N.length>0&&(je=N.shift(),S.push(je),0!==N.length&&V.error(new I.default(x.default.MEDIA_KEY_MESSAGE_ERROR_CODE,x.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),je){var ye=ArrayBuffer.isView(Oe.message)?Oe.message.buffer:Oe.message;je.keyMessage=ye,v.trigger(A.INTERNAL_KEY_MESSAGE,{data:new y.default(je,ye,Oe.defaultURL)})}else P.warn("No session token found for key message")}}}}()}(),k}m.__dashjs_factory_name="ProtectionModel_01b",C.default=dashjs.FactoryMaker.getClassFactory(m)},"./src/streaming/protection/models/ProtectionModel_21Jan2015.js":
/*!**********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_21Jan2015.js ***!
                  \**********************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),I=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),y=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js"),x=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js"),m={};function h(p){var V,k,P,D,w,E,N,S,v=this.context,A=(p=p||{}).eventBus,U=p.events,O=p.debug;function oe(He,Ae,ye,K){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess){var ie="Insecure origins are not allowed";return A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:ie}),void K({error:ie})}var Z=He[Ae].ks,W=Z.systemString;(function H(He,Ae){return new Promise(function(ye,K){me(He,Ae,0,ye,K)})})((He[Ae].protData&&He[Ae].protData.systemStringPriority?He[Ae].protData.systemStringPriority:null)||(m[W]?m[W]:[W]),He[Ae].configs).then(function(Q){var q="function"==typeof Q.getConfiguration?Q.getConfiguration():null,J=new L.default(Z,q);J.mksa=Q,A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{data:J}),ye({data:J})}).catch(function(Q){if(Ae+1<He.length)oe(He,Ae+1,ye,K);else{var q="Key system access denied! ";A.trigger(U.KEY_SYSTEM_ACCESS_COMPLETE,{error:q+Q.message}),K({error:q+Q.message})}})}function me(He,Ae,ye,K,ie){var he=He[ye];k.debug("Requesting key system access for system string ".concat(he)),navigator.requestMediaKeySystemAccess(he,Ae).then(function($){$.selectedSystemString=he,K($)}).catch(function($){ye+1<He.length?me(He,Ae,ye+1,K,ie):ie($)})}function Le(He){var Ae=He.session;return Ae.removeEventListener("keystatuseschange",He),Ae.removeEventListener("message",He),Ae.close()}function Oe(He){for(var Ae=0;Ae<E.length;Ae++)if(E[Ae]===He){E.splice(Ae,1);break}}function je(He){var Ae,ye;return He&&He.length>0&&(He[0]&&("string"==typeof He[0]?Ae=He[0]:ye=He[0]),He[1]&&("string"==typeof He[1]?Ae=He[1]:ye=He[1])),{status:Ae,keyId:ye}}function ze(He,Ae){var ye={session:He,keyId:Ae.keyId,initData:Ae.initData,sessionId:Ae.sessionId,sessionType:Ae.sessionType,handleEvent:function(ie){switch(ie.type){case"keystatuseschange":A.trigger(U.KEY_STATUSES_CHANGED,{data:this}),ie.target.keyStatuses.forEach(function(){var $=je(arguments);A.trigger(U.INTERNAL_KEY_STATUS_CHANGED,"expired"===$.status?{error:new y.default(I.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,I.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}:$)});break;case"message":var he=ArrayBuffer.isView(ie.message)?ie.message.buffer:ie.message;A.trigger(U.INTERNAL_KEY_MESSAGE,{data:new F.default(this,he,void 0,ie.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return He.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return He.expiration},getKeyStatuses:function(){return He.keyStatuses},getUsable:function(){var ie=!1;return He.keyStatuses.forEach(function(){"usable"===je(arguments).status&&(ie=!0)}),ie}};return He.addEventListener("keystatuseschange",ye),He.addEventListener("message",ye),He.closed.then(function(){Oe(ye),k.debug("DRM: Session closed.  SessionID = "+ye.getSessionId()),A.trigger(U.KEY_SESSION_CLOSED,{data:ye.getSessionId()})}),E.push(ye),ye}return V={getAllInitData:function ae(){for(var He=[],Ae=0;Ae<E.length;Ae++)E[Ae].initData&&He.push(E[Ae].initData);return He},getSessions:function Re(){return E},requestKeySystemAccess:function z(He){return new Promise(function(Ae,ye){oe(He,0,Ae,ye)})},selectKeySystem:function te(He){return new Promise(function(Ae,ye){He.mksa.createMediaKeys().then(function(K){return P=He.keySystem,w=K,D?D.setMediaKeys(w):Promise.resolve()}).then(function(){Ae(P)}).catch(function(){ye({error:"Error selecting keys system ("+He.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function ue(He){D!==He&&(D&&(D.removeEventListener("encrypted",N),D.setMediaKeys&&D.setMediaKeys(null)),(D=He)&&(D.addEventListener("encrypted",N),D.setMediaKeys&&w&&D.setMediaKeys(w)))},setServerCertificate:function Se(He){if(!P||!w)throw new Error("Can not set server certificate until you have selected a key system");w.setServerCertificate(He).then(function(){k.info("DRM: License server certificate successfully updated."),A.trigger(U.SERVER_CERTIFICATE_UPDATED)}).catch(function(Ae){A.trigger(U.SERVER_CERTIFICATE_UPDATED,{error:new y.default(I.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,I.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Ae.name)})})},createKeySession:function Ie(He){if(!P||!w)throw new Error("Can not create sessions until you have selected a key system");var Ae=w.createSession(He.sessionType),ye=ze(Ae,He);Ae.generateRequest(P.systemString===x.default.CLEARKEY_KEYSTEM_STRING&&(He.initData||He.protData&&He.protData.clearkeys)?x.default.INITIALIZATION_DATA_TYPE_KEYIDS:x.default.INITIALIZATION_DATA_TYPE_CENC,He.initData).then(function(){k.debug("DRM: Session created.  SessionID = "+ye.getSessionId()),A.trigger(U.KEY_SESSION_CREATED,{data:ye})}).catch(function(ie){Oe(ye),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new y.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+ie.name)})})},updateKeySession:function le(He,Ae){var ye=He.session;S.isClearKey(P)&&(Ae=Ae.toJWK()),ye.update(Ae).then(function(){A.trigger(U.KEY_SESSION_UPDATED)}).catch(function(K){A.trigger(U.KEY_ERROR,{error:new y.default(I.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+K.name,He)})})},loadKeySession:function Me(He){if(!P||!w)throw new Error("Can not load sessions until you have selected a key system");for(var Ae=He.sessionId,ye=0;ye<E.length;ye++)if(Ae===E[ye].sessionId)return void k.warn("DRM: Ignoring session ID because we have already seen it!");var K=w.createSession(He.sessionType),ie=ze(K,He);K.load(Ae).then(function(he){he?(k.debug("DRM: Session loaded.  SessionID = "+ie.getSessionId()),A.trigger(U.KEY_SESSION_CREATED,{data:ie})):(Oe(ie),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new y.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+Ae+")")}))}).catch(function(he){Oe(ie),A.trigger(U.KEY_SESSION_CREATED,{data:null,error:new y.default(I.default.KEY_SESSION_CREATED_ERROR_CODE,I.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+Ae+")! "+he.name)})})},removeKeySession:function we(He){He.session.remove().then(function(){k.debug("DRM: Session removed.  SessionID = "+He.getSessionId()),A.trigger(U.KEY_SESSION_REMOVED,{data:He.getSessionId()})},function(ye){A.trigger(U.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+He.getSessionId()+"). "+ye.name})})},closeKeySession:function _e(He){Le(He).catch(function(Ae){Oe(He),A.trigger(U.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+He.getSessionId()+") "+Ae.name})})},stop:function re(){for(var He,Ae=0;Ae<E.length;Ae++)(He=E[Ae]).getUsable()||Le(He).catch(function(){Oe(He)})},reset:function Y(){var Ae,He=E.length;0!==He?function(){for(var ye=function(he){Oe(he),0===E.length&&(D?(D.removeEventListener("encrypted",N),D.setMediaKeys(null).then(function(){A.trigger(U.TEARDOWN_COMPLETE)})):A.trigger(U.TEARDOWN_COMPLETE))},K=0;K<He;K++)!function(ie){Ae.session.closed.then(function(){ye(ie)}),Le(Ae).catch(function(){ye(ie)})}(Ae=E[K])}():A.trigger(U.TEARDOWN_COMPLETE)}},function B(){k=O.getLogger(V),P=null,D=null,w=null,E=[],S=Object(t.default)(v).getInstance(),N=function Pe(){return{handleEvent:function(Ae){if("encrypted"===Ae.type&&Ae.initData){var ye=ArrayBuffer.isView(Ae.initData)?Ae.initData.buffer:Ae.initData;A.trigger(U.NEED_KEY,{key:new b.default(ye,Ae.initDataType)})}}}}()}(),V}m[x.default.PLAYREADY_KEYSTEM_STRING]=[x.default.PLAYREADY_KEYSTEM_STRING,x.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],m[x.default.WIDEVINE_KEYSTEM_STRING]=[x.default.WIDEVINE_KEYSTEM_STRING],m[x.default.CLEARKEY_KEYSTEM_STRING]=[x.default.CLEARKEY_KEYSTEM_STRING],h.__dashjs_factory_name="ProtectionModel_21Jan2015",C.default=dashjs.FactoryMaker.getClassFactory(h)},"./src/streaming/protection/models/ProtectionModel_3Feb2014.js":
/*!*********************************************************************!*\
                  !*** ./src/streaming/protection/models/ProtectionModel_3Feb2014.js ***!
                  \*********************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../controllers/ProtectionKeyController */
"./src/streaming/protection/controllers/ProtectionKeyController.js"),b=c(
/*! ../vo/NeedKey */
"./src/streaming/protection/vo/NeedKey.js"),I=c(
/*! ../../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),y=c(
/*! ../errors/ProtectionErrors */
"./src/streaming/protection/errors/ProtectionErrors.js"),F=c(
/*! ../vo/KeyMessage */
"./src/streaming/protection/vo/KeyMessage.js"),L=c(
/*! ../vo/KeySystemConfiguration */
"./src/streaming/protection/vo/KeySystemConfiguration.js"),x=c(
/*! ../vo/KeySystemAccess */
"./src/streaming/protection/vo/KeySystemAccess.js");function m(h){var V,k,P,D,w,E,N,S,B,p=this.context,v=(h=h||{}).eventBus,A=h.events,U=h.debug,O=h.api;function re(){try{for(var Le=0;Le<N.length;Le++)ue(N[Le]);P&&P.removeEventListener(O.needkey,S),v.trigger(A.TEARDOWN_COMPLETE)}catch(Pe){v.trigger(A.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+Pe.message})}}function ue(Le){var Pe=Le.session;Pe.removeEventListener(O.error,Le),Pe.removeEventListener(O.message,Le),Pe.removeEventListener(O.ready,Le),Pe.removeEventListener(O.close,Le);for(var Oe=0;Oe<N.length;Oe++)if(N[Oe]===Le){N.splice(Oe,1);break}Pe[O.release]()}function we(){var Le=null,Pe=function(){P.removeEventListener("loadedmetadata",Le),P[O.setMediaKeys](w),v.trigger(A.VIDEO_ELEMENT_SELECTED)};P.readyState>=1?Pe():(Le=Pe.bind(this),P.addEventListener("loadedmetadata",Le))}return V={getAllInitData:function ae(){for(var Le=[],Pe=0;Pe<N.length;Pe++)Le.push(N[Pe].initData);return Le},getSessions:function Re(){return N},requestKeySystemAccess:function z(Le){return new Promise(function(Pe,Oe){for(var je=!1,ze=0;ze<Le.length;ze++)for(var He=Le[ze].ks.systemString,Ae=Le[ze].configs,ye=null,K=null,ie=0;ie<Ae.length;ie++){var he=Ae[ie].audioCapabilities,$=Ae[ie].videoCapabilities;if(he&&0!==he.length){ye=[];for(var Z=0;Z<he.length;Z++)window[O.MediaKeys].isTypeSupported(He,he[Z].contentType)&&ye.push(he[Z])}if($&&0!==$.length){K=[];for(var W=0;W<$.length;W++)window[O.MediaKeys].isTypeSupported(He,$[W].contentType)&&K.push($[W])}if(!(!ye&&!K||ye&&0===ye.length||K&&0===K.length)){je=!0;var X=new L.default(ye,K),Q=B.getKeySystemBySystemString(He),q=new x.default(Q,X);v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{data:q}),Pe({data:q});break}}if(!je){var J="Key system access denied! -- No valid audio/video content configurations detected!";v.trigger(A.KEY_SYSTEM_ACCESS_COMPLETE,{error:J}),Oe({error:J})}})},selectKeySystem:function oe(Le){return new Promise(function(Pe,Oe){try{w=Le.mediaKeys=new window[O.MediaKeys](Le.keySystem.systemString),D=Le.keySystem,E=Le,P&&we(),Pe(D)}catch{Oe({error:"Error selecting keys system ("+D.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function H(Le){P!==Le&&(P&&P.removeEventListener(O.needkey,S),(P=Le)&&(P.addEventListener(O.needkey,S),w&&we()))},createKeySession:function me(Le){if(!D||!w||!E)throw new Error("Can not create sessions until you have selected a key system");var Pe=null;if(E.ksConfiguration.videoCapabilities&&E.ksConfiguration.videoCapabilities.length>0&&(Pe=E.ksConfiguration.videoCapabilities[0]),null===Pe&&E.ksConfiguration.audioCapabilities&&E.ksConfiguration.audioCapabilities.length>0&&(Pe=E.ksConfiguration.audioCapabilities[0]),null===Pe)throw new Error("Can not create sessions for unknown content types.");var je=w.createSession(Pe.contentType,new Uint8Array(Le.initData),Le.cdmData?new Uint8Array(Le.cdmData):null),ze=function _e(Le,Pe){return{session:Le,keyId:Pe.keyId,initData:Pe.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(je){switch(je.type){case O.error:v.trigger(A.KEY_ERROR,{error:new I.default(y.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case O.message:var He=ArrayBuffer.isView(je.message)?je.message.buffer:je.message;v.trigger(A.INTERNAL_KEY_MESSAGE,{data:new F.default(this,He,je.destinationURL)});break;case O.ready:k.debug("DRM: Key added."),v.trigger(A.KEY_ADDED);break;case O.close:k.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),v.trigger(A.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(je,Le);je.addEventListener(O.error,ze),je.addEventListener(O.message,ze),je.addEventListener(O.ready,ze),je.addEventListener(O.close,ze),N.push(ze),k.debug("DRM: Session created.  SessionID = "+ze.getSessionId()),v.trigger(A.KEY_SESSION_CREATED,{data:ze})},updateKeySession:function te(Le,Pe){var Oe=Le.session;B.isClearKey(D)?Oe.update(new Uint8Array(Pe.toJWK())):Oe.update(new Uint8Array(Pe)),v.trigger(A.KEY_SESSION_UPDATED)},closeKeySession:ue,setServerCertificate:function Se(){},loadKeySession:function Ie(){},removeKeySession:function le(){},stop:re,reset:re},function Y(){k=U.getLogger(V),P=null,D=null,w=null,E=null,N=[],B=Object(t.default)(p).getInstance(),S=function Me(){return{handleEvent:function(Pe){if(Pe.type===O.needkey&&Pe.initData){var Oe=ArrayBuffer.isView(Pe.initData)?Pe.initData.buffer:Pe.initData;v.trigger(A.NEED_KEY,{key:new b.default(Oe,"cenc")})}}}}()}(),V}m.__dashjs_factory_name="ProtectionModel_3Feb2014",C.default=dashjs.FactoryMaker.getClassFactory(m)},"./src/streaming/protection/servers/ClearKey.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/ClearKey.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/KeyPair */
"./src/streaming/protection/vo/KeyPair.js"),b=c(
/*! ../vo/ClearKeyKeySet */
"./src/streaming/protection/vo/ClearKeyKeySet.js");function I(){return{getServerURLFromMessage:function F(p){return p},getHTTPMethod:function L(){return"POST"},getResponseType:function x(){return"json"},getLicenseMessage:function m(p){if(!p.hasOwnProperty("keys"))return null;for(var v=[],A=0;A<p.keys.length;A++){var U=p.keys[A],O=U.kid.replace(/=/g,""),V=U.k.replace(/=/g,"");v.push(new t.default(O,V))}return new b.default(v)},getErrorResponse:function h(p){return String.fromCharCode.apply(null,new Uint8Array(p))}}}I.__dashjs_factory_name="ClearKey",C.default=dashjs.FactoryMaker.getSingletonFactory(I)},"./src/streaming/protection/servers/DRMToday.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/DRMToday.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/ProtectionConstants */
"./src/streaming/constants/ProtectionConstants.js");function b(I){var y=(I=I||{}).BASE64,F={};return F[t.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(O){return y.decodeArray(O.license)},getErrorResponse:function(O){return O}},F[t.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(O){return O},getErrorResponse:function(O){return String.fromCharCode.apply(null,new Uint8Array(O))}},{getServerURLFromMessage:function m(U){return U},getHTTPMethod:function h(){return"POST"},getResponseType:function p(U){return F[U].responseType},getLicenseMessage:function v(U,O){return function x(){if(!y||!y.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),F[O].getLicenseMessage(U)},getErrorResponse:function A(U,O){return F[O].getErrorResponse(U)}}}b.__dashjs_factory_name="DRMToday",C.default=dashjs.FactoryMaker.getSingletonFactory(b)},"./src/streaming/protection/servers/PlayReady.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/servers/PlayReady.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){var I="http://schemas.xmlsoap.org/soap/envelope/";function y(A){var U=String.fromCharCode.apply(null,new Uint8Array(A));return decodeURIComponent(escape(U))}function F(A){if(window.DOMParser){var U=y(A),V=(new window.DOMParser).parseFromString(U,"text/xml"),k=V?V.getElementsByTagNameNS(I,"Envelope")[0]:null,P=k?k.getElementsByTagNameNS(I,"Body")[0]:null;if(P&&P.getElementsByTagNameNS(I,"Fault")[0])return null}return A}function L(A){var U="",O="",V="",k=-1,P=-1;if(window.DOMParser){var D=y(A),E=(new window.DOMParser).parseFromString(D,"text/xml"),N=E?E.getElementsByTagNameNS(I,"Envelope")[0]:null,S=N?N.getElementsByTagNameNS(I,"Body")[0]:null,B=S?S.getElementsByTagNameNS(I,"Fault")[0]:null,Y=B?B.getElementsByTagName("detail")[0]:null,re=Y?Y.getElementsByTagName("Exception")[0]:null,ae=null;if(null===B)return D;U=(ae=B.getElementsByTagName("faultstring")[0].firstChild)?ae.nodeValue:null,null!==re&&(O=(ae=re.getElementsByTagName("StatusCode")[0])?ae.firstChild.nodeValue:null,k=(V=(ae=re.getElementsByTagName("Message")[0])?ae.firstChild.nodeValue:null)?V.lastIndexOf("[")+1:-1,P=V?V.indexOf("]"):-1,V=V?V.substring(k,P):"")}var Re="code: ".concat(O,", name: ").concat(U);return V&&(Re+=", message: ".concat(V)),Re}return{getServerURLFromMessage:function x(A){return A},getHTTPMethod:function m(){return"POST"},getResponseType:function h(){return"arraybuffer"},getLicenseMessage:function p(A){return F.call(this,A)},getErrorResponse:function v(A){return L.call(this,A)}}}c.r(C),t.__dashjs_factory_name="PlayReady",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/servers/Widevine.js":
/*!******************************************************!*\
                  !*** ./src/streaming/protection/servers/Widevine.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(){return{getServerURLFromMessage:function I(m){return m},getHTTPMethod:function y(){return"POST"},getResponseType:function F(){return"arraybuffer"},getLicenseMessage:function L(m){return m},getErrorResponse:function x(m){return String.fromCharCode.apply(null,new Uint8Array(m))}}}c.r(C),t.__dashjs_factory_name="Widevine",C.default=dashjs.FactoryMaker.getSingletonFactory(t)},"./src/streaming/protection/vo/ClearKeyKeySet.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/ClearKeyKeySet.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function I(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function m(h,p){if(function b(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m),p&&"persistent"!==p&&"temporary"!==p)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=h,this.type=p}return function y(m,h,p){return h&&I(m.prototype,h),p&&I(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"toJWK",value:function(){var p,v=this.keyPairs.length,A={keys:[]};for(p=0;p<v;p++)A.keys.push({kty:"oct",alg:"A128KW",kid:this.keyPairs[p].keyID,k:this.keyPairs[p].key});this.type&&(A.type=this.type);var O=JSON.stringify(A),V=O.length,k=new ArrayBuffer(V),P=new Uint8Array(k);for(p=0;p<V;p++)P[p]=O.charCodeAt(p);return k}}]),m}()},"./src/streaming/protection/vo/KeyMessage.js":
/*!***************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyMessage.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(h,p,v,A){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.sessionToken=h,this.message=p,this.defaultURL=v,this.messageType=A||"license-request"})},"./src/streaming/protection/vo/KeyPair.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/KeyPair.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(h,p){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.keyID=h,this.key=p})},"./src/streaming/protection/vo/KeySystemAccess.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemAccess.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(h,p){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.keySystem=h,this.ksConfiguration=p})},"./src/streaming/protection/vo/KeySystemConfiguration.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/protection/vo/KeySystemConfiguration.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(h,p,v,A,U){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.initDataTypes=["cenc"],h&&h.length&&(this.audioCapabilities=h),p&&p.length&&(this.videoCapabilities=p),this.distinctiveIdentifier=v,this.persistentState=A,this.sessionTypes=U})},"./src/streaming/protection/vo/LicenseRequest.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseRequest.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(h,p,v,A,U,O,V,k){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.url=h,this.method=p,this.responseType=v,this.headers=A,this.withCredentials=U,this.messageType=O,this.sessionId=V,this.data=k})},"./src/streaming/protection/vo/LicenseResponse.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/LicenseResponse.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(h,p,v){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.url=h,this.headers=p,this.data=v})},"./src/streaming/protection/vo/MediaCapability.js":
/*!********************************************************!*\
                  !*** ./src/streaming/protection/vo/MediaCapability.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(h,p){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.contentType=h,this.robustness=p})},"./src/streaming/protection/vo/NeedKey.js":
/*!************************************************!*\
                  !*** ./src/streaming/protection/vo/NeedKey.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(h,p){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.initData=h,this.initDataType=p})},"./src/streaming/rules/DroppedFramesHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/DroppedFramesHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var y={},F={},L={};return{push:function x(v,A,U){if(A){y[v]||(y[v]=[],F[v]=0,L[v]=0);var O=U&&U.droppedVideoFrames?U.droppedVideoFrames:0,V=U&&U.totalVideoFrames?U.totalVideoFrames:0,k=O-F[v];F[v]=O;var P=V-L[v];L[v]=V;var D=y[v];isNaN(A)||(D[A]?(D[A].droppedVideoFrames+=k,D[A].totalVideoFrames+=P):D[A]={droppedVideoFrames:k,totalVideoFrames:P})}},getFrameHistory:function m(v){return y[v]},clearForStream:function h(v){try{delete y[v],delete F[v],delete L[v]}catch{}},reset:function p(){y={},F={},L={}}}}b.__dashjs_factory_name="DroppedFramesHistory";var I=t.default.getClassFactory(b);C.default=I},"./src/streaming/rules/RulesContext.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/RulesContext.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(I){var F=(I=I||{}).abrController,L=I.switchHistory,x=I.droppedFramesHistory,m=I.currentRequest,h=I.useBufferOccupancyABR,p=I.useL2AABR,v=I.useLoLPABR,A=I.streamProcessor?I.streamProcessor.getScheduleController():null,U=I.streamProcessor?I.streamProcessor.getRepresentationInfo():null,O=I.videoModel?I.videoModel:null;function P(){return U?U.mediaInfo:null}return{getMediaType:function V(){var z=P();return z?z.type:null},getMediaInfo:P,getDroppedFramesHistory:function B(){return x},getCurrentRequest:function Y(){return m},getSwitchHistory:function N(){return L},getStreamInfo:function k(){var z=P();return z?z.streamInfo:null},getScheduleController:function w(){return A},getAbrController:function E(){return F},getRepresentationInfo:function D(){return U},useBufferOccupancyABR:function re(){return h},useL2AABR:function ae(){return p},useLoLPABR:function Re(){return v},getVideoModel:function S(){return O}}}b.__dashjs_factory_name="RulesContext",C.default=t.default.getClassFactory(b)},"./src/streaming/rules/SwitchRequest.js":
/*!**********************************************!*\
                  !*** ./src/streaming/rules/SwitchRequest.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I={DEFAULT:.5,STRONG:1,WEAK:0};function y(L,x,m){return{quality:void 0===L?-1:L,reason:void 0===x?null:x,priority:function U(O){var V=I.DEFAULT;return(O===I.DEFAULT||O===I.STRONG||O===I.WEAK)&&(V=O),V}(m)}}y.__dashjs_factory_name="SwitchRequest";var F=t.default.getClassFactory(y);F.NO_CHANGE=-1,F.PRIORITY=I,t.default.updateClassFactory(y.__dashjs_factory_name,F),C.default=F},"./src/streaming/rules/SwitchRequestHistory.js":
/*!*****************************************************!*\
                  !*** ./src/streaming/rules/SwitchRequestHistory.js ***!
                  \*****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function y(){var L=[],x=[];return{push:function m(v){v.newValue===b.default.NO_CHANGE&&(v.newValue=v.oldValue),L[v.oldValue]||(L[v.oldValue]={noDrops:0,drops:0,dropSize:0});var A=v.newValue-v.oldValue,U=A<0?1:0,O=U?-A:0,V=U?0:1;if(L[v.oldValue].drops+=U,L[v.oldValue].dropSize+=O,L[v.oldValue].noDrops+=V,x.push({idx:v.oldValue,noDrop:V,drop:U,dropSize:O}),x.length>8){var k=x.shift();L[k.idx].drops-=k.drop,L[k.idx].dropSize-=k.dropSize,L[k.idx].noDrops-=k.noDrop}},getSwitchRequests:function h(){return L},reset:function p(){L=[],x=[]}}}y.__dashjs_factory_name="SwitchRequestHistory";var F=t.default.getClassFactory(y);C.default=F},"./src/streaming/rules/ThroughputHistory.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/ThroughputHistory.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(y){var k,P,D,w,E,L=3,x=4,m=4,h=1.3,p=1.3,V=(y=y||{}).settings;function Y(le,Me,we,_e){var Le=Math.pow(.5,we/_e.fast);le.fastEstimate=(1-Le)*Me+Le*le.fastEstimate;var Pe=Math.pow(.5,we/_e.slow);le.slowEstimate=(1-Pe)*Me+Pe*le.slowEstimate,le.totalWeight+=we}function ae(le,Me,we){return V.get().streaming.abr.movingAverageMethod!==t.default.MOVING_AVERAGE_SLIDING_WINDOW?function z(le,Me){var we=le?E.throughputHalfLife:E.latencyHalfLife,_e=le?D[Me]:w[Me];if(!_e||_e.totalWeight<=0)return NaN;var Le=_e.fastEstimate/(1-Math.pow(.5,_e.totalWeight/we.fast)),Pe=_e.slowEstimate/(1-Math.pow(.5,_e.totalWeight/we.slow));return le?Math.min(Le,Pe):Math.max(Le,Pe)}(le,Me):function Re(le,Me,we){var _e=function re(le,Me,we){var _e,Le;if(le?(_e=k[Me],Le=we?L:x):(_e=P[Me],Le=m),_e){if(Le>=_e.length)Le=_e.length;else if(le)for(var Pe=1;Pe<Le;++Pe){var Oe=_e[_e.length-Pe]/_e[_e.length-Pe-1];if((Oe>=p||Oe<=1/h)&&(Le+=1)===_e.length)break}}else Le=0;return Le}(le,Me,we),Pe=(le?k:P)[Me];return 0!==_e&&Pe&&0!==Pe.length?(Pe=Pe.slice(-_e)).reduce(function(Oe,je){return Oe+je})/Pe.length:NaN}(le,Me,we)}function oe(le,Me){return ae(!0,le,Me)}function te(le){k[le]=k[le]||[],P[le]=P[le]||[],D[le]=D[le]||{fastEstimate:0,slowEstimate:0,totalWeight:0},w[le]=w[le]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function Se(){k={},P={},D={},w={}}var Ie={push:function B(le,Me,we){if(Me.trace&&Me.trace.length){var Oe,_e=Me.tresponse.getTime()-Me.trequest.getTime()||1,Le=Me._tfinish.getTime()-Me.tresponse.getTime()||1,Pe=Me.trace.reduce(function(ze,He){return ze+He.b[0]},0),je=0;if(0!==(Oe=Me._fileLoaderType&&Me._fileLoaderType===t.default.FILE_LOADER_TYPES.FETCH?Me.trace.reduce(function(ze,He){return ze+He.d},0):we?Le:_e+Le)&&(je=Math.round(8*Pe/Oe)),te(le),function S(le,Me,we){return le===t.default.VIDEO?we<V.get().streaming.cacheLoadThresholds[t.default.VIDEO]:le===t.default.AUDIO?we<V.get().streaming.cacheLoadThresholds[t.default.AUDIO]:void 0}(le,0,Le)){if(k[le].length>0&&!k[le].hasCachedEntries)return;k[le].hasCachedEntries=!0}else k[le]&&k[le].hasCachedEntries&&function ue(le){delete k[le],delete P[le],delete D[le],delete w[le],te(le)}(le);k[le].push(je),k[le].length>20&&k[le].shift(),P[le].push(_e),P[le].length>20&&P[le].shift(),Y(D[le],je,.001*Le,E.throughputHalfLife),Y(w[le],_e,1,E.latencyHalfLife)}},getAverageThroughput:oe,getSafeAverageThroughput:function H(le,Me){var we=oe(le,Me);return isNaN(we)||(we*=V.get().streaming.abr.bandwidthSafetyFactor),we},getAverageLatency:function me(le){return ae(!1,le)},reset:Se};return function N(){E={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},Se()}(),Ie}I.__dashjs_factory_name="ThroughputHistory",C.default=b.default.getClassFactory(I)},"./src/streaming/rules/abr/ABRRulesCollection.js":
/*!*******************************************************!*\
                  !*** ./src/streaming/rules/abr/ABRRulesCollection.js ***!
                  \*******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./ThroughputRule */
"./src/streaming/rules/abr/ThroughputRule.js"),b=c(
/*! ./InsufficientBufferRule */
"./src/streaming/rules/abr/InsufficientBufferRule.js"),I=c(
/*! ./AbandonRequestsRule */
"./src/streaming/rules/abr/AbandonRequestsRule.js"),y=c(
/*! ./DroppedFramesRule */
"./src/streaming/rules/abr/DroppedFramesRule.js"),F=c(
/*! ./SwitchHistoryRule */
"./src/streaming/rules/abr/SwitchHistoryRule.js"),L=c(
/*! ./BolaRule */
"./src/streaming/rules/abr/BolaRule.js"),x=c(
/*! ./L2ARule.js */
"./src/streaming/rules/abr/L2ARule.js"),m=c(
/*! ./lolp/LoLpRule.js */
"./src/streaming/rules/abr/lolp/LoLpRule.js"),h=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),p=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),v=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),A="qualitySwitchRules",U="abandonFragmentRules";function O(k){var B,Y,P=this.context,D=(k=k||{}).mediaPlayerModel,w=k.customParametersModel,E=k.dashMetrics,N=k.settings;function ae(te){return te.filter(function(ue){return ue.quality>p.default.NO_CHANGE})}function Re(te){var Ie,le,Me,we,_e,ue={},Se=null;if(0!==te.length){for(ue[p.default.PRIORITY.STRONG]={quality:p.default.NO_CHANGE,reason:null},ue[p.default.PRIORITY.WEAK]={quality:p.default.NO_CHANGE,reason:null},ue[p.default.PRIORITY.DEFAULT]={quality:p.default.NO_CHANGE,reason:null},Ie=0,le=te.length;Ie<le;Ie+=1)(Me=te[Ie]).quality!==p.default.NO_CHANGE&&(ue[Me.priority].quality===p.default.NO_CHANGE||ue[Me.priority].quality>Me.quality)&&(ue[Me.priority].quality=Me.quality,ue[Me.priority].reason=Me.reason||null);return ue[p.default.PRIORITY.WEAK].quality!==p.default.NO_CHANGE&&(Se=ue[p.default.PRIORITY.WEAK]),ue[p.default.PRIORITY.DEFAULT].quality!==p.default.NO_CHANGE&&(Se=ue[p.default.PRIORITY.DEFAULT]),ue[p.default.PRIORITY.STRONG].quality!==p.default.NO_CHANGE&&(Se=ue[p.default.PRIORITY.STRONG]),Se&&(we=Se.quality,_e=Se.reason),Object(p.default)(P).create(we,_e)}}return{initialize:function re(){B=[],Y=[],N.get().streaming.abr.useDefaultABRRules&&(N.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_L2A?B.push(Object(x.default)(P).create({dashMetrics:E,settings:N})):N.get().streaming.abr.ABRStrategy===v.default.ABR_STRATEGY_LoLP?B.push(Object(m.default)(P).create({dashMetrics:E})):(B.push(Object(L.default)(P).create({dashMetrics:E,mediaPlayerModel:D,settings:N})),B.push(Object(t.default)(P).create({dashMetrics:E})),N.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&B.push(Object(b.default)(P).create({dashMetrics:E,settings:N})),N.get().streaming.abr.additionalAbrRules.switchHistoryRule&&B.push(Object(F.default)(P).create()),N.get().streaming.abr.additionalAbrRules.droppedFramesRule&&B.push(Object(y.default)(P).create()),N.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&Y.push(Object(I.default)(P).create({dashMetrics:E,mediaPlayerModel:D,settings:N})))),w.getAbrCustomRules().forEach(function(ue){ue.type===A&&B.push(ue.rule(P).create()),ue.type===U&&Y.push(ue.rule(P).create())})},reset:function H(){[B,Y].forEach(function(te){te&&te.length&&te.forEach(function(ue){return ue.reset&&ue.reset()})}),B=[],Y=[]},getMaxQuality:function z(te){return Re(ae(B.map(function(le){return le.getMaxIndex(te)})))||Object(p.default)(P).create()},getMinSwitchRequest:Re,shouldAbandonFragment:function oe(te,ue){return Re(ae(Y.map(function(Me){return Me.shouldAbandon(te,ue)})))||Object(p.default)(P).create()},getQualitySwitchRules:function me(){return B}}}O.__dashjs_factory_name="ABRRulesCollection";var V=h.default.getClassFactory(O);V.QUALITY_SWITCH_RULES=A,V.ABANDON_FRAGMENT_RULES=U,h.default.updateSingletonFactory(O.__dashjs_factory_name,V),C.default=V},"./src/streaming/rules/abr/AbandonRequestsRule.js":
/*!********************************************************!*\
                  !*** ./src/streaming/rules/abr/AbandonRequestsRule.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),b=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function y(F){var U,O,V,k,P,h=this.context,p=(F=F||{}).mediaPlayerModel,v=F.dashMetrics,A=F.settings;function S(){V={},k={},P=[]}return U={shouldAbandon:function N(B){var Y=Object(t.default)(h).create(t.default.NO_CHANGE,{name:y.__dashjs_factory_name});if(!(B&&B.hasOwnProperty("getMediaInfo")&&B.hasOwnProperty("getMediaType")&&B.hasOwnProperty("getCurrentRequest")&&B.hasOwnProperty("getRepresentationInfo")&&B.hasOwnProperty("getAbrController")))return Y;var re=B.getMediaInfo(),ae=B.getMediaType(),Re=B.getStreamInfo(),z=Re?Re.id:null,oe=B.getCurrentRequest();if(!isNaN(oe.index)){!function w(B,Y){V[B]=V[B]||{},V[B][Y]=V[B][Y]||{}}(ae,oe.index);var H=p.getStableBufferTime();if(v.getCurrentBufferLevel(ae)>H)return Y;var te=V[ae][oe.index];if(null===te||null===oe.firstByteDate||k.hasOwnProperty(te.id))return Y;if(void 0===te.firstByteTime&&(P[ae]=[],te.firstByteTime=oe.firstByteDate.getTime(),te.segmentDuration=oe.duration,te.bytesTotal=oe.bytesTotal,te.id=oe.index),te.bytesLoaded=oe.bytesLoaded,te.elapsedTime=(new Date).getTime()-te.firstByteTime,te.bytesLoaded>0&&te.elapsedTime>0&&function E(B,Y){P[B]=P[B]||[],P[B].push(Y)}(ae,Math.round(8*te.bytesLoaded/te.elapsedTime)),P[ae].length>=5&&te.elapsedTime>500&&te.bytesLoaded<te.bytesTotal){var ue=P[ae].reduce(function(Pe,Oe){return Pe+Oe},0);if(te.measuredBandwidthInKbps=Math.round(ue/P[ae].length),te.estimatedTimeOfDownload=+(8*te.bytesTotal/te.measuredBandwidthInKbps/1e3).toFixed(2),te.estimatedTimeOfDownload<1.8*te.segmentDuration||0===B.getRepresentationInfo().quality)return Y;if(!k.hasOwnProperty(te.id)){var Se=B.getAbrController(),Ie=te.bytesTotal-te.bytesLoaded,le=Se.getBitrateList(re),Me=Se.getQualityForBitrate(re,te.measuredBandwidthInKbps*A.get().streaming.abr.bandwidthSafetyFactor,z),we=Se.getMinAllowedIndexFor(ae,z),_e=void 0!==we?Math.max(we,Me):Me;Ie>te.bytesTotal*le[_e].bitrate/le[Se.getQualityFor(ae,z)].bitrate&&(Y.quality=_e,Y.reason.throughput=te.measuredBandwidthInKbps,Y.reason.fragmentID=te.id,k[te.id]=te,O.debug("["+ae+"] frag id",te.id," is asking to abandon and switch to quality to ",_e," measured bandwidth was",te.measuredBandwidthInKbps),delete V[ae][te.id])}}else te.bytesLoaded===te.bytesTotal&&delete V[ae][te.id]}return Y},reset:S},function D(){O=Object(I.default)(h).getInstance().getLogger(U),S()}(),U}y.__dashjs_factory_name="AbandonRequestsRule",C.default=b.default.getClassFactory(y)},"./src/streaming/rules/abr/BolaRule.js":
/*!*********************************************!*\
                  !*** ./src/streaming/rules/abr/BolaRule.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),m=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),h=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),U=10;function k(P){var S,B,Y,D=this.context,w=(P=P||{}).dashMetrics,E=P.mediaPlayerModel,N=Object(F.default)(D).getInstance();function Re(Ae,ye,K){var ie=K.reduce(function(W,X,Q){return X>K[W]?Q:W},0);if(0===ie)return null;var he=Math.max(Ae,U+2*ye.length),$=(K[ie]-1)/(he/U-1);return{gp:$,Vp:U/$}}function z(Ae){var ye={},ie=Ae.getMediaInfo().bitrateList.map(function(W){return W.bandwidth}),he=function ae(Ae){return Ae.map(function(ye){return Math.log(ye)})}(ie);he=he.map(function(W){return W-he[0]+1});var $=E.getStableBufferTime(),Z=Re($,ie,he);return Z?(ye.state=1,ye.bitrates=ie,ye.utilities=he,ye.stableBufferTime=$,ye.Vp=Z.Vp,ye.gp=Z.gp,ye.lastQuality=0,oe(ye)):ye.state=0,ye}function oe(Ae){Ae.placeholderBuffer=0,Ae.mostAdvancedSegmentStart=NaN,Ae.lastSegmentWasReplacement=!1,Ae.lastSegmentStart=NaN,Ae.lastSegmentDurationS=NaN,Ae.lastSegmentRequestTimeMs=NaN,Ae.lastSegmentFinishTimeMs=NaN}function H(Ae,ye){var K=E.getStableBufferTime();if(Ae.stableBufferTime!==K){var ie=Re(K,Ae.bitrates,Ae.utilities);if(ie.Vp!==Ae.Vp||ie.gp!==Ae.gp){var he=w.getCurrentBufferLevel(ye),$=he+Ae.placeholderBuffer;$-=U,$*=ie.Vp/Ae.Vp,$+=U,Ae.stableBufferTime=K,Ae.Vp=ie.Vp,Ae.gp=ie.gp,Ae.placeholderBuffer=Math.max(0,$-he)}}}function ue(Ae,ye){return Ae.Vp*(Ae.utilities[ye]+Ae.gp)}function Se(Ae,ye){for(var K=Ae.bitrates[ye],ie=Ae.utilities[ye],he=0,$=ye-1;$>=0;--$)if(Ae.utilities[$]<Ae.utilities[ye]){var Z=Ae.bitrates[$];he=Math.max(he,Ae.Vp*(Ae.gp+(K*Ae.utilities[$]-Z*ie)/(K-Z)))}return he}function le(Ae){var K=Ae.mediaType===h.default.AUDIO?[h.default.AUDIO]:Y;for(var ie in K)Y.hasOwnProperty(ie)&&2===Y[ie].state&&(Y[ie].placeholderBuffer=0)}function Me(){for(var Ae in Y)if(Y.hasOwnProperty(Ae)){var ye=Y[Ae];0!==ye.state&&(ye.state=1,oe(ye))}}function we(Ae){if(Ae&&Ae.chunk&&Ae.chunk.mediaInfo){var ye=Y[Ae.chunk.mediaInfo.type];if(ye&&0!==ye.state){var K=Ae.chunk.start;isNaN(ye.mostAdvancedSegmentStart)||K>ye.mostAdvancedSegmentStart?(ye.mostAdvancedSegmentStart=K,ye.lastSegmentWasReplacement=!1):ye.lastSegmentWasReplacement=!0,ye.lastSegmentStart=K,ye.lastSegmentDurationS=Ae.chunk.duration,ye.lastQuality=Ae.chunk.quality,Le(ye,Ae.chunk.mediaInfo.type)}}}function _e(Ae){if(Ae&&Ae.metric===t.default.HTTP_REQUEST&&Ae.value&&Ae.value.type===y.HTTPRequest.MEDIA_SEGMENT_TYPE&&Ae.value.trace&&Ae.value.trace.length){var ye=Y[Ae.mediaType];ye&&0!==ye.state&&(ye.lastSegmentRequestTimeMs=Ae.value.trequest.getTime(),ye.lastSegmentFinishTimeMs=Ae.value._tfinish.getTime(),Le(ye,Ae.mediaType))}}function Le(Ae,ye){if(!isNaN(Ae.lastSegmentStart)&&!isNaN(Ae.lastSegmentRequestTimeMs)&&!isNaN(Ae.placeholderBuffer)){if(Ae.placeholderBuffer*=.99,!isNaN(Ae.lastSegmentFinishTimeMs)){var ie=w.getCurrentBufferLevel(ye)+.001*(Ae.lastSegmentFinishTimeMs-Ae.lastSegmentRequestTimeMs),he=ue(Ae,Ae.lastQuality),$=Math.max(0,he-ie);Ae.placeholderBuffer=Math.min($,Ae.placeholderBuffer)}Ae.lastSegmentWasReplacement&&!isNaN(Ae.lastSegmentDurationS)&&(Ae.placeholderBuffer+=Ae.lastSegmentDurationS),Ae.lastSegmentStart=NaN,Ae.lastSegmentRequestTimeMs=NaN}}function Pe(Ae){if(Ae){var ye=Y[Ae.mediaType];ye&&0!==ye.state&&(ye.abrQuality=Ae.newQuality)}}function Oe(Ae){if(Ae){var ye=Y[Ae.mediaType];if(ye&&0!==ye.state){var ie,K=w.getCurrentBufferLevel(Ae.mediaType);ie=ye.abrQuality>0?Se(ye,ye.abrQuality):U;var he=Math.max(0,ie-K);ye.placeholderBuffer=Math.min(ye.placeholderBuffer,he)}}}function ze(){Y={}}return S={getMaxIndex:function je(Ae){var ye=Object(b.default)(D).create();if(!(Ae&&Ae.hasOwnProperty("getMediaInfo")&&Ae.hasOwnProperty("getMediaType")&&Ae.hasOwnProperty("getScheduleController")&&Ae.hasOwnProperty("getStreamInfo")&&Ae.hasOwnProperty("getAbrController")&&Ae.hasOwnProperty("useBufferOccupancyABR")))return ye;var K=Ae.getMediaInfo(),ie=Ae.getMediaType(),he=Ae.getScheduleController(),$=Ae.getStreamInfo(),Z=Ae.getAbrController(),W=Z.getThroughputHistory(),X=$?$.id:null,Q=$&&$.manifestInfo&&$.manifestInfo.isDynamic,q=Ae.useBufferOccupancyABR();if(ye.reason=ye.reason||{},!q)return ye;he.setTimeToLoadDelay(0);var J=function me(Ae){var ye=Ae.getMediaType(),K=Y[ye];return K?0!==K.state&&H(K,ye):(K=z(Ae),Y[ye]=K),K}(Ae);if(0===J.state)return ye;var Ye,de=w.getCurrentBufferLevel(ie),ge=W.getAverageThroughput(ie,Q),ce=W.getSafeAverageThroughput(ie,Q),Ce=W.getAverageLatency(ie);if(ye.reason.state=J.state,ye.reason.throughput=ge,ye.reason.latency=Ce,isNaN(ge))return ye;switch(J.state){case 1:Ye=Z.getQualityForBitrate(K,ce,X,Ce),ye.quality=Ye,ye.reason.throughput=ce,J.placeholderBuffer=Math.max(0,Se(J,Ye)-de),J.lastQuality=Ye,!isNaN(J.lastSegmentDurationS)&&de>=J.lastSegmentDurationS&&(J.state=2);break;case 2:(function Ie(Ae,ye){var K=Date.now();isNaN(Ae.lastSegmentFinishTimeMs)?isNaN(Ae.lastCallTimeMs)||(Ae.placeholderBuffer+=Math.max(0,.001*(K-Ae.lastCallTimeMs))):Ae.placeholderBuffer+=Math.max(0,.001*(K-Ae.lastSegmentFinishTimeMs)),Ae.lastCallTimeMs=K,Ae.lastSegmentStart=NaN,Ae.lastSegmentRequestTimeMs=NaN,Ae.lastSegmentFinishTimeMs=NaN,H(Ae,ye)})(J,ie),Ye=function te(Ae,ye){for(var K=Ae.bitrates.length,ie=NaN,he=NaN,$=0;$<K;++$){var Z=(Ae.Vp*(Ae.utilities[$]+Ae.gp)-ye)/Ae.bitrates[$];(isNaN(he)||Z>=he)&&(he=Z,ie=$)}return ie}(J,de+J.placeholderBuffer);var Be=Z.getQualityForBitrate(K,ce,X,Ce);Ye>J.lastQuality&&Ye>Be&&(Ye=Math.max(Be,J.lastQuality));var $e=Math.max(0,de+J.placeholderBuffer-ue(J,Ye));$e<=J.placeholderBuffer?(J.placeholderBuffer-=$e,$e=0):($e-=J.placeholderBuffer,J.placeholderBuffer=0,Ye<Z.getMaxAllowedIndexFor(ie,X)?he.setTimeToLoadDelay(1e3*$e):$e=0),ye.quality=Ye,ye.reason.throughput=ge,ye.reason.latency=Ce,ye.reason.bufferLevel=de,ye.reason.placeholderBuffer=J.placeholderBuffer,ye.reason.delay=$e,J.lastQuality=Ye;break;default:B.debug("BOLA ABR rule invoked in bad state."),ye.quality=Z.getQualityForBitrate(K,ce,X,Ce),ye.reason.state=J.state,ye.reason.throughput=ce,ye.reason.latency=Ce,J.state=1,oe(J)}return ye},reset:function He(){ze(),N.off(m.default.BUFFER_EMPTY,le,S),N.off(m.default.PLAYBACK_SEEKING,Me,S),N.off(m.default.METRIC_ADDED,_e,S),N.off(m.default.QUALITY_CHANGE_REQUESTED,Pe,S),N.off(m.default.FRAGMENT_LOADING_ABANDONED,Oe,S),N.off(L.default.MEDIA_FRAGMENT_LOADED,we,S)}},function re(){B=Object(x.default)(D).getInstance().getLogger(S),ze(),N.on(m.default.BUFFER_EMPTY,le,S),N.on(m.default.PLAYBACK_SEEKING,Me,S),N.on(m.default.METRIC_ADDED,_e,S),N.on(m.default.QUALITY_CHANGE_REQUESTED,Pe,S),N.on(m.default.FRAGMENT_LOADING_ABANDONED,Oe,S),N.on(L.default.MEDIA_FRAGMENT_LOADED,we,S)}(),S}k.__dashjs_factory_name="BolaRule",C.default=I.default.getClassFactory(k)},"./src/streaming/rules/abr/DroppedFramesRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/DroppedFramesRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=c(
/*! ../../../core/Debug */
"./src/core/Debug.js");function y(){var L,x,F=this.context;return L={getMaxIndex:function v(A){var U=Object(b.default)(F).create();if(!A||!A.hasOwnProperty("getDroppedFramesHistory"))return U;var O=A.getDroppedFramesHistory(),V=A.getStreamInfo().id;if(O){var k=O.getFrameHistory(V);if(!k||0===k.length)return U;for(var P=0,D=0,w=b.default.NO_CHANGE,E=1;E<k.length;E++)if(k[E]&&(P=k[E].droppedVideoFrames,(D=k[E].totalVideoFrames)>375&&P/D>.15)){x.debug("index: "+(w=E-1)+" Dropped Frames: "+P+" Total Frames: "+D);break}return Object(b.default)(F).create(w,{droppedFrames:P})}return U}},function p(){x=Object(I.default)(F).getInstance().getLogger(L)}(),L}y.__dashjs_factory_name="DroppedFramesRule",C.default=t.default.getClassFactory(y)},"./src/streaming/rules/abr/InsufficientBufferRule.js":
/*!***********************************************************!*\
                  !*** ./src/streaming/rules/abr/InsufficientBufferRule.js ***!
                  \***********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),F=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),x=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),m=c(
/*! ../../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js");function h(p){p=p||{};var k,P,D,A=2,U=this.context,O=Object(t.default)(U).getInstance(),V=p.dashMetrics;function B(){(D={})[L.default.VIDEO]={ignoreCount:A},D[L.default.AUDIO]={ignoreCount:A}}function Y(){B()}function re(Re){!isNaN(Re.startTime)&&(Re.mediaType===L.default.AUDIO||Re.mediaType===L.default.VIDEO)&&D[Re.mediaType].ignoreCount>0&&D[Re.mediaType].ignoreCount--}return k={getMaxIndex:function N(Re){var z=Object(F.default)(U).create();if(!Re||!Re.hasOwnProperty("getMediaType"))return z;!function E(){if(!V||!V.hasOwnProperty("getCurrentBufferLevel")||!V.hasOwnProperty("getCurrentBufferState"))throw new Error(L.default.MISSING_CONFIG_ERROR)}();var oe=Re.getMediaType(),H=V.getCurrentBufferState(oe),te=Re.getRepresentationInfo().fragmentDuration,ue=Re.getStreamInfo(),Se=ue?ue.id:null,Ie=Re.getScheduleController(),le=ue&&ue.manifestInfo&&ue.manifestInfo.isDynamic;if(function S(Re,z){return!Re&&D[z].ignoreCount>0}(Ie.getPlaybackController().getLowLatencyModeEnabled(),oe)||!te)return z;if(H&&H.state===x.default.BUFFER_EMPTY)P.debug("["+oe+"] Switch to index 0; buffer is empty."),z.quality=0,z.reason="InsufficientBufferRule: Buffer is empty";else{var _e=Re.getMediaInfo(),Le=Re.getAbrController(),Pe=Le.getThroughputHistory(),Oe=V.getCurrentBufferLevel(oe),je=Pe.getAverageThroughput(oe,le),ze=Pe.getAverageLatency(oe);z.quality=Le.getQualityForBitrate(_e,je*(Oe/te)*.5,Se,ze),z.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return z},reset:function ae(){B(),O.off(m.default.PLAYBACK_SEEKING,Y,k),O.off(b.default.BYTES_APPENDED_END_FRAGMENT,re,k)}},function w(){P=Object(y.default)(U).getInstance().getLogger(k),B(),O.on(m.default.PLAYBACK_SEEKING,Y,k),O.on(b.default.BYTES_APPENDED_END_FRAGMENT,re,k)}(),k}h.__dashjs_factory_name="InsufficientBufferRule",C.default=I.default.getClassFactory(h)},"./src/streaming/rules/abr/L2ARule.js":
/*!********************************************!*\
                  !*** ./src/streaming/rules/abr/L2ARule.js ***!
                  \********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),F=c(
/*! ../../../core/EventBus */
"./src/core/EventBus.js"),L=c(
/*! ../../../core/events/Events */
"./src/core/events/Events.js"),x=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),m=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js");function A(U){var P,D,w,E,O=this.context,V=(U=U||{}).dashMetrics,k=Object(F.default)(O).getInstance();function S(le){var Me={},we=le.getMediaInfo(),_e=we.bitrateList.map(function(Le){return Le.bandwidth/1e3});return Me.state=1,Me.bitrates=_e,Me.lastQuality=0,function B(le){!le||!le.type||(w[le.type]={},w[le.type].w=[],w[le.type].prev_w=[],w[le.type].Q=0,w[le.type].segment_request_start_s=0,w[le.type].segment_download_finish_s=0,w[le.type].B_target=1.5)}(we),Y(Me),Me}function Y(le){le.placeholderBuffer=0,le.mostAdvancedSegmentStart=NaN,le.lastSegmentWasReplacement=!1,le.lastSegmentStart=NaN,le.lastSegmentDurationS=NaN,le.lastSegmentRequestTimeMs=NaN,le.lastSegmentFinishTimeMs=NaN}function ae(){for(var le in D)if(D.hasOwnProperty(le)){var Me=D[le];0!==Me.state&&(Me.state=1,Y(Me))}}function Re(le){if(le&&le.chunk&&le.chunk.mediaInfo){var Me=D[le.chunk.mediaInfo.type],we=w[le.chunk.mediaInfo.type];if(Me&&0!==Me.state){var _e=le.chunk.start;isNaN(Me.mostAdvancedSegmentStart)||_e>Me.mostAdvancedSegmentStart?(Me.mostAdvancedSegmentStart=_e,Me.lastSegmentWasReplacement=!1):Me.lastSegmentWasReplacement=!0,Me.lastSegmentStart=_e,Me.lastSegmentDurationS=le.chunk.duration,Me.lastQuality=le.chunk.quality,oe(Me,we)}}}function z(le){if(le&&le.metric===t.default.HTTP_REQUEST&&le.value&&le.value.type===y.HTTPRequest.MEDIA_SEGMENT_TYPE&&le.value.trace&&le.value.trace.length){var Me=D[le.mediaType],we=w[le.mediaType];Me&&0!==Me.state&&(Me.lastSegmentRequestTimeMs=le.value.trequest.getTime(),Me.lastSegmentFinishTimeMs=le.value._tfinish.getTime(),oe(Me,we))}}function oe(le,Me){!isNaN(le.lastSegmentStart)&&!isNaN(le.lastSegmentRequestTimeMs)&&(Me.segment_request_start_s=.001*le.lastSegmentRequestTimeMs,Me.segment_download_finish_s=.001*le.lastSegmentFinishTimeMs,le.lastSegmentStart=NaN,le.lastSegmentRequestTimeMs=NaN)}function H(le){if(le&&le.mediaType){var Me=D[le.mediaType];Me&&0!==Me.state&&(Me.abrQuality=le.newQuality)}}function me(le,Me){if(le.length!==Me.length)return-1;for(var we=0,_e=0;_e<le.length;_e++)we+=le[_e]*Me[_e];return we}function Se(){D={},w={}}return P={getMaxIndex:function ue(le){var J,Me=Object(b.default)(O).create(),_e=Math.pow(4,.99),Le=Math.max(Math.pow(4,1),_e*Math.sqrt(4)),Pe=le.getMediaInfo(),Oe=le.getMediaType(),je=Pe.bitrateList.map(function(zt){return zt.bandwidth}),ze=je.length,He=le.getScheduleController(),Ae=le.getStreamInfo(),ye=le.getAbrController(),K=ye.getThroughputHistory(),ie=Ae&&Ae.manifestInfo&&Ae.manifestInfo.isDynamic,he=le.useL2AABR(),$=V.getCurrentBufferLevel(Oe,!0),Z=K.getSafeAverageThroughput(Oe,ie),W=K.getAverageThroughput(Oe,ie),Q=K.getAverageLatency(Oe),de=le.getVideoModel().getPlaybackRate();if(!(le&&le.hasOwnProperty("getMediaInfo")&&le.hasOwnProperty("getMediaType")&&le.hasOwnProperty("getScheduleController")&&le.hasOwnProperty("getStreamInfo")&&le.hasOwnProperty("getAbrController")&&le.hasOwnProperty("useL2AABR")&&(Me.reason=Me.reason||{},he&&Oe!==m.default.AUDIO)))return Me;He.setTimeToLoadDelay(0);var ge=function re(le){var Me=le.getMediaType(),we=D[Me];return we||(we=S(le),D[Me]=we),we}(le);if(0===ge.state)return Me;var ce=w[Oe];if(!ce||(Me.reason.state=ge.state,Me.reason.throughput=W,Me.reason.latency=Q,isNaN(W)))return Me;switch(ge.state){case 1:if(J=ye.getQualityForBitrate(Pe,Z,Ae.id,Q),Me.quality=J,Me.reason.throughput=Z,ge.lastQuality=J,!isNaN(ge.lastSegmentDurationS)&&$>=ce.B_target){ge.state=2,ce.Q=_e;for(var Ce=0;Ce<ze;++Ce)ce.prev_w[Ce]=Ce===ge.lastQuality?1:0}break;case 2:var Ye=[],Be=V.getCurrentHttpRequest(Oe).trace.reduce(function(zt,$t){return zt+$t.d},0),$e=V.getCurrentHttpRequest(Oe).trace.reduce(function(zt,$t){return zt+$t.b[0]},0),Qe=Math.round(8*$e/Be);Qe<1&&(Qe=1);for(var qe=ge.lastSegmentDurationS,dt=1,It=0;It<ze;++It)je[It]=je[It]/1e3,de*je[It]>Qe&&(dt=-1),ce.w[It]=ce.prev_w[It]+dt*(qe/(2*Le))*((ce.Q+_e)*(de*je[It]/Qe));ce.w=function te(le){for(var Me=le.length,we=!1,_e=[],Le=0;Le<Me;++Le)_e[Le]=le[Le];for(var Pe=le.sort(function(ye,K){return K-ye}),Oe=0,je=0,ze=[],He=0;He<Me-1;++He)if((je=((Oe+=Pe[He])-1)/(He+1))>=Pe[He+1]){we=!0;break}we||(je=(Oe+Pe[Me-1]-1)/Me);for(var Ae=0;Ae<Me;++Ae)ze[Ae]=Math.max(_e[Ae]-je,0);return ze}(ce.w);for(var _t=0;_t<ze;++_t)Ye[_t]=ce.w[_t]-ce.prev_w[_t],ce.prev_w[_t]=ce.w[_t];ce.Q=Math.max(0,ce.Q-qe+qe*de*((me(je,ce.prev_w)+me(je,Ye))/Qe));for(var Ot=[],jt=0;jt<ze;++jt)Ot[jt]=Math.abs(je[jt]-me(ce.w,je));(J=Ot.indexOf(Math.min.apply(Math,Ot)))>ge.lastQuality&&je[ge.lastQuality+1]<=Qe&&(J=ge.lastQuality+1),je[J]>=Qe&&(ce.Q=2*Math.max(_e,ce.Q)),Me.quality=J,Me.reason.throughput=W,Me.reason.latency=Q,Me.reason.bufferLevel=$,ge.lastQuality=Me.quality;break;default:E.debug("L2A ABR rule invoked in bad state."),Me.quality=ye.getQualityForBitrate(Pe,Z,Ae.id,Q),Me.reason.state=ge.state,Me.reason.throughput=Z,Me.reason.latency=Q,ge.state=1,Y(ge)}return Me},reset:function Ie(){Se(),k.off(L.default.PLAYBACK_SEEKING,ae,P),k.off(L.default.MEDIA_FRAGMENT_LOADED,Re,P),k.off(L.default.METRIC_ADDED,z,P),k.off(L.default.QUALITY_CHANGE_REQUESTED,H,P)}},function N(){E=Object(x.default)(O).getInstance().getLogger(P),Se(),k.on(L.default.PLAYBACK_SEEKING,ae,P),k.on(L.default.MEDIA_FRAGMENT_LOADED,Re,P),k.on(L.default.METRIC_ADDED,z,P),k.on(L.default.QUALITY_CHANGE_REQUESTED,H,P)}(),P}A.__dashjs_factory_name="L2ARule",C.default=I.default.getClassFactory(A)},"./src/streaming/rules/abr/SwitchHistoryRule.js":
/*!******************************************************!*\
                  !*** ./src/streaming/rules/abr/SwitchHistoryRule.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js");function y(){var L,x,F=this.context;return L={getMaxIndex:function v(A){for(var U=A?A.getSwitchHistory():null,O=U?U.getSwitchRequests():[],V=0,k=0,P=0,D=Object(I.default)(F).create(),w=0;w<O.length;w++)if(void 0!==O[w]&&(P+=O[w].dropSize,(V+=O[w].drops)+(k+=O[w].noDrops)>=6&&V/k>.075)){D.quality=w>0&&O[w].drops>0?w-1:w,D.reason={index:D.quality,drops:V,noDrops:k,dropSize:P},x.debug("Switch history rule index: "+D.quality+" samples: "+(V+k)+" drops: "+V);break}return D}},function p(){x=Object(b.default)(F).getInstance().getLogger(L)}(),L}y.__dashjs_factory_name="SwitchHistoryRule",C.default=t.default.getClassFactory(y)},"./src/streaming/rules/abr/ThroughputRule.js":
/*!***************************************************!*\
                  !*** ./src/streaming/rules/abr/ThroughputRule.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),I=c(
/*! ../../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function F(L){var x=this.context,m=(L=L||{}).dashMetrics;return{getMaxIndex:function A(O){var V=Object(b.default)(x).create();if(!(O&&O.hasOwnProperty("getMediaInfo")&&O.hasOwnProperty("getMediaType")&&O.hasOwnProperty("useBufferOccupancyABR")&&O.hasOwnProperty("getAbrController")&&O.hasOwnProperty("getScheduleController")))return V;!function v(){if(!m||!m.hasOwnProperty("getCurrentBufferState"))throw new Error(I.default.MISSING_CONFIG_ERROR)}();var k=O.getMediaInfo(),P=O.getMediaType(),D=m.getCurrentBufferState(P),w=O.getScheduleController(),E=O.getAbrController(),N=O.getStreamInfo(),S=N?N.id:null,B=N&&N.manifestInfo?N.manifestInfo.isDynamic:null,Y=E.getThroughputHistory(),re=Y.getSafeAverageThroughput(P,B),ae=Y.getAverageLatency(P),Re=O.useBufferOccupancyABR();return isNaN(re)||!D||Re||E.getAbandonmentStateFor(S,P)!==y.default.ABANDON_LOAD&&(D.state===y.default.BUFFER_LOADED||B)&&(V.quality=E.getQualityForBitrate(k,re,S,ae),w.setTimeToLoadDelay(0),V.reason={throughput:re,latency:ae}),V},reset:function U(){}}}F.__dashjs_factory_name="ThroughputRule",C.default=t.default.getClassFactory(F)},"./src/streaming/rules/abr/lolp/LearningAbrController.js":
/*!***************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LearningAbrController.js ***!
                  \***************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),I_MANUAL="manual_weight_selection",I_RANDOM="random_weight_selection",I_DYNAMIC="dynamic_weight_selection";function y(){var L,x,m,h,p,v,A,U,O,F=this.context;function P(){m=null,h=1,p=100,v=0,A=null,U=null,O=I_DYNAMIC}function D(){var ue=0;if(m)for(var Se=0;Se<m.length;Se++){var Ie=m[Se];Ie.state.throughput>ue&&(ue=Ie.state.throughput)}return ue}function E(ue,Se,Ie){var le=ue.map(function(we,_e){return Ie[_e]*Math.pow(we-Se[_e],2)}).reduce(function(we,_e){return we+_e});return(le<0?-1:1)*Math.sqrt(Math.abs(le))}function N(ue,Se){return E([ue.state.throughput,ue.state.latency,ue.state.rebuffer,ue.state.switch],[Se.state.throughput,Se.state.latency,Se.state.rebuffer,Se.state.switch],[1,1,1,1])}function S(ue,Se,Ie){for(var le=0;le<Se.length;le++){var Me=Se[le],_e=N(Me,ue);B(Me,Ie,Math.exp(-1*Math.pow(_e,2)/(2*Math.pow(.1,2))))}}function B(ue,Se,Ie){var le=ue.state,Me=[.01,.01,.01,.01];le.throughput=le.throughput+(Se[0]-le.throughput)*Me[0]*Ie,le.latency=le.latency+(Se[1]-le.latency)*Me[1]*Ie,le.rebuffer=le.rebuffer+(Se[2]-le.rebuffer)*Me[2]*Ie,le.switch=le.switch+(Se[3]-le.switch)*Me[3]*Ie}return L={getNextQuality:function re(ue,Se,Ie,le,Me,we,_e){var Le=Ie,Pe=le,Oe=Se,je=function H(ue){if(!m){m=[];var Se=ue.bitrateList,Ie=[];v=Se[0].bandwidth,Se.forEach(function(we){Ie.push(we.bandwidth),we.bandwidth<v&&(v=we.bandwidth)}),h=function w(ue){var Se=ue.map(function(Ie){return Math.pow(Ie,2)}).reduce(function(Ie,le){return Ie+le});return Math.sqrt(Se)}(Ie);for(var le=0;le<Se.length;le++)m.push({qualityIndex:le,bitrate:Se[le].bandwidth,state:{throughput:Se[le].bandwidth/h,latency:0,rebuffer:0,switch:0}});U=function te(ue){var Se=[],Ie=function me(ue){for(var Se=[],Ie=0;Ie<ue;Ie++){var le=[Math.random()*D(),Math.random(),Math.random(),Math.random()];Se.push(le)}return Se}(Math.pow(ue.length,2));Se.push(Ie[0]);for(var le=[1,1,1,1],Me=1;Me<ue.length;Me++){for(var we=null,_e=null,Le=0;Le<Ie.length;Le++){for(var Pe=Ie[Le],Oe=null,je=0;je<Se.length;je++){var ze=E(Pe,Se[je],le);(null===Oe||ze<Oe)&&(Oe=ze)}(null===_e||Oe>_e)&&(we=Pe,_e=Oe)}Se.push(we)}for(var He=null,Ae=null,ye=0;ye<Se.length;ye++){for(var K=0,ie=0;ie<Se.length;ie++)ye!==ie&&(K+=E(Se[ye],Se[ie],le));(null===He||K>He)&&(He=K,Ae=ye)}var he=[];for(he.push(Se[Ae]),Se.splice(Ae,1);Se.length>0;){for(var $=null,Z=null,W=0;W<Se.length;W++){var X=E(he[0],Se[W],le);(null===$||X<$)&&($=X,Z=W)}he.push(Se[Z]),Se.splice(Z,1)}return he}(m)}return m}(ue),ze=Se/h;ze>1&&(ze=D()),Ie/=p,x.debug("getNextQuality called throughput:".concat(ze," latency:").concat(Ie," bufferSize:").concat(le," currentQualityIndex:").concat(we," playbackRate:").concat(Me));var ie=je[we],he=ie.bitrate*_e.getSegmentDuration()/Oe,$=Math.max(0,he-Pe);if(Pe-he<_e.getMinBuffer())return x.debug("Buffer is low for bitrate= ".concat(ie.bitrate," downloadTime=").concat(he," currentBuffer=").concat(Pe," rebuffer=").concat($)),function Y(ue,Se){var Ie=0,le=ue;if(m)for(var Me=0;Me<m.length;Me++){var we=m[Me];we.bitrate<ue.bitrate&&we.bitrate>Ie&&Se>we.bitrate&&(Ie=we.bitrate,le=we)}return le}(ie,Oe).qualityIndex;switch(O){case I_MANUAL:!function ae(){A=[.4,.4,.4,.4]}();break;case I_RANDOM:!function Re(ue){A=function oe(ue,Se){for(var Ie=[],le=Math.sqrt(2/ue),Me=0;Me<Se;Me++)Ie.push(Math.random()*le);return A=Ie}(ue.length,4)}(je);break;default:!function z(ue,Se,Ie,le,Me,we,_e){A||(A=U[U.length-1]);var Le=ue.findWeightVector(Se,Ie,le,Me,we,_e);null!==Le&&-1!==Le&&(A=Le)}(_e,je,Le,Pe,$,Oe,Me)}for(var Z=null,W=null,X=null,Q=0;Q<je.length;Q++){var q=je[Q],J=q.state,de=[J.throughput,J.latency,J.rebuffer,J.switch],ge=A.slice(),ce=_e.getNextBufferWithBitrate(q.bitrate,Pe,Oe),Ce=ce<_e.getMinBuffer();Ce&&x.debug("Buffer is low for bitrate=".concat(q.bitrate," downloadTime=").concat(he," currentBuffer=").concat(Pe," nextBuffer=").concat(ce)),(q.bitrate>Se-1e4||Ce)&&q.bitrate!==v&&(ge[0]=100);var Ye=E(de,[ze,0,0,0],ge);(null===Z||Ye<Z)&&(Z=Ye,W=q.qualityIndex,X=q)}var Be=Math.abs(ie.bitrate-X.bitrate)/h;return S(ie,je,[ze,Ie,$,Be]),S(X,je,[ze,0,0,Be]),W},reset:function k(){P()}},function V(){x=Object(b.default)(F).getInstance().getLogger(L),P()}(),L}y.__dashjs_factory_name="LearningAbrController",C.default=t.default.getClassFactory(y)},"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./QoeInfo */
"./src/streaming/rules/abr/lolp/QoeInfo.js");function I(){var y,F,L,x,m;function p(){F=null,L=null,x=null,m=null}function A(D,w,E,N){var S=new b.default;return S.type=D,S.weights.bitrateReward=w||1,S.weights.bitrateSwitchPenalty=1,S.weights.rebufferPenalty=E||1e3,S.weights.latencyPenalty=[],S.weights.latencyPenalty.push({threshold:1.1,penalty:.05*N}),S.weights.latencyPenalty.push({threshold:1e8,penalty:.1*E}),S.weights.playbackSpeedPenalty=N||200,S}function O(D,w,E,N,S){S.bitrateWSum+=S.weights.bitrateReward*D,S.lastBitrate&&(S.bitrateSwitchWSum+=S.weights.bitrateSwitchPenalty*Math.abs(D-S.lastBitrate)),S.lastBitrate=D,S.rebufferWSum+=S.weights.rebufferPenalty*w;for(var B=0;B<S.weights.latencyPenalty.length;B++){var Y=S.weights.latencyPenalty[B];if(E<=Y.threshold){S.latencyWSum+=Y.penalty*E;break}}S.playbackSpeedWSum+=S.weights.playbackSpeedPenalty*Math.abs(1-N),S.totalQoe=S.bitrateWSum-S.bitrateSwitchWSum-S.rebufferWSum-S.latencyWSum-S.playbackSpeedWSum}return y={setupPerSegmentQoe:function v(D,w,E){F=A("segment",D,w,E),L=D,x=w,m=E},logSegmentMetrics:function U(D,w,E,N){F&&O(D,w,E,N,F)},getPerSegmentQoe:function V(){return F},calculateSingleUseQoe:function k(D,w,E,N){var S=null;return L&&x&&m&&(S=A("segment",L,x,m)),S?(O(D,w,E,N,S),S.totalQoe):0},reset:function P(){p()}},function h(){p()}(),y}I.__dashjs_factory_name="LoLpQoeEvaluator",C.default=t.default.getClassFactory(I)},"./src/streaming/rules/abr/lolp/LoLpRule.js":
/*!**************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpRule.js ***!
                  \**************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ./LearningAbrController */
"./src/streaming/rules/abr/lolp/LearningAbrController.js"),y=c(
/*! ./LoLpQoEEvaluator */
"./src/streaming/rules/abr/lolp/LoLpQoEEvaluator.js"),F=c(
/*! ../../SwitchRequest */
"./src/streaming/rules/SwitchRequest.js"),L=c(
/*! ../../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js"),x=c(
/*! ./LoLpWeightSelector */
"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js"),m=c(
/*! ../../../constants/Constants */
"./src/streaming/constants/Constants.js");function v(A){var V,k,P,D,U=(A=A||{}).dashMetrics,O=this.context;return k={getMaxIndex:function E(B){try{var Y=Object(F.default)(O).create(),re=B.getMediaInfo().type,ae=B.getAbrController(),Re=B.getStreamInfo(),z=ae.getQualityFor(re,Re.id),oe=B.getMediaInfo(),H=U.getCurrentBufferState(re),me=B.getScheduleController(),te=U.getCurrentBufferLevel(re,!0),ue=Re&&Re.manifestInfo?Re.manifestInfo.isDynamic:null,Se=me.getPlaybackController(),Ie=Se.getCurrentLiveLatency();if(!B.useLoLPABR()||re===m.default.AUDIO)return Y;Ie||(Ie=0);var le=Se.getPlaybackRate(),we=ae.getThroughputHistory().getSafeAverageThroughput(re,ue);if(V.debug("Throughput ".concat(Math.round(we)," kbps")),isNaN(we)||!H||ae.getAbandonmentStateFor(Re.id,re)===L.default.ABANDON_LOAD)return Y;for(var _e=oe.bitrateList,Le=B.getRepresentationInfo().fragmentDuration,Pe=_e[0].bandwidth/1e3,Oe=_e[_e.length-1].bandwidth/1e3,je=0;je<_e.length;je++){var ze=_e[je].bandwidth/1e3;ze>Oe?Oe=ze:ze<Pe&&(Pe=ze)}var Ae=_e[z].bandwidth/1e3,ye=U.getCurrentHttpRequest(re,!0),K=(ye.tresponse.getTime()-ye.trequest.getTime())/1e3,ie=K>Le?K-Le:0;D.setupPerSegmentQoe(Le,Oe,Pe),D.logSegmentMetrics(Ae,ie,Ie,le);var he=Object(x.default)(O).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Le,qoeEvaluator:D});return Y.quality=P.getNextQuality(oe,1e3*we,Ie,te,le,z,he),Y.reason={throughput:we,latency:Ie},Y.priority=F.default.PRIORITY.STRONG,me.setTimeToLoadDelay(0),Y.quality!==z&&console.log("[TgcLearningRule]["+re+"] requesting switch to index: ",Y.quality,"Average throughput",Math.round(we),"kbps"),Y}catch($){throw $}},reset:function S(){!function N(){P.reset(),D.reset()}()}},function w(){V=Object(t.default)(O).getInstance().getLogger(k),P=Object(I.default)(O).create(),D=Object(y.default)(O).create()}(),k}v.__dashjs_factory_name="LoLPRule",C.default=b.default.getClassFactory(v)},"./src/streaming/rules/abr/lolp/LoLpWeightSelector.js":
/*!************************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/LoLpWeightSelector.js ***!
                  \************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(I){var m,v,A,y=I.targetLatency,F=I.bufferMin,L=I.segmentDuration,x=I.qoeEvaluator;function w(){return L}function N(S,B){var Y=w();return B>Y?S-Y:S+Y-B}return m={getMinBuffer:function D(){return F},getSegmentDuration:w,getNextBufferWithBitrate:function E(S,B,Y){return N(B,S*L/Y)},getNextBuffer:N,findWeightVector:function V(S,B,Y,re,ae,Re){var z=null,oe=null,H=null,me=Math.abs(B-A);return S.forEach(function(te){v.forEach(function(ue){var Se_latency=ue[1],Se_buffer=ue[2],Ie=te.bitrate*L/ae,le=N(Y,Ie),Me=Math.max(1e-5,Ie-le),Pe=x.calculateSingleUseQoe(te.bitrate,(0===Se_buffer?10:1/Se_buffer)*Me,(0===Se_latency?10:1/Se_latency)*te.state.latency,Re);(null===z||Pe>z)&&function k(S,B,Y){return!(S>y+Y)&&B>=F}(B,le,me)&&(z=Pe,oe=ue,H=te.bitrate)})}),null===oe&&null===H&&(oe=-1),A=B,oe}},function U(){!function O(){v=function P(S,B){return function ae(Re,z,oe){if(oe===z)return Re;for(var H=Re.length,me=0;me<H;me++)for(var te=Re.shift(),ue=0;ue<S.length;ue++)Re.push(te.concat(S[ue]));return ae(Re,z,oe+1)}(S.map(function(ae){return[ae]}),B,1)}([.2,.4,.6,.8,1],4),A=0}()}(),m}b.__dashjs_factory_name="LoLpWeightSelector",C.default=t.default.getClassFactory(b)},"./src/streaming/rules/abr/lolp/QoeInfo.js":
/*!*************************************************!*\
                  !*** ./src/streaming/rules/abr/lolp/QoeInfo.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0})},"./src/streaming/text/EmbeddedTextHtmlRender.js":
/*!******************************************************!*\
                  !*** ./src/streaming/text/EmbeddedTextHtmlRender.js ***!
                  \******************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var I=0;function F(A){for(var U="",O=0;O<A.length;++O)U+=A[O].uchar;return U.length-U.replace(/^\s+/,"").length}function L(A){return"left: "+3.125*A.x+"%; top: "+6.66*A.y1+"%; width: "+(100-3.125*A.x)+"%; height: "+6.66*Math.max(A.y2-1-A.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function x(A){return"red"===A?"rgb(255, 0, 0)":"green"===A?"rgb(0, 255, 0)":"blue"===A?"rgb(0, 0, 255)":"cyan"===A?"rgb(0, 255, 255)":"magenta"===A?"rgb(255, 0, 255)":"yellow"===A?"rgb(255, 255, 0)":"white"===A?"rgb(255, 255, 255)":"black"===A?"rgb(0, 0, 0)":A}function m(A,U){var O=A.videoHeight/15;return U?"font-size: "+O+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(U.foreground?x(U.foreground):"rgb(255, 255, 255)")+"; font-style: "+(U.italics?"italic":"normal")+"; text-decoration: "+(U.underline?"underline":"none")+"; white-space: pre; background-color: "+(U.background?x(U.background):"transparent")+";":"font-size: "+O+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function h(A){return A.replace(/^\s+/g,"")}function p(A){return A.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function v(A,U,O,V){var re,ae,k=null,D=!1,w=-1,E={start:U,end:O,spans:[]},N="style_cea608_white_black",S={},B={},Y=[];for(re=0;re<15;++re){var Re=V.rows[re],z="",oe=null;if(!1===Re.isEmpty()){var H=F(Re.chars);null===k&&(k={x:H,y1:re,y2:re+1,p:[]}),H!==w&&D&&(k.p.push(E),E={start:U,end:O,spans:[]},k.y2=re,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k={x:H,y1:re,y2:re+1,p:[]});for(var me=0;me<Re.chars.length;++me){var te=Re.chars[me],ue=te.penState;if(null===oe||!ue.equals(oe)){z.trim().length>0&&(E.spans.push({name:N,line:z,row:re}),z="");var Se="style_cea608_"+ue.foreground+"_"+ue.background;ue.underline&&(Se+="_underline"),ue.italics&&(Se+="_italics"),B.hasOwnProperty(Se)||(B[Se]=JSON.parse(JSON.stringify(ue))),oe=ue,N=Se}z+=te.uchar}z.trim().length>0&&E.spans.push({name:N,line:z,row:re}),D=!0,w=H}else D=!1,w=-1,k&&(k.p.push(E),E={start:U,end:O,spans:[]},k.y2=re,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k=null)}k&&(k.p.push(E),k.y2=re+1,k.name="region_"+k.x+"_"+k.y1+"_"+k.y2,!1===S.hasOwnProperty(k.name)?(Y.push(k),S[k.name]=k):S[k.name].p.contat(k.p),k=null);var Ie=[];for(re=0;re<Y.length;++re){var le=Y[re],Me="sub_cea608_"+I++,we=document.createElement("div");we.id=Me;var _e=L(le);we.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+_e;var Le=document.createElement("div");Le.className="paragraph bodyStyle",Le.style.cssText=m(A);var Pe=document.createElement("div");Pe.className="cueUniWrapper",Pe.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Oe=0;Oe<le.p.length;++Oe){var je=le.p[Oe],ze=0;for(ae=0;ae<je.spans.length;++ae){var He=je.spans[ae];if(He.line.length>0){if(0!==ae&&ze!=He.row){var Ae=document.createElement("br");Ae.className="lineBreak",Pe.appendChild(Ae)}var ye=!1;ze===He.row&&(ye=!0),ze=He.row;var K=B[He.name],ie=document.createElement("span");ie.className="spanPadding "+He.name+" customSpanColor",ie.style.cssText=m(A,K),ie.textContent=0!==ae&&ye?ae===je.spans.length-1?p(He.line):He.line:je.spans.length>1&&ae<je.spans.length-1&&He.row===je.spans[ae+1].row?h(He.line):He.line.trim(),Pe.appendChild(ie)}}}Le.appendChild(Pe),we.appendChild(Le);var he={bodyStyle:["%",90]};for(var $ in B)B.hasOwnProperty($)&&(he[$]=["%",90]);Ie.push({type:"html",start:U,end:O,cueHTMLElement:we,cueID:Me,cellResolution:[32,15],isFromCEA608:!0,fontSize:he,lineHeight:{},linePadding:{}})}return Ie}}}b.__dashjs_factory_name="EmbeddedTextHtmlRender",C.default=t.default.getSingletonFactory(b)},"./src/streaming/text/NotFragmentedTextBufferController.js":
/*!*****************************************************************!*\
                  !*** ./src/streaming/text/NotFragmentedTextBufferController.js ***!
                  \*****************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../utils/InitCache */
"./src/streaming/utils/InitCache.js"),F=c(
/*! ../SourceBufferSink */
"./src/streaming/SourceBufferSink.js"),L=c(
/*! ../../streaming/vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),x=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),m="NotFragmentedTextBufferController";function h(p){p=p||{};var P,D,w,E,N,S,v=this.context,A=Object(t.default)(v).getInstance(),U=p.textController,O=p.errHandler,V=p.streamInfo,k=p.type;function H(W){E=W}function Ie(W){D!==W&&(D=W)&&function Z(W,X){A.trigger(W,X||{},{streamId:V.id,mediaType:k})}(b.default.BUFFERING_COMPLETED)}function we(W){!W.chunk.bytes||D||(S.save(W.chunk),N.append(W.chunk),Ie(!0))}return P={initialize:function re(W){H(W)},getStreamId:function Re(){return V.id},getType:function z(){return k},getBufferControllerType:function Y(){return m},createBufferSink:function ae(W){return new Promise(function(X,Q){try{(N=Object(F.default)(v).create({mediaSource:E,textController:U,eventBus:A})).initializeForFirstUse(V,W),w||(N.getBuffer()&&"function"==typeof N.getBuffer().initialize&&N.getBuffer().initialize(),w=!0),X(N)}catch(q){O.error(new L.default(x.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,x.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+k)),Q(q)}})},getBuffer:function oe(){return N},getBufferLevel:function ue(){return 0},getRangeAt:function _e(){return null},pruneBuffer:function ze(){},hasBufferAtTime:function Le(){return!0},getAllRangesWithSafetyFactor:function Pe(){return[]},getContinuousBufferTimeForTargetTime:function Oe(){return Number.POSITIVE_INFINITY},setMediaSource:H,getMediaSource:function me(){return E},appendInitSegmentFromCache:function Me(W){return null!==S.extract(V.id,W)},getIsBufferingCompleted:function Se(){return D},setIsBufferingCompleted:Ie,getIsPruningInProgress:function te(){return!1},reset:function le(W){A.off(b.default.INIT_FRAGMENT_LOADED,we,P),!W&&N&&(N.abort(),N.reset(),N=null)},clearBuffers:function je(){return Promise.resolve()},prepareForPlaybackSeek:function Ae(){return Promise.resolve()},prepareForReplacementTrackSwitch:function ye(){return D=!1,Promise.resolve()},setSeekTarget:function ie(){},updateAppendWindow:function K(){return Promise.resolve()},pruneAllSafely:function $(){return Promise.resolve()},updateBufferTimestampOffset:function He(){return Promise.resolve()},segmentRequestingCompleted:function he(){}},function B(){w=!1,E=null,D=!1,S=Object(y.default)(v).getInstance(),A.on(b.default.INIT_FRAGMENT_LOADED,we,P)}(),P}h.__dashjs_factory_name=m,C.default=I.default.getClassFactory(h)},"./src/streaming/text/TextController.js":
/*!**********************************************!*\
                  !*** ./src/streaming/text/TextController.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),I=c(
/*! ./TextSourceBuffer */
"./src/streaming/text/TextSourceBuffer.js"),y=c(
/*! ./TextTracks */
"./src/streaming/text/TextTracks.js"),F=c(
/*! ../utils/VTTParser */
"./src/streaming/utils/VTTParser.js"),L=c(
/*! ../utils/VttCustomRenderingParser */
"./src/streaming/utils/VttCustomRenderingParser.js"),x=c(
/*! ../utils/TTMLParser */
"./src/streaming/utils/TTMLParser.js"),m=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),h=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),p=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),v=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function A(U){var N,S,B,Y,re,ae,Re,z,oe,H,me,te,O=this.context,V=U.adapter,k=U.errHandler,P=U.manifestModel,D=U.mediaController,w=U.videoModel,E=U.settings;function Pe(X){var Q=X.tracks,q=X.index,J=X.streamId;if(!1===E.get().streaming.text.defaultEnabled&&!He()||te)ye(J,-1);else{var ge=D.getCurrentTrackFor(t.default.TEXT,J);if(ge){var ce={lang:ge.lang,role:ge.roles[0],index:ge.index,codec:ge.codec,accessibility:ge.accessibility[0]};Q.some(function(Ce,Ye){if(D.matchSettings(ce,Ce))return ye(J,Ye),q=Ye,!0})}oe=!1}S[J].lastEnabledIndex=q,z.trigger(p.default.TEXT_TRACKS_ADDED,{enabled:He(),index:q,tracks:Q,streamId:J}),me=!0}function Oe(X){try{var Q=X.streamId;if(!Y[Q]||isNaN(X.time))return;Y[Q].manualCueProcessing(X.time)}catch{}}function je(X){try{var Q=X.streamId;if(!Y[Q])return;Y[Q].disableManualTracks()}catch{}}function He(){var X=!0;return oe&&!H&&(X=!1),X}function ye(X,Q){(oe=-1===Q)&&D&&D.saveTextSettingsDisabled();var q=he(X);if(q!==Q&&Y[X]){Y[X].disableManualTracks(),Y[X].setModeForTrackIdx(q,t.default.TEXT_HIDDEN),Y[X].setCurrentTrackIdx(Q),Y[X].setModeForTrackIdx(Q,t.default.TEXT_SHOWING);var J=Y[X].getCurrentTrackInfo();J&&J.isFragmented&&!J.isEmbedded?function K(X,Q,q){if(B[X])for(var de=B[X].getConfig().fragmentedTracks,ge=0;ge<de.length;ge++){var ce=de[ge];if(Q.lang===ce.lang&&(ce.id?Q.id===ce.id:Q.index===ce.index)){var Ce=D.getCurrentTrackFor(t.default.TEXT,X);(ce.id?Ce.id!==ce.id:Ce.index!==ce.index)?(Y[X].deleteCuesFromTrackIdx(q),B[X].setCurrentFragmentedTrackIdx(ge)):-1===q&&z.trigger(h.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:X,mediaType:t.default.TEXT})}}}(X,J,q):J&&!J.isFragmented&&function ie(X,Q){z.trigger(h.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:Q},{streamId:X,mediaType:t.default.TEXT})}(X,J),D.setTrack(J)}}function he(X){return Y[X].getCurrentTrackIdx()}function Z(){B={},Y={},S={},oe=!0,me=!1,te=!1}return N={deactivateStream:function $(X){if(X){var Q=X.id;B[Q]&&B[Q].resetMediaInfos(),Y[Q]&&Y[Q].deleteAllTextTracks()}},initialize:function Se(){z.on(h.default.TEXT_TRACKS_QUEUE_INITIALIZED,Pe,N),E.get().streaming.text.webvtt.customRenderingEnabled&&(z.on(h.default.PLAYBACK_TIME_UPDATED,Oe,N),z.on(h.default.PLAYBACK_SEEKING,je,N))},initializeForStream:function Ie(X){var Q=X.id,q=Object(y.default)(O).create({videoModel:w,settings:E,streamInfo:X});q.initialize(),Y[Q]=q;var J=Object(I.default)(O).create({errHandler:k,adapter:V,manifestModel:P,mediaController:D,videoModel:w,textTracks:q,vttParser:re,vttCustomRenderingParser:ae,ttmlParser:Re,streamInfo:X,settings:E});J.initialize(),B[Q]=J,S[Q]={},S[Q].lastEnabledIndex=-1},createTracks:function le(X){var Q=X.id;Y[Q]&&Y[Q].createTracks()},getTextSourceBuffer:function we(X){var Q=X.id;if(B&&B[Q])return B[Q]},getAllTracksAreDisabled:function _e(){return oe},addEmbeddedTrack:function Le(X,Q){var q=X.id;B[q]&&B[q].addEmbeddedTrack(Q)},enableText:function ze(X,Q){Object(v.checkParameterType)(Q,"boolean"),He()!==Q&&(Q&&ye(X,S[X].lastEnabledIndex),Q||(S[X].lastEnabledIndex=he(X),me?ye(X,-1):te=!0))},isTextEnabled:He,setTextTrack:ye,getCurrentTrackIdx:he,enableForcedTextStreaming:function Ae(X){Object(v.checkParameterType)(X,"boolean"),H=X},addMediaInfosToBuffer:function Me(X,Q,q){var de=X.id;B[de]&&B[de].addMediaInfos(Q,q,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},reset:function W(){Z(),z.off(h.default.TEXT_TRACKS_QUEUE_INITIALIZED,Pe,N),E.get().streaming.text.webvtt.customRenderingEnabled&&(z.off(h.default.PLAYBACK_TIME_UPDATED,Oe,N),z.off(h.default.PLAYBACK_SEEKING,je,N)),Object.keys(B).forEach(function(X){B[X].resetEmbedded(),B[X].reset()})}},function ue(){H=!1,me=!1,te=!1,re=Object(F.default)(O).getInstance(),ae=Object(L.default)(O).getInstance(),Re=Object(x.default)(O).getInstance(),z=Object(m.default)(O).getInstance(),Z()}(),N}A.__dashjs_factory_name="TextController",C.default=b.default.getClassFactory(A)},"./src/streaming/text/TextSourceBuffer.js":
/*!************************************************!*\
                  !*** ./src/streaming/text/TextSourceBuffer.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js"),I=c(
/*! ../vo/TextTrackInfo */
"./src/streaming/vo/TextTrackInfo.js"),y=c(
/*! ../utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),F=c(
/*! ../utils/CustomTimeRanges */
"./src/streaming/utils/CustomTimeRanges.js"),L=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),x=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),m=c(
/*! ./EmbeddedTextHtmlRender */
"./src/streaming/text/EmbeddedTextHtmlRender.js"),h=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),p=c.n(h),v=c(
/*! ../../../externals/cea608-parser */
"./externals/cea608-parser.js"),A=c.n(v),U=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),O=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),V=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),k=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js");function P(D){var te,ue,Se,Ie,le,Me,we,_e,Le,Pe,Oe,je,ze,He,Ae,ye,w=D.errHandler,E=D.manifestModel,N=D.mediaController,S=D.videoModel,B=D.textTracks,Y=D.vttParser,re=D.vttCustomRenderingParser,ae=D.ttmlParser,Re=D.streamInfo,z=D.settings,oe=this.context,H=Object(U.default)(oe).getInstance(),me=!1;function $(){(function he(){Me=null,_e=NaN,Le=[],Pe=null,we=!1})(),le=[],Ie=null}function X(fe){var pe=new I.default;for(var mt in fe)pe[mt]=fe[mt];pe.labels=fe.labels,pe.defaultTrack=function pn(fe){var pe=!1;return je.length>1&&fe.isEmbedded?pe=fe.id&&fe.id===t.default.CC1:1===je.length?fe.id&&"string"==typeof fe.id&&"CC"===fe.id.substring(0,2)&&(pe=!0):0===je.length&&(pe=fe.index===le[0].index),pe}(fe),pe.isFragmented=fe.isFragmented,pe.isEmbedded=!!fe.isEmbedded,pe.isTTML=function Be(fe){return fe.codec&&fe.codec.search(t.default.STPP)>=0||fe.mimeType&&fe.mimeType.search(t.default.TTML)>=0}(fe),pe.kind=function $e(fe,pe){var lt=fe.roles&&fe.roles.length>0?pe[fe.roles[0]]:pe.caption;return lt===pe.caption||lt===pe.subtitle?lt:pe.caption}(fe,{subtitle:"subtitles",caption:"captions"}),B.addTextTrack(pe)}function J(fe){var pe=fe.chunk;pe.mediaInfo.embeddedCaptions&&Qe(pe.bytes,pe)}function Ye(fe){Oe=fe}function Qe(fe,pe){var lt=pe.mediaInfo,mt=lt.type,ft=lt.codec||lt.mimeType;ft?-1!==lt.codec.indexOf("application/mp4")?function qe(fe,pe,lt){var mt;if("InitializationSegment"===pe.segmentType)we=!0,_e=Se.getMediaTimescaleFromMoov(fe);else{if(!we)return;(mt=Se.getSamplesInfo(fe).sampleList).length>0&&(Pe=mt[0].cts-pe.start*_e),lt.search(t.default.STPP)>=0?function dt(fe,pe,lt){var mt,Dt;for(Ie=null!==Ie?Ie:jn(lt),mt=0;mt<pe.length;mt++){var ft=pe[mt],bt=ft.cts,Nt=dn(),Wt=Nt+bt/_e;te.buffered.add(Wt,Wt+ft.duration/_e);var Vt=new DataView(fe,ft.offset,ft.subSizes[0]),en=p.a.Utils.dataViewToString(Vt,t.default.UTF8),nn=[],yn=ft.offset+ft.subSizes[0];for(Dt=1;Dt<ft.subSizes.length;Dt++){var Tn=new Uint8Array(fe,yn,ft.subSizes[Dt]),On=String.fromCharCode.apply(null,Tn);nn.push(On),yn+=ft.subSizes[Dt]}try{var kn=E.getValue(),ui=Ie.parse(en,kn.ttmlTimeIsRelative?bt/_e:0,bt/_e,(bt+ft.duration)/_e,nn);B.addCaptions(Oe,Nt,ui)}catch(kt){Me.removeExecutedRequestsBeforeTime(),this.remove(),ue.error("TTML parser error: "+kt.message)}}}(fe,mt,lt):function It(fe,pe){var lt,mt,Dt,ft=[];for(lt=0;lt<pe.length;lt++){var bt=pe[lt];bt.cts-=Pe;var Wt=dn()+bt.cts/_e;te.buffered.add(Wt,Wt+bt.duration/_e);var Vt=fe.slice(bt.offset,bt.offset+bt.size),en=p.a.parseBuffer(Vt);for(mt=0;mt<en.boxes.length;mt++){var nn=en.boxes[mt];if(ue.debug("VTT box1: "+nn.type),"vtte"!==nn.type&&"vttc"===nn.type)for(ue.debug("VTT vttc boxes.length = "+nn.boxes.length),Dt=0;Dt<nn.boxes.length;Dt++){var yn=nn.boxes[Dt];if(ue.debug("VTT box2: "+yn.type),"payl"===yn.type){var Tn=yn.cue_text;ue.debug("VTT cue_text = "+Tn);var On=bt.cts/_e,kn=(bt.cts+bt.duration)/_e;ft.push({start:On,end:kn,data:Tn,styles:{}}),ue.debug("VTT "+On+"-"+kn+" : "+Tn)}}}}ft.length>0&&B.addCaptions(Oe,0,ft)}(fe,mt)}}(fe,pe,ft):mt===t.default.VIDEO?function Ot(fe,pe){var lt,mt;if(pe.segmentType===b.HTTPRequest.INIT_SEGMENT_TYPE)0===ze&&(ze=Se.getMediaTimescaleFromMoov(fe));else if(pe.segmentType===b.HTTPRequest.MEDIA_SEGMENT_TYPE){if(0===ze)return void ue.warn("CEA-608: No timescale for embeddedTextTrack yet");var Dt=(mt=Se.getSamplesInfo(fe)).lastSequenceNumber;if(!Ae[0]&&!Ae[1]&&function jt(){for(var fe,pe=0;pe<je.length;pe++){if(-1===(fe=B.getTrackIdxForId(je[pe].id)))return void ue.warn("CEA-608: data before track is ready.");var lt=zt(fe);Ae[pe]=new A.a.Cea608Parser(pe+1,{newCue:lt},null)}}(),ze){if(null!==He&&Dt!==He+mt.numSequences)for(lt=0;lt<Ae.length;lt++)Ae[lt]&&Ae[lt].reset();for(var ft=function $t(fe,pe){if(0===pe.length)return null;for(var lt={splits:[],fields:[[],[]]},mt=new DataView(fe),Dt=0;Dt<pe.length;Dt++)for(var ft=pe[Dt],bt=A.a.findCea608Nalus(mt,ft.offset,ft.size),Nt=null,Wt=0,wt=0;wt<bt.length;wt++)for(var Vt=A.a.extractCea608DataFromRange(mt,bt[wt]),en=0;en<2;en++)if(Vt[en].length>0){ft.cts!==Nt?Wt=0:Wt+=1;var nn=dn();lt.fields[en].push([ft.cts+nn*ze,Vt[en],Wt]),Nt=ft.cts}return lt.fields.forEach(function(Tn){Tn.sort(function(On,kn){return On[0]===kn[0]?On[2]-kn[2]:On[0]-kn[0]})}),lt}(fe,mt.sampleList),bt=0;bt<Ae.length;bt++){var Nt=ft.fields[bt],Wt=Ae[bt];if(Wt)for(lt=0;lt<Nt.length;lt++)Wt.addData(Nt[lt][0]/ze,Nt[lt][1])}He=Dt}}}(fe,pe):function _t(fe,pe,lt){var mt,Dt,ft=new DataView(fe,0,fe.byteLength);Dt=p.a.Utils.dataViewToString(ft,t.default.UTF8);try{mt=jn(lt).parse(Dt,0),B.addCaptions(B.getCurrentTrackIdx(),0,mt),te.buffered&&te.buffered.add(pe.start,pe.end)}catch(bt){w.error(new V.default(k.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,k.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+bt.message,Dt))}}(fe,pe,ft):ue.error("No text type defined")}function zt(fe){return function pe(lt,mt,Dt){var ft;(ft=S.getTTMLRenderingDiv()?ye.createHTMLCaptionsFromScreen(S.getElement(),lt,mt,Dt):[{start:lt,end:mt,data:Dt.getDisplayText(),styles:{}}])&&B.addCaptions(fe,0,ft)}}function dn(){return isNaN(te.timestampOffset)?0:te.timestampOffset}function jn(fe){var pe;return fe.search(t.default.VTT)>=0?pe=z.get().streaming.text.webvtt.customRenderingEnabled&&re?re:Y:(fe.search(t.default.TTML)>=0||fe.search(t.default.STPP)>=0)&&(pe=ae),pe}function ut(fe){je.forEach(function(pe){var lt=B.getTrackIdxForId(pe.id);lt>=0&&B.deleteCuesFromTrackIdx(lt,fe.from,fe.to)})}return te={initialize:function Z(){me||function de(){je=[],Oe=null,ze=0,Ae=[],He=null,me=!0,ye=Object(m.default)(oe).getInstance(),H.on(O.default.VIDEO_CHUNK_RECEIVED,J,te),H.on(O.default.BUFFER_CLEARED,ut,te)}()},addMediaInfos:function W(fe,pe,lt){if(le=le.concat(pe),fe===t.default.TEXT&&pe[0].isFragmented&&!pe[0].isEmbedded){Me=lt,te.buffered=Object(F.default)(oe).create(),Le=N.getTracksFor(t.default.TEXT,Re.id).filter(function(bt){return bt.isFragmented});for(var mt=N.getCurrentTrackFor(t.default.TEXT,Re.id),Dt=0;Dt<Le.length;Dt++)if(Le[Dt]===mt){Ye(Dt);break}}for(var ft=0;ft<pe.length;ft++)X(pe[ft])},resetMediaInfos:function xe(){le=[]},getStreamId:function ie(){return Re.id},append:Qe,abort:function Q(){},addEmbeddedTrack:function ce(fe){if(me&&fe)if(fe.id===t.default.CC1||fe.id===t.default.CC3){for(var pe=0;pe<je.length;pe++)if(je[pe].id===fe.id)return;je.push(fe)}else ue.warn("Embedded track "+fe.id+" not supported!")},resetEmbedded:function ge(){H.off(O.default.VIDEO_CHUNK_RECEIVED,J,te),H.off(O.default.BUFFER_CLEARED,ut,te),B&&B.deleteAllTextTracks(),me=!1,je=[],Ae=[null,null],He=null},getConfig:function Ce(){return{fragmentModel:Me,fragmentedTracks:Le,videoModel:S}},setCurrentFragmentedTrackIdx:Ye,remove:function st(fe,pe){void 0===fe&&fe===pe&&(fe=te.buffered.start(0),pe=te.buffered.end(te.buffered.length-1)),te.buffered.remove(fe,pe),B.deleteCuesFromTrackIdx(Oe,fe,pe)},reset:function q(){$(),le=[],Se=null}},function K(){ue=Object(x.default)(oe).getInstance().getLogger(te),Se=Object(y.default)(oe).getInstance(),$()}(),te}P.__dashjs_factory_name="TextSourceBuffer",C.default=L.default.getClassFactory(P)},"./src/streaming/text/TextTracks.js":
/*!******************************************!*\
                  !*** ./src/streaming/text/TextTracks.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../../streaming/MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),F=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),L=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),x=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js");function h(U,O){var V=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(!V){if(Array.isArray(U)||(V=function p(U,O){if(U){if("string"==typeof U)return v(U,O);var V=Object.prototype.toString.call(U).slice(8,-1);if("Object"===V&&U.constructor&&(V=U.constructor.name),"Map"===V||"Set"===V)return Array.from(U);if("Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return v(U,O)}}(U))||O&&U&&"number"==typeof U.length){V&&(U=V);var k=0,P=function(){};return{s:P,n:function(){return k>=U.length?{done:!0}:{done:!1,value:U[k++]}},e:function(S){throw S},f:P}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var E,D=!0,w=!1;return{s:function(){V=V.call(U)},n:function(){var S=V.next();return D=S.done,S},e:function(S){w=!0,E=S},f:function(){try{!D&&null!=V.return&&V.return()}finally{if(w)throw E}}}}function v(U,O){(null==O||O>U.length)&&(O=U.length);for(var V=0,k=new Array(O);V<O;V++)k[V]=U[V];return k}function A(U){var w,E,N,S,B,Y,re,ae,Re,z,oe,H,me,te,ue,Se,Ie,le,O=this.context,V=Object(b.default)(O).getInstance(),k=U.videoModel,P=U.streamInfo,D=U.settings;function Le(_t){return k.addTextTrack(_t.kind,void 0!==_t.id?_t.id:_t.lang,_t.lang,_t.isTTML,_t.isEmbedded)}function je(_t,Ot,jt,zt,$t,dn){var st=0,ut=0;_t/Ot>jt/zt?st=(ut=Ot)/zt*jt:ut=(st=_t)/jt*zt;var xe,fe,pe=0,lt=0;return st/ut>$t?(lt=ut,pe=ut*$t):(pe=st,lt=st/$t),xe=(_t-pe)/2,fe=(Ot-lt)/2,dn?{x:xe+.1*pe,y:fe+.1*lt,w:.8*pe,h:.8*lt}:{x:xe,y:fe,w:pe,h:lt}}function ze(_t,Ot){var jt=k.getClientWidth(),zt=k.getClientHeight(),$t=k.getVideoWidth(),dn=k.getVideoHeight(),pn=k.getVideoRelativeOffsetTop(),jn=k.getVideoRelativeOffsetLeft();if(0!==$t&&0!==dn){var st=$t/dn,ut=!1;_t.isFromCEA608&&(st=3.5/3,ut=!0);var xe=je.call(this,jt,zt,$t,dn,st,ut),fe=xe.w,pe=xe.h,lt=xe.x,mt=xe.y;if(fe!=Re||pe!=z||lt!=re||mt!=ae||Ot){if(re=lt+jn,ae=mt+pn,Re=fe,z=pe,oe){var Dt=oe.style;Dt&&(Dt.left=re+"px",Dt.top=ae+"px",Dt.width=Re+"px",Dt.height=z+"px",Dt.zIndex=te&&document[te]||ue?Ie:null,V.trigger(y.default.CAPTION_CONTAINER_RESIZE))}var ft=_t.activeCues;if(ft)for(var bt=ft.length,Nt=0;Nt<bt;++Nt){var Wt=ft[Nt];Wt.scaleCue(Wt)}}}}function He(_t){var zt,$t,dn,pn,jn;if(_t.cellResolution){var st=[Re/_t.cellResolution[0],z/_t.cellResolution[1]];if(_t.linePadding)for(zt in _t.linePadding)if(_t.linePadding.hasOwnProperty(zt)){$t=(_t.linePadding[zt]*st[0]).toString();for(var xe=document.getElementsByClassName("spanPadding"),fe=0;fe<xe.length;fe++)xe[fe].style.cssText=xe[fe].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+$t),xe[fe].style.cssText=xe[fe].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+$t)}if(_t.fontSize){for(zt in _t.fontSize)if(_t.fontSize.hasOwnProperty(zt)){"%"===_t.fontSize[zt][0]?dn=_t.fontSize[zt][1]/100:"c"===_t.fontSize[zt][0]&&(dn=_t.fontSize[zt][1]),$t=(dn*st[1]).toString(),jn="defaultFontSize"!==zt?document.getElementsByClassName(zt):document.getElementsByClassName("paragraph");for(var pe=0;pe<jn.length;pe++)jn[pe].style.cssText=jn[pe].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+$t)}if(_t.lineHeight)for(zt in _t.lineHeight)if(_t.lineHeight.hasOwnProperty(zt)){"%"===_t.lineHeight[zt][0]?pn=_t.lineHeight[zt][1]/100:"c"===_t.fontSize[zt][0]&&(pn=_t.lineHeight[zt][1]),$t=(pn*st[1]).toString(),jn=document.getElementsByClassName(zt);for(var lt=0;lt<jn.length;lt++)jn[lt].style.cssText=jn[lt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+$t)}}}if(_t.isd){var mt=document.getElementById(_t.cueID);mt&&oe.removeChild(mt),Ae(_t)}}function Ae(_t){if(oe){var Ot=document.createElement("div");oe.appendChild(Ot),Se=Object(x.renderHTML)(_t.isd,Ot,function(jt){var zt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,$t=/^#(.*)$/;if(zt.test(jt)){var dn=zt.exec(jt),pn=parseInt(dn[4],10)-1;return"data:image/png;base64,"+btoa(_t.images[pn])}if($t.test(jt)){var ut=$t.exec(jt);return"data:image/png;base64,"+_t.embeddedImages[ut[1]]}return null},oe.clientHeight,oe.clientWidth,!1,function(jt){E.info("renderCaption :",jt)},Se,!0),Ot.id=_t.cueID,V.trigger(y.default.CAPTION_RENDERED,{captionDiv:Ot,currentTrackIdx:Y})}}function ye(_t,Ot,jt){var zt=W(_t);if(zt&&Array.isArray(jt)&&0!==jt.length)for(var $t=0;$t<jt.length;$t++){var dn=void 0,pn=jt[$t];zt.cellResolution=pn.cellResolution,zt.isFromCEA608=pn.isFromCEA608,!isNaN(pn.start)&&!isNaN(pn.end)&&(dn="html"===pn.type&&oe?K(pn,Ot,zt):pn.data?ie(pn,Ot,zt):null);try{dn?de(zt,dn)||(D.get().streaming.text.webvtt.customRenderingEnabled?(zt.manualCueList||(zt.manualCueList=[]),zt.manualCueList.push(dn)):zt.addCue(dn)):E.error("impossible to display subtitles.")}catch(jn){throw ce(zt),zt.addCue(dn),jn}}}function K(_t,Ot,jt){var zt=this,$t=new N(_t.start+Ot,_t.end+Ot,"");return $t.cueHTMLElement=_t.cueHTMLElement,$t.isd=_t.isd,$t.images=_t.images,$t.embeddedImages=_t.embeddedImages,$t.cueID=_t.cueID,$t.scaleCue=He.bind(zt),$t.cellResolution=_t.cellResolution,$t.lineHeight=_t.lineHeight,$t.linePadding=_t.linePadding,$t.fontSize=_t.fontSize,oe.style.left=re+"px",oe.style.top=ae+"px",oe.style.width=Re+"px",oe.style.height=z+"px",$t.onenter=function(){jt.mode===t.default.TEXT_SHOWING&&(this.isd?(Ae(this),E.debug("Cue enter id:"+this.cueID)):(oe.appendChild(this.cueHTMLElement),He.call(zt,this),V.trigger(y.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:Y})))},$t.onexit=function(){if(oe)for(var dn=oe.childNodes,pn=0;pn<dn.length;++pn)dn[pn].id===this.cueID&&(E.debug("Cue exit id:"+dn[pn].id),oe.removeChild(dn[pn]),--pn)},$t}function ie(_t,Ot,jt){var zt=new N(_t.start-Ot,_t.end-Ot,_t.data);if(zt.cueID="".concat(zt.startTime,"_").concat(zt.endTime),zt.isActive=!1,_t.styles)try{void 0!==_t.styles.align&&"align"in zt&&(zt.align=_t.styles.align),void 0!==_t.styles.line&&"line"in zt&&(zt.line=_t.styles.line),void 0!==_t.styles.position&&"position"in zt&&(zt.position=_t.styles.position),void 0!==_t.styles.size&&"size"in zt&&(zt.size=_t.styles.size)}catch($t){E.error($t)}return zt.onenter=function(){jt.mode===t.default.TEXT_SHOWING&&V.trigger(y.default.CAPTION_RENDERED,{currentTrackIdx:Y})},zt}function Z(){var zt,Ot=[],jt=h(k.getTextTracks());try{for(jt.s();!(zt=jt.n()).done;){var $t=zt.value;$t.manualMode===t.default.TEXT_SHOWING&&Ot.push($t)}}catch(dn){jt.e(dn)}finally{jt.f()}return Ot}function W(_t){return _t>=0&&S[_t]?k.getTextTrack(S[_t].kind,S[_t].id,S[_t].lang,S[_t].isTTML,S[_t].isEmbedded):null}function q(_t){var Ot=this;if(_t!==Y){var jt=W(Y=_t);J.call(this,jt),me&&(clearInterval(me),me=null),jt&&"html"===jt.renderingType&&(ze.call(this,jt,!0),window.ResizeObserver?(le=new window.ResizeObserver(function(){ze.call(Ot,jt,!0)})).observe(k.getElement()):me=setInterval(ze.bind(this,jt),500))}}function J(_t){qe.call(this),_t&&"html"===_t.renderingType?$e.call(this):Qe.call(this)}function de(_t,Ot){if(!_t.cues)return!1;for(var jt=0;jt<_t.cues.length;jt++)if(_t.cues[jt].startTime===Ot.startTime&&_t.cues[jt].endTime===Ot.endTime)return!0;return!1}function ge(_t,Ot,jt){var zt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(isNaN(Ot)||(zt?_t.startTime:_t.endTime)>=Ot)&&(isNaN(jt)||(zt?_t.endTime:_t.startTime)<=jt)}function ce(_t,Ot,jt){var zt=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(_t.cues)for(var $t=_t.cues,pn=$t.length-1;pn>=0;pn--)ge($t[pn],Ot,jt,zt)&&($t[pn].onexit&&$t[pn].onexit(),_t.removeCue($t[pn]))}function $e(){var _t=document.getElementById("native-cue-style");if(!_t){(_t=document.createElement("style")).id="native-cue-style",document.head.appendChild(_t);var Ot=_t.sheet,jt=k.getElement();try{jt&&Ot.insertRule(jt.id?"#"+jt.id+"::cue {background: transparent}":0!==jt.classList.length?"."+jt.className+"::cue {background: transparent}":"video::cue {background: transparent}",0)}catch(zt){E.info(""+zt.message)}}}function Qe(){var _t=document.getElementById("native-cue-style");_t&&document.head.removeChild(_t)}function qe(){if(oe)for(;oe.firstChild;)oe.removeChild(oe.firstChild)}return w={initialize:function we(){typeof window>"u"||typeof navigator>"u"||(N=window.VTTCue||window.TextTrackCue,S=[],B=[],Y=-1,re=0,ae=0,Re=0,z=0,oe=null,H=null,me=null,ue=!1,Ie=2147483647,Se=null,void 0!==document.fullscreenElement?te="fullscreenElement":void 0!==document.webkitIsFullScreen?te="webkitIsFullScreen":document.msFullscreenElement?te="msFullscreenElement":document.mozFullScreen&&(te="mozFullScreen"))},getStreamId:function _e(){return P.id},addTextTrack:function Pe(_t){S.push(_t)},addCaptions:ye,createTracks:function Oe(){S.sort(function(jn,st){return jn.index-st.index}),oe=k.getTTMLRenderingDiv(),H=k.getVttRenderingDiv();for(var _t=-1,Ot=0;Ot<S.length;Ot++){var jt=Le(S[Ot]);B.push(jt),S[Ot].defaultTrack&&(jt.default=!0,_t=Ot);var zt=W(Ot);zt&&(zt.mode=t.default.TEXT_SHOWING,zt.renderingType=oe&&(S[Ot].isTTML||S[Ot].isEmbedded)?"html":"default"),ye(Ot,0,S[Ot].captionData),V.trigger(y.default.TEXT_TRACK_ADDED)}if(q.call(this,_t),_t>=0){V.on(y.default.PLAYBACK_METADATA_LOADED,function jn(){var st=W(_t);st&&"html"===st.renderingType&&ze.call(this,st,!0),V.off(y.default.PLAYBACK_METADATA_LOADED,jn,this)},this);for(var dn=0;dn<S.length;dn++){var pn=W(dn);pn&&(pn.mode=dn===_t?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN,pn.manualMode=dn===_t?t.default.TEXT_SHOWING:t.default.TEXT_HIDDEN)}}V.trigger(I.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:Y,tracks:S,streamId:P.id})},getCurrentTrackIdx:function X(){return Y},setCurrentTrackIdx:q,getTrackIdxForId:function Q(_t){for(var Ot=-1,jt=0;jt<S.length;jt++)if(S[jt].id===_t){Ot=jt;break}return Ot},getCurrentTrackInfo:function It(){return S[Y]},setModeForTrackIdx:function dt(_t,Ot){var jt=W(_t);jt&&jt.mode!==Ot&&(jt.mode=Ot),jt&&jt.manualMode!==Ot&&(jt.manualMode=Ot)},deleteCuesFromTrackIdx:function Ce(_t,Ot,jt){var zt=W(_t);zt&&ce(zt,Ot,jt)},deleteAllTextTracks:function Ye(){for(var _t=B?B.length:0,Ot=0;Ot<_t;Ot++){var jt=W(Ot);jt&&ce.call(this,jt,P.start,P.start+P.duration,!1)}B=[],S=[],me&&(clearInterval(me),me=null),le&&k&&(le.unobserve(k.getElement()),le=null),Y=-1,qe.call(this)},deleteTextTrack:function Be(_t){k.removeChild(B[_t]),B.splice(_t,1)},manualCueProcessing:function he(_t){var Ot=Z();if(Ot&&Ot.length>0){var zt=Ot[0].manualCueList;zt&&zt.length>0&&zt.forEach(function($t){if($t.startTime<=_t&&$t.endTime>=_t&&!$t.isActive)$t.isActive=!0,WebVTT.processCues(window,[$t],H,$t.cueID);else if($t.isActive&&($t.startTime>_t||$t.endTime<_t)&&($t.isActive=!1,H))for(var dn=H.childNodes,pn=0;pn<dn.length;++pn)dn[pn].id===$t.cueID&&(H.removeChild(dn[pn]),--pn)})}},disableManualTracks:function $(){var _t=Z();if(_t&&_t.length>0){var jt=_t[0].manualCueList;jt&&jt.length>0&&jt.forEach(function(zt){if(zt.isActive&&(zt.isActive=!1,H))for(var $t=H.childNodes,dn=0;dn<$t.length;++dn)$t[dn].id===zt.cueID&&(H.removeChild($t[dn]),--dn)})}}},function Me(){E=Object(L.default)(O).getInstance().getLogger(w)}(),w}A.__dashjs_factory_name="TextTracks",C.default=F.default.getClassFactory(A)},"./src/streaming/thumbnail/ThumbnailController.js":
/*!********************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailController.js ***!
                  \********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),I=c(
/*! ../vo/Thumbnail */
"./src/streaming/vo/Thumbnail.js"),y=c(
/*! ./ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),F=c(
/*! ../vo/BitrateInfo */
"./src/streaming/vo/BitrateInfo.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js");function x(m){var v,A,h=this.context,p=m.streamInfo;function D(S){A.setTrackByIndex(S)}function N(){A&&A.reset()}return v={getStreamId:function V(){return p.id},initialize:function O(){A.addTracks();var S=A.getTracks();S&&S.length>0&&D(0)},provide:function k(S,B){if("function"==typeof B){var ae,Y=A.getCurrentTrack();if(!Y||Y.segmentDuration<=0||null==S)return void B(null);(ae=A.getThumbnailRequestForTime(S))&&(Y.segmentDuration=ae.duration);var Re=Math.floor(S%Y.segmentDuration*Y.tilesHor*Y.tilesVert/Y.segmentDuration),z=new I.default;if(z.width=Math.floor(Y.widthPerTile),z.height=Math.floor(Y.heightPerTile),z.x=Math.floor(Re%Y.tilesHor)*Y.widthPerTile,z.y=Math.floor(Re/Y.tilesHor)*Y.heightPerTile,"readThumbnail"in Y)return Y.readThumbnail(S,function(H){z.url=H,B(z)});if(ae)z.url=ae.url,Y.segmentDuration=NaN;else{var oe=Math.floor(S/Y.segmentDuration);z.url=function P(S,B){var Y=B+S.startNumber,re=Object(L.replaceTokenForTemplate)(S.templateUrl,"Number",Y);return re=Object(L.replaceTokenForTemplate)(re,"Time",(Y-1)*S.segmentDuration*S.timescale),re=Object(L.replaceTokenForTemplate)(re,"Bandwidth",S.bandwidth),Object(L.unescapeDollarsInTemplate)(re)}(Y,oe)}B(z)}},setTrackByIndex:D,getCurrentTrackIndex:function w(){return A.getCurrentTrackIndex()},getBitrateList:function E(){var S=A.getTracks(),B=0;return S.map(function(Y){var re=new F.default;return re.mediaType=b.default.IMAGE,re.qualityIndex=B++,re.bitrate=Y.bitrate,re.width=Y.width,re.height=Y.height,re})},reset:N},function U(){N(),A=Object(y.default)(h).create({streamInfo:p,adapter:m.adapter,baseURLController:m.baseURLController,timelineConverter:m.timelineConverter,debug:m.debug,eventBus:m.eventBus,events:m.events,dashConstants:m.dashConstants,dashMetrics:m.dashMetrics,segmentBaseController:m.segmentBaseController})}(),v}x.__dashjs_factory_name="ThumbnailController",C.default=t.default.getClassFactory(x)},"./src/streaming/thumbnail/ThumbnailTracks.js":
/*!****************************************************!*\
                  !*** ./src/streaming/thumbnail/ThumbnailTracks.js ***!
                  \****************************************************/
/*! exports provided: THUMBNAILS_SCHEME_ID_URIS, default */function(Ze,C,c){"use strict";c.r(C),c.d(C,"THUMBNAILS_SCHEME_ID_URIS",function(){return v});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ../../dash/constants/DashConstants */
"./src/dash/constants/DashConstants.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! ../vo/ThumbnailTrackInfo */
"./src/streaming/vo/ThumbnailTrackInfo.js"),F=c(
/*! ../../streaming/utils/URLUtils */
"./src/streaming/utils/URLUtils.js"),L=c(
/*! ../../dash/utils/SegmentsUtils */
"./src/dash/utils/SegmentsUtils.js"),x=c(
/*! ../../streaming/utils/BoxParser */
"./src/streaming/utils/BoxParser.js"),m=c(
/*! ../../streaming/net/XHRLoader */
"./src/streaming/net/XHRLoader.js"),h=c(
/*! ../../dash/DashHandler */
"./src/dash/DashHandler.js"),p=c(
/*! ../../dash/controllers/SegmentsController */
"./src/dash/controllers/SegmentsController.js"),v=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function A(U){var Y,re,ae,Re,z,oe,H,me,O=this.context,V=U.adapter,k=U.baseURLController,P=U.streamInfo,D=U.timelineConverter,w=U.debug,E=U.eventBus,N=U.events,S=U.dashConstants,B=Object(F.default)(O).getInstance();function Se(ze,He){var Ae=new y.default;Ae.id=ze.id,Ae.bitrate=ze.bandwidth,Ae.width=ze.width,Ae.height=ze.height,Ae.tilesHor=1,Ae.tilesVert=1,ze.essentialProperties&&ze.essentialProperties.forEach(function(ye){if(v.indexOf(ye.schemeIdUri)>=0&&ye.value){var K=ye.value.split("x");2===K.length&&!isNaN(K[0])&&!isNaN(K[1])&&(Ae.tilesHor=parseInt(K[0],10),Ae.tilesVert=parseInt(K[1],10))}}),He?oe.updateSegmentData(ze).then(function(ye){!function Ie(ze,He,Ae){var ye=[],K=function le(ze,He){var K,ie,he,$,Ae=[],ye=0;for(K=0,ie=ze.segments.length;K<ie;K++)he=ze.segments[K],($=Object(L.getTimeBasedSegment)(D,V.getIsDynamic(),He,he.startTime,he.duration,he.timescale,he.media,he.mediaRange,ye))&&(Ae.push($),$=null,ye++);return Ae}(Ae,He);He.segments=K,ze.segmentDuration=He.segments[0].duration,ze.readThumbnail=function(ie,he){var $=null;ye.some(function(Z){if(Z.start<=ie&&Z.end>ie)return $=Z.url,!0}),$?he($):He.segments.some(function(Z){if(Z.mediaStartTime<=ie&&Z.mediaStartTime+Z.duration>ie){var W=k.resolve(He.path);return H.load({method:"get",url:W.url,request:{range:Z.mediaRange,responseType:"arraybuffer"},onload:function(Q){var q=me.getSamplesInfo(Q.target.response),J=new Blob([Q.target.response.slice(q.sampleList[0].offset,q.sampleList[0].offset+q.sampleList[0].size)],{type:"image/jpeg"}),de=window.URL.createObjectURL(J);ye.push({start:Z.mediaStartTime,end:Z.mediaStartTime+Z.duration,url:de}),he&&he(de)}}),!0}})}}(Ae,ze,ye)}):(Ae.startNumber=ze.startNumber,Ae.segmentDuration=ze.segmentDuration,Ae.timescale=ze.timescale,Ae.templateUrl=function Me(ze){var He=B.isRelative(ze.media)?B.resolve(ze.media,k.resolve(ze.path).url):ze.media;return He?Object(L.replaceIDForTemplate)(He,ze.id):""}(ze)),Ae.tilesHor>0&&Ae.tilesVert>0&&(Ae.widthPerTile=Ae.width/Ae.tilesHor,Ae.heightPerTile=Ae.height/Ae.tilesVert,re.push(Ae))}function je(){re=[],Re=-1,z=null}return Y={getTracks:function we(){return re},addTracks:function ue(){if(P&&V&&(z=V.getMediaInfoForType(P,t.default.IMAGE))){var ze=V.getVoRepresentations(z);ze&&ze.length>0&&ze.forEach(function(He){(He.segmentInfoType===b.default.SEGMENT_TEMPLATE&&He.segmentDuration>0&&He.media||He.segmentInfoType===b.default.SEGMENT_TIMELINE)&&Se(He),He.segmentInfoType===b.default.SEGMENT_BASE&&Se(He,!0)}),re.length>0&&re.sort(function(He,Ae){return He.bitrate-Ae.bitrate})}},reset:je,setTrackByIndex:function Pe(ze){!re||0===re.length||(ze>=re.length&&(ze=re.length-1),Re=ze)},getCurrentTrack:function Le(){return Re<0?null:re[Re]},getCurrentTrackIndex:function _e(){return Re},getThumbnailRequestForTime:function Oe(ze){for(var He,Ae=V.getVoRepresentations(z),ye=0;ye<Ae.length;ye++)if(re[Re].id===Ae[ye].id){He=Ae[ye];break}return ae.getSegmentRequestForTime(z,He,ze)}},function te(){je(),H=Object(m.default)(O).create({}),me=Object(x.default)(O).getInstance(),oe=Object(p.default)(O).create({events:N,eventBus:E,streamInfo:P,timelineConverter:D,dashConstants:S,dashMetrics:U.dashMetrics,segmentBaseController:U.segmentBaseController,type:t.default.IMAGE}),(ae=Object(h.default)(O).create({streamInfo:P,type:t.default.IMAGE,timelineConverter:D,segmentsController:oe,baseURLController:k,debug:w,eventBus:E,events:N,dashConstants:S,urlUtils:B})).initialize(!!V&&V.getIsDynamic())}(),Y}A.__dashjs_factory_name="ThumbnailTracks",C.default=I.default.getClassFactory(A)},"./src/streaming/utils/BaseURLSelector.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/BaseURLSelector.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/errors/Errors */
"./src/core/errors/Errors.js"),b=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),I=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),y=c(
/*! ../controllers/BlacklistController */
"./src/streaming/controllers/BlacklistController.js"),F=c(
/*! ./baseUrlResolution/DVBSelector */
"./src/streaming/utils/baseUrlResolution/DVBSelector.js"),L=c(
/*! ./baseUrlResolution/BasicSelector */
"./src/streaming/utils/baseUrlResolution/BasicSelector.js"),x=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),m=c(
/*! ../vo/DashJSError */
"./src/streaming/vo/DashJSError.js"),h=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js"),p=c(
/*! ./baseUrlResolution/ContentSteeringSelector */
"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js"),v=c(
/*! ../../core/Settings */
"./src/core/Settings.js");function A(){var k,P,D,w,E,N,U=this.context,O=Object(b.default)(U).getInstance(),V=Object(v.default)(U).getInstance();function ae(){P.reset()}return k={chooseSelector:function Y(Re){Object(h.checkParameterType)(Re,"boolean"),N=Re?w:D},select:function re(Re){if(Re){if(V.get().streaming.applyContentSteering){var z=E.selectBaseUrlIndex(Re);!isNaN(z)&&-1!==z&&(Re.selectedIdx=z)}if(!isNaN(Re.selectedIdx))return Re.baseUrls[Re.selectedIdx];var oe=N.select(Re.baseUrls);return oe?(Re.selectedIdx=Re.baseUrls.indexOf(oe),oe):(O.trigger(I.default.URL_RESOLUTION_FAILED,{error:new m.default(t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,t.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===D&&ae()))}},reset:ae,setConfig:function B(Re){Re.selector&&(N=Re.selector),Re.contentSteeringSelector&&(E=Re.contentSteeringSelector)}},function S(){P=Object(y.default)(U).create({updateEventName:I.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:I.default.SERVICE_LOCATION_BLACKLIST_ADD}),D=Object(L.default)(U).create({blacklistController:P}),w=Object(F.default)(U).create({blacklistController:P}),(E=Object(p.default)(U).create()).setConfig({blacklistController:P}),N=D}(),k}A.__dashjs_factory_name="BaseURLSelector",C.default=x.default.getClassFactory(A)},"./src/streaming/utils/BoxParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/BoxParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),b=c(
/*! ./IsoFile */
"./src/streaming/utils/IsoFile.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),y=c(
/*! codem-isoboxer */
"./node_modules/codem-isoboxer/dist/iso_boxer.js"),F=c.n(y),L=c(
/*! ../vo/IsoBoxSearchInfo */
"./src/streaming/vo/IsoBoxSearchInfo.js");function x(){var m,h,p=this.context;function A(E){if(!E)return null;void 0===E.fileStart&&(E.fileStart=0);var N=F.a.parseBuffer(E),S=Object(b.default)(p).create();return S.setData(N),S}function k(E,N){return E[N+3]>>>0|E[N+2]<<8>>>0|E[N+1]<<16>>>0|E[N]<<24>>>0}function P(E,N){return String.fromCharCode(E[N++])+String.fromCharCode(E[N++])+String.fromCharCode(E[N++])+String.fromCharCode(E[N])}return h={parse:A,findLastTopIsoBoxCompleted:function U(E,N,S){if(void 0===S&&(S=0),!N||S+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,re=0;S<B.byteLength;){var ae=k(B,S),Re=P(B,S+4);if(0===ae)break;S+ae<=B.byteLength&&(E.indexOf(Re)>=0?Y=new L.default(S,!0,ae):re=S+ae),S+=ae}return Y||new L.default(re,!1)},getMediaTimescaleFromMoov:function V(E){var N=A(E),S=N?N.getBox("mdhd"):void 0;return S?S.timescale:NaN},getSamplesInfo:function O(E){if(!E||0===E.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var Y,ae,Re,z,oe,H,me,te,ue,Se,Ie,le,Me,we,_e,Le,N=A(E),S=N.getBoxes("moof"),B=N.getBoxes("mfhd");_e=N.getBoxes("moof").length,we=B[B.length-1].sequence_number,ae=0,oe=[];var Pe=-1,Oe=-1;for(Se=0;Se<S.length;Se++){var je=S[Se],ze=je.getChildBoxes("traf");for(te=0;te<ze.length;te++){var He=ze[te],Ae=He.getChildBox("tfhd"),ye=He.getChildBox("tfdt");z=ye.baseMediaDecodeTime;var K=He.getChildBoxes("trun"),ie=He.getChildBoxes("subs");for(ue=0;ue<K.length;ue++){var he=K[ue];for(ae=he.sample_count,Me=(Ae.base_data_offset||0)+(he.data_offset||0),me=0;me<ae;me++){var $={dts:z,cts:z+(void 0!==(H=he.samples[me]).sample_composition_time_offset?H.sample_composition_time_offset:0),duration:Y=void 0!==H.sample_duration?H.sample_duration:Ae.default_sample_duration,offset:je.offset+Me,size:Re=void 0!==H.sample_size?H.sample_size:Ae.default_sample_size,subSizes:[Re]};if(ie)for(Ie=0;Ie<ie.length;Ie++){var Z=ie[Ie];if(Pe<Z.entry_count-1&&me>Oe&&(Pe++,Oe+=Z.entries[Pe].sample_delta),me==Oe){$.subSizes=[];var W=Z.entries[Pe];for(le=0;le<W.subsample_count;le++)$.subSizes.push(W.subsamples[le].subsample_size)}}oe.push($),Me+=Re,z+=Y}}Le=z-ye.baseMediaDecodeTime}}return{sampleList:oe,lastSequenceNumber:we,totalDuration:Le,numSequences:_e}},findInitRange:function D(E){var N=null,Y=A(E);if(!Y)return N;var re=Y.getBox("ftyp"),ae=Y.getBox("moov");return m.debug("Searching for initialization."),ae&&ae.isComplete&&m.debug("Found the initialization.  Range: "+(N=(re?re.offset:ae.offset)+"-"+(ae.offset+ae.size-1))),N},parsePayload:function w(E,N,S){if(void 0===S&&(S=0),!N||S+8>=N.byteLength)return new L.default(0,!1);for(var Y,B=N instanceof ArrayBuffer?new Uint8Array(N):N,re=0;S<B.byteLength;){var ae=k(B,S),Re=P(B,S+4);if(0===ae)break;S+ae<=B.byteLength&&(E.indexOf(Re)>=0?Y=new L.default(S,!0,ae,Re):re=S+ae),S+=ae}return Y||new L.default(re,!1)}},function v(){m=Object(t.default)(p).getInstance().getLogger(h)}(),h}x.__dashjs_factory_name="BoxParser",C.default=I.default.getSingletonFactory(x)},"./src/streaming/utils/Capabilities.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/Capabilities.js ***!
                  \*********************************************/
/*! exports provided: supportsMediaSource, default */function(Ze,C,c){"use strict";c.r(C),c.d(C,"supportsMediaSource",function(){return F});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../thumbnail/ThumbnailTracks */
"./src/streaming/thumbnail/ThumbnailTracks.js"),I=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function F(){var x="WebKitMediaSource"in window,m="MediaSource"in window;return x||m}function L(){var x,m,h;return x={setConfig:function v(E){E&&E.settings&&(m=E.settings)},supportsMediaSource:F,supportsEncryptedMedia:function A(){return h},supportsCodec:function O(E,N){return N!==I.default.AUDIO&&N!==I.default.VIDEO?Promise.resolve(!0):function V(E,N){return m.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(E.codec&&N===I.default.AUDIO||N===I.default.VIDEO&&E.codec&&E.width&&E.height&&E.bitrate&&E.framerate)}(E,N)?function P(E,N){return new Promise(function(S){if(E&&E.codec){var B={type:"media-source"};B[N]={},B[N].contentType=E.codec,B[N].width=E.width,B[N].height=E.height,B[N].bitrate=parseInt(E.bitrate),B[N].framerate=parseFloat(E.framerate),navigator.mediaCapabilities.decodingInfo(B).then(function(Y){S(Y.supported)}).catch(function(){S(!1)})}else S(!1)})}(E,N):function k(E){return new Promise(function(N){if(E&&E.codec){var S=E.codec;E.width&&E.height&&(S+=';width="'+E.width+'";height="'+E.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(S)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(S)?N(!0):N(!1)}else N(!1)})}(E)},setEncryptedMediaSupported:function U(E){h=E},supportsEssentialProperty:function D(E){try{return-1!==b.THUMBNAILS_SCHEME_ID_URIS.indexOf(E.schemeIdUri)}catch{return!0}},codecRootCompatibleWithCodec:function w(E,N){for(var Y,S=E.split(".")[0],B=0===N.indexOf(S),re=0;re<y.length;re++)if(y[re].codec===S){Y=y[re];break}return Y?B||Y.compatibleCodecs.some(function(ae){return 0===N.indexOf(ae)}):B}},function p(){h=!1}(),x}L.__dashjs_factory_name="Capabilities",C.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CapabilitiesFilter.js":
/*!***************************************************!*\
                  !*** ./src/streaming/utils/CapabilitiesFilter.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),F=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js");function L(){var h,p,v,A,U,O,x=this.context,m=Object(y.default)(x).getInstance();function D(ae,Re){if(!Re||!Re.Period_asArray||0===Re.Period_asArray.length)return Promise.resolve();var z=[];return Re.Period_asArray.forEach(function(oe){z.push(function w(ae,Re){return new Promise(function(z){if(ae&&ae.AdaptationSet_asArray&&0!==ae.AdaptationSet_asArray.length){var oe=[];ae.AdaptationSet_asArray.forEach(function(H){p.getIsTypeOf(H,Re)&&oe.push(function E(ae,Re){return new Promise(function(z){if(ae.Representation_asArray&&0!==ae.Representation_asArray.length){var oe=[],H=[];ae.Representation_asArray.forEach(function(me,te){var ue=p.getCodec(ae,te,!1),Se=function N(ae,Re,z){switch(ae){case I.default.VIDEO:return function S(ae,Re){return{codec:Re,width:ae.width||null,height:ae.height||null,framerate:ae.frameRate||null,bitrate:ae.bandwidth||null}}(Re,z);case I.default.AUDIO:return function B(ae,Re){return{codec:Re,bitrate:ae.bandwidth||null,samplerate:ae.audioSamplingRate||null}}(Re,z);default:return null}}(Re,me,ue);H.push(Se),oe.push(v.supportsCodec(Se,Re))}),Promise.all(oe).then(function(me){ae.Representation_asArray=ae.Representation_asArray.filter(function(te,ue){return me[ue]||O.debug("[Stream] Codec ".concat(H[ue].codec," not supported ")),me[ue]}),z()}).catch(function(){z()})}else z()})}(H,Re))}),Promise.all(oe).then(function(){ae.AdaptationSet_asArray=ae.AdaptationSet_asArray.filter(function(H){var me=H.Representation_asArray&&H.Representation_asArray.length>0;return me||(m.trigger(F.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:H}),O.warn("AdaptationSet has been removed because of no supported Representation")),me}),z()}).catch(function(){z()})}else z()})}(oe,ae))}),Promise.all(z)}return h={setConfig:function k(ae){ae&&(ae.adapter&&(p=ae.adapter),ae.capabilities&&(v=ae.capabilities),ae.settings&&(A=ae.settings),ae.customParametersModel&&(U=ae.customParametersModel))},filterUnsupportedFeatures:function P(ae){return new Promise(function(Re){var z=[];z.push(D(I.default.VIDEO,ae)),z.push(D(I.default.AUDIO,ae)),Promise.all(z).then(function(){A.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function Y(ae){!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(Re){Re.AdaptationSet_asArray=Re.AdaptationSet_asArray.filter(function(z){return!z.Representation_asArray||0===z.Representation_asArray.length||(z.Representation_asArray=z.Representation_asArray.filter(function(oe){var H=p.getEssentialPropertiesForRepresentation(oe);if(H&&H.length>0)for(var me=0;me<H.length;){if(!v.supportsEssentialProperty(H[me]))return O.debug("[Stream] EssentialProperty not supported: "+H[me].schemeIdUri),!1;me+=1}return!0}),z.Representation_asArray&&z.Representation_asArray.length>0)})})}(ae),function re(ae){var Re=U.getCustomCapabilitiesFilters();!Re||0===Re.length||!ae||!ae.Period_asArray||0===ae.Period_asArray.length||ae.Period_asArray.forEach(function(z){z.AdaptationSet_asArray=z.AdaptationSet_asArray.filter(function(oe){return!oe.Representation_asArray||0===oe.Representation_asArray.length||(oe.Representation_asArray=oe.Representation_asArray.filter(function(H){return!Re.some(function(me){return!me(H)})}),oe.Representation_asArray&&oe.Representation_asArray.length>0)})})}(ae),Re()}).catch(function(){Re()})})}},function V(){O=Object(b.default)(x).getInstance().getLogger(h)}(),h}L.__dashjs_factory_name="CapabilitiesFilter",C.default=t.default.getSingletonFactory(L)},"./src/streaming/utils/CustomTimeRanges.js":
/*!*************************************************!*\
                  !*** ./src/streaming/utils/CustomTimeRanges.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../utils/SupervisorTools */
"./src/streaming/utils/SupervisorTools.js");function I(){return{customTimeRangeArray:[],length:0,add:function L(A,U){var O=0;for(O=0;O<this.customTimeRangeArray.length&&A>this.customTimeRangeArray[O].start;O++);for(this.customTimeRangeArray.splice(O,0,{start:A,end:U}),O=0;O<this.customTimeRangeArray.length-1;O++)this.mergeRanges(O,O+1)&&O--;this.length=this.customTimeRangeArray.length},clear:function x(){this.customTimeRangeArray=[],this.length=0},remove:function m(A,U){for(var O=0;O<this.customTimeRangeArray.length;O++)if(A<=this.customTimeRangeArray[O].start&&U>=this.customTimeRangeArray[O].end)this.customTimeRangeArray.splice(O,1),O--;else{if(A>this.customTimeRangeArray[O].start&&U<this.customTimeRangeArray[O].end){this.customTimeRangeArray.splice(O+1,0,{start:U,end:this.customTimeRangeArray[O].end}),this.customTimeRangeArray[O].end=A;break}A>this.customTimeRangeArray[O].start&&A<this.customTimeRangeArray[O].end?this.customTimeRangeArray[O].end=A:U>this.customTimeRangeArray[O].start&&U<this.customTimeRangeArray[O].end&&(this.customTimeRangeArray[O].start=U)}this.length=this.customTimeRangeArray.length},mergeRanges:function h(A,U){var O=this.customTimeRangeArray[A],V=this.customTimeRangeArray[U];return O.start<=V.start&&V.start<=O.end&&O.end<=V.end?(O.end=V.end,this.customTimeRangeArray.splice(U,1),!0):V.start<=O.start&&O.start<=V.end&&V.end<=O.end?(O.start=V.start,this.customTimeRangeArray.splice(U,1),!0):V.start<=O.start&&O.start<=V.end&&O.end<=V.end?(this.customTimeRangeArray.splice(A,1),!0):O.start<=V.start&&V.start<=O.end&&V.end<=O.end&&(this.customTimeRangeArray.splice(U,1),!0)},start:function p(A){return Object(b.checkInteger)(A),A>=this.customTimeRangeArray.length||A<0?NaN:this.customTimeRangeArray[A].start},end:function v(A){return Object(b.checkInteger)(A),A>=this.customTimeRangeArray.length||A<0?NaN:this.customTimeRangeArray[A].end}}}I.__dashjs_factory_name="CustomTimeRanges",C.default=t.default.getClassFactory(I)},"./src/streaming/utils/DOMStorage.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/DOMStorage.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),y=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],F="dashjs_?_bitrate",L="dashjs_?_settings",x="localStorage",h="lastBitrate",p="lastMediaSettings";function v(U){var k,P,D,O=this.context,V=(U=U||{}).settings;function E(oe){if(void 0!==D)return D;D=!1;var te;try{typeof window<"u"&&(te=window[oe])}catch(ue){return P.warn("DOMStorage access denied: "+ue.message),D}if(!te||oe!==x&&"sessionStorage"!==oe)return D;try{te.setItem("1","1"),te.removeItem("1"),D=!0}catch(ue){P.warn("DOMStorage is supported, but cannot be used: "+ue.message)}return D}function S(){return 6e5*Math.round((new Date).getTime()/6e5)}function B(oe,H){return E(oe)&&V.get().streaming[H+"CachingInfo"].enabled}function Y(){if(!V)throw new Error(I.default.MISSING_CONFIG_ERROR)}return k={getSavedBitrateSettings:function ae(oe){if(Y(),!V.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var H=NaN;if(B(x,h)){var me=F.replace(/\?/,oe);try{var te=JSON.parse(localStorage.getItem(me))||{},ue=(new Date).getTime()-parseInt(te.timestamp,10)>=V.get().streaming.lastBitrateCachingInfo.ttl||!1,Se=parseFloat(te.bitrate);isNaN(Se)||ue?ue&&localStorage.removeItem(me):(H=Se,P.debug("Last saved bitrate for "+oe+" was "+Se))}catch{return null}}return H},setSavedBitrateSettings:function z(oe,H){if(B(x,h)&&H){var me=F.replace(/\?/,oe);try{localStorage.setItem(me,JSON.stringify({bitrate:H.toFixed(3),timestamp:S()}))}catch(te){P.error(te.message)}}},getSavedMediaSettings:function re(oe){if(Y(),!V.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var H=null;if(B(x,p)){var me=L.replace(/\?/,oe);try{var te=JSON.parse(localStorage.getItem(me))||{},ue=(new Date).getTime()-parseInt(te.timestamp,10)>=V.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;H=te.settings,ue&&(localStorage.removeItem(me),H=null)}catch{return null}}return H},setSavedMediaSettings:function Re(oe,H){if(B(x,p)){var me=L.replace(/\?/,oe);try{localStorage.setItem(me,JSON.stringify({settings:H,timestamp:S()}))}catch(te){P.error(te.message)}}}},function w(){P=Object(b.default)(O).getInstance().getLogger(k),function N(){E(x)&&y.forEach(function(oe){var H=localStorage.getItem(oe.oldKey);if(H){localStorage.removeItem(oe.oldKey);try{localStorage.setItem(oe.newKey,H)}catch(me){P.error(me.message)}}})}()}(),k}v.__dashjs_factory_name="DOMStorage";var A=t.default.getSingletonFactory(v);C.default=A},"./src/streaming/utils/DefaultURLUtils.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/DefaultURLUtils.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var I,y=/^[a-z][a-z0-9+\-_.]*:/i,F=/^https?:\/\//i,L=/^https:\/\//i,x=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,m=function(B,Y){try{return new window.URL(B,Y).toString()}catch{return B}},h=function(B,Y){var re=v;if(!Y||!V(B))return B;k(B)&&(re=A),P(B)&&(re=O);var ae=re(Y),Re="/"!==ae.charAt(ae.length-1)&&"/"!==B.charAt(0)?"/":"";return[ae,B].join(Re)};function v(S){var B=S.indexOf("/"),Y=S.lastIndexOf("/");return-1!==B?Y===B+1?S:(-1!==S.indexOf("?")&&(S=S.substring(0,S.indexOf("?"))),S.substring(0,Y+1)):""}function A(S){var B=S.match(x);return B?B[1]:""}function O(S){var B=S.match(y);return B?B[0]:""}function V(S){return!y.test(S)}function k(S){return V(S)&&"/"===S.charAt(0)}function P(S){return 0===S.indexOf("//")}return function p(){try{new window.URL("x","http://y"),I=m}catch{}finally{I=I||h}}(),{parseBaseUrl:v,parseOrigin:A,parseScheme:O,isRelative:V,isPathAbsolute:k,isSchemeRelative:P,isHTTPURL:function D(S){return F.test(S)},isHTTPS:function w(S){return L.test(S)},removeHostname:function U(S){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(S)[2].substring(1)},resolve:function E(S,B){return I(S,B)}}}b.__dashjs_factory_name="DefaultURLUtils",C.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/EBMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/EBMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(I){I=I||{};var y,F=new DataView(I.data),L=0;function h(P,D){var w=!0,E=0;if(void 0===D&&(D=!1),P.tag>16777215?(F.getUint32(L)!==P.tag&&(w=!1),E=4):P.tag>65535?(256*F.getUint16(L)+F.getUint8(L+2)!==P.tag&&(w=!1),E=3):P.tag>255?(F.getUint16(L)!==P.tag&&(w=!1),E=2):(F.getUint8(L)!==P.tag&&(w=!1),E=1),!w&&P.required&&!D)throw new Error("required tag not found");return w&&(L+=E),w}function U(P){var D=1,w=128,N=-1,S=0,B=F.getUint8(L),Y=0;for(Y=0;Y<8;Y+=1){if((B&w)===w){S=void 0===P?B&~w:B,N=Y;break}w>>=1}for(Y=0;Y<N;Y+=1,D+=1)S=S<<8|255&F.getUint8(L+D);return L+=D,S}return y={getPos:function x(){return L},setPos:function m(P){L=P},consumeTag:h,consumeTagAndSize:function p(P,D){var w=h(P,D);return w&&U(),w},parseTag:function v(P){var D;return h(P),D=U(),y[P.parse](D)},skipOverElement:function A(P,D){var E,w=h(P,D);return w&&(E=U(),L+=E),w},getMatroskaCodedNum:U,getMatroskaFloat:function O(P){var D;switch(P){case 4:D=F.getFloat32(L),L+=4;break;case 8:D=F.getFloat64(L),L+=8}return D},getMatroskaUint:function V(P){for(var D=0,w=0;w<P;w+=1)D<<=8,D|=255&F.getUint8(L+w);return L+=P,D},moreData:function k(){return L<F.byteLength}}}b.__dashjs_factory_name="EBMLParser",C.default=t.default.getClassFactory(b)},"./src/streaming/utils/ErrorHandler.js":
/*!*********************************************!*\
                  !*** ./src/streaming/utils/ErrorHandler.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),b=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),I=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function y(){var L=this.context,x=Object(t.default)(L).getInstance();return{error:function m(h){x.trigger(b.default.ERROR,{error:h})}}}y.__dashjs_factory_name="ErrorHandler",C.default=I.default.getSingletonFactory(y)},"./src/streaming/utils/InitCache.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/InitCache.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var I={};return{save:function y(m){var h=m.streamId,p=m.representationId;I[h]=I[h]||{},I[h][p]=m},extract:function F(m,h){return I&&I[m]&&I[m][h]?I[m][h]:null},reset:function L(){I={}}}}b.__dashjs_factory_name="InitCache",C.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/IsoFile.js":
/*!****************************************!*\
                  !*** ./src/streaming/utils/IsoFile.js ***!
                  \****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/IsoBox */
"./src/streaming/vo/IsoBox.js"),b=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function I(){var F;function x(v){var A=[];if(!v||!F||"function"!=typeof F.fetchAll)return A;for(var O,U=F.fetchAll(v),V=0,k=U.length;V<k;V++)(O=p(U[V]))&&A.push(O);return A}function p(v){if(!v)return null;var A=new t.default(v);return v.hasOwnProperty("_incomplete")&&(A.isComplete=!v._incomplete),A}return{getBox:function L(v){return v&&F&&F.boxes&&0!==F.boxes.length&&"function"==typeof F.fetch?p(F.fetch(v)):null},getBoxes:x,setData:function m(v){F=v},getLastBox:function h(){if(!F||!F.boxes||!F.boxes.length)return null;var A=x(F.boxes[F.boxes.length-1].type);return A.length>0?A[A.length-1]:null}}}I.__dashjs_factory_name="IsoFile",C.default=b.default.getClassFactory(I)},"./src/streaming/utils/ObjectUtils.js":
/*!********************************************!*\
                  !*** ./src/streaming/utils/ObjectUtils.js ***!
                  \********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! fast-deep-equal */
"./node_modules/fast-deep-equal/index.js"),I=c.n(b);function y(){return{areEqual:function L(x,m){return I()(x,m)}}}y.__dashjs_factory_name="ObjectUtils",C.default=t.default.getSingletonFactory(y)},"./src/streaming/utils/RequestModifier.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/RequestModifier.js ***!
                  \************************************************/
/*! exports provided: modifyRequest, default */function(Ze,C,c){"use strict";c.r(C),c.d(C,"modifyRequest",function(){return b});var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(y,F){var L={url:y.url,method:y.method,headers:Object.assign({},y.headers),credentials:y.withCredentials?"include":void 0};return Promise.resolve(F.modifyRequest(L)).then(function(){return Object.assign(y,L,{withCredentials:"include"===L.credentials})})}function I(){return{modifyRequest:null,modifyRequestURL:function F(x){return x},modifyRequestHeader:function L(x,m){return x}}}I.__dashjs_factory_name="RequestModifier",C.default=t.default.getSingletonFactory(I)},"./src/streaming/utils/SupervisorTools.js":
/*!************************************************!*\
                  !*** ./src/streaming/utils/SupervisorTools.js ***!
                  \************************************************/
/*! exports provided: checkParameterType, checkInteger, checkRange, checkIsVideoOrAudioType */function(Ze,C,c){"use strict";c.r(C),c.d(C,"checkParameterType",function(){return I}),c.d(C,"checkInteger",function(){return y}),c.d(C,"checkRange",function(){return F}),c.d(C,"checkIsVideoOrAudioType",function(){return L});var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js");function b(x){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(x)}function I(x,m){if(b(x)!==m)throw t.default.BAD_ARGUMENT_ERROR}function y(x){if(null===x||isNaN(x)||x%1!=0)throw t.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function F(x,m,h){if(x<m||x>h)throw t.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function L(x){if("string"!=typeof x||x!==t.default.AUDIO&&x!==t.default.VIDEO)throw t.default.BAD_ARGUMENT_ERROR}},"./src/streaming/utils/TTMLParser.js":
/*!*******************************************!*\
                  !*** ./src/streaming/utils/TTMLParser.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js"),I=c(
/*! ../../core/EventBus */
"./src/core/EventBus.js"),y=c(
/*! ../../core/events/Events */
"./src/core/events/Events.js"),F=c(
/*! imsc */
"./node_modules/imsc/src/main/js/main.js"),x=c(
/*! ../MediaPlayerEvents */
"./src/streaming/MediaPlayerEvents.js"),m=c(
/*! ../constants/ConformanceViolationConstants */
"./src/streaming/constants/ConformanceViolationConstants.js");function h(){var A,U,p=this.context,v=Object(I.default)(p).getInstance(),O=0;function k(){var D="cue_TTML_"+O;return O++,D}return A={parse:function P(D,w,E,N,S){var re,ae,Re,B="",Y=[],z={},oe={},H="",me="",te={onOpenTag:function(Me,we,_e){if(_e[" imagetype"]&&!_e[" imageType"]&&(v.trigger(x.default.CONFORMANCE_VIOLATION,{level:m.default.LEVELS.ERROR,event:m.default.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),_e[" imageType"]=_e[" imagetype"]),"image"===we&&("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===Me||"http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"===Me)){if(!_e[" imageType"]||"PNG"!==_e[" imageType"].value)return void U.warn("smpte-tt imageType != PNG. Discarded");H=_e["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){H&&(oe[H]=me.trim()),me="",H=""},onText:function(Me){H&&(me+=Me)}};if(!D)throw B="no ttml data to parse",new Error(B);z.data=D,v.trigger(y.default.TTML_TO_PARSE,z);var ue=Object(F.fromXML)(z.data,function(le){B=le},te);v.trigger(y.default.TTML_PARSED,{ttmlString:z.data,ttmlDoc:ue});var Se=ue.getMediaTimeEvents();for(Re=0;Re<Se.length;Re++){var Ie=Object(F.generateISD)(ue,Se[Re],function(le){B=le});Ie.contents.some(function(le){return le.contents.length})&&(re=Se[Re]+w<E?E:Se[Re]+w)<(ae=Se[Re+1]+w>N?N:Se[Re+1]+w)&&Y.push({start:re,end:ae,type:"html",cueID:k(),isd:Ie,images:S,embeddedImages:oe})}if(""!==B)throw U.error(B),new Error(B);return Y}},function V(){U=Object(b.default)(p).getInstance().getLogger(A)}(),A}h.__dashjs_factory_name="TTMLParser",C.default=t.default.getSingletonFactory(h)},"./src/streaming/utils/URLUtils.js":
/*!*****************************************!*\
                  !*** ./src/streaming/utils/URLUtils.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ./DefaultURLUtils */
"./src/streaming/utils/DefaultURLUtils.js");function I(){var L,x=[],m=this.context;function A(B,Y,re){var ae=function h(B){var Y;for(Y=0;Y<x.length;Y++)if(x[Y].regex.test(B))return x[Y].utils;return L}(re||Y);return ae&&"function"==typeof ae[B]?ae[B](Y,re):L[B](Y,re)}return function p(){L=Object(b.default)(m).getInstance()}(),{registerUrlRegex:function v(B,Y){x.push({regex:B,utils:Y})},parseBaseUrl:function U(B){return A("parseBaseUrl",B)},parseOrigin:function O(B){return A("parseOrigin",B)},parseScheme:function k(B){return A("parseScheme",B)},isRelative:function P(B){return A("isRelative",B)},isPathAbsolute:function D(B){return A("isPathAbsolute",B)},isSchemeRelative:function w(B){return A("isSchemeRelative",B)},isHTTPURL:function E(B){return A("isHTTPURL",B)},isHTTPS:function N(B){return A("isHTTPS",B)},removeHostname:function V(B){return A("removeHostname",B)},resolve:function S(B,Y){return A("resolve",B,Y)}}}I.__dashjs_factory_name="URLUtils";var y=t.default.getSingletonFactory(I);C.default=y},"./src/streaming/utils/VTTParser.js":
/*!******************************************!*\
                  !*** ./src/streaming/utils/VTTParser.js ***!
                  \******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../core/Debug */
"./src/core/Debug.js");function y(){var L,x,m,h,p,v,F=this.context;function O(D){var w=D.split(":"),E=w.length-1;return D=60*parseInt(w[E-1],10)+parseFloat(w[E]),2===E&&(D+=3600*parseInt(w[0],10)),D}function V(D){var w=D.split(h),E=w[1].split(v);return E.shift(),w[1]=E[0],E.shift(),{cuePoints:w,styles:k(E)}}function k(D){var w={};return D.forEach(function(E){if(E.split(/:/).length>1){var N=E.split(/:/)[1];N&&-1!=N.search(/%/)&&(N=parseInt(N.replace(/%/,""),10)),(E.match(/align/)||E.match(/A/))&&(w.align=N),(E.match(/line/)||E.match(/L/))&&(w.line=N),(E.match(/position/)||E.match(/P/))&&(w.position=N),(E.match(/size/)||E.match(/S/))&&(w.size=N)}}),w}function P(D,w){for(var B,E=w,N="",S="";""!==D[E]&&E<D.length;)E++;if((B=E-w)>1)for(var Y=0;Y<B;Y++){if((S=D[w+Y]).match(h)){N="";break}N+=S,Y!==B-1&&(N+="\n")}else(S=D[w]).match(h)||(N=S);return N}return L={parse:function U(D){var E,N,w=[];if(!D)return w;E=(D=D.split(m)).length,N=-1;for(var S=0;S<E;S++){var B=D[S];if(B.length>0&&"WEBVTT"!==B&&B.match(h)){var Y=V(B),re=Y.cuePoints,ae=Y.styles,Re=P(D,S+1),z=O(re[0].replace(p,"")),oe=O(re[1].replace(p,""));!isNaN(z)&&!isNaN(oe)&&z>=N&&oe>z?""!==Re?(N=z,w.push({start:z,end:oe,data:Re,styles:ae})):x.error("Skipping cue due to empty/malformed cue text"):x.error("Skipping cue due to incorrect cue timing")}}return w}},function A(){x=Object(b.default)(F).getInstance().getLogger(L),m=/(?:\r\n|\r|\n)/gm,h=/-->/,p=/(^[\s]+|[\s]+$)/g,v=/\s\b/g}(),L}y.__dashjs_factory_name="VTTParser",C.default=t.default.getSingletonFactory(y)},"./src/streaming/utils/VttCustomRenderingParser.js":
/*!*********************************************************!*\
                  !*** ./src/streaming/utils/VttCustomRenderingParser.js ***!
                  \*********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(){var I,y;return I={parse:function L(x){var m=[];return y.oncue=function(h){h.start=h.startTime,h.end=h.endTime,h.data=h.text,h.styles={align:h.align,line:h.line,position:h.position,size:h.size},m.push(h)},y.parse(x),m}},function F(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(y=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),I}b.__dashjs_factory_name="VttCustomRenderingParser",C.default=t.default.getSingletonFactory(b)},"./src/streaming/utils/baseUrlResolution/BasicSelector.js":
/*!****************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/BasicSelector.js ***!
                  \****************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(I){var F=(I=I||{}).blacklistController;return{select:function L(x){var h,m=0;return x&&x.some(function(p,v){return m=v,!F.contains(p.serviceLocation)})&&(h=x[m]),h}}}b.__dashjs_factory_name="BasicSelector",C.default=t.default.getClassFactory(b)},"./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js":
/*!**************************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/ContentSteeringSelector.js ***!
                  \**************************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js"),b=c(
/*! ../../../dash/controllers/ContentSteeringController */
"./src/dash/controllers/ContentSteeringController.js");function I(){var F,L,x,y=this.context;function v(){for(var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],O=0,V=NaN,k=function(){var w=A[O],E=U.findIndex(function(N){return N.serviceLocation&&N.serviceLocation===w});if(-1!==E&&!x.contains(U[E].serviceLocation))return V=E,"break";O+=1};O<A.length&&"break"!==k(););return V}return F={selectBaseUrlIndex:function p(A){var U=NaN;if(isNaN(A.selectedIdx)){var O=L.getSteeringDataFromManifest();O&&O.defaultServiceLocation&&(U=v([O.defaultServiceLocation],A.baseUrls))}var V=L.getCurrentSteeringResponseData();return A.baseUrls&&A.baseUrls.length&&V&&V.serviceLocationPriority&&V.serviceLocationPriority.length&&(U=v(V.serviceLocationPriority,A.baseUrls)),U},setConfig:function h(A){A.blacklistController&&(x=A.blacklistController),A.contentSteeringController&&(L=A.contentSteeringController)}},function m(){L=Object(b.default)(y).getInstance()}(),F}I.__dashjs_factory_name="ContentSteeringSelector",C.default=t.default.getClassFactory(I)},"./src/streaming/utils/baseUrlResolution/DVBSelector.js":
/*!**************************************************************!*\
                  !*** ./src/streaming/utils/baseUrlResolution/DVBSelector.js ***!
                  \**************************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../../core/FactoryMaker */
"./src/core/FactoryMaker.js");function b(I){var F=(I=I||{}).blacklistController;return{select:function m(h){return h&&function x(h){var V,k,A=0,U=[],O=0;if((k=h.sort(function(D,w){var E=D.dvb_priority-w.dvb_priority;return isNaN(E)?0:E}).filter(function(D,w,E){return!w||E[0].dvb_priority&&D.dvb_priority&&E[0].dvb_priority===D.dvb_priority})).length)return k.length>1&&(k.forEach(function(P){U.push(A+=P.dvb_weight)}),V=Math.floor(Math.random()*(A-1)),U.every(function(P,D){return O=D,!(V<P)})),k[O]}(function L(h){var p=[];return h.filter(function(O){return!F.contains(O.serviceLocation)||(O.dvb_priority&&p.push(O.dvb_priority),!1)}).filter(function(O){return!(p.length&&O.dvb_priority&&-1!==p.indexOf(O.dvb_priority))})}(h))}}}b.__dashjs_factory_name="DVBSelector",C.default=t.default.getClassFactory(b)},"./src/streaming/vo/BitrateInfo.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/BitrateInfo.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN})},"./src/streaming/vo/DashJSError.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/DashJSError.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(h,p,v){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.code=h||null,this.message=p||null,this.data=v||null})},"./src/streaming/vo/DataChunk.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/DataChunk.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null})},"./src/streaming/vo/FragmentRequest.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/FragmentRequest.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../vo/metrics/HTTPRequest */
"./src/streaming/vo/metrics/HTTPRequest.js");function b(h){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function y(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,L(A.key),A)}}function L(h){var p=function x(h,p){if("object"!==b(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==b(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===b(p)?p:String(p)}var m=function(){function h(p){(function I(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.action=h.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=p||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}return function F(h,p,v){return p&&y(h.prototype,p),v&&y(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}(h,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===t.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(v){this.type=v&&v.init?t.HTTPRequest.INIT_SEGMENT_TYPE:t.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=v&&v.url?v.url:null,this.range=v&&v.range?v.range.start+"-"+v.range.end:null,this.mediaType=v&&v.mediaType?v.mediaType:null}}]),h}();m.ACTION_DOWNLOAD="download",m.ACTION_COMPLETE="complete",C.default=m},"./src/streaming/vo/HeadRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/HeadRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(k)}function I(k,P){for(var D=0;D<P.length;D++){var w=P[D];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(k,F(w.key),w)}}function F(k){var P=function L(k,P){if("object"!==b(k)||null===k)return k;var D=k[Symbol.toPrimitive];if(void 0!==D){var w=D.call(k,P||"default");if("object"!==b(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(k)}(k,"string");return"symbol"===b(P)?P:String(P)}function m(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),P&&h(k,P)}function h(k,P){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w})(k,P)}function p(k){var P=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,w=O(k);if(P){var N=O(this).constructor;E=Reflect.construct(w,arguments,N)}else E=w.apply(this,arguments);return function v(k,P){if(P&&("object"===b(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,E)}}function O(k){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(k)}C.default=function(k){m(D,k);var P=p(D);function D(w){var E;return function x(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,D),(E=P.call(this,w)).checkForExistenceOnly=!0,E}return function y(k,P,D){return P&&I(k.prototype,P),D&&I(k,D),Object.defineProperty(k,"prototype",{writable:!1}),k}(D)}(t.default)},"./src/streaming/vo/IsoBox.js":
/*!************************************!*\
                  !*** ./src/streaming/vo/IsoBox.js ***!
                  \************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function I(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,F(v.key),v)}}function F(m){var h=function L(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=function(){function m(h){if(function b(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m),this.offset=h._offset,this.type=h.type,this.size=h.size,this.boxes=[],h.boxes)for(var p=0;p<h.boxes.length;p++)this.boxes.push(new m(h.boxes[p]));switch(this.isComplete=!0,h.type){case"sidx":if(this.timescale=h.timescale,this.earliest_presentation_time=h.earliest_presentation_time,this.first_offset=h.first_offset,this.references=h.references,h.references){this.references=[];for(var v=0;v<h.references.length;v++)this.references.push({reference_type:h.references[v].reference_type,referenced_size:h.references[v].referenced_size,subsegment_duration:h.references[v].subsegment_duration})}break;case"emsg":this.id=h.id,this.version=1===h.version?1:0,this.value=h.value,this.timescale=h.timescale,this.scheme_id_uri=h.scheme_id_uri,this.presentation_time_delta=1===h.version?h.presentation_time:h.presentation_time_delta,this.event_duration=h.event_duration,this.message_data=h.message_data;break;case"mdhd":this.timescale=h.timescale;break;case"mfhd":this.sequence_number=h.sequence_number;break;case"subs":this.entry_count=h.entry_count,this.entries=h.entries;break;case"tfhd":this.base_data_offset=h.base_data_offset,this.sample_description_index=h.sample_description_index,this.default_sample_duration=h.default_sample_duration,this.default_sample_size=h.default_sample_size,this.default_sample_flags=h.default_sample_flags,this.flags=h.flags;break;case"tfdt":this.version=h.version,this.baseMediaDecodeTime=h.baseMediaDecodeTime,this.flags=h.flags;break;case"trun":if(this.sample_count=h.sample_count,this.first_sample_flags=h.first_sample_flags,this.data_offset=h.data_offset,this.flags=h.flags,this.samples=h.samples,h.samples){this.samples=[];for(var U=0,O=h.samples.length;U<O;U++)this.samples.push({sample_size:h.samples[U].sample_size,sample_duration:h.samples[U].sample_duration,sample_composition_time_offset:h.samples[U].sample_composition_time_offset})}}}return function y(m,h,p){return h&&I(m.prototype,h),p&&I(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}(m,[{key:"getChildBox",value:function(p){for(var v=0;v<this.boxes.length;v++)if(this.boxes[v].type===p)return this.boxes[v]}},{key:"getChildBoxes",value:function(p){for(var v=[],A=0;A<this.boxes.length;A++)this.boxes[A].type===p&&v.push(this.boxes[A]);return v}}]),m}()},"./src/streaming/vo/IsoBoxSearchInfo.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/IsoBoxSearchInfo.js ***!
                  \**********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(h,p,v){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.lastCompletedOffset=h,this.found=p,this.size=v})},"./src/streaming/vo/MetricsList.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/MetricsList.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]})},"./src/streaming/vo/TextRequest.js":
/*!*****************************************!*\
                  !*** ./src/streaming/vo/TextRequest.js ***!
                  \*****************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../constants/Constants */
"./src/streaming/constants/Constants.js"),b=c(
/*! ./FragmentRequest */
"./src/streaming/vo/FragmentRequest.js");function I(P){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(D){return typeof D}:function(D){return D&&"function"==typeof Symbol&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(P)}function y(P,D){for(var w=0;w<D.length;w++){var E=D[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,L(E.key),E)}}function L(P){var D=function x(P,D){if("object"!==I(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var E=w.call(P,D||"default");if("object"!==I(E))return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===D?String:Number)(P)}(P,"string");return"symbol"===I(D)?D:String(D)}function h(P,D){if("function"!=typeof D&&null!==D)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(D&&D.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),D&&p(P,D)}function p(P,D){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E})(P,D)}function v(P){var D=function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var N,E=V(P);if(D){var S=V(this).constructor;N=Reflect.construct(E,arguments,S)}else N=E.apply(this,arguments);return function A(P,D){if(D&&("object"===I(D)||"function"==typeof D))return D;if(void 0!==D)throw new TypeError("Derived constructors may only return object or undefined");return function U(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(P)}(this,N)}}function V(P){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(w){return w.__proto__||Object.getPrototypeOf(w)})(P)}C.default=function(P){h(w,P);var D=v(w);function w(E,N){var S;return function m(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}(this,w),(S=D.call(this)).url=E||null,S.type=N||null,S.mediaType=t.default.STREAM,S.responseType="",S}return function F(P,D,w){return D&&y(P.prototype,D),w&&y(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}(w)}(b.default)},"./src/streaming/vo/TextTrackInfo.js":
/*!*******************************************!*\
                  !*** ./src/streaming/vo/TextTrackInfo.js ***!
                  \*******************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ./../../dash/vo/MediaInfo */
"./src/dash/vo/MediaInfo.js");function b(k){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(k)}function I(k,P){for(var D=0;D<P.length;D++){var w=P[D];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(k,F(w.key),w)}}function F(k){var P=function L(k,P){if("object"!==b(k)||null===k)return k;var D=k[Symbol.toPrimitive];if(void 0!==D){var w=D.call(k,P||"default");if("object"!==b(w))return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===P?String:Number)(k)}(k,"string");return"symbol"===b(P)?P:String(P)}function m(k,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),P&&h(k,P)}function h(k,P){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w})(k,P)}function p(k){var P=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var E,w=O(k);if(P){var N=O(this).constructor;E=Reflect.construct(w,arguments,N)}else E=w.apply(this,arguments);return function v(k,P){if(P&&("object"===b(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function A(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(k)}(this,E)}}function O(k){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(k)}C.default=function(k){m(D,k);var P=p(D);function D(){var w;return function x(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}(this,D),(w=P.call(this)).captionData=null,w.label=null,w.defaultTrack=!1,w.kind=null,w.isFragmented=!1,w.isEmbedded=!1,w.isTTML=null,w}return function y(k,P,D){return P&&I(k.prototype,P),D&&I(k,D),Object.defineProperty(k,"prototype",{writable:!1}),k}(D)}(t.default)},"./src/streaming/vo/Thumbnail.js":
/*!***************************************!*\
                  !*** ./src/streaming/vo/Thumbnail.js ***!
                  \***************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null})},"./src/streaming/vo/ThumbnailTrackInfo.js":
/*!************************************************!*\
                  !*** ./src/streaming/vo/ThumbnailTrackInfo.js ***!
                  \************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""})},"./src/streaming/vo/URIFragmentData.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/URIFragmentData.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null})},"./src/streaming/vo/metrics/BufferLevel.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferLevel.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.t=null,this.level=null})},"./src/streaming/vo/metrics/BufferState.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/BufferState.js ***!
                  \*************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";c.r(C);var t=c(
/*! ../../constants/MetricsConstants */
"./src/streaming/constants/MetricsConstants.js");function b(h){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function I(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,F(A.key),A)}}function y(h,p,v){return p&&I(h.prototype,p),v&&I(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function F(h){var p=function L(h,p){if("object"!==b(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==b(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===b(p)?p:String(p)}C.default=y(function h(){(function x(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,h),this.target=null,this.state=t.default.BUFFER_EMPTY})},"./src/streaming/vo/metrics/DVRInfo.js":
/*!*********************************************!*\
                  !*** ./src/streaming/vo/metrics/DVRInfo.js ***!
                  \*********************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.time=null,this.range=null,this.manifestInfo=null})},"./src/streaming/vo/metrics/DroppedFrames.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/DroppedFrames.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.time=null,this.droppedFrames=null})},"./src/streaming/vo/metrics/HTTPRequest.js":
/*!*************************************************!*\
                  !*** ./src/streaming/vo/metrics/HTTPRequest.js ***!
                  \*************************************************/
/*! exports provided: HTTPRequest, HTTPRequestTrace */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,y(A.key),A)}}function I(h,p,v){return p&&b(h.prototype,p),v&&b(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function y(h){var p=function F(h,p){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}function L(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}c.r(C),c.d(C,"HTTPRequest",function(){return x}),c.d(C,"HTTPRequestTrace",function(){return m});var x=I(function h(){L(this,h),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null}),m=I(function h(){L(this,h),this.s=null,this.d=null,this.b=[]});x.GET="GET",x.HEAD="HEAD",x.MPD_TYPE="MPD",x.XLINK_EXPANSION_TYPE="XLinkExpansion",x.INIT_SEGMENT_TYPE="InitializationSegment",x.INDEX_SEGMENT_TYPE="IndexSegment",x.MEDIA_SEGMENT_TYPE="MediaSegment",x.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",x.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",x.DVB_REPORTING_TYPE="DVBReporting",x.LICENSE="license",x.CONTENT_STEERING_TYPE="ContentSteering",x.OTHER_TYPE="other"},"./src/streaming/vo/metrics/ManifestUpdate.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/ManifestUpdate.js ***!
                  \****************************************************/
/*! exports provided: ManifestUpdate, ManifestUpdateStreamInfo, ManifestUpdateRepresentationInfo */function(Ze,C,c){"use strict";function t(p){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}function b(p,v){for(var A=0;A<v.length;A++){var U=v[A];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(p,y(U.key),U)}}function I(p,v,A){return v&&b(p.prototype,v),A&&b(p,A),Object.defineProperty(p,"prototype",{writable:!1}),p}function y(p){var v=function F(p,v){if("object"!==t(p)||null===p)return p;var A=p[Symbol.toPrimitive];if(void 0!==A){var U=A.call(p,v||"default");if("object"!==t(U))return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===v?String:Number)(p)}(p,"string");return"symbol"===t(v)?v:String(v)}function L(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}c.r(C),c.d(C,"ManifestUpdate",function(){return x}),c.d(C,"ManifestUpdateStreamInfo",function(){return m}),c.d(C,"ManifestUpdateRepresentationInfo",function(){return h});var x=I(function p(){L(this,p),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}),m=I(function p(){L(this,p),this.id=null,this.index=null,this.start=null,this.duration=null}),h=I(function p(){L(this,p),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null})},"./src/streaming/vo/metrics/PlayList.js":
/*!**********************************************!*\
                  !*** ./src/streaming/vo/metrics/PlayList.js ***!
                  \**********************************************/
/*! exports provided: PlayList, PlayListTrace */function(Ze,C,c){"use strict";function t(h){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function b(h,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(h,y(A.key),A)}}function I(h,p,v){return p&&b(h.prototype,p),v&&b(h,v),Object.defineProperty(h,"prototype",{writable:!1}),h}function y(h){var p=function F(h,p){if("object"!==t(h)||null===h)return h;var v=h[Symbol.toPrimitive];if(void 0!==v){var A=v.call(h,p||"default");if("object"!==t(A))return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===p?String:Number)(h)}(h,"string");return"symbol"===t(p)?p:String(p)}function L(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}c.r(C),c.d(C,"PlayList",function(){return x}),c.d(C,"PlayListTrace",function(){return m});var x=I(function h(){L(this,h),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]});x.INITIAL_PLAYOUT_START_REASON="initial_playout",x.SEEK_START_REASON="seek",x.RESUME_FROM_PAUSE_START_REASON="resume",x.METRICS_COLLECTION_START_REASON="metrics_collection_start";var m=I(function h(){L(this,h),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null});m.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",m.REBUFFERING_REASON="rebuffering",m.USER_REQUEST_STOP_REASON="user_request",m.END_OF_PERIOD_STOP_REASON="end_of_period",m.END_OF_CONTENT_STOP_REASON="end_of_content",m.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",m.FAILURE_STOP_REASON="failure"},"./src/streaming/vo/metrics/RepresentationSwitch.js":
/*!**********************************************************!*\
                  !*** ./src/streaming/vo/metrics/RepresentationSwitch.js ***!
                  \**********************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.t=null,this.mt=null,this.to=null,this.lto=null})},"./src/streaming/vo/metrics/RequestsQueue.js":
/*!***************************************************!*\
                  !*** ./src/streaming/vo/metrics/RequestsQueue.js ***!
                  \***************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.loadingRequests=[],this.executedRequests=[]})},"./src/streaming/vo/metrics/SchedulingInfo.js":
/*!****************************************************!*\
                  !*** ./src/streaming/vo/metrics/SchedulingInfo.js ***!
                  \****************************************************/
/*! exports provided: default */function(Ze,C,c){"use strict";function t(m){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(m)}function b(m,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(m,y(v.key),v)}}function I(m,h,p){return h&&b(m.prototype,h),p&&b(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function y(m){var h=function F(m,h){if("object"!==t(m)||null===m)return m;var p=m[Symbol.toPrimitive];if(void 0!==p){var v=p.call(m,h||"default");if("object"!==t(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(m)}(m,"string");return"symbol"===t(h)?h:String(h)}c.r(C),C.default=I(function m(){(function L(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null})},0:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Ze,C){},1:
/*!**********************!*\
                  !*** util (ignored) ***!
                  \**********************/
/*! no static exports found */function(Ze,C){}}).default},4440:(In,Ze,C)=>{var c;!function(){"use strict";var t="object"==typeof window?window:{},b=!t.HI_BASE64_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;b&&(t=global);var A,U,I=!t.HI_BASE64_NO_COMMON_JS&&In.exports,y=C.amdO,F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),L={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},m=function(D){var w,E,N,S,B=[],Y=0,re=D.length;"="===D.charAt(re-2)?re-=2:"="===D.charAt(re-1)&&(re-=1);for(var ae=0,Re=re>>2<<2;ae<Re;)w=L[D.charAt(ae++)],E=L[D.charAt(ae++)],N=L[D.charAt(ae++)],S=L[D.charAt(ae++)],B[Y++]=255&(w<<2|E>>>4),B[Y++]=255&(E<<4|N>>>2),B[Y++]=255&(N<<6|S);var z=re-Re;return 2===z?(w=L[D.charAt(ae++)],E=L[D.charAt(ae++)],B[Y++]=255&(w<<2|E>>>4)):3===z&&(w=L[D.charAt(ae++)],E=L[D.charAt(ae++)],N=L[D.charAt(ae++)],B[Y++]=255&(w<<2|E>>>4),B[Y++]=255&(E<<4|N>>>2)),B},h=function(D){for(var w,E,N,S="",B=D.length,Y=0,re=3*parseInt(B/3);Y<re;)w=D[Y++],E=D[Y++],N=D[Y++],S+=F[w>>>2]+F[63&(w<<4|E>>>4)]+F[63&(E<<2|N>>>6)]+F[63&N];var ae=B-re;return 1===ae?S+=F[(w=D[Y])>>>2]+F[w<<4&63]+"==":2===ae&&(w=D[Y++],S+=F[w>>>2]+F[63&(w<<4|(E=D[Y])>>>4)]+F[E<<2&63]+"="),S},p=t.btoa,v=t.atob;if(b){var O=C(9007).lW;p=function(D){return new O(D,"ascii").toString("base64")},h=A=function(D){return new O(D).toString("base64")},v=function(D){return new O(D,"base64").toString("ascii")},U=function(D){return new O(D,"base64").toString()}}else p?(A=function(D){for(var w="",E=0;E<D.length;E++){var N=D.charCodeAt(E);N<128?w+=String.fromCharCode(N):N<2048?w+=String.fromCharCode(192|N>>6)+String.fromCharCode(128|63&N):N<55296||N>=57344?w+=String.fromCharCode(224|N>>12)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N):(N=65536+((1023&N)<<10|1023&D.charCodeAt(++E)),w+=String.fromCharCode(240|N>>18)+String.fromCharCode(128|N>>12&63)+String.fromCharCode(128|N>>6&63)+String.fromCharCode(128|63&N))}return p(w)},U=function(D){var w=v(D.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(w))return w;for(var Y,re,E="",N=0,S=w.length,B=0;N<S;)if((Y=w.charCodeAt(N++))<=127)E+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)re=31&Y,B=1;else if(Y<=239)re=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";re=7&Y,B=3}for(var ae=0;ae<B;++ae){if((Y=w.charCodeAt(N++))<128||Y>191)throw"not a UTF-8 string";re<<=6,re+=63&Y}if(re>=55296&&re<=57343||re>1114111)throw"not a UTF-8 string";re<=65535?E+=String.fromCharCode(re):(re-=65536,E+=String.fromCharCode(55296+(re>>10)),E+=String.fromCharCode(56320+(1023&re)))}return E}):(p=function(D){for(var w,E,N,S="",B=D.length,Y=0,re=3*parseInt(B/3);Y<re;)w=D.charCodeAt(Y++),E=D.charCodeAt(Y++),N=D.charCodeAt(Y++),S+=F[w>>>2]+F[63&(w<<4|E>>>4)]+F[63&(E<<2|N>>>6)]+F[63&N];var ae=B-re;return 1===ae?(w=D.charCodeAt(Y),S+=F[w>>>2]+F[w<<4&63]+"=="):2===ae&&(w=D.charCodeAt(Y++),E=D.charCodeAt(Y),S+=F[w>>>2]+F[63&(w<<4|E>>>4)]+F[E<<2&63]+"="),S},A=function(D){for(var w,E,N,S="",B=function(D){for(var w=[],E=0;E<D.length;E++){var N=D.charCodeAt(E);N<128?w[w.length]=N:N<2048?(w[w.length]=192|N>>6,w[w.length]=128|63&N):N<55296||N>=57344?(w[w.length]=224|N>>12,w[w.length]=128|N>>6&63,w[w.length]=128|63&N):(N=65536+((1023&N)<<10|1023&D.charCodeAt(++E)),w[w.length]=240|N>>18,w[w.length]=128|N>>12&63,w[w.length]=128|N>>6&63,w[w.length]=128|63&N)}return w}(D),Y=B.length,re=0,ae=3*parseInt(Y/3);re<ae;)w=B[re++],E=B[re++],N=B[re++],S+=F[w>>>2]+F[63&(w<<4|E>>>4)]+F[63&(E<<2|N>>>6)]+F[63&N];var Re=Y-ae;return 1===Re?S+=F[(w=B[re])>>>2]+F[w<<4&63]+"==":2===Re&&(w=B[re++],S+=F[w>>>2]+F[63&(w<<4|(E=B[re])>>>4)]+F[E<<2&63]+"="),S},v=function(D){var w,E,N,S,B="",Y=D.length;"="===D.charAt(Y-2)?Y-=2:"="===D.charAt(Y-1)&&(Y-=1);for(var re=0,ae=Y>>2<<2;re<ae;)w=L[D.charAt(re++)],E=L[D.charAt(re++)],N=L[D.charAt(re++)],S=L[D.charAt(re++)],B+=String.fromCharCode(255&(w<<2|E>>>4))+String.fromCharCode(255&(E<<4|N>>>2))+String.fromCharCode(255&(N<<6|S));var Re=Y-ae;return 2===Re?(w=L[D.charAt(re++)],E=L[D.charAt(re++)],B+=String.fromCharCode(255&(w<<2|E>>>4))):3===Re&&(w=L[D.charAt(re++)],E=L[D.charAt(re++)],N=L[D.charAt(re++)],B+=String.fromCharCode(255&(w<<2|E>>>4))+String.fromCharCode(255&(E<<4|N>>>2))),B},U=function(D){for(var Y,re,w="",E=m(D),N=E.length,S=0,B=0;S<N;)if((Y=E[S++])<=127)w+=String.fromCharCode(Y);else{if(Y>191&&Y<=223)re=31&Y,B=1;else if(Y<=239)re=15&Y,B=2;else{if(!(Y<=247))throw"not a UTF-8 string";re=7&Y,B=3}for(var ae=0;ae<B;++ae){if((Y=E[S++])<128||Y>191)throw"not a UTF-8 string";re<<=6,re+=63&Y}if(re>=55296&&re<=57343||re>1114111)throw"not a UTF-8 string";re<=65535?w+=String.fromCharCode(re):(re-=65536,w+=String.fromCharCode(55296+(re>>10)),w+=String.fromCharCode(56320+(1023&re)))}return w});var k=function(D,w){return w?v(D):U(D)},P={encode:function(D,w){var E="string"!=typeof D;return E&&D.constructor===t.ArrayBuffer&&(D=new Uint8Array(D)),E?h(D):!w&&/[^\x00-\x7F]/.test(D)?A(D):p(D)},decode:k,atob:v,btoa:p};k.bytes=m,k.string=k,I?In.exports=P:(t.base64=P,y&&void 0!==(c=function(){return P}.call(P,C,P,In))&&(In.exports=c))}()},2601:(In,Ze)=>{Ze.read=function(C,c,t,b,I){var y,F,L=8*I-b-1,x=(1<<L)-1,m=x>>1,h=-7,p=t?I-1:0,v=t?-1:1,A=C[c+p];for(p+=v,y=A&(1<<-h)-1,A>>=-h,h+=L;h>0;y=256*y+C[c+p],p+=v,h-=8);for(F=y&(1<<-h)-1,y>>=-h,h+=b;h>0;F=256*F+C[c+p],p+=v,h-=8);if(0===y)y=1-m;else{if(y===x)return F?NaN:1/0*(A?-1:1);F+=Math.pow(2,b),y-=m}return(A?-1:1)*F*Math.pow(2,y-b)},Ze.write=function(C,c,t,b,I,y){var F,L,x,m=8*y-I-1,h=(1<<m)-1,p=h>>1,v=23===I?Math.pow(2,-24)-Math.pow(2,-77):0,A=b?0:y-1,U=b?1:-1,O=c<0||0===c&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(L=isNaN(c)?1:0,F=h):(F=Math.floor(Math.log(c)/Math.LN2),c*(x=Math.pow(2,-F))<1&&(F--,x*=2),(c+=F+p>=1?v/x:v*Math.pow(2,1-p))*x>=2&&(F++,x/=2),F+p>=h?(L=0,F=h):F+p>=1?(L=(c*x-1)*Math.pow(2,I),F+=p):(L=c*Math.pow(2,p-1)*Math.pow(2,I),F=0));I>=8;C[t+A]=255&L,A+=U,L/=256,I-=8);for(F=F<<I|L,m+=I;m>0;C[t+A]=255&F,A+=U,F/=256,m-=8);C[t+A-U]|=128*O}},5619:(In,Ze,C)=>{"use strict";C.d(Ze,{X:()=>t});var c=C(8645);class t extends c.x{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const y=super._subscribe(I);return!y.closed&&I.next(this._value),y}getValue(){const{hasError:I,thrownError:y,_value:F}=this;if(I)throw y;return this._throwIfClosed(),F}next(I){super.next(this._value=I)}}},5592:(In,Ze,C)=>{"use strict";C.d(Ze,{y:()=>x});var c=C(305),t=C(7394),b=C(4850),I=C(8407),y=C(2653),F=C(4674),L=C(1441);let x=(()=>{class v{constructor(U){U&&(this._subscribe=U)}lift(U){const O=new v;return O.source=this,O.operator=U,O}subscribe(U,O,V){const k=function p(v){return v&&v instanceof c.Lv||function h(v){return v&&(0,F.m)(v.next)&&(0,F.m)(v.error)&&(0,F.m)(v.complete)}(v)&&(0,t.Nn)(v)}(U)?U:new c.Hp(U,O,V);return(0,L.x)(()=>{const{operator:P,source:D}=this;k.add(P?P.call(k,D):D?this._subscribe(k):this._trySubscribe(k))}),k}_trySubscribe(U){try{return this._subscribe(U)}catch(O){U.error(O)}}forEach(U,O){return new(O=m(O))((V,k)=>{const P=new c.Hp({next:D=>{try{U(D)}catch(w){k(w),P.unsubscribe()}},error:k,complete:V});this.subscribe(P)})}_subscribe(U){var O;return null===(O=this.source)||void 0===O?void 0:O.subscribe(U)}[b.L](){return this}pipe(...U){return(0,I.U)(U)(this)}toPromise(U){return new(U=m(U))((O,V)=>{let k;this.subscribe(P=>k=P,P=>V(P),()=>O(k))})}}return v.create=A=>new v(A),v})();function m(v){var A;return null!==(A=v??y.config.Promise)&&void 0!==A?A:Promise}},8645:(In,Ze,C)=>{"use strict";C.d(Ze,{x:()=>L});var c=C(5592),t=C(7394);const I=(0,C(2306).d)(m=>function(){m(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var y=C(9039),F=C(1441);let L=(()=>{class m extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(p){const v=new x(this,this);return v.operator=p,v}_throwIfClosed(){if(this.closed)throw new I}next(p){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(p)}})}error(p){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=p;const{observers:v}=this;for(;v.length;)v.shift().error(p)}})}complete(){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:p}=this;for(;p.length;)p.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var p;return(null===(p=this.observers)||void 0===p?void 0:p.length)>0}_trySubscribe(p){return this._throwIfClosed(),super._trySubscribe(p)}_subscribe(p){return this._throwIfClosed(),this._checkFinalizedStatuses(p),this._innerSubscribe(p)}_innerSubscribe(p){const{hasError:v,isStopped:A,observers:U}=this;return v||A?t.Lc:(this.currentObservers=null,U.push(p),new t.w0(()=>{this.currentObservers=null,(0,y.P)(U,p)}))}_checkFinalizedStatuses(p){const{hasError:v,thrownError:A,isStopped:U}=this;v?p.error(A):U&&p.complete()}asObservable(){const p=new c.y;return p.source=this,p}}return m.create=(h,p)=>new x(h,p),m})();class x extends L{constructor(h,p){super(),this.destination=h,this.source=p}next(h){var p,v;null===(v=null===(p=this.destination)||void 0===p?void 0:p.next)||void 0===v||v.call(p,h)}error(h){var p,v;null===(v=null===(p=this.destination)||void 0===p?void 0:p.error)||void 0===v||v.call(p,h)}complete(){var h,p;null===(p=null===(h=this.destination)||void 0===h?void 0:h.complete)||void 0===p||p.call(h)}_subscribe(h){var p,v;return null!==(v=null===(p=this.source)||void 0===p?void 0:p.subscribe(h))&&void 0!==v?v:t.Lc}}},305:(In,Ze,C)=>{"use strict";C.d(Ze,{Hp:()=>V,Lv:()=>v});var c=C(4674),t=C(7394),b=C(2653),I=C(3894),y=C(2420);const F=m("C",void 0,void 0);function m(E,N,S){return{kind:E,value:N,error:S}}var h=C(7599),p=C(1441);class v extends t.w0{constructor(N){super(),this.isStopped=!1,N?(this.destination=N,(0,t.Nn)(N)&&N.add(this)):this.destination=w}static create(N,S,B){return new V(N,S,B)}next(N){this.isStopped?D(function x(E){return m("N",E,void 0)}(N),this):this._next(N)}error(N){this.isStopped?D(function L(E){return m("E",void 0,E)}(N),this):(this.isStopped=!0,this._error(N))}complete(){this.isStopped?D(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(N){this.destination.next(N)}_error(N){try{this.destination.error(N)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A=Function.prototype.bind;function U(E,N){return A.call(E,N)}class O{constructor(N){this.partialObserver=N}next(N){const{partialObserver:S}=this;if(S.next)try{S.next(N)}catch(B){k(B)}}error(N){const{partialObserver:S}=this;if(S.error)try{S.error(N)}catch(B){k(B)}else k(N)}complete(){const{partialObserver:N}=this;if(N.complete)try{N.complete()}catch(S){k(S)}}}class V extends v{constructor(N,S,B){let Y;if(super(),(0,c.m)(N)||!N)Y={next:N??void 0,error:S??void 0,complete:B??void 0};else{let re;this&&b.config.useDeprecatedNextContext?(re=Object.create(N),re.unsubscribe=()=>this.unsubscribe(),Y={next:N.next&&U(N.next,re),error:N.error&&U(N.error,re),complete:N.complete&&U(N.complete,re)}):Y=N}this.destination=new O(Y)}}function k(E){b.config.useDeprecatedSynchronousErrorHandling?(0,p.O)(E):(0,I.h)(E)}function D(E,N){const{onStoppedNotification:S}=b.config;S&&h.z.setTimeout(()=>S(E,N))}const w={closed:!0,next:y.Z,error:function P(E){throw E},complete:y.Z}},7394:(In,Ze,C)=>{"use strict";C.d(Ze,{Lc:()=>F,w0:()=>y,Nn:()=>L});var c=C(4674);const b=(0,C(2306).d)(m=>function(p){m(this),this.message=p?`${p.length} errors occurred during unsubscription:\n${p.map((v,A)=>`${A+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=p});var I=C(9039);class y{constructor(h){this.initialTeardown=h,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let h;if(!this.closed){this.closed=!0;const{_parentage:p}=this;if(p)if(this._parentage=null,Array.isArray(p))for(const U of p)U.remove(this);else p.remove(this);const{initialTeardown:v}=this;if((0,c.m)(v))try{v()}catch(U){h=U instanceof b?U.errors:[U]}const{_finalizers:A}=this;if(A){this._finalizers=null;for(const U of A)try{x(U)}catch(O){h=h??[],O instanceof b?h=[...h,...O.errors]:h.push(O)}}if(h)throw new b(h)}}add(h){var p;if(h&&h!==this)if(this.closed)x(h);else{if(h instanceof y){if(h.closed||h._hasParent(this))return;h._addParent(this)}(this._finalizers=null!==(p=this._finalizers)&&void 0!==p?p:[]).push(h)}}_hasParent(h){const{_parentage:p}=this;return p===h||Array.isArray(p)&&p.includes(h)}_addParent(h){const{_parentage:p}=this;this._parentage=Array.isArray(p)?(p.push(h),p):p?[p,h]:h}_removeParent(h){const{_parentage:p}=this;p===h?this._parentage=null:Array.isArray(p)&&(0,I.P)(p,h)}remove(h){const{_finalizers:p}=this;p&&(0,I.P)(p,h),h instanceof y&&h._removeParent(this)}}y.EMPTY=(()=>{const m=new y;return m.closed=!0,m})();const F=y.EMPTY;function L(m){return m instanceof y||m&&"closed"in m&&(0,c.m)(m.remove)&&(0,c.m)(m.add)&&(0,c.m)(m.unsubscribe)}function x(m){(0,c.m)(m)?m():m.unsubscribe()}},2653:(In,Ze,C)=>{"use strict";C.d(Ze,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(In,Ze,C)=>{"use strict";C.d(Ze,{c:()=>F});var c=C(5592),t=C(7394),b=C(6196),I=C(8251),y=C(9360);class F extends c.y{constructor(x,m){super(),this.source=x,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,y.A)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,x?.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new t.w0;const m=this.getSubject();x.add(this.source.subscribe((0,I.x)(m,void 0,()=>{this._teardown(),m.complete()},h=>{this._teardown(),m.error(h)},()=>this._teardown()))),x.closed&&(this._connection=null,x=t.w0.EMPTY)}return x}refCount(){return(0,b.x)()(this)}}},2572:(In,Ze,C)=>{"use strict";C.d(Ze,{a:()=>h});var c=C(5592),t=C(7453),b=C(7715),I=C(2737),y=C(7400),F=C(9940),L=C(2714),x=C(8251),m=C(7103);function h(...A){const U=(0,F.yG)(A),O=(0,F.jO)(A),{args:V,keys:k}=(0,t.D)(A);if(0===V.length)return(0,b.D)([],U);const P=new c.y(function p(A,U,O=I.y){return V=>{v(U,()=>{const{length:k}=A,P=new Array(k);let D=k,w=k;for(let E=0;E<k;E++)v(U,()=>{const N=(0,b.D)(A[E],U);let S=!1;N.subscribe((0,x.x)(V,B=>{P[E]=B,S||(S=!0,w--),w||V.next(O(P.slice()))},()=>{--D||V.complete()}))},V)},V)}}(V,U,k?D=>(0,L.n)(k,D):I.y));return O?P.pipe((0,y.Z)(O)):P}function v(A,U,O){A?(0,m.f)(O,A,U):U()}},5211:(In,Ze,C)=>{"use strict";C.d(Ze,{z:()=>y});var c=C(7537),b=C(9940),I=C(7715);function y(...F){return function t(){return(0,c.J)(1)}()((0,I.D)(F,(0,b.yG)(F)))}},4911:(In,Ze,C)=>{"use strict";C.d(Ze,{P:()=>b});var c=C(5592),t=C(4829);function b(I){return new c.y(y=>{(0,t.Xf)(I()).subscribe(y)})}},6232:(In,Ze,C)=>{"use strict";C.d(Ze,{E:()=>t});const t=new(C(5592).y)(y=>y.complete())},7715:(In,Ze,C)=>{"use strict";C.d(Ze,{D:()=>B});var c=C(4829),t=C(7103),b=C(9360),I=C(8251);function y(Y,re=0){return(0,b.e)((ae,Re)=>{ae.subscribe((0,I.x)(Re,z=>(0,t.f)(Re,Y,()=>Re.next(z),re),()=>(0,t.f)(Re,Y,()=>Re.complete(),re),z=>(0,t.f)(Re,Y,()=>Re.error(z),re)))})}function F(Y,re=0){return(0,b.e)((ae,Re)=>{Re.add(Y.schedule(()=>ae.subscribe(Re),re))})}var m=C(5592),p=C(4971),v=C(4674);function U(Y,re){if(!Y)throw new Error("Iterable cannot be null");return new m.y(ae=>{(0,t.f)(ae,re,()=>{const Re=Y[Symbol.asyncIterator]();(0,t.f)(ae,re,()=>{Re.next().then(z=>{z.done?ae.complete():ae.next(z.value)})},0,!0)})})}var O=C(8382),V=C(4026),k=C(4266),P=C(3664),D=C(5726),w=C(9853),E=C(541);function B(Y,re){return re?function S(Y,re){if(null!=Y){if((0,O.c)(Y))return function L(Y,re){return(0,c.Xf)(Y).pipe(F(re),y(re))}(Y,re);if((0,k.z)(Y))return function h(Y,re){return new m.y(ae=>{let Re=0;return re.schedule(function(){Re===Y.length?ae.complete():(ae.next(Y[Re++]),ae.closed||this.schedule())})})}(Y,re);if((0,V.t)(Y))return function x(Y,re){return(0,c.Xf)(Y).pipe(F(re),y(re))}(Y,re);if((0,D.D)(Y))return U(Y,re);if((0,P.T)(Y))return function A(Y,re){return new m.y(ae=>{let Re;return(0,t.f)(ae,re,()=>{Re=Y[p.h](),(0,t.f)(ae,re,()=>{let z,oe;try{({value:z,done:oe}=Re.next())}catch(H){return void ae.error(H)}oe?ae.complete():ae.next(z)},0,!0)}),()=>(0,v.m)(Re?.return)&&Re.return()})}(Y,re);if((0,E.L)(Y))return function N(Y,re){return U((0,E.Q)(Y),re)}(Y,re)}throw(0,w.z)(Y)}(Y,re):(0,c.Xf)(Y)}},2438:(In,Ze,C)=>{"use strict";C.d(Ze,{R:()=>h});var c=C(4829),t=C(5592),b=C(1631),I=C(4266),y=C(4674),F=C(7400);const L=["addListener","removeListener"],x=["addEventListener","removeEventListener"],m=["on","off"];function h(O,V,k,P){if((0,y.m)(k)&&(P=k,k=void 0),P)return h(O,V,k).pipe((0,F.Z)(P));const[D,w]=function U(O){return(0,y.m)(O.addEventListener)&&(0,y.m)(O.removeEventListener)}(O)?x.map(E=>N=>O[E](V,N,k)):function v(O){return(0,y.m)(O.addListener)&&(0,y.m)(O.removeListener)}(O)?L.map(p(O,V)):function A(O){return(0,y.m)(O.on)&&(0,y.m)(O.off)}(O)?m.map(p(O,V)):[];if(!D&&(0,I.z)(O))return(0,b.z)(E=>h(E,V,k))((0,c.Xf)(O));if(!D)throw new TypeError("Invalid event target");return new t.y(E=>{const N=(...S)=>E.next(1<S.length?S:S[0]);return D(N),()=>w(N)})}function p(O,V){return k=>P=>O[k](V,P)}},4829:(In,Ze,C)=>{"use strict";C.d(Ze,{Xf:()=>A});var c=C(7582),t=C(4266),b=C(4026),I=C(5592),y=C(8382),F=C(5726),L=C(9853),x=C(3664),m=C(541),h=C(4674),p=C(3894),v=C(4850);function A(E){if(E instanceof I.y)return E;if(null!=E){if((0,y.c)(E))return function U(E){return new I.y(N=>{const S=E[v.L]();if((0,h.m)(S.subscribe))return S.subscribe(N);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(E);if((0,t.z)(E))return function O(E){return new I.y(N=>{for(let S=0;S<E.length&&!N.closed;S++)N.next(E[S]);N.complete()})}(E);if((0,b.t)(E))return function V(E){return new I.y(N=>{E.then(S=>{N.closed||(N.next(S),N.complete())},S=>N.error(S)).then(null,p.h)})}(E);if((0,F.D)(E))return P(E);if((0,x.T)(E))return function k(E){return new I.y(N=>{for(const S of E)if(N.next(S),N.closed)return;N.complete()})}(E);if((0,m.L)(E))return function D(E){return P((0,m.Q)(E))}(E)}throw(0,L.z)(E)}function P(E){return new I.y(N=>{(function w(E,N){var S,B,Y,re;return(0,c.mG)(this,void 0,void 0,function*(){try{for(S=(0,c.KL)(E);!(B=yield S.next()).done;)if(N.next(B.value),N.closed)return}catch(ae){Y={error:ae}}finally{try{B&&!B.done&&(re=S.return)&&(yield re.call(S))}finally{if(Y)throw Y.error}}N.complete()})})(E,N).catch(S=>N.error(S))})}},3019:(In,Ze,C)=>{"use strict";C.d(Ze,{T:()=>F});var c=C(7537),t=C(4829),b=C(6232),I=C(9940),y=C(7715);function F(...L){const x=(0,I.yG)(L),m=(0,I._6)(L,1/0),h=L;return h.length?1===h.length?(0,t.Xf)(h[0]):(0,c.J)(m)((0,y.D)(h,x)):b.E}},2096:(In,Ze,C)=>{"use strict";C.d(Ze,{of:()=>b});var c=C(9940),t=C(7715);function b(...I){const y=(0,c.yG)(I);return(0,t.D)(I,y)}},4825:(In,Ze,C)=>{"use strict";C.d(Ze,{H:()=>y});var c=C(5592),t=C(6321),b=C(671);function y(F=0,L,x=t.P){let m=-1;return null!=L&&((0,b.K)(L)?x=L:m=L),new c.y(h=>{let p=function I(F){return F instanceof Date&&!isNaN(F)}(F)?+F-x.now():F;p<0&&(p=0);let v=0;return x.schedule(function(){h.closed||(h.next(v++),0<=m?this.schedule(void 0,m):h.complete())},p)})}},8251:(In,Ze,C)=>{"use strict";C.d(Ze,{x:()=>t});var c=C(305);function t(I,y,F,L,x){return new b(I,y,F,L,x)}class b extends c.Lv{constructor(y,F,L,x,m,h){super(y),this.onFinalize=m,this.shouldUnsubscribe=h,this._next=F?function(p){try{F(p)}catch(v){y.error(v)}}:super._next,this._error=x?function(p){try{x(p)}catch(v){y.error(v)}finally{this.unsubscribe()}}:super._error,this._complete=L?function(){try{L()}catch(p){y.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:F}=this;super.unsubscribe(),!F&&(null===(y=this.onFinalize)||void 0===y||y.call(this))}}}},6328:(In,Ze,C)=>{"use strict";C.d(Ze,{b:()=>b});var c=C(1631),t=C(4674);function b(I,y){return(0,t.m)(y)?(0,c.z)(I,y,1):(0,c.z)(I,1)}},3620:(In,Ze,C)=>{"use strict";C.d(Ze,{b:()=>I});var c=C(6321),t=C(9360),b=C(8251);function I(y,F=c.z){return(0,t.e)((L,x)=>{let m=null,h=null,p=null;const v=()=>{if(m){m.unsubscribe(),m=null;const U=h;h=null,x.next(U)}};function A(){const U=p+y,O=F.now();if(O<U)return m=this.schedule(void 0,U-O),void x.add(m);v()}L.subscribe((0,b.x)(x,U=>{h=U,p=F.now(),m||(m=F.schedule(A,y),x.add(m))},()=>{v(),x.complete()},void 0,()=>{h=m=null}))})}},3997:(In,Ze,C)=>{"use strict";C.d(Ze,{x:()=>I});var c=C(2737),t=C(9360),b=C(8251);function I(F,L=c.y){return F=F??y,(0,t.e)((x,m)=>{let h,p=!0;x.subscribe((0,b.x)(m,v=>{const A=L(v);(p||!F(h,A))&&(p=!1,h=A,m.next(v))}))})}function y(F,L){return F===L}},2181:(In,Ze,C)=>{"use strict";C.d(Ze,{h:()=>b});var c=C(9360),t=C(8251);function b(I,y){return(0,c.e)((F,L)=>{let x=0;F.subscribe((0,t.x)(L,m=>I.call(y,m,x++)&&L.next(m)))})}},4716:(In,Ze,C)=>{"use strict";C.d(Ze,{x:()=>t});var c=C(9360);function t(b){return(0,c.e)((I,y)=>{try{I.subscribe(y)}finally{y.add(b)}})}},7398:(In,Ze,C)=>{"use strict";C.d(Ze,{U:()=>b});var c=C(9360),t=C(8251);function b(I,y){return(0,c.e)((F,L)=>{let x=0;F.subscribe((0,t.x)(L,m=>{L.next(I.call(y,m,x++))}))})}},975:(In,Ze,C)=>{"use strict";C.d(Ze,{h:()=>t});var c=C(7398);function t(b){return(0,c.U)(()=>b)}},7537:(In,Ze,C)=>{"use strict";C.d(Ze,{J:()=>b});var c=C(1631),t=C(2737);function b(I=1/0){return(0,c.z)(t.y,I)}},1631:(In,Ze,C)=>{"use strict";C.d(Ze,{z:()=>x});var c=C(7398),t=C(4829),b=C(9360),I=C(7103),y=C(8251),L=C(4674);function x(m,h,p=1/0){return(0,L.m)(h)?x((v,A)=>(0,c.U)((U,O)=>h(v,U,A,O))((0,t.Xf)(m(v,A))),p):("number"==typeof h&&(p=h),(0,b.e)((v,A)=>function F(m,h,p,v,A,U,O,V){const k=[];let P=0,D=0,w=!1;const E=()=>{w&&!k.length&&!P&&h.complete()},N=B=>P<v?S(B):k.push(B),S=B=>{U&&h.next(B),P++;let Y=!1;(0,t.Xf)(p(B,D++)).subscribe((0,y.x)(h,re=>{A?.(re),U?N(re):h.next(re)},()=>{Y=!0},void 0,()=>{if(Y)try{for(P--;k.length&&P<v;){const re=k.shift();O?(0,I.f)(h,O,()=>S(re)):S(re)}E()}catch(re){h.error(re)}}))};return m.subscribe((0,y.x)(h,N,()=>{w=!0,E()})),()=>{V?.()}}(v,A,m,p)))}},6196:(In,Ze,C)=>{"use strict";C.d(Ze,{x:()=>b});var c=C(9360),t=C(8251);function b(){return(0,c.e)((I,y)=>{let F=null;I._refCount++;const L=(0,t.x)(y,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(F=null);const x=I._connection,m=F;F=null,x&&(!m||x===m)&&x.unsubscribe(),y.unsubscribe()});I.subscribe(L),L.closed||(F=I.connect())})}},3020:(In,Ze,C)=>{"use strict";C.d(Ze,{B:()=>y});var c=C(4829),t=C(8645),b=C(305),I=C(9360);function y(L={}){const{connector:x=(()=>new t.x),resetOnError:m=!0,resetOnComplete:h=!0,resetOnRefCountZero:p=!0}=L;return v=>{let A,U,O,V=0,k=!1,P=!1;const D=()=>{U?.unsubscribe(),U=void 0},w=()=>{D(),A=O=void 0,k=P=!1},E=()=>{const N=A;w(),N?.unsubscribe()};return(0,I.e)((N,S)=>{V++,!P&&!k&&D();const B=O=O??x();S.add(()=>{V--,0===V&&!P&&!k&&(U=F(E,p))}),B.subscribe(S),!A&&V>0&&(A=new b.Hp({next:Y=>B.next(Y),error:Y=>{P=!0,D(),U=F(w,m,Y),B.error(Y)},complete:()=>{k=!0,D(),U=F(w,h),B.complete()}}),(0,c.Xf)(N).subscribe(A))})(v)}}function F(L,x,...m){if(!0===x)return void L();if(!1===x)return;const h=new b.Hp({next:()=>{h.unsubscribe(),L()}});return(0,c.Xf)(x(...m)).subscribe(h)}},836:(In,Ze,C)=>{"use strict";C.d(Ze,{T:()=>t});var c=C(2181);function t(b){return(0,c.h)((I,y)=>b<=y)}},7921:(In,Ze,C)=>{"use strict";C.d(Ze,{O:()=>I});var c=C(5211),t=C(9940),b=C(9360);function I(...y){const F=(0,t.yG)(y);return(0,b.e)((L,x)=>{(F?(0,c.z)(y,L,F):(0,c.z)(y,L)).subscribe(x)})}},4664:(In,Ze,C)=>{"use strict";C.d(Ze,{w:()=>I});var c=C(4829),t=C(9360),b=C(8251);function I(y,F){return(0,t.e)((L,x)=>{let m=null,h=0,p=!1;const v=()=>p&&!m&&x.complete();L.subscribe((0,b.x)(x,A=>{m?.unsubscribe();let U=0;const O=h++;(0,c.Xf)(y(A,O)).subscribe(m=(0,b.x)(x,V=>x.next(F?F(A,V,O,U++):V),()=>{m=null,v()}))},()=>{p=!0,v()}))})}},8180:(In,Ze,C)=>{"use strict";C.d(Ze,{q:()=>I});var c=C(6232),t=C(9360),b=C(8251);function I(y){return y<=0?()=>c.E:(0,t.e)((F,L)=>{let x=0;F.subscribe((0,b.x)(L,m=>{++x<=y&&(L.next(m),y<=x&&L.complete())}))})}},9773:(In,Ze,C)=>{"use strict";C.d(Ze,{R:()=>y});var c=C(9360),t=C(8251),b=C(4829),I=C(2420);function y(F){return(0,c.e)((L,x)=>{(0,b.Xf)(F).subscribe((0,t.x)(x,()=>x.complete(),I.Z)),!x.closed&&L.subscribe(x)})}},9397:(In,Ze,C)=>{"use strict";C.d(Ze,{b:()=>y});var c=C(4674),t=C(9360),b=C(8251),I=C(2737);function y(F,L,x){const m=(0,c.m)(F)||L||x?{next:F,error:L,complete:x}:F;return m?(0,t.e)((h,p)=>{var v;null===(v=m.subscribe)||void 0===v||v.call(m);let A=!0;h.subscribe((0,b.x)(p,U=>{var O;null===(O=m.next)||void 0===O||O.call(m,U),p.next(U)},()=>{var U;A=!1,null===(U=m.complete)||void 0===U||U.call(m),p.complete()},U=>{var O;A=!1,null===(O=m.error)||void 0===O||O.call(m,U),p.error(U)},()=>{var U,O;A&&(null===(U=m.unsubscribe)||void 0===U||U.call(m)),null===(O=m.finalize)||void 0===O||O.call(m)}))}):I.y}},1954:(In,Ze,C)=>{"use strict";C.d(Ze,{o:()=>y});var c=C(7394);class t extends c.w0{constructor(L,x){super()}schedule(L,x=0){return this}}const b={setInterval(F,L,...x){const{delegate:m}=b;return m?.setInterval?m.setInterval(F,L,...x):setInterval(F,L,...x)},clearInterval(F){const{delegate:L}=b;return(L?.clearInterval||clearInterval)(F)},delegate:void 0};var I=C(9039);class y extends t{constructor(L,x){super(L,x),this.scheduler=L,this.work=x,this.pending=!1}schedule(L,x=0){var m;if(this.closed)return this;this.state=L;const h=this.id,p=this.scheduler;return null!=h&&(this.id=this.recycleAsyncId(p,h,x)),this.pending=!0,this.delay=x,this.id=null!==(m=this.id)&&void 0!==m?m:this.requestAsyncId(p,this.id,x),this}requestAsyncId(L,x,m=0){return b.setInterval(L.flush.bind(L,this),m)}recycleAsyncId(L,x,m=0){if(null!=m&&this.delay===m&&!1===this.pending)return x;null!=x&&b.clearInterval(x)}execute(L,x){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const m=this._execute(L,x);if(m)return m;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(L,x){let h,m=!1;try{this.work(L)}catch(p){m=!0,h=p||new Error("Scheduled action threw falsy error")}if(m)return this.unsubscribe(),h}unsubscribe(){if(!this.closed){const{id:L,scheduler:x}=this,{actions:m}=x;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.P)(m,this),null!=L&&(this.id=this.recycleAsyncId(x,L,null)),this.delay=null,super.unsubscribe()}}}},2631:(In,Ze,C)=>{"use strict";C.d(Ze,{v:()=>b});var c=C(4552);class t{constructor(y,F=t.now){this.schedulerActionCtor=y,this.now=F}schedule(y,F=0,L){return new this.schedulerActionCtor(this,y).schedule(L,F)}}t.now=c.l.now;class b extends t{constructor(y,F=t.now){super(y,F),this.actions=[],this._active=!1}flush(y){const{actions:F}=this;if(this._active)return void F.push(y);let L;this._active=!0;do{if(L=y.execute(y.state,y.delay))break}while(y=F.shift());if(this._active=!1,L){for(;y=F.shift();)y.unsubscribe();throw L}}}},6321:(In,Ze,C)=>{"use strict";C.d(Ze,{P:()=>I,z:()=>b});var c=C(1954);const b=new(C(2631).v)(c.o),I=b},4552:(In,Ze,C)=>{"use strict";C.d(Ze,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(In,Ze,C)=>{"use strict";C.d(Ze,{z:()=>c});const c={setTimeout(t,b,...I){const{delegate:y}=c;return y?.setTimeout?y.setTimeout(t,b,...I):setTimeout(t,b,...I)},clearTimeout(t){const{delegate:b}=c;return(b?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4971:(In,Ze,C)=>{"use strict";C.d(Ze,{h:()=>t});const t=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(In,Ze,C)=>{"use strict";C.d(Ze,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(In,Ze,C)=>{"use strict";C.d(Ze,{_6:()=>F,jO:()=>I,yG:()=>y});var c=C(4674),t=C(671);function b(L){return L[L.length-1]}function I(L){return(0,c.m)(b(L))?L.pop():void 0}function y(L){return(0,t.K)(b(L))?L.pop():void 0}function F(L,x){return"number"==typeof b(L)?L.pop():x}},7453:(In,Ze,C)=>{"use strict";C.d(Ze,{D:()=>y});const{isArray:c}=Array,{getPrototypeOf:t,prototype:b,keys:I}=Object;function y(L){if(1===L.length){const x=L[0];if(c(x))return{args:x,keys:null};if(function F(L){return L&&"object"==typeof L&&t(L)===b}(x)){const m=I(x);return{args:m.map(h=>x[h]),keys:m}}}return{args:L,keys:null}}},9039:(In,Ze,C)=>{"use strict";function c(t,b){if(t){const I=t.indexOf(b);0<=I&&t.splice(I,1)}}C.d(Ze,{P:()=>c})},2306:(In,Ze,C)=>{"use strict";function c(t){const I=t(y=>{Error.call(y),y.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}C.d(Ze,{d:()=>c})},2714:(In,Ze,C)=>{"use strict";function c(t,b){return t.reduce((I,y,F)=>(I[y]=b[F],I),{})}C.d(Ze,{n:()=>c})},1441:(In,Ze,C)=>{"use strict";C.d(Ze,{O:()=>I,x:()=>b});var c=C(2653);let t=null;function b(y){if(c.config.useDeprecatedSynchronousErrorHandling){const F=!t;if(F&&(t={errorThrown:!1,error:null}),y(),F){const{errorThrown:L,error:x}=t;if(t=null,L)throw x}}else y()}function I(y){c.config.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=y)}},7103:(In,Ze,C)=>{"use strict";function c(t,b,I,y=0,F=!1){const L=b.schedule(function(){I(),F?t.add(this.schedule(null,y)):this.unsubscribe()},y);if(t.add(L),!F)return L}C.d(Ze,{f:()=>c})},2737:(In,Ze,C)=>{"use strict";function c(t){return t}C.d(Ze,{y:()=>c})},4266:(In,Ze,C)=>{"use strict";C.d(Ze,{z:()=>c});const c=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5726:(In,Ze,C)=>{"use strict";C.d(Ze,{D:()=>t});var c=C(4674);function t(b){return Symbol.asyncIterator&&(0,c.m)(b?.[Symbol.asyncIterator])}},4674:(In,Ze,C)=>{"use strict";function c(t){return"function"==typeof t}C.d(Ze,{m:()=>c})},8382:(In,Ze,C)=>{"use strict";C.d(Ze,{c:()=>b});var c=C(4850),t=C(4674);function b(I){return(0,t.m)(I[c.L])}},3664:(In,Ze,C)=>{"use strict";C.d(Ze,{T:()=>b});var c=C(4971),t=C(4674);function b(I){return(0,t.m)(I?.[c.h])}},2664:(In,Ze,C)=>{"use strict";C.d(Ze,{b:()=>b});var c=C(5592),t=C(4674);function b(I){return!!I&&(I instanceof c.y||(0,t.m)(I.lift)&&(0,t.m)(I.subscribe))}},4026:(In,Ze,C)=>{"use strict";C.d(Ze,{t:()=>t});var c=C(4674);function t(b){return(0,c.m)(b?.then)}},541:(In,Ze,C)=>{"use strict";C.d(Ze,{L:()=>I,Q:()=>b});var c=C(7582),t=C(4674);function b(y){return(0,c.FC)(this,arguments,function*(){const L=y.getReader();try{for(;;){const{value:x,done:m}=yield(0,c.qq)(L.read());if(m)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(x)}}finally{L.releaseLock()}})}function I(y){return(0,t.m)(y?.getReader)}},671:(In,Ze,C)=>{"use strict";C.d(Ze,{K:()=>t});var c=C(4674);function t(b){return b&&(0,c.m)(b.schedule)}},9360:(In,Ze,C)=>{"use strict";C.d(Ze,{A:()=>t,e:()=>b});var c=C(4674);function t(I){return(0,c.m)(I?.lift)}function b(I){return y=>{if(t(y))return y.lift(function(F){try{return I(F,this)}catch(L){this.error(L)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(In,Ze,C)=>{"use strict";C.d(Ze,{Z:()=>I});var c=C(7398);const{isArray:t}=Array;function I(y){return(0,c.U)(F=>function b(y,F){return t(F)?y(...F):y(F)}(y,F))}},2420:(In,Ze,C)=>{"use strict";function c(){}C.d(Ze,{Z:()=>c})},8407:(In,Ze,C)=>{"use strict";C.d(Ze,{U:()=>b,z:()=>t});var c=C(2737);function t(...I){return b(I)}function b(I){return 0===I.length?c.y:1===I.length?I[0]:function(F){return I.reduce((L,x)=>x(L),F)}}},3894:(In,Ze,C)=>{"use strict";C.d(Ze,{h:()=>b});var c=C(2653),t=C(7599);function b(I){t.z.setTimeout(()=>{const{onUnhandledError:y}=c.config;if(!y)throw I;y(I)})}},9853:(In,Ze,C)=>{"use strict";function c(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}C.d(Ze,{z:()=>c})},6825:(In,Ze,C)=>{"use strict";C.d(Ze,{F4:()=>h,IO:()=>O,LC:()=>t,SB:()=>m,X$:()=>I,ZE:()=>P,ZN:()=>k,_j:()=>c,eR:()=>p,jt:()=>y,k1:()=>D,l3:()=>b,oB:()=>x,pV:()=>A,ru:()=>F,vP:()=>L});class c{}class t{}const b="*";function I(w,E){return{type:7,name:w,definitions:E,options:{}}}function y(w,E=null){return{type:4,styles:E,timings:w}}function F(w,E=null){return{type:3,steps:w,options:E}}function L(w,E=null){return{type:2,steps:w,options:E}}function x(w){return{type:6,styles:w,offset:null}}function m(w,E,N){return{type:0,name:w,styles:E,options:N}}function h(w){return{type:5,steps:w}}function p(w,E,N=null){return{type:1,expr:w,animation:E,options:N}}function A(w=null){return{type:9,options:w}}function O(w,E,N=null){return{type:11,selector:w,animation:E,options:N}}class k{constructor(E=0,N=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=E+N}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(E=>E()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(E){this._position=this.totalTime?E*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(E){const N="start"==E?this._onStartFns:this._onDoneFns;N.forEach(S=>S()),N.length=0}}class P{constructor(E){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=E;let N=0,S=0,B=0;const Y=this.players.length;0==Y?queueMicrotask(()=>this._onFinish()):this.players.forEach(re=>{re.onDone(()=>{++N==Y&&this._onFinish()}),re.onDestroy(()=>{++S==Y&&this._onDestroy()}),re.onStart(()=>{++B==Y&&this._onStart()})}),this.totalTime=this.players.reduce((re,ae)=>Math.max(re,ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this.players.forEach(E=>E.init())}onStart(E){this._onStartFns.push(E)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(E=>E()),this._onStartFns=[])}onDone(E){this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(E=>E.play())}pause(){this.players.forEach(E=>E.pause())}restart(){this.players.forEach(E=>E.restart())}finish(){this._onFinish(),this.players.forEach(E=>E.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(E=>E.destroy()),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}reset(){this.players.forEach(E=>E.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(E){const N=E*this.totalTime;this.players.forEach(S=>{const B=S.totalTime?Math.min(1,N/S.totalTime):1;S.setPosition(B)})}getPosition(){const E=this.players.reduce((N,S)=>null===N||S.totalTime>N.totalTime?S:N,null);return null!=E?E.getPosition():0}beforeDestroy(){this.players.forEach(E=>{E.beforeDestroy&&E.beforeDestroy()})}triggerCallback(E){const N="start"==E?this._onStartFns:this._onDoneFns;N.forEach(S=>S()),N.length=0}}const D="!"},4300:(In,Ze,C)=>{"use strict";C.d(Ze,{$s:()=>Re,Kd:()=>qe,X6:()=>Q,Zf:()=>E,iD:()=>N,ic:()=>Se,kH:()=>jt,mK:()=>ie,qV:()=>K,qm:()=>pn,rt:()=>jn,s1:()=>me,tE:()=>Ot,yG:()=>q});var c=C(6814),t=C(5879),b=C(2831),I=C(8645),y=C(7394),F=C(5619),L=C(2096),x=C(6028),m=C(9397),h=C(3620),p=C(2181),v=C(7398),A=C(8180),U=C(836),O=C(3997),V=C(9773),k=C(2495),P=C(7131),D=C(1088);const w=" ";function E(st,ut,xe){const fe=S(st,ut);fe.some(pe=>pe.trim()==xe.trim())||(fe.push(xe.trim()),st.setAttribute(ut,fe.join(w)))}function N(st,ut,xe){const pe=S(st,ut).filter(lt=>lt!=xe.trim());pe.length?st.setAttribute(ut,pe.join(w)):st.removeAttribute(ut)}function S(st,ut){return(st.getAttribute(ut)||"").match(/\S+/g)||[]}const Y="cdk-describedby-message",re="cdk-describedby-host";let ae=0,Re=(()=>{class st{constructor(xe,fe){this._platform=fe,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ae++,this._document=xe,this._id=(0,t.f3M)(t.AFp)+"-"+ae++}describe(xe,fe,pe){if(!this._canBeDescribed(xe,fe))return;const lt=z(fe,pe);"string"!=typeof fe?(oe(fe,this._id),this._messageRegistry.set(lt,{messageElement:fe,referenceCount:0})):this._messageRegistry.has(lt)||this._createMessageElement(fe,pe),this._isElementDescribedByMessage(xe,lt)||this._addMessageReference(xe,lt)}removeDescription(xe,fe,pe){if(!fe||!this._isElementNode(xe))return;const lt=z(fe,pe);if(this._isElementDescribedByMessage(xe,lt)&&this._removeMessageReference(xe,lt),"string"==typeof fe){const mt=this._messageRegistry.get(lt);mt&&0===mt.referenceCount&&this._deleteMessageElement(lt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const xe=this._document.querySelectorAll(`[${re}="${this._id}"]`);for(let fe=0;fe<xe.length;fe++)this._removeCdkDescribedByReferenceIds(xe[fe]),xe[fe].removeAttribute(re);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(xe,fe){const pe=this._document.createElement("div");oe(pe,this._id),pe.textContent=xe,fe&&pe.setAttribute("role",fe),this._createMessagesContainer(),this._messagesContainer.appendChild(pe),this._messageRegistry.set(z(xe,fe),{messageElement:pe,referenceCount:0})}_deleteMessageElement(xe){this._messageRegistry.get(xe)?.messageElement?.remove(),this._messageRegistry.delete(xe)}_createMessagesContainer(){if(this._messagesContainer)return;const xe="cdk-describedby-message-container",fe=this._document.querySelectorAll(`.${xe}[platform="server"]`);for(let lt=0;lt<fe.length;lt++)fe[lt].remove();const pe=this._document.createElement("div");pe.style.visibility="hidden",pe.classList.add(xe),pe.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&pe.setAttribute("platform","server"),this._document.body.appendChild(pe),this._messagesContainer=pe}_removeCdkDescribedByReferenceIds(xe){const fe=S(xe,"aria-describedby").filter(pe=>0!=pe.indexOf(Y));xe.setAttribute("aria-describedby",fe.join(" "))}_addMessageReference(xe,fe){const pe=this._messageRegistry.get(fe);E(xe,"aria-describedby",pe.messageElement.id),xe.setAttribute(re,this._id),pe.referenceCount++}_removeMessageReference(xe,fe){const pe=this._messageRegistry.get(fe);pe.referenceCount--,N(xe,"aria-describedby",pe.messageElement.id),xe.removeAttribute(re)}_isElementDescribedByMessage(xe,fe){const pe=S(xe,"aria-describedby"),lt=this._messageRegistry.get(fe),mt=lt&&lt.messageElement.id;return!!mt&&-1!=pe.indexOf(mt)}_canBeDescribed(xe,fe){if(!this._isElementNode(xe))return!1;if(fe&&"object"==typeof fe)return!0;const pe=null==fe?"":`${fe}`.trim(),lt=xe.getAttribute("aria-label");return!(!pe||lt&&lt.trim()===pe)}_isElementNode(xe){return xe.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(fe){return new(fe||st)(t.LFG(c.K0),t.LFG(b.t4))};static#t=this.\u0275prov=t.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})();function z(st,ut){return"string"==typeof st?`${ut||""}/${st}`:st}function oe(st,ut){st.id||(st.id=`${Y}-${ut}-${ae++}`)}class H{constructor(ut){this._items=ut,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new I.x,this._typeaheadSubscription=y.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=xe=>xe.disabled,this._pressedLetters=[],this.tabOut=new I.x,this.change=new I.x,ut instanceof t.n_E&&(this._itemChangesSubscription=ut.changes.subscribe(xe=>{if(this._activeItem){const pe=xe.toArray().indexOf(this._activeItem);pe>-1&&pe!==this._activeItemIndex&&(this._activeItemIndex=pe)}}))}skipPredicate(ut){return this._skipPredicateFn=ut,this}withWrap(ut=!0){return this._wrap=ut,this}withVerticalOrientation(ut=!0){return this._vertical=ut,this}withHorizontalOrientation(ut){return this._horizontal=ut,this}withAllowedModifierKeys(ut){return this._allowedModifierKeys=ut,this}withTypeAhead(ut=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,m.b)(xe=>this._pressedLetters.push(xe)),(0,h.b)(ut),(0,p.h)(()=>this._pressedLetters.length>0),(0,v.U)(()=>this._pressedLetters.join(""))).subscribe(xe=>{const fe=this._getItemsArray();for(let pe=1;pe<fe.length+1;pe++){const lt=(this._activeItemIndex+pe)%fe.length,mt=fe[lt];if(!this._skipPredicateFn(mt)&&0===mt.getLabel().toUpperCase().trim().indexOf(xe)){this.setActiveItem(lt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ut=!0){return this._homeAndEnd=ut,this}withPageUpDown(ut=!0,xe=10){return this._pageUpAndDown={enabled:ut,delta:xe},this}setActiveItem(ut){const xe=this._activeItem;this.updateActiveItem(ut),this._activeItem!==xe&&this.change.next(this._activeItemIndex)}onKeydown(ut){const xe=ut.keyCode,pe=["altKey","ctrlKey","metaKey","shiftKey"].every(lt=>!ut[lt]||this._allowedModifierKeys.indexOf(lt)>-1);switch(xe){case x.Mf:return void this.tabOut.next();case x.JH:if(this._vertical&&pe){this.setNextItemActive();break}return;case x.LH:if(this._vertical&&pe){this.setPreviousItemActive();break}return;case x.SV:if(this._horizontal&&pe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case x.oh:if(this._horizontal&&pe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case x.Sd:if(this._homeAndEnd&&pe){this.setFirstItemActive();break}return;case x.uR:if(this._homeAndEnd&&pe){this.setLastItemActive();break}return;case x.Ku:if(this._pageUpAndDown.enabled&&pe){const lt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(lt>0?lt:0,1);break}return;case x.VM:if(this._pageUpAndDown.enabled&&pe){const lt=this._activeItemIndex+this._pageUpAndDown.delta,mt=this._getItemsArray().length;this._setActiveItemByIndex(lt<mt?lt:mt-1,-1);break}return;default:return void((pe||(0,x.Vb)(ut,"shiftKey"))&&(ut.key&&1===ut.key.length?this._letterKeyStream.next(ut.key.toLocaleUpperCase()):(xe>=x.A&&xe<=x.Z||xe>=x.xE&&xe<=x.aO)&&this._letterKeyStream.next(String.fromCharCode(xe))))}this._pressedLetters=[],ut.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ut){const xe=this._getItemsArray(),fe="number"==typeof ut?ut:xe.indexOf(ut);this._activeItem=xe[fe]??null,this._activeItemIndex=fe}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ut){this._wrap?this._setActiveInWrapMode(ut):this._setActiveInDefaultMode(ut)}_setActiveInWrapMode(ut){const xe=this._getItemsArray();for(let fe=1;fe<=xe.length;fe++){const pe=(this._activeItemIndex+ut*fe+xe.length)%xe.length;if(!this._skipPredicateFn(xe[pe]))return void this.setActiveItem(pe)}}_setActiveInDefaultMode(ut){this._setActiveItemByIndex(this._activeItemIndex+ut,ut)}_setActiveItemByIndex(ut,xe){const fe=this._getItemsArray();if(fe[ut]){for(;this._skipPredicateFn(fe[ut]);)if(!fe[ut+=xe])return;this.setActiveItem(ut)}}_getItemsArray(){return this._items instanceof t.n_E?this._items.toArray():this._items}}class me extends H{setActiveItem(ut){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ut),this.activeItem&&this.activeItem.setActiveStyles()}}let Se=(()=>{class st{constructor(xe){this._platform=xe}isDisabled(xe){return xe.hasAttribute("disabled")}isVisible(xe){return function le(st){return!!(st.offsetWidth||st.offsetHeight||"function"==typeof st.getClientRects&&st.getClientRects().length)}(xe)&&"visible"===getComputedStyle(xe).visibility}isTabbable(xe){if(!this._platform.isBrowser)return!1;const fe=function Ie(st){try{return st.frameElement}catch{return null}}(function Ae(st){return st.ownerDocument&&st.ownerDocument.defaultView||window}(xe));if(fe&&(-1===je(fe)||!this.isVisible(fe)))return!1;let pe=xe.nodeName.toLowerCase(),lt=je(xe);return xe.hasAttribute("contenteditable")?-1!==lt:!("iframe"===pe||"object"===pe||this._platform.WEBKIT&&this._platform.IOS&&!function ze(st){let ut=st.nodeName.toLowerCase(),xe="input"===ut&&st.type;return"text"===xe||"password"===xe||"select"===ut||"textarea"===ut}(xe))&&("audio"===pe?!!xe.hasAttribute("controls")&&-1!==lt:"video"===pe?-1!==lt&&(null!==lt||this._platform.FIREFOX||xe.hasAttribute("controls")):xe.tabIndex>=0)}isFocusable(xe,fe){return function He(st){return!function we(st){return function Le(st){return"input"==st.nodeName.toLowerCase()}(st)&&"hidden"==st.type}(st)&&(function Me(st){let ut=st.nodeName.toLowerCase();return"input"===ut||"select"===ut||"button"===ut||"textarea"===ut}(st)||function _e(st){return function Pe(st){return"a"==st.nodeName.toLowerCase()}(st)&&st.hasAttribute("href")}(st)||st.hasAttribute("contenteditable")||Oe(st))}(xe)&&!this.isDisabled(xe)&&(fe?.ignoreVisibility||this.isVisible(xe))}static#e=this.\u0275fac=function(fe){return new(fe||st)(t.LFG(b.t4))};static#t=this.\u0275prov=t.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})();function Oe(st){if(!st.hasAttribute("tabindex")||void 0===st.tabIndex)return!1;let ut=st.getAttribute("tabindex");return!(!ut||isNaN(parseInt(ut,10)))}function je(st){if(!Oe(st))return null;const ut=parseInt(st.getAttribute("tabindex")||"",10);return isNaN(ut)?-1:ut}class ye{get enabled(){return this._enabled}set enabled(ut){this._enabled=ut,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ut,this._startAnchor),this._toggleAnchorTabIndex(ut,this._endAnchor))}constructor(ut,xe,fe,pe,lt=!1){this._element=ut,this._checker=xe,this._ngZone=fe,this._document=pe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,lt||this.attachAnchors()}destroy(){const ut=this._startAnchor,xe=this._endAnchor;ut&&(ut.removeEventListener("focus",this.startAnchorListener),ut.remove()),xe&&(xe.removeEventListener("focus",this.endAnchorListener),xe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ut){return new Promise(xe=>{this._executeOnStable(()=>xe(this.focusInitialElement(ut)))})}focusFirstTabbableElementWhenReady(ut){return new Promise(xe=>{this._executeOnStable(()=>xe(this.focusFirstTabbableElement(ut)))})}focusLastTabbableElementWhenReady(ut){return new Promise(xe=>{this._executeOnStable(()=>xe(this.focusLastTabbableElement(ut)))})}_getRegionBoundary(ut){const xe=this._element.querySelectorAll(`[cdk-focus-region-${ut}], [cdkFocusRegion${ut}], [cdk-focus-${ut}]`);return"start"==ut?xe.length?xe[0]:this._getFirstTabbableElement(this._element):xe.length?xe[xe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ut){const xe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(xe){if(!this._checker.isFocusable(xe)){const fe=this._getFirstTabbableElement(xe);return fe?.focus(ut),!!fe}return xe.focus(ut),!0}return this.focusFirstTabbableElement(ut)}focusFirstTabbableElement(ut){const xe=this._getRegionBoundary("start");return xe&&xe.focus(ut),!!xe}focusLastTabbableElement(ut){const xe=this._getRegionBoundary("end");return xe&&xe.focus(ut),!!xe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ut){if(this._checker.isFocusable(ut)&&this._checker.isTabbable(ut))return ut;const xe=ut.children;for(let fe=0;fe<xe.length;fe++){const pe=xe[fe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(xe[fe]):null;if(pe)return pe}return null}_getLastTabbableElement(ut){if(this._checker.isFocusable(ut)&&this._checker.isTabbable(ut))return ut;const xe=ut.children;for(let fe=xe.length-1;fe>=0;fe--){const pe=xe[fe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(xe[fe]):null;if(pe)return pe}return null}_createAnchor(){const ut=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ut),ut.classList.add("cdk-visually-hidden"),ut.classList.add("cdk-focus-trap-anchor"),ut.setAttribute("aria-hidden","true"),ut}_toggleAnchorTabIndex(ut,xe){ut?xe.setAttribute("tabindex","0"):xe.removeAttribute("tabindex")}toggleAnchors(ut){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ut,this._startAnchor),this._toggleAnchorTabIndex(ut,this._endAnchor))}_executeOnStable(ut){this._ngZone.isStable?ut():this._ngZone.onStable.pipe((0,A.q)(1)).subscribe(ut)}}let K=(()=>{class st{constructor(xe,fe,pe){this._checker=xe,this._ngZone=fe,this._document=pe}create(xe,fe=!1){return new ye(xe,this._checker,this._ngZone,this._document,fe)}static#e=this.\u0275fac=function(fe){return new(fe||st)(t.LFG(Se),t.LFG(t.R0b),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})(),ie=(()=>{class st{get enabled(){return this.focusTrap.enabled}set enabled(xe){this.focusTrap.enabled=(0,k.Ig)(xe)}get autoCapture(){return this._autoCapture}set autoCapture(xe){this._autoCapture=(0,k.Ig)(xe)}constructor(xe,fe,pe){this._elementRef=xe,this._focusTrapFactory=fe,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(xe){const fe=xe.autoCapture;fe&&!fe.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,b.ht)(),this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(fe){return new(fe||st)(t.Y36(t.SBq),t.Y36(K),t.Y36(c.K0))};static#t=this.\u0275dir=t.lG2({type:st,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[t.TTD]})}return st})();function Q(st){return 0===st.buttons||0===st.offsetX&&0===st.offsetY}function q(st){const ut=st.touches&&st.touches[0]||st.changedTouches&&st.changedTouches[0];return!(!ut||-1!==ut.identifier||null!=ut.radiusX&&1!==ut.radiusX||null!=ut.radiusY&&1!==ut.radiusY)}const J=new t.OlP("cdk-input-modality-detector-options"),de={ignoreKeys:[x.zL,x.jx,x.b2,x.MW,x.JU]},ce=(0,b.i$)({passive:!0,capture:!0});let Ce=(()=>{class st{get mostRecentModality(){return this._modality.value}constructor(xe,fe,pe,lt){this._platform=xe,this._mostRecentTarget=null,this._modality=new F.X(null),this._lastTouchMs=0,this._onKeydown=mt=>{this._options?.ignoreKeys?.some(Dt=>Dt===mt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,b.sA)(mt))},this._onMousedown=mt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Q(mt)?"keyboard":"mouse"),this._mostRecentTarget=(0,b.sA)(mt))},this._onTouchstart=mt=>{q(mt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,b.sA)(mt))},this._options={...de,...lt},this.modalityDetected=this._modality.pipe((0,U.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,O.x)()),xe.isBrowser&&fe.runOutsideAngular(()=>{pe.addEventListener("keydown",this._onKeydown,ce),pe.addEventListener("mousedown",this._onMousedown,ce),pe.addEventListener("touchstart",this._onTouchstart,ce)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ce),document.removeEventListener("mousedown",this._onMousedown,ce),document.removeEventListener("touchstart",this._onTouchstart,ce))}static#e=this.\u0275fac=function(fe){return new(fe||st)(t.LFG(b.t4),t.LFG(t.R0b),t.LFG(c.K0),t.LFG(J,8))};static#t=this.\u0275prov=t.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})();const Ye=new t.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Be(){return null}}),$e=new t.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Qe=0,qe=(()=>{class st{constructor(xe,fe,pe,lt){this._ngZone=fe,this._defaultOptions=lt,this._document=pe,this._liveElement=xe||this._createLiveElement()}announce(xe,...fe){const pe=this._defaultOptions;let lt,mt;return 1===fe.length&&"number"==typeof fe[0]?mt=fe[0]:[lt,mt]=fe,this.clear(),clearTimeout(this._previousTimeout),lt||(lt=pe&&pe.politeness?pe.politeness:"polite"),null==mt&&pe&&(mt=pe.duration),this._liveElement.setAttribute("aria-live",lt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Dt=>this._currentResolve=Dt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=xe,"number"==typeof mt&&(this._previousTimeout=setTimeout(()=>this.clear(),mt)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const xe="cdk-live-announcer-element",fe=this._document.getElementsByClassName(xe),pe=this._document.createElement("div");for(let lt=0;lt<fe.length;lt++)fe[lt].remove();return pe.classList.add(xe),pe.classList.add("cdk-visually-hidden"),pe.setAttribute("aria-atomic","true"),pe.setAttribute("aria-live","polite"),pe.id="cdk-live-announcer-"+Qe++,this._document.body.appendChild(pe),pe}_exposeAnnouncerToModals(xe){const fe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let pe=0;pe<fe.length;pe++){const lt=fe[pe],mt=lt.getAttribute("aria-owns");mt?-1===mt.indexOf(xe)&&lt.setAttribute("aria-owns",mt+" "+xe):lt.setAttribute("aria-owns",xe)}}static#e=this.\u0275fac=function(fe){return new(fe||st)(t.LFG(Ye,8),t.LFG(t.R0b),t.LFG(c.K0),t.LFG($e,8))};static#t=this.\u0275prov=t.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})();const It=new t.OlP("cdk-focus-monitor-default-options"),_t=(0,b.i$)({passive:!0,capture:!0});let Ot=(()=>{class st{constructor(xe,fe,pe,lt,mt){this._ngZone=xe,this._platform=fe,this._inputModalityDetector=pe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new I.x,this._rootNodeFocusAndBlurListener=Dt=>{for(let bt=(0,b.sA)(Dt);bt;bt=bt.parentElement)"focus"===Dt.type?this._onFocus(Dt,bt):this._onBlur(Dt,bt)},this._document=lt,this._detectionMode=mt?.detectionMode||0}monitor(xe,fe=!1){const pe=(0,k.fI)(xe);if(!this._platform.isBrowser||1!==pe.nodeType)return(0,L.of)();const lt=(0,b.kV)(pe)||this._getDocument(),mt=this._elementInfo.get(pe);if(mt)return fe&&(mt.checkChildren=!0),mt.subject;const Dt={checkChildren:fe,subject:new I.x,rootNode:lt};return this._elementInfo.set(pe,Dt),this._registerGlobalListeners(Dt),Dt.subject}stopMonitoring(xe){const fe=(0,k.fI)(xe),pe=this._elementInfo.get(fe);pe&&(pe.subject.complete(),this._setClasses(fe),this._elementInfo.delete(fe),this._removeGlobalListeners(pe))}focusVia(xe,fe,pe){const lt=(0,k.fI)(xe);lt===this._getDocument().activeElement?this._getClosestElementsInfo(lt).forEach(([Dt,ft])=>this._originChanged(Dt,fe,ft)):(this._setOrigin(fe),"function"==typeof lt.focus&&lt.focus(pe))}ngOnDestroy(){this._elementInfo.forEach((xe,fe)=>this.stopMonitoring(fe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(xe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(xe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:xe&&this._isLastInteractionFromInputLabel(xe)?"mouse":"program"}_shouldBeAttributedToTouch(xe){return 1===this._detectionMode||!!xe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(xe,fe){xe.classList.toggle("cdk-focused",!!fe),xe.classList.toggle("cdk-touch-focused","touch"===fe),xe.classList.toggle("cdk-keyboard-focused","keyboard"===fe),xe.classList.toggle("cdk-mouse-focused","mouse"===fe),xe.classList.toggle("cdk-program-focused","program"===fe)}_setOrigin(xe,fe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=xe,this._originFromTouchInteraction="touch"===xe&&fe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(xe,fe){const pe=this._elementInfo.get(fe),lt=(0,b.sA)(xe);!pe||!pe.checkChildren&&fe!==lt||this._originChanged(fe,this._getFocusOrigin(lt),pe)}_onBlur(xe,fe){const pe=this._elementInfo.get(fe);!pe||pe.checkChildren&&xe.relatedTarget instanceof Node&&fe.contains(xe.relatedTarget)||(this._setClasses(fe),this._emitOrigin(pe,null))}_emitOrigin(xe,fe){xe.subject.observers.length&&this._ngZone.run(()=>xe.subject.next(fe))}_registerGlobalListeners(xe){if(!this._platform.isBrowser)return;const fe=xe.rootNode,pe=this._rootNodeFocusListenerCount.get(fe)||0;pe||this._ngZone.runOutsideAngular(()=>{fe.addEventListener("focus",this._rootNodeFocusAndBlurListener,_t),fe.addEventListener("blur",this._rootNodeFocusAndBlurListener,_t)}),this._rootNodeFocusListenerCount.set(fe,pe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,V.R)(this._stopInputModalityDetector)).subscribe(lt=>{this._setOrigin(lt,!0)}))}_removeGlobalListeners(xe){const fe=xe.rootNode;if(this._rootNodeFocusListenerCount.has(fe)){const pe=this._rootNodeFocusListenerCount.get(fe);pe>1?this._rootNodeFocusListenerCount.set(fe,pe-1):(fe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_t),fe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_t),this._rootNodeFocusListenerCount.delete(fe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(xe,fe,pe){this._setClasses(xe,fe),this._emitOrigin(pe,fe),this._lastFocusOrigin=fe}_getClosestElementsInfo(xe){const fe=[];return this._elementInfo.forEach((pe,lt)=>{(lt===xe||pe.checkChildren&&lt.contains(xe))&&fe.push([lt,pe])}),fe}_isLastInteractionFromInputLabel(xe){const{_mostRecentTarget:fe,mostRecentModality:pe}=this._inputModalityDetector;if("mouse"!==pe||!fe||fe===xe||"INPUT"!==xe.nodeName&&"TEXTAREA"!==xe.nodeName||xe.disabled)return!1;const lt=xe.labels;if(lt)for(let mt=0;mt<lt.length;mt++)if(lt[mt].contains(fe))return!0;return!1}static#e=this.\u0275fac=function(fe){return new(fe||st)(t.LFG(t.R0b),t.LFG(b.t4),t.LFG(Ce),t.LFG(c.K0,8),t.LFG(It,8))};static#t=this.\u0275prov=t.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})(),jt=(()=>{class st{constructor(xe,fe){this._elementRef=xe,this._focusMonitor=fe,this._focusOrigin=null,this.cdkFocusChange=new t.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const xe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(xe,1===xe.nodeType&&xe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(fe=>{this._focusOrigin=fe,this.cdkFocusChange.emit(fe)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(fe){return new(fe||st)(t.Y36(t.SBq),t.Y36(Ot))};static#t=this.\u0275dir=t.lG2({type:st,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return st})();const zt="cdk-high-contrast-black-on-white",$t="cdk-high-contrast-white-on-black",dn="cdk-high-contrast-active";let pn=(()=>{class st{constructor(xe,fe){this._platform=xe,this._document=fe,this._breakpointSubscription=(0,t.f3M)(D.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const xe=this._document.createElement("div");xe.style.backgroundColor="rgb(1,2,3)",xe.style.position="absolute",this._document.body.appendChild(xe);const fe=this._document.defaultView||window,pe=fe&&fe.getComputedStyle?fe.getComputedStyle(xe):null,lt=(pe&&pe.backgroundColor||"").replace(/ /g,"");switch(xe.remove(),lt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const xe=this._document.body.classList;xe.remove(dn,zt,$t),this._hasCheckedHighContrastMode=!0;const fe=this.getHighContrastMode();1===fe?xe.add(dn,zt):2===fe&&xe.add(dn,$t)}}static#e=this.\u0275fac=function(fe){return new(fe||st)(t.LFG(b.t4),t.LFG(c.K0))};static#t=this.\u0275prov=t.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})(),jn=(()=>{class st{constructor(xe){xe._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(fe){return new(fe||st)(t.LFG(pn))};static#t=this.\u0275mod=t.oAB({type:st});static#n=this.\u0275inj=t.cJS({imports:[P.Q8]})}return st})()},9388:(In,Ze,C)=>{"use strict";C.d(Ze,{Is:()=>L,vT:()=>m});var c=C(5879),t=C(6814);const b=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function I(){return(0,c.f3M)(t.K0)}}),y=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let L=(()=>{class h{constructor(v){this.value="ltr",this.change=new c.vpe,v&&(this.value=function F(h){const p=h?.toLowerCase()||"";return"auto"===p&&typeof navigator<"u"&&navigator?.language?y.test(navigator.language)?"rtl":"ltr":"rtl"===p?"rtl":"ltr"}((v.body?v.body.dir:null)||(v.documentElement?v.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(A){return new(A||h)(c.LFG(b,8))};static#t=this.\u0275prov=c.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),m=(()=>{class h{static#e=this.\u0275fac=function(A){return new(A||h)};static#t=this.\u0275mod=c.oAB({type:h});static#n=this.\u0275inj=c.cJS({})}return h})()},2495:(In,Ze,C)=>{"use strict";C.d(Ze,{Eq:()=>y,HM:()=>F,Ig:()=>t,du:()=>x,fI:()=>L,su:()=>b,t6:()=>I});var c=C(5879);function t(m){return null!=m&&"false"!=`${m}`}function b(m,h=0){return I(m)?Number(m):h}function I(m){return!isNaN(parseFloat(m))&&!isNaN(Number(m))}function y(m){return Array.isArray(m)?m:[m]}function F(m){return null==m?"":"string"==typeof m?m:`${m}px`}function L(m){return m instanceof c.SBq?m.nativeElement:m}function x(m,h=/\s+/){const p=[];if(null!=m){const v=Array.isArray(m)?m:`${m}`.split(h);for(const A of v){const U=`${A}`.trim();U&&p.push(U)}}return p}},8337:(In,Ze,C)=>{"use strict";C.d(Ze,{Ov:()=>m,Z9:()=>y,eX:()=>x,k:()=>v,o2:()=>I,yy:()=>L});var c=C(3168),t=C(8645),b=C(5879);class I{}function y(A){return A&&"function"==typeof A.connect&&!(A instanceof c.c)}class L{applyChanges(U,O,V,k,P){U.forEachOperation((D,w,E)=>{let N,S;if(null==D.previousIndex){const B=V(D,w,E);N=O.createEmbeddedView(B.templateRef,B.context,B.index),S=1}else null==E?(O.remove(w),S=3):(N=O.get(w),O.move(N,E),S=2);P&&P({context:N?.context,operation:S,record:D})})}detach(){}}class x{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(U,O,V,k,P){U.forEachOperation((D,w,E)=>{let N,S;null==D.previousIndex?(N=this._insertView(()=>V(D,w,E),E,O,k(D)),S=N?1:0):null==E?(this._detachAndCacheView(w,O),S=3):(N=this._moveView(w,E,O,k(D)),S=2),P&&P({context:N?.context,operation:S,record:D})})}detach(){for(const U of this._viewCache)U.destroy();this._viewCache=[]}_insertView(U,O,V,k){const P=this._insertViewFromCache(O,V);if(P)return void(P.context.$implicit=k);const D=U();return V.createEmbeddedView(D.templateRef,D.context,D.index)}_detachAndCacheView(U,O){const V=O.detach(U);this._maybeCacheView(V,O)}_moveView(U,O,V,k){const P=V.get(U);return V.move(P,O),P.context.$implicit=k,P}_maybeCacheView(U,O){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(U);else{const V=O.indexOf(U);-1===V?U.destroy():O.remove(V)}}_insertViewFromCache(U,O){const V=this._viewCache.pop();return V&&O.insert(V,U),V||null}}class m{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(U=!1,O,V=!0,k){this._multiple=U,this._emitChanges=V,this.compareWith=k,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,O&&O.length&&(U?O.forEach(P=>this._markSelected(P)):this._markSelected(O[0]),this._selectedToEmit.length=0)}select(...U){this._verifyValueAssignment(U),U.forEach(V=>this._markSelected(V));const O=this._hasQueuedChanges();return this._emitChangeEvent(),O}deselect(...U){this._verifyValueAssignment(U),U.forEach(V=>this._unmarkSelected(V));const O=this._hasQueuedChanges();return this._emitChangeEvent(),O}setSelection(...U){this._verifyValueAssignment(U);const O=this.selected,V=new Set(U);U.forEach(P=>this._markSelected(P)),O.filter(P=>!V.has(P)).forEach(P=>this._unmarkSelected(P));const k=this._hasQueuedChanges();return this._emitChangeEvent(),k}toggle(U){return this.isSelected(U)?this.deselect(U):this.select(U)}clear(U=!0){this._unmarkAll();const O=this._hasQueuedChanges();return U&&this._emitChangeEvent(),O}isSelected(U){return this._selection.has(this._getConcreteValue(U))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(U){this._multiple&&this.selected&&this._selected.sort(U)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(U){U=this._getConcreteValue(U),this.isSelected(U)||(this._multiple||this._unmarkAll(),this.isSelected(U)||this._selection.add(U),this._emitChanges&&this._selectedToEmit.push(U))}_unmarkSelected(U){U=this._getConcreteValue(U),this.isSelected(U)&&(this._selection.delete(U),this._emitChanges&&this._deselectedToEmit.push(U))}_unmarkAll(){this.isEmpty()||this._selection.forEach(U=>this._unmarkSelected(U))}_verifyValueAssignment(U){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(U){if(this.compareWith){for(let O of this._selection)if(this.compareWith(U,O))return O;return U}return U}}const v=new b.OlP("_ViewRepeater")},6028:(In,Ze,C)=>{"use strict";C.d(Ze,{A:()=>we,JH:()=>w,JU:()=>F,K5:()=>y,Ku:()=>A,LH:()=>P,L_:()=>v,MW:()=>$e,Mf:()=>b,SV:()=>D,Sd:()=>V,VM:()=>U,Vb:()=>tt,Z:()=>Be,aO:()=>ue,b2:()=>at,hY:()=>p,jx:()=>L,oh:()=>k,uR:()=>O,xE:()=>Y,zL:()=>x});const b=9,y=13,F=16,L=17,x=18,p=27,v=32,A=33,U=34,O=35,V=36,k=37,P=38,D=39,w=40,Y=48,ue=57,we=65,Be=90,$e=91,at=224;function tt(At,...qt){return qt.length?qt.some(tn=>At[tn]):At.altKey||At.shiftKey||At.ctrlKey||At.metaKey}},1088:(In,Ze,C)=>{"use strict";C.d(Ze,{Yg:()=>w,u3:()=>N});var c=C(5879),t=C(2495),b=C(8645),I=C(2572),y=C(5211),F=C(5592),L=C(8180),x=C(836),m=C(3620),h=C(7398),p=C(7921),v=C(9773),A=C(2831);const O=new Set;let V,k=(()=>{class S{constructor(Y,re){this._platform=Y,this._nonce=re,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):D}matchMedia(Y){return(this._platform.WEBKIT||this._platform.BLINK)&&function P(S,B){if(!O.has(S))try{V||(V=document.createElement("style"),B&&(V.nonce=B),V.setAttribute("type","text/css"),document.head.appendChild(V)),V.sheet&&(V.sheet.insertRule(`@media ${S} {body{ }}`,0),O.add(S))}catch(Y){console.error(Y)}}(Y,this._nonce),this._matchMedia(Y)}static#e=this.\u0275fac=function(re){return new(re||S)(c.LFG(A.t4),c.LFG(c.Ojb,8))};static#t=this.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function D(S){return{matches:"all"===S||""===S,media:S,addListener:()=>{},removeListener:()=>{}}}let w=(()=>{class S{constructor(Y,re){this._mediaMatcher=Y,this._zone=re,this._queries=new Map,this._destroySubject=new b.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Y){return E((0,t.Eq)(Y)).some(ae=>this._registerQuery(ae).mql.matches)}observe(Y){const ae=E((0,t.Eq)(Y)).map(z=>this._registerQuery(z).observable);let Re=(0,I.a)(ae);return Re=(0,y.z)(Re.pipe((0,L.q)(1)),Re.pipe((0,x.T)(1),(0,m.b)(0))),Re.pipe((0,h.U)(z=>{const oe={matches:!1,breakpoints:{}};return z.forEach(({matches:H,query:me})=>{oe.matches=oe.matches||H,oe.breakpoints[me]=H}),oe}))}_registerQuery(Y){if(this._queries.has(Y))return this._queries.get(Y);const re=this._mediaMatcher.matchMedia(Y),Re={observable:new F.y(z=>{const oe=H=>this._zone.run(()=>z.next(H));return re.addListener(oe),()=>{re.removeListener(oe)}}).pipe((0,p.O)(re),(0,h.U)(({matches:z})=>({query:Y,matches:z})),(0,v.R)(this._destroySubject)),mql:re};return this._queries.set(Y,Re),Re}static#e=this.\u0275fac=function(re){return new(re||S)(c.LFG(k),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})();function E(S){return S.map(B=>B.split(",")).reduce((B,Y)=>B.concat(Y)).map(B=>B.trim())}const N={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7131:(In,Ze,C)=>{"use strict";C.d(Ze,{Q8:()=>y});var c=C(5879);let t=(()=>{class F{create(x){return typeof MutationObserver>"u"?null:new MutationObserver(x)}static#e=this.\u0275fac=function(m){return new(m||F)};static#t=this.\u0275prov=c.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),y=(()=>{class F{static#e=this.\u0275fac=function(m){return new(m||F)};static#t=this.\u0275mod=c.oAB({type:F});static#n=this.\u0275inj=c.cJS({providers:[t]})}return F})()},3651:(In,Ze,C)=>{"use strict";C.d(Ze,{pI:()=>W,xu:()=>Z,_G:()=>_e,aV:()=>ie,X_:()=>ae,Xj:()=>Ie,U8:()=>q,Iu:()=>le});var c=C(799),t=C(6814),b=C(5879),I=C(2495),y=C(2831),F=C(2181),L=C(8180),x=C(9773),m=C(9360),h=C(8251),v=C(9388),A=C(8484),U=C(8645),O=C(7394),V=C(3019),k=C(6028);const P=(0,y.Mq)();class D{constructor(ge,ce){this._viewportRuler=ge,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ce}attach(){}enable(){if(this._canBeEnabled()){const ge=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ge.style.left||"",this._previousHTMLStyles.top=ge.style.top||"",ge.style.left=(0,I.HM)(-this._previousScrollPosition.left),ge.style.top=(0,I.HM)(-this._previousScrollPosition.top),ge.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ge=this._document.documentElement,Ce=ge.style,Ye=this._document.body.style,Be=Ce.scrollBehavior||"",$e=Ye.scrollBehavior||"";this._isEnabled=!1,Ce.left=this._previousHTMLStyles.left,Ce.top=this._previousHTMLStyles.top,ge.classList.remove("cdk-global-scrollblock"),P&&(Ce.scrollBehavior=Ye.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),P&&(Ce.scrollBehavior=Be,Ye.scrollBehavior=$e)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ce=this._document.body,Ce=this._viewportRuler.getViewportSize();return ce.scrollHeight>Ce.height||ce.scrollWidth>Ce.width}}class E{constructor(ge,ce,Ce,Ye){this._scrollDispatcher=ge,this._ngZone=ce,this._viewportRuler=Ce,this._config=Ye,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ge){this._overlayRef=ge}enable(){if(this._scrollSubscription)return;const ge=this._scrollDispatcher.scrolled(0).pipe((0,F.h)(ce=>!ce||!this._overlayRef.overlayElement.contains(ce.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ge.subscribe(()=>{const ce=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ce-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ge.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class N{enable(){}disable(){}attach(){}}function S(de,ge){return ge.some(ce=>de.bottom<ce.top||de.top>ce.bottom||de.right<ce.left||de.left>ce.right)}function B(de,ge){return ge.some(ce=>de.top<ce.top||de.bottom>ce.bottom||de.left<ce.left||de.right>ce.right)}class Y{constructor(ge,ce,Ce,Ye){this._scrollDispatcher=ge,this._viewportRuler=ce,this._ngZone=Ce,this._config=Ye,this._scrollSubscription=null}attach(ge){this._overlayRef=ge}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ce=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ce,height:Ye}=this._viewportRuler.getViewportSize();S(ce,[{width:Ce,height:Ye,bottom:Ye,right:Ce,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let re=(()=>{class de{constructor(ce,Ce,Ye,Be){this._scrollDispatcher=ce,this._viewportRuler=Ce,this._ngZone=Ye,this.noop=()=>new N,this.close=$e=>new E(this._scrollDispatcher,this._ngZone,this._viewportRuler,$e),this.block=()=>new D(this._viewportRuler,this._document),this.reposition=$e=>new Y(this._scrollDispatcher,this._viewportRuler,this._ngZone,$e),this._document=Be}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(b.LFG(c.mF),b.LFG(c.rL),b.LFG(b.R0b),b.LFG(t.K0))};static#t=this.\u0275prov=b.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();class ae{constructor(ge){if(this.scrollStrategy=new N,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ge){const ce=Object.keys(ge);for(const Ce of ce)void 0!==ge[Ce]&&(this[Ce]=ge[Ce])}}}class oe{constructor(ge,ce){this.connectionPair=ge,this.scrollableViewProperties=ce}}let te=(()=>{class de{constructor(ce){this._attachedOverlays=[],this._document=ce}ngOnDestroy(){this.detach()}add(ce){this.remove(ce),this._attachedOverlays.push(ce)}remove(ce){const Ce=this._attachedOverlays.indexOf(ce);Ce>-1&&this._attachedOverlays.splice(Ce,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(b.LFG(t.K0))};static#t=this.\u0275prov=b.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),ue=(()=>{class de extends te{constructor(ce,Ce){super(ce),this._ngZone=Ce,this._keydownListener=Ye=>{const Be=this._attachedOverlays;for(let $e=Be.length-1;$e>-1;$e--)if(Be[$e]._keydownEvents.observers.length>0){const Qe=Be[$e]._keydownEvents;this._ngZone?this._ngZone.run(()=>Qe.next(Ye)):Qe.next(Ye);break}}}add(ce){super.add(ce),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(b.LFG(t.K0),b.LFG(b.R0b,8))};static#t=this.\u0275prov=b.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Se=(()=>{class de extends te{constructor(ce,Ce,Ye){super(ce),this._platform=Ce,this._ngZone=Ye,this._cursorStyleIsSet=!1,this._pointerDownListener=Be=>{this._pointerDownEventTarget=(0,y.sA)(Be)},this._clickListener=Be=>{const $e=(0,y.sA)(Be),Qe="click"===Be.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:$e;this._pointerDownEventTarget=null;const qe=this._attachedOverlays.slice();for(let dt=qe.length-1;dt>-1;dt--){const It=qe[dt];if(It._outsidePointerEvents.observers.length<1||!It.hasAttached())continue;if(It.overlayElement.contains($e)||It.overlayElement.contains(Qe))break;const _t=It._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_t.next(Be)):_t.next(Be)}}}add(ce){if(super.add(ce),!this._isAttached){const Ce=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ce)):this._addEventListeners(Ce),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ce.style.cursor,Ce.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ce=this._document.body;ce.removeEventListener("pointerdown",this._pointerDownListener,!0),ce.removeEventListener("click",this._clickListener,!0),ce.removeEventListener("auxclick",this._clickListener,!0),ce.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ce.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ce){ce.addEventListener("pointerdown",this._pointerDownListener,!0),ce.addEventListener("click",this._clickListener,!0),ce.addEventListener("auxclick",this._clickListener,!0),ce.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(b.LFG(t.K0),b.LFG(y.t4),b.LFG(b.R0b,8))};static#t=this.\u0275prov=b.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),Ie=(()=>{class de{constructor(ce,Ce){this._platform=Ce,this._document=ce}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ce="cdk-overlay-container";if(this._platform.isBrowser||(0,y.Oy)()){const Ye=this._document.querySelectorAll(`.${ce}[platform="server"], .${ce}[platform="test"]`);for(let Be=0;Be<Ye.length;Be++)Ye[Be].remove()}const Ce=this._document.createElement("div");Ce.classList.add(ce),(0,y.Oy)()?Ce.setAttribute("platform","test"):this._platform.isBrowser||Ce.setAttribute("platform","server"),this._document.body.appendChild(Ce),this._containerElement=Ce}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(b.LFG(t.K0),b.LFG(y.t4))};static#t=this.\u0275prov=b.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();class le{constructor(ge,ce,Ce,Ye,Be,$e,Qe,qe,dt,It=!1){this._portalOutlet=ge,this._host=ce,this._pane=Ce,this._config=Ye,this._ngZone=Be,this._keyboardDispatcher=$e,this._document=Qe,this._location=qe,this._outsideClickDispatcher=dt,this._animationsDisabled=It,this._backdropElement=null,this._backdropClick=new U.x,this._attachments=new U.x,this._detachments=new U.x,this._locationChanges=O.w0.EMPTY,this._backdropClickHandler=_t=>this._backdropClick.next(_t),this._backdropTransitionendHandler=_t=>{this._disposeBackdrop(_t.target)},this._keydownEvents=new U.x,this._outsidePointerEvents=new U.x,Ye.scrollStrategy&&(this._scrollStrategy=Ye.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Ye.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ge){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ce=this._portalOutlet.attach(ge);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,L.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ce?.onDestroy&&ce.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ce}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ge=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ge}dispose(){const ge=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ge&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ge){ge!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ge,this.hasAttached()&&(ge.attach(this),this.updatePosition()))}updateSize(ge){this._config={...this._config,...ge},this._updateElementSize()}setDirection(ge){this._config={...this._config,direction:ge},this._updateElementDirection()}addPanelClass(ge){this._pane&&this._toggleClasses(this._pane,ge,!0)}removePanelClass(ge){this._pane&&this._toggleClasses(this._pane,ge,!1)}getDirection(){const ge=this._config.direction;return ge?"string"==typeof ge?ge:ge.value:"ltr"}updateScrollStrategy(ge){ge!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ge,this.hasAttached()&&(ge.attach(this),ge.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ge=this._pane.style;ge.width=(0,I.HM)(this._config.width),ge.height=(0,I.HM)(this._config.height),ge.minWidth=(0,I.HM)(this._config.minWidth),ge.minHeight=(0,I.HM)(this._config.minHeight),ge.maxWidth=(0,I.HM)(this._config.maxWidth),ge.maxHeight=(0,I.HM)(this._config.maxHeight)}_togglePointerEvents(ge){this._pane.style.pointerEvents=ge?"":"none"}_attachBackdrop(){const ge="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ge)})}):this._backdropElement.classList.add(ge)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ge=this._backdropElement;if(ge){if(this._animationsDisabled)return void this._disposeBackdrop(ge);ge.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ge.addEventListener("transitionend",this._backdropTransitionendHandler)}),ge.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ge)},500))}}_toggleClasses(ge,ce,Ce){const Ye=(0,I.Eq)(ce||[]).filter(Be=>!!Be);Ye.length&&(Ce?ge.classList.add(...Ye):ge.classList.remove(...Ye))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ge=this._ngZone.onStable.pipe((0,x.R)((0,V.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ge.unsubscribe())})})}_disposeScrollStrategy(){const ge=this._scrollStrategy;ge&&(ge.disable(),ge.detach&&ge.detach())}_disposeBackdrop(ge){ge&&(ge.removeEventListener("click",this._backdropClickHandler),ge.removeEventListener("transitionend",this._backdropTransitionendHandler),ge.remove(),this._backdropElement===ge&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Me="cdk-overlay-connected-position-bounding-box",we=/([A-Za-z%]+)$/;class _e{get positions(){return this._preferredPositions}constructor(ge,ce,Ce,Ye,Be){this._viewportRuler=ce,this._document=Ce,this._platform=Ye,this._overlayContainer=Be,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.x,this._resizeSubscription=O.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ge)}attach(ge){this._validatePositions(),ge.hostElement.classList.add(Me),this._overlayRef=ge,this._boundingBox=ge.hostElement,this._pane=ge.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ge=this._originRect,ce=this._overlayRect,Ce=this._viewportRect,Ye=this._containerRect,Be=[];let $e;for(let Qe of this._preferredPositions){let qe=this._getOriginPoint(ge,Ye,Qe),dt=this._getOverlayPoint(qe,ce,Qe),It=this._getOverlayFit(dt,ce,Ce,Qe);if(It.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Qe,qe);this._canFitWithFlexibleDimensions(It,dt,Ce)?Be.push({position:Qe,origin:qe,overlayRect:ce,boundingBoxRect:this._calculateBoundingBoxRect(qe,Qe)}):(!$e||$e.overlayFit.visibleArea<It.visibleArea)&&($e={overlayFit:It,overlayPoint:dt,originPoint:qe,position:Qe,overlayRect:ce})}if(Be.length){let Qe=null,qe=-1;for(const dt of Be){const It=dt.boundingBoxRect.width*dt.boundingBoxRect.height*(dt.position.weight||1);It>qe&&(qe=It,Qe=dt)}return this._isPushed=!1,void this._applyPosition(Qe.position,Qe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition($e.position,$e.originPoint);this._applyPosition($e.position,$e.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Le(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Me),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ge=this._lastPosition;if(ge){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ce=this._getOriginPoint(this._originRect,this._containerRect,ge);this._applyPosition(ge,ce)}else this.apply()}withScrollableContainers(ge){return this._scrollables=ge,this}withPositions(ge){return this._preferredPositions=ge,-1===ge.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ge){return this._viewportMargin=ge,this}withFlexibleDimensions(ge=!0){return this._hasFlexibleDimensions=ge,this}withGrowAfterOpen(ge=!0){return this._growAfterOpen=ge,this}withPush(ge=!0){return this._canPush=ge,this}withLockedPosition(ge=!0){return this._positionLocked=ge,this}setOrigin(ge){return this._origin=ge,this}withDefaultOffsetX(ge){return this._offsetX=ge,this}withDefaultOffsetY(ge){return this._offsetY=ge,this}withTransformOriginOn(ge){return this._transformOriginSelector=ge,this}_getOriginPoint(ge,ce,Ce){let Ye,Be;if("center"==Ce.originX)Ye=ge.left+ge.width/2;else{const $e=this._isRtl()?ge.right:ge.left,Qe=this._isRtl()?ge.left:ge.right;Ye="start"==Ce.originX?$e:Qe}return ce.left<0&&(Ye-=ce.left),Be="center"==Ce.originY?ge.top+ge.height/2:"top"==Ce.originY?ge.top:ge.bottom,ce.top<0&&(Be-=ce.top),{x:Ye,y:Be}}_getOverlayPoint(ge,ce,Ce){let Ye,Be;return Ye="center"==Ce.overlayX?-ce.width/2:"start"===Ce.overlayX?this._isRtl()?-ce.width:0:this._isRtl()?0:-ce.width,Be="center"==Ce.overlayY?-ce.height/2:"top"==Ce.overlayY?0:-ce.height,{x:ge.x+Ye,y:ge.y+Be}}_getOverlayFit(ge,ce,Ce,Ye){const Be=Oe(ce);let{x:$e,y:Qe}=ge,qe=this._getOffset(Ye,"x"),dt=this._getOffset(Ye,"y");qe&&($e+=qe),dt&&(Qe+=dt);let Ot=0-Qe,jt=Qe+Be.height-Ce.height,zt=this._subtractOverflows(Be.width,0-$e,$e+Be.width-Ce.width),$t=this._subtractOverflows(Be.height,Ot,jt),dn=zt*$t;return{visibleArea:dn,isCompletelyWithinViewport:Be.width*Be.height===dn,fitsInViewportVertically:$t===Be.height,fitsInViewportHorizontally:zt==Be.width}}_canFitWithFlexibleDimensions(ge,ce,Ce){if(this._hasFlexibleDimensions){const Ye=Ce.bottom-ce.y,Be=Ce.right-ce.x,$e=Pe(this._overlayRef.getConfig().minHeight),Qe=Pe(this._overlayRef.getConfig().minWidth);return(ge.fitsInViewportVertically||null!=$e&&$e<=Ye)&&(ge.fitsInViewportHorizontally||null!=Qe&&Qe<=Be)}return!1}_pushOverlayOnScreen(ge,ce,Ce){if(this._previousPushAmount&&this._positionLocked)return{x:ge.x+this._previousPushAmount.x,y:ge.y+this._previousPushAmount.y};const Ye=Oe(ce),Be=this._viewportRect,$e=Math.max(ge.x+Ye.width-Be.width,0),Qe=Math.max(ge.y+Ye.height-Be.height,0),qe=Math.max(Be.top-Ce.top-ge.y,0),dt=Math.max(Be.left-Ce.left-ge.x,0);let It=0,_t=0;return It=Ye.width<=Be.width?dt||-$e:ge.x<this._viewportMargin?Be.left-Ce.left-ge.x:0,_t=Ye.height<=Be.height?qe||-Qe:ge.y<this._viewportMargin?Be.top-Ce.top-ge.y:0,this._previousPushAmount={x:It,y:_t},{x:ge.x+It,y:ge.y+_t}}_applyPosition(ge,ce){if(this._setTransformOrigin(ge),this._setOverlayElementStyles(ce,ge),this._setBoundingBoxStyles(ce,ge),ge.panelClass&&this._addPanelClasses(ge.panelClass),this._lastPosition=ge,this._positionChanges.observers.length){const Ce=this._getScrollVisibility(),Ye=new oe(ge,Ce);this._positionChanges.next(Ye)}this._isInitialRender=!1}_setTransformOrigin(ge){if(!this._transformOriginSelector)return;const ce=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ce,Ye=ge.overlayY;Ce="center"===ge.overlayX?"center":this._isRtl()?"start"===ge.overlayX?"right":"left":"start"===ge.overlayX?"left":"right";for(let Be=0;Be<ce.length;Be++)ce[Be].style.transformOrigin=`${Ce} ${Ye}`}_calculateBoundingBoxRect(ge,ce){const Ce=this._viewportRect,Ye=this._isRtl();let Be,$e,Qe,It,_t,Ot;if("top"===ce.overlayY)$e=ge.y,Be=Ce.height-$e+this._viewportMargin;else if("bottom"===ce.overlayY)Qe=Ce.height-ge.y+2*this._viewportMargin,Be=Ce.height-Qe+this._viewportMargin;else{const jt=Math.min(Ce.bottom-ge.y+Ce.top,ge.y),zt=this._lastBoundingBoxSize.height;Be=2*jt,$e=ge.y-jt,Be>zt&&!this._isInitialRender&&!this._growAfterOpen&&($e=ge.y-zt/2)}if("end"===ce.overlayX&&!Ye||"start"===ce.overlayX&&Ye)Ot=Ce.width-ge.x+this._viewportMargin,It=ge.x-this._viewportMargin;else if("start"===ce.overlayX&&!Ye||"end"===ce.overlayX&&Ye)_t=ge.x,It=Ce.right-ge.x;else{const jt=Math.min(Ce.right-ge.x+Ce.left,ge.x),zt=this._lastBoundingBoxSize.width;It=2*jt,_t=ge.x-jt,It>zt&&!this._isInitialRender&&!this._growAfterOpen&&(_t=ge.x-zt/2)}return{top:$e,left:_t,bottom:Qe,right:Ot,width:It,height:Be}}_setBoundingBoxStyles(ge,ce){const Ce=this._calculateBoundingBoxRect(ge,ce);!this._isInitialRender&&!this._growAfterOpen&&(Ce.height=Math.min(Ce.height,this._lastBoundingBoxSize.height),Ce.width=Math.min(Ce.width,this._lastBoundingBoxSize.width));const Ye={};if(this._hasExactPosition())Ye.top=Ye.left="0",Ye.bottom=Ye.right=Ye.maxHeight=Ye.maxWidth="",Ye.width=Ye.height="100%";else{const Be=this._overlayRef.getConfig().maxHeight,$e=this._overlayRef.getConfig().maxWidth;Ye.height=(0,I.HM)(Ce.height),Ye.top=(0,I.HM)(Ce.top),Ye.bottom=(0,I.HM)(Ce.bottom),Ye.width=(0,I.HM)(Ce.width),Ye.left=(0,I.HM)(Ce.left),Ye.right=(0,I.HM)(Ce.right),Ye.alignItems="center"===ce.overlayX?"center":"end"===ce.overlayX?"flex-end":"flex-start",Ye.justifyContent="center"===ce.overlayY?"center":"bottom"===ce.overlayY?"flex-end":"flex-start",Be&&(Ye.maxHeight=(0,I.HM)(Be)),$e&&(Ye.maxWidth=(0,I.HM)($e))}this._lastBoundingBoxSize=Ce,Le(this._boundingBox.style,Ye)}_resetBoundingBoxStyles(){Le(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Le(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ge,ce){const Ce={},Ye=this._hasExactPosition(),Be=this._hasFlexibleDimensions,$e=this._overlayRef.getConfig();if(Ye){const It=this._viewportRuler.getViewportScrollPosition();Le(Ce,this._getExactOverlayY(ce,ge,It)),Le(Ce,this._getExactOverlayX(ce,ge,It))}else Ce.position="static";let Qe="",qe=this._getOffset(ce,"x"),dt=this._getOffset(ce,"y");qe&&(Qe+=`translateX(${qe}px) `),dt&&(Qe+=`translateY(${dt}px)`),Ce.transform=Qe.trim(),$e.maxHeight&&(Ye?Ce.maxHeight=(0,I.HM)($e.maxHeight):Be&&(Ce.maxHeight="")),$e.maxWidth&&(Ye?Ce.maxWidth=(0,I.HM)($e.maxWidth):Be&&(Ce.maxWidth="")),Le(this._pane.style,Ce)}_getExactOverlayY(ge,ce,Ce){let Ye={top:"",bottom:""},Be=this._getOverlayPoint(ce,this._overlayRect,ge);return this._isPushed&&(Be=this._pushOverlayOnScreen(Be,this._overlayRect,Ce)),"bottom"===ge.overlayY?Ye.bottom=this._document.documentElement.clientHeight-(Be.y+this._overlayRect.height)+"px":Ye.top=(0,I.HM)(Be.y),Ye}_getExactOverlayX(ge,ce,Ce){let $e,Ye={left:"",right:""},Be=this._getOverlayPoint(ce,this._overlayRect,ge);return this._isPushed&&(Be=this._pushOverlayOnScreen(Be,this._overlayRect,Ce)),$e=this._isRtl()?"end"===ge.overlayX?"left":"right":"end"===ge.overlayX?"right":"left","right"===$e?Ye.right=this._document.documentElement.clientWidth-(Be.x+this._overlayRect.width)+"px":Ye.left=(0,I.HM)(Be.x),Ye}_getScrollVisibility(){const ge=this._getOriginRect(),ce=this._pane.getBoundingClientRect(),Ce=this._scrollables.map(Ye=>Ye.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:B(ge,Ce),isOriginOutsideView:S(ge,Ce),isOverlayClipped:B(ce,Ce),isOverlayOutsideView:S(ce,Ce)}}_subtractOverflows(ge,...ce){return ce.reduce((Ce,Ye)=>Ce-Math.max(Ye,0),ge)}_getNarrowedViewportRect(){const ge=this._document.documentElement.clientWidth,ce=this._document.documentElement.clientHeight,Ce=this._viewportRuler.getViewportScrollPosition();return{top:Ce.top+this._viewportMargin,left:Ce.left+this._viewportMargin,right:Ce.left+ge-this._viewportMargin,bottom:Ce.top+ce-this._viewportMargin,width:ge-2*this._viewportMargin,height:ce-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ge,ce){return"x"===ce?null==ge.offsetX?this._offsetX:ge.offsetX:null==ge.offsetY?this._offsetY:ge.offsetY}_validatePositions(){}_addPanelClasses(ge){this._pane&&(0,I.Eq)(ge).forEach(ce=>{""!==ce&&-1===this._appliedPanelClasses.indexOf(ce)&&(this._appliedPanelClasses.push(ce),this._pane.classList.add(ce))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ge=>{this._pane.classList.remove(ge)}),this._appliedPanelClasses=[])}_getOriginRect(){const ge=this._origin;if(ge instanceof b.SBq)return ge.nativeElement.getBoundingClientRect();if(ge instanceof Element)return ge.getBoundingClientRect();const ce=ge.width||0,Ce=ge.height||0;return{top:ge.y,bottom:ge.y+Ce,left:ge.x,right:ge.x+ce,height:Ce,width:ce}}}function Le(de,ge){for(let ce in ge)ge.hasOwnProperty(ce)&&(de[ce]=ge[ce]);return de}function Pe(de){if("number"!=typeof de&&null!=de){const[ge,ce]=de.split(we);return ce&&"px"!==ce?null:parseFloat(ge)}return de||null}function Oe(de){return{top:Math.floor(de.top),right:Math.floor(de.right),bottom:Math.floor(de.bottom),left:Math.floor(de.left),width:Math.floor(de.width),height:Math.floor(de.height)}}const He="cdk-global-overlay-wrapper";class Ae{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ge){const ce=ge.getConfig();this._overlayRef=ge,this._width&&!ce.width&&ge.updateSize({width:this._width}),this._height&&!ce.height&&ge.updateSize({height:this._height}),ge.hostElement.classList.add(He),this._isDisposed=!1}top(ge=""){return this._bottomOffset="",this._topOffset=ge,this._alignItems="flex-start",this}left(ge=""){return this._xOffset=ge,this._xPosition="left",this}bottom(ge=""){return this._topOffset="",this._bottomOffset=ge,this._alignItems="flex-end",this}right(ge=""){return this._xOffset=ge,this._xPosition="right",this}start(ge=""){return this._xOffset=ge,this._xPosition="start",this}end(ge=""){return this._xOffset=ge,this._xPosition="end",this}width(ge=""){return this._overlayRef?this._overlayRef.updateSize({width:ge}):this._width=ge,this}height(ge=""){return this._overlayRef?this._overlayRef.updateSize({height:ge}):this._height=ge,this}centerHorizontally(ge=""){return this.left(ge),this._xPosition="center",this}centerVertically(ge=""){return this.top(ge),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ge=this._overlayRef.overlayElement.style,ce=this._overlayRef.hostElement.style,Ce=this._overlayRef.getConfig(),{width:Ye,height:Be,maxWidth:$e,maxHeight:Qe}=Ce,qe=!("100%"!==Ye&&"100vw"!==Ye||$e&&"100%"!==$e&&"100vw"!==$e),dt=!("100%"!==Be&&"100vh"!==Be||Qe&&"100%"!==Qe&&"100vh"!==Qe),It=this._xPosition,_t=this._xOffset,Ot="rtl"===this._overlayRef.getConfig().direction;let jt="",zt="",$t="";qe?$t="flex-start":"center"===It?($t="center",Ot?zt=_t:jt=_t):Ot?"left"===It||"end"===It?($t="flex-end",jt=_t):("right"===It||"start"===It)&&($t="flex-start",zt=_t):"left"===It||"start"===It?($t="flex-start",jt=_t):("right"===It||"end"===It)&&($t="flex-end",zt=_t),ge.position=this._cssPosition,ge.marginLeft=qe?"0":jt,ge.marginTop=dt?"0":this._topOffset,ge.marginBottom=this._bottomOffset,ge.marginRight=qe?"0":zt,ce.justifyContent=$t,ce.alignItems=dt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ge=this._overlayRef.overlayElement.style,ce=this._overlayRef.hostElement,Ce=ce.style;ce.classList.remove(He),Ce.justifyContent=Ce.alignItems=ge.marginTop=ge.marginBottom=ge.marginLeft=ge.marginRight=ge.position="",this._overlayRef=null,this._isDisposed=!0}}let ye=(()=>{class de{constructor(ce,Ce,Ye,Be){this._viewportRuler=ce,this._document=Ce,this._platform=Ye,this._overlayContainer=Be}global(){return new Ae}flexibleConnectedTo(ce){return new _e(ce,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(b.LFG(c.rL),b.LFG(t.K0),b.LFG(y.t4),b.LFG(Ie))};static#t=this.\u0275prov=b.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),K=0,ie=(()=>{class de{constructor(ce,Ce,Ye,Be,$e,Qe,qe,dt,It,_t,Ot,jt){this.scrollStrategies=ce,this._overlayContainer=Ce,this._componentFactoryResolver=Ye,this._positionBuilder=Be,this._keyboardDispatcher=$e,this._injector=Qe,this._ngZone=qe,this._document=dt,this._directionality=It,this._location=_t,this._outsideClickDispatcher=Ot,this._animationsModuleType=jt}create(ce){const Ce=this._createHostElement(),Ye=this._createPaneElement(Ce),Be=this._createPortalOutlet(Ye),$e=new ae(ce);return $e.direction=$e.direction||this._directionality.value,new le(Be,Ce,Ye,$e,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(ce){const Ce=this._document.createElement("div");return Ce.id="cdk-overlay-"+K++,Ce.classList.add("cdk-overlay-pane"),ce.appendChild(Ce),Ce}_createHostElement(){const ce=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ce),ce}_createPortalOutlet(ce){return this._appRef||(this._appRef=this._injector.get(b.z2F)),new A.u0(ce,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(b.LFG(re),b.LFG(Ie),b.LFG(b._Vd),b.LFG(ye),b.LFG(ue),b.LFG(b.zs3),b.LFG(b.R0b),b.LFG(t.K0),b.LFG(v.Is),b.LFG(t.Ye),b.LFG(Se),b.LFG(b.QbO,8))};static#t=this.\u0275prov=b.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const he=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],$=new b.OlP("cdk-connected-overlay-scroll-strategy");let Z=(()=>{class de{constructor(ce){this.elementRef=ce}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(b.Y36(b.SBq))};static#t=this.\u0275dir=b.lG2({type:de,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return de})(),W=(()=>{class de{get offsetX(){return this._offsetX}set offsetX(ce){this._offsetX=ce,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ce){this._offsetY=ce,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(ce){this._hasBackdrop=(0,I.Ig)(ce)}get lockPosition(){return this._lockPosition}set lockPosition(ce){this._lockPosition=(0,I.Ig)(ce)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(ce){this._flexibleDimensions=(0,I.Ig)(ce)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(ce){this._growAfterOpen=(0,I.Ig)(ce)}get push(){return this._push}set push(ce){this._push=(0,I.Ig)(ce)}constructor(ce,Ce,Ye,Be,$e){this._overlay=ce,this._dir=$e,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=O.w0.EMPTY,this._attachSubscription=O.w0.EMPTY,this._detachSubscription=O.w0.EMPTY,this._positionSubscription=O.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new b.vpe,this.positionChange=new b.vpe,this.attach=new b.vpe,this.detach=new b.vpe,this.overlayKeydown=new b.vpe,this.overlayOutsideClick=new b.vpe,this._templatePortal=new A.UE(Ce,Ye),this._scrollStrategyFactory=Be,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ce){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ce.origin&&this.open&&this._position.apply()),ce.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=he);const ce=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ce.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ce.detachments().subscribe(()=>this.detach.emit()),ce.keydownEvents().subscribe(Ce=>{this.overlayKeydown.next(Ce),Ce.keyCode===k.hY&&!this.disableClose&&!(0,k.Vb)(Ce)&&(Ce.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Ce=>{this.overlayOutsideClick.next(Ce)})}_buildConfig(){const ce=this._position=this.positionStrategy||this._createPositionStrategy(),Ce=new ae({direction:this._dir,positionStrategy:ce,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(Ce.width=this.width),(this.height||0===this.height)&&(Ce.height=this.height),(this.minWidth||0===this.minWidth)&&(Ce.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Ce.minHeight=this.minHeight),this.backdropClass&&(Ce.backdropClass=this.backdropClass),this.panelClass&&(Ce.panelClass=this.panelClass),Ce}_updatePositionStrategy(ce){const Ce=this.positions.map(Ye=>({originX:Ye.originX,originY:Ye.originY,overlayX:Ye.overlayX,overlayY:Ye.overlayY,offsetX:Ye.offsetX||this.offsetX,offsetY:Ye.offsetY||this.offsetY,panelClass:Ye.panelClass||void 0}));return ce.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(Ce).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ce=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(ce),ce}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Z?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ce=>{this.backdropClick.emit(ce)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function p(de,ge=!1){return(0,m.e)((ce,Ce)=>{let Ye=0;ce.subscribe((0,h.x)(Ce,Be=>{const $e=de(Be,Ye++);($e||ge)&&Ce.next(Be),!$e&&Ce.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(ce=>{this.positionChange.emit(ce),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Ce){return new(Ce||de)(b.Y36(ie),b.Y36(b.Rgc),b.Y36(b.s_b),b.Y36($),b.Y36(v.Is,8))};static#t=this.\u0275dir=b.lG2({type:de,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[b.TTD]})}return de})();const Q={provide:$,deps:[ie],useFactory:function X(de){return()=>de.scrollStrategies.reposition()}};let q=(()=>{class de{static#e=this.\u0275fac=function(Ce){return new(Ce||de)};static#t=this.\u0275mod=b.oAB({type:de});static#n=this.\u0275inj=b.cJS({providers:[ie,Q],imports:[v.vT,A.eL,c.Cl,c.Cl]})}return de})()},2831:(In,Ze,C)=>{"use strict";C.d(Ze,{Mq:()=>U,Oy:()=>E,ht:()=>D,i$:()=>p,kV:()=>P,qK:()=>x,sA:()=>w,t4:()=>I});var c=C(5879),t=C(6814);let b;try{b=typeof Intl<"u"&&Intl.v8BreakIterator}catch{b=!1}let F,I=(()=>{class N{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,t.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!b)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Y){return new(Y||N)(c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const L=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function x(){if(F)return F;if("object"!=typeof document||!document)return F=new Set(L),F;let N=document.createElement("input");return F=new Set(L.filter(S=>(N.setAttribute("type",S),N.type===S))),F}let m,A,V;function p(N){return function h(){if(null==m&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>m=!0}))}finally{m=m||!1}return m}()?N:!!N.capture}function U(){if(null==A){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return A=!1,A;if("scrollBehavior"in document.documentElement.style)A=!0;else{const N=Element.prototype.scrollTo;A=!!N&&!/\{\s*\[native code\]\s*\}/.test(N.toString())}}return A}function P(N){if(function k(){if(null==V){const N=typeof document<"u"?document.head:null;V=!(!N||!N.createShadowRoot&&!N.attachShadow)}return V}()){const S=N.getRootNode?N.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&S instanceof ShadowRoot)return S}return null}function D(){let N=typeof document<"u"&&document?document.activeElement:null;for(;N&&N.shadowRoot;){const S=N.shadowRoot.activeElement;if(S===N)break;N=S}return N}function w(N){return N.composedPath?N.composedPath()[0]:N.target}function E(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},8484:(In,Ze,C)=>{"use strict";C.d(Ze,{C5:()=>h,Pl:()=>D,UE:()=>p,eL:()=>E,en:()=>A,u0:()=>O});var c=C(5879),t=C(6814);class m{attach(B){return this._attachedHost=B,B.attach(this)}detach(){let B=this._attachedHost;null!=B&&(this._attachedHost=null,B.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(B){this._attachedHost=B}}class h extends m{constructor(B,Y,re,ae,Re){super(),this.component=B,this.viewContainerRef=Y,this.injector=re,this.componentFactoryResolver=ae,this.projectableNodes=Re}}class p extends m{constructor(B,Y,re,ae){super(),this.templateRef=B,this.viewContainerRef=Y,this.context=re,this.injector=ae}get origin(){return this.templateRef.elementRef}attach(B,Y=this.context){return this.context=Y,super.attach(B)}detach(){return this.context=void 0,super.detach()}}class v extends m{constructor(B){super(),this.element=B instanceof c.SBq?B.nativeElement:B}}class A{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(B){return B instanceof h?(this._attachedPortal=B,this.attachComponentPortal(B)):B instanceof p?(this._attachedPortal=B,this.attachTemplatePortal(B)):this.attachDomPortal&&B instanceof v?(this._attachedPortal=B,this.attachDomPortal(B)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(B){this._disposeFn=B}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class O extends A{constructor(B,Y,re,ae,Re){super(),this.outletElement=B,this._componentFactoryResolver=Y,this._appRef=re,this._defaultInjector=ae,this.attachDomPortal=z=>{const oe=z.element,H=this._document.createComment("dom-portal");oe.parentNode.insertBefore(H,oe),this.outletElement.appendChild(oe),this._attachedPortal=z,super.setDisposeFn(()=>{H.parentNode&&H.parentNode.replaceChild(oe,H)})},this._document=Re}attachComponentPortal(B){const re=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component);let ae;return B.viewContainerRef?(ae=B.viewContainerRef.createComponent(re,B.viewContainerRef.length,B.injector||B.viewContainerRef.injector,B.projectableNodes||void 0),this.setDisposeFn(()=>ae.destroy())):(ae=re.create(B.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(ae.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(ae.hostView),ae.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(ae)),this._attachedPortal=B,ae}attachTemplatePortal(B){let Y=B.viewContainerRef,re=Y.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return re.rootNodes.forEach(ae=>this.outletElement.appendChild(ae)),re.detectChanges(),this.setDisposeFn(()=>{let ae=Y.indexOf(re);-1!==ae&&Y.remove(ae)}),this._attachedPortal=B,re}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(B){return B.hostView.rootNodes[0]}}let D=(()=>{class S extends A{constructor(Y,re,ae){super(),this._componentFactoryResolver=Y,this._viewContainerRef=re,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=Re=>{const z=Re.element,oe=this._document.createComment("dom-portal");Re.setAttachedHost(this),z.parentNode.insertBefore(oe,z),this._getRootNode().appendChild(z),this._attachedPortal=Re,super.setDisposeFn(()=>{oe.parentNode&&oe.parentNode.replaceChild(z,oe)})},this._document=ae}get portal(){return this._attachedPortal}set portal(Y){this.hasAttached()&&!Y&&!this._isInitialized||(this.hasAttached()&&super.detach(),Y&&super.attach(Y),this._attachedPortal=Y||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Y){Y.setAttachedHost(this);const re=null!=Y.viewContainerRef?Y.viewContainerRef:this._viewContainerRef,Re=(Y.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Y.component),z=re.createComponent(Re,re.length,Y.injector||re.injector,Y.projectableNodes||void 0);return re!==this._viewContainerRef&&this._getRootNode().appendChild(z.hostView.rootNodes[0]),super.setDisposeFn(()=>z.destroy()),this._attachedPortal=Y,this._attachedRef=z,this.attached.emit(z),z}attachTemplatePortal(Y){Y.setAttachedHost(this);const re=this._viewContainerRef.createEmbeddedView(Y.templateRef,Y.context,{injector:Y.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Y,this._attachedRef=re,this.attached.emit(re),re}_getRootNode(){const Y=this._viewContainerRef.element.nativeElement;return Y.nodeType===Y.ELEMENT_NODE?Y:Y.parentNode}static#e=this.\u0275fac=function(re){return new(re||S)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(t.K0))};static#t=this.\u0275dir=c.lG2({type:S,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]})}return S})(),E=(()=>{class S{static#e=this.\u0275fac=function(re){return new(re||S)};static#t=this.\u0275mod=c.oAB({type:S});static#n=this.\u0275inj=c.cJS({})}return S})()},799:(In,Ze,C)=>{"use strict";C.d(Ze,{ZD:()=>de,mF:()=>He,Cl:()=>ge,rL:()=>K});var c=C(2495),t=C(5879),b=C(8645),I=C(2096),y=C(5592),F=C(2438),L=C(1954),x=C(7394);const m={schedule(ce){let Ce=requestAnimationFrame,Ye=cancelAnimationFrame;const{delegate:Be}=m;Be&&(Ce=Be.requestAnimationFrame,Ye=Be.cancelAnimationFrame);const $e=Ce(Qe=>{Ye=void 0,ce(Qe)});return new x.w0(()=>Ye?.($e))},requestAnimationFrame(...ce){const{delegate:Ce}=m;return(Ce?.requestAnimationFrame||requestAnimationFrame)(...ce)},cancelAnimationFrame(...ce){const{delegate:Ce}=m;return(Ce?.cancelAnimationFrame||cancelAnimationFrame)(...ce)},delegate:void 0};var p=C(2631);new class v extends p.v{flush(Ce){this._active=!0;const Ye=this._scheduled;this._scheduled=void 0;const{actions:Be}=this;let $e;Ce=Ce||Be.shift();do{if($e=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Be[0])&&Ce.id===Ye&&Be.shift());if(this._active=!1,$e){for(;(Ce=Be[0])&&Ce.id===Ye&&Be.shift();)Ce.unsubscribe();throw $e}}}(class h extends L.o{constructor(Ce,Ye){super(Ce,Ye),this.scheduler=Ce,this.work=Ye}requestAsyncId(Ce,Ye,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Ce,Ye,Be):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=m.requestAnimationFrame(()=>Ce.flush(void 0))))}recycleAsyncId(Ce,Ye,Be=0){var $e;if(null!=Be?Be>0:this.delay>0)return super.recycleAsyncId(Ce,Ye,Be);const{actions:Qe}=Ce;null!=Ye&&(null===($e=Qe[Qe.length-1])||void 0===$e?void 0:$e.id)!==Ye&&(m.cancelAnimationFrame(Ye),Ce._scheduled=void 0)}});let V,O=1;const k={};function P(ce){return ce in k&&(delete k[ce],!0)}const D={setImmediate(ce){const Ce=O++;return k[Ce]=!0,V||(V=Promise.resolve()),V.then(()=>P(Ce)&&ce()),Ce},clearImmediate(ce){P(ce)}},{setImmediate:E,clearImmediate:N}=D,S={setImmediate(...ce){const{delegate:Ce}=S;return(Ce?.setImmediate||E)(...ce)},clearImmediate(ce){const{delegate:Ce}=S;return(Ce?.clearImmediate||N)(ce)},delegate:void 0};new class Y extends p.v{flush(Ce){this._active=!0;const Ye=this._scheduled;this._scheduled=void 0;const{actions:Be}=this;let $e;Ce=Ce||Be.shift();do{if($e=Ce.execute(Ce.state,Ce.delay))break}while((Ce=Be[0])&&Ce.id===Ye&&Be.shift());if(this._active=!1,$e){for(;(Ce=Be[0])&&Ce.id===Ye&&Be.shift();)Ce.unsubscribe();throw $e}}}(class B extends L.o{constructor(Ce,Ye){super(Ce,Ye),this.scheduler=Ce,this.work=Ye}requestAsyncId(Ce,Ye,Be=0){return null!==Be&&Be>0?super.requestAsyncId(Ce,Ye,Be):(Ce.actions.push(this),Ce._scheduled||(Ce._scheduled=S.setImmediate(Ce.flush.bind(Ce,void 0))))}recycleAsyncId(Ce,Ye,Be=0){var $e;if(null!=Be?Be>0:this.delay>0)return super.recycleAsyncId(Ce,Ye,Be);const{actions:Qe}=Ce;null!=Ye&&(null===($e=Qe[Qe.length-1])||void 0===$e?void 0:$e.id)!==Ye&&(S.clearImmediate(Ye),Ce._scheduled===Ye&&(Ce._scheduled=void 0))}});var Re=C(6321),z=C(9360),oe=C(4829),H=C(8251),te=C(4825);function ue(ce,Ce=Re.z){return function me(ce){return(0,z.e)((Ce,Ye)=>{let Be=!1,$e=null,Qe=null,qe=!1;const dt=()=>{if(Qe?.unsubscribe(),Qe=null,Be){Be=!1;const _t=$e;$e=null,Ye.next(_t)}qe&&Ye.complete()},It=()=>{Qe=null,qe&&Ye.complete()};Ce.subscribe((0,H.x)(Ye,_t=>{Be=!0,$e=_t,Qe||(0,oe.Xf)(ce(_t)).subscribe(Qe=(0,H.x)(Ye,dt,It))},()=>{qe=!0,(!Be||!Qe||Qe.closed)&&Ye.complete()}))})}(()=>(0,te.H)(ce,Ce))}var Se=C(2181),Ie=C(2831),le=C(6814),Me=C(9388);let He=(()=>{class ce{constructor(Ye,Be,$e){this._ngZone=Ye,this._platform=Be,this._scrolled=new b.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=$e}register(Ye){this.scrollContainers.has(Ye)||this.scrollContainers.set(Ye,Ye.elementScrolled().subscribe(()=>this._scrolled.next(Ye)))}deregister(Ye){const Be=this.scrollContainers.get(Ye);Be&&(Be.unsubscribe(),this.scrollContainers.delete(Ye))}scrolled(Ye=20){return this._platform.isBrowser?new y.y(Be=>{this._globalSubscription||this._addGlobalListener();const $e=Ye>0?this._scrolled.pipe(ue(Ye)).subscribe(Be):this._scrolled.subscribe(Be);return this._scrolledCount++,()=>{$e.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,I.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ye,Be)=>this.deregister(Be)),this._scrolled.complete()}ancestorScrolled(Ye,Be){const $e=this.getAncestorScrollContainers(Ye);return this.scrolled(Be).pipe((0,Se.h)(Qe=>!Qe||$e.indexOf(Qe)>-1))}getAncestorScrollContainers(Ye){const Be=[];return this.scrollContainers.forEach(($e,Qe)=>{this._scrollableContainsElement(Qe,Ye)&&Be.push(Qe)}),Be}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ye,Be){let $e=(0,c.fI)(Be),Qe=Ye.getElementRef().nativeElement;do{if($e==Qe)return!0}while($e=$e.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ye=this._getWindow();return(0,F.R)(Ye.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Be){return new(Be||ce)(t.LFG(t.R0b),t.LFG(Ie.t4),t.LFG(le.K0,8))};static#t=this.\u0275prov=t.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),K=(()=>{class ce{constructor(Ye,Be,$e){this._platform=Ye,this._change=new b.x,this._changeListener=Qe=>{this._change.next(Qe)},this._document=$e,Be.runOutsideAngular(()=>{if(Ye.isBrowser){const Qe=this._getWindow();Qe.addEventListener("resize",this._changeListener),Qe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ye=this._getWindow();Ye.removeEventListener("resize",this._changeListener),Ye.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ye={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ye}getViewportRect(){const Ye=this.getViewportScrollPosition(),{width:Be,height:$e}=this.getViewportSize();return{top:Ye.top,left:Ye.left,bottom:Ye.top+$e,right:Ye.left+Be,height:$e,width:Be}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ye=this._document,Be=this._getWindow(),$e=Ye.documentElement,Qe=$e.getBoundingClientRect();return{top:-Qe.top||Ye.body.scrollTop||Be.scrollY||$e.scrollTop||0,left:-Qe.left||Ye.body.scrollLeft||Be.scrollX||$e.scrollLeft||0}}change(Ye=20){return Ye>0?this._change.pipe(ue(Ye)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ye=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ye.innerWidth,height:Ye.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Be){return new(Be||ce)(t.LFG(Ie.t4),t.LFG(t.R0b),t.LFG(le.K0,8))};static#t=this.\u0275prov=t.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),de=(()=>{class ce{static#e=this.\u0275fac=function(Be){return new(Be||ce)};static#t=this.\u0275mod=t.oAB({type:ce});static#n=this.\u0275inj=t.cJS({})}return ce})(),ge=(()=>{class ce{static#e=this.\u0275fac=function(Be){return new(Be||ce)};static#t=this.\u0275mod=t.oAB({type:ce});static#n=this.\u0275inj=t.cJS({imports:[Me.vT,de,Me.vT,de]})}return ce})()},6814:(In,Ze,C)=>{"use strict";C.d(Ze,{Do:()=>V,ED:()=>si,EM:()=>Oa,HT:()=>I,JF:()=>$i,K0:()=>F,Mn:()=>me,Mx:()=>bn,NF:()=>Hr,O5:()=>at,Ov:()=>Ro,PM:()=>bo,RF:()=>tn,S$:()=>A,Tn:()=>re,UT:()=>te,V_:()=>x,Ye:()=>k,ax:()=>rt,b0:()=>O,bD:()=>fr,ez:()=>ur,mk:()=>Ht,mr:()=>U,n9:()=>pi,p6:()=>Ce,q:()=>b,sg:()=>rt,tP:()=>eo,uU:()=>Li,w_:()=>y,x:()=>Y});var c=C(5879);let t=null;function b(){return t}function I(De){t||(t=De)}class y{}const F=new c.OlP("DocumentToken");let L=(()=>{class De{historyGo(Je){throw new Error("Not implemented")}static#e=this.\u0275fac=function(gt){return new(gt||De)};static#t=this.\u0275prov=c.Yz7({token:De,factory:function(){return(0,c.f3M)(m)},providedIn:"platform"})}return De})();const x=new c.OlP("Location Initialized");let m=(()=>{class De extends L{constructor(){super(),this._doc=(0,c.f3M)(F),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(Je){const gt=b().getGlobalEventTarget(this._doc,"window");return gt.addEventListener("popstate",Je,!1),()=>gt.removeEventListener("popstate",Je)}onHashChange(Je){const gt=b().getGlobalEventTarget(this._doc,"window");return gt.addEventListener("hashchange",Je,!1),()=>gt.removeEventListener("hashchange",Je)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Je){this._location.pathname=Je}pushState(Je,gt,Bt){this._history.pushState(Je,gt,Bt)}replaceState(Je,gt,Bt){this._history.replaceState(Je,gt,Bt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Je=0){this._history.go(Je)}getState(){return this._history.state}static#e=this.\u0275fac=function(gt){return new(gt||De)};static#t=this.\u0275prov=c.Yz7({token:De,factory:function(){return new De},providedIn:"platform"})}return De})();function h(De,pt){if(0==De.length)return pt;if(0==pt.length)return De;let Je=0;return De.endsWith("/")&&Je++,pt.startsWith("/")&&Je++,2==Je?De+pt.substring(1):1==Je?De+pt:De+"/"+pt}function p(De){const pt=De.match(/#|\?|$/),Je=pt&&pt.index||De.length;return De.slice(0,Je-("/"===De[Je-1]?1:0))+De.slice(Je)}function v(De){return De&&"?"!==De[0]?"?"+De:De}let A=(()=>{class De{historyGo(Je){throw new Error("Not implemented")}static#e=this.\u0275fac=function(gt){return new(gt||De)};static#t=this.\u0275prov=c.Yz7({token:De,factory:function(){return(0,c.f3M)(O)},providedIn:"root"})}return De})();const U=new c.OlP("appBaseHref");let O=(()=>{class De extends A{constructor(Je,gt){super(),this._platformLocation=Je,this._removeListenerFns=[],this._baseHref=gt??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Je){this._removeListenerFns.push(this._platformLocation.onPopState(Je),this._platformLocation.onHashChange(Je))}getBaseHref(){return this._baseHref}prepareExternalUrl(Je){return h(this._baseHref,Je)}path(Je=!1){const gt=this._platformLocation.pathname+v(this._platformLocation.search),Bt=this._platformLocation.hash;return Bt&&Je?`${gt}${Bt}`:gt}pushState(Je,gt,Bt,fn){const Cn=this.prepareExternalUrl(Bt+v(fn));this._platformLocation.pushState(Je,gt,Cn)}replaceState(Je,gt,Bt,fn){const Cn=this.prepareExternalUrl(Bt+v(fn));this._platformLocation.replaceState(Je,gt,Cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Je=0){this._platformLocation.historyGo?.(Je)}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),V=(()=>{class De extends A{constructor(Je,gt){super(),this._platformLocation=Je,this._baseHref="",this._removeListenerFns=[],null!=gt&&(this._baseHref=gt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Je){this._removeListenerFns.push(this._platformLocation.onPopState(Je),this._platformLocation.onHashChange(Je))}getBaseHref(){return this._baseHref}path(Je=!1){let gt=this._platformLocation.hash;return null==gt&&(gt="#"),gt.length>0?gt.substring(1):gt}prepareExternalUrl(Je){const gt=h(this._baseHref,Je);return gt.length>0?"#"+gt:gt}pushState(Je,gt,Bt,fn){let Cn=this.prepareExternalUrl(Bt+v(fn));0==Cn.length&&(Cn=this._platformLocation.pathname),this._platformLocation.pushState(Je,gt,Cn)}replaceState(Je,gt,Bt,fn){let Cn=this.prepareExternalUrl(Bt+v(fn));0==Cn.length&&(Cn=this._platformLocation.pathname),this._platformLocation.replaceState(Je,gt,Cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Je=0){this._platformLocation.historyGo?.(Je)}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.LFG(L),c.LFG(U,8))};static#t=this.\u0275prov=c.Yz7({token:De,factory:De.\u0275fac})}return De})(),k=(()=>{class De{constructor(Je){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Je;const gt=this._locationStrategy.getBaseHref();this._basePath=function E(De){if(new RegExp("^(https?:)?//").test(De)){const[,Je]=De.split(/\/\/[^\/]+/);return Je}return De}(p(w(gt))),this._locationStrategy.onPopState(Bt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Bt.state,type:Bt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Je=!1){return this.normalize(this._locationStrategy.path(Je))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Je,gt=""){return this.path()==this.normalize(Je+v(gt))}normalize(Je){return De.stripTrailingSlash(function D(De,pt){if(!De||!pt.startsWith(De))return pt;const Je=pt.substring(De.length);return""===Je||["/",";","?","#"].includes(Je[0])?Je:pt}(this._basePath,w(Je)))}prepareExternalUrl(Je){return Je&&"/"!==Je[0]&&(Je="/"+Je),this._locationStrategy.prepareExternalUrl(Je)}go(Je,gt="",Bt=null){this._locationStrategy.pushState(Bt,"",Je,gt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Je+v(gt)),Bt)}replaceState(Je,gt="",Bt=null){this._locationStrategy.replaceState(Bt,"",Je,gt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Je+v(gt)),Bt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Je=0){this._locationStrategy.historyGo?.(Je)}onUrlChange(Je){return this._urlChangeListeners.push(Je),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(gt=>{this._notifyUrlChangeListeners(gt.url,gt.state)})),()=>{const gt=this._urlChangeListeners.indexOf(Je);this._urlChangeListeners.splice(gt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Je="",gt){this._urlChangeListeners.forEach(Bt=>Bt(Je,gt))}subscribe(Je,gt,Bt){return this._subject.subscribe({next:Je,error:gt,complete:Bt})}static#e=this.normalizeQueryParams=v;static#t=this.joinWithSlash=h;static#n=this.stripTrailingSlash=p;static#i=this.\u0275fac=function(gt){return new(gt||De)(c.LFG(A))};static#r=this.\u0275prov=c.Yz7({token:De,factory:function(){return function P(){return new k((0,c.LFG)(A))}()},providedIn:"root"})}return De})();function w(De){return De.replace(/\/index.html$/,"")}var Y=function(De){return De[De.Format=0]="Format",De[De.Standalone=1]="Standalone",De}(Y||{}),re=function(De){return De[De.Narrow=0]="Narrow",De[De.Abbreviated=1]="Abbreviated",De[De.Wide=2]="Wide",De[De.Short=3]="Short",De}(re||{}),ae=function(De){return De[De.Short=0]="Short",De[De.Medium=1]="Medium",De[De.Long=2]="Long",De[De.Full=3]="Full",De}(ae||{}),Re=function(De){return De[De.Decimal=0]="Decimal",De[De.Group=1]="Group",De[De.List=2]="List",De[De.PercentSign=3]="PercentSign",De[De.PlusSign=4]="PlusSign",De[De.MinusSign=5]="MinusSign",De[De.Exponential=6]="Exponential",De[De.SuperscriptingExponent=7]="SuperscriptingExponent",De[De.PerMille=8]="PerMille",De[De.Infinity=9]="Infinity",De[De.NaN=10]="NaN",De[De.TimeSeparator=11]="TimeSeparator",De[De.CurrencyDecimal=12]="CurrencyDecimal",De[De.CurrencyGroup=13]="CurrencyGroup",De}(Re||{});function me(De,pt,Je){const gt=(0,c.cg1)(De),fn=he([gt[c.wAp.DaysFormat],gt[c.wAp.DaysStandalone]],pt);return he(fn,Je)}function te(De,pt,Je){const gt=(0,c.cg1)(De),fn=he([gt[c.wAp.MonthsFormat],gt[c.wAp.MonthsStandalone]],pt);return he(fn,Je)}function le(De,pt){return he((0,c.cg1)(De)[c.wAp.DateFormat],pt)}function Me(De,pt){return he((0,c.cg1)(De)[c.wAp.TimeFormat],pt)}function we(De,pt){return he((0,c.cg1)(De)[c.wAp.DateTimeFormat],pt)}function _e(De,pt){const Je=(0,c.cg1)(De),gt=Je[c.wAp.NumberSymbols][pt];if(typeof gt>"u"){if(pt===Re.CurrencyDecimal)return Je[c.wAp.NumberSymbols][Re.Decimal];if(pt===Re.CurrencyGroup)return Je[c.wAp.NumberSymbols][Re.Group]}return gt}function Ae(De){if(!De[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${De[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function he(De,pt){for(let Je=pt;Je>-1;Je--)if(typeof De[Je]<"u")return De[Je];throw new Error("Locale data API: locale data undefined")}function $(De){const[pt,Je]=De.split(":");return{hours:+pt,minutes:+Je}}const Q=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},J=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var de=function(De){return De[De.Short=0]="Short",De[De.ShortGMT=1]="ShortGMT",De[De.Long=2]="Long",De[De.Extended=3]="Extended",De}(de||{}),ge=function(De){return De[De.FullYear=0]="FullYear",De[De.Month=1]="Month",De[De.Date=2]="Date",De[De.Hours=3]="Hours",De[De.Minutes=4]="Minutes",De[De.Seconds=5]="Seconds",De[De.FractionalSeconds=6]="FractionalSeconds",De[De.Day=7]="Day",De}(ge||{}),ce=function(De){return De[De.DayPeriods=0]="DayPeriods",De[De.Days=1]="Days",De[De.Months=2]="Months",De[De.Eras=3]="Eras",De}(ce||{});function Ce(De,pt,Je,gt){let Bt=function mt(De){if(ft(De))return De;if("number"==typeof De&&!isNaN(De))return new Date(De);if("string"==typeof De){if(De=De.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(De)){const[Bt,fn=1,Cn=1]=De.split("-").map(Xn=>+Xn);return Ye(Bt,fn-1,Cn)}const Je=parseFloat(De);if(!isNaN(De-Je))return new Date(Je);let gt;if(gt=De.match(Q))return function Dt(De){const pt=new Date(0);let Je=0,gt=0;const Bt=De[8]?pt.setUTCFullYear:pt.setFullYear,fn=De[8]?pt.setUTCHours:pt.setHours;De[9]&&(Je=Number(De[9]+De[10]),gt=Number(De[9]+De[11])),Bt.call(pt,Number(De[1]),Number(De[2])-1,Number(De[3]));const Cn=Number(De[4]||0)-Je,Xn=Number(De[5]||0)-gt,Yi=Number(De[6]||0),Ii=Math.floor(1e3*parseFloat("0."+(De[7]||0)));return fn.call(pt,Cn,Xn,Yi,Ii),pt}(gt)}const pt=new Date(De);if(!ft(pt))throw new Error(`Unable to convert "${De}" into a date`);return pt}(De);pt=Be(Je,pt)||pt;let Xn,Cn=[];for(;pt;){if(Xn=J.exec(pt),!Xn){Cn.push(pt);break}{Cn=Cn.concat(Xn.slice(1));const Fi=Cn.pop();if(!Fi)break;pt=Fi}}let Yi=Bt.getTimezoneOffset();gt&&(Yi=fe(gt,Yi),Bt=function lt(De,pt,Je){const gt=Je?-1:1,Bt=De.getTimezoneOffset();return function pe(De,pt){return(De=new Date(De.getTime())).setMinutes(De.getMinutes()+pt),De}(De,gt*(fe(pt,Bt)-Bt))}(Bt,gt,!0));let Ii="";return Cn.forEach(Fi=>{const Mi=function xe(De){if(ut[De])return ut[De];let pt;switch(De){case"G":case"GG":case"GGG":pt=_t(ce.Eras,re.Abbreviated);break;case"GGGG":pt=_t(ce.Eras,re.Wide);break;case"GGGGG":pt=_t(ce.Eras,re.Narrow);break;case"y":pt=dt(ge.FullYear,1,0,!1,!0);break;case"yy":pt=dt(ge.FullYear,2,0,!0,!0);break;case"yyy":pt=dt(ge.FullYear,3,0,!1,!0);break;case"yyyy":pt=dt(ge.FullYear,4,0,!1,!0);break;case"Y":pt=st(1);break;case"YY":pt=st(2,!0);break;case"YYY":pt=st(3);break;case"YYYY":pt=st(4);break;case"M":case"L":pt=dt(ge.Month,1,1);break;case"MM":case"LL":pt=dt(ge.Month,2,1);break;case"MMM":pt=_t(ce.Months,re.Abbreviated);break;case"MMMM":pt=_t(ce.Months,re.Wide);break;case"MMMMM":pt=_t(ce.Months,re.Narrow);break;case"LLL":pt=_t(ce.Months,re.Abbreviated,Y.Standalone);break;case"LLLL":pt=_t(ce.Months,re.Wide,Y.Standalone);break;case"LLLLL":pt=_t(ce.Months,re.Narrow,Y.Standalone);break;case"w":pt=jn(1);break;case"ww":pt=jn(2);break;case"W":pt=jn(1,!0);break;case"d":pt=dt(ge.Date,1);break;case"dd":pt=dt(ge.Date,2);break;case"c":case"cc":pt=dt(ge.Day,1);break;case"ccc":pt=_t(ce.Days,re.Abbreviated,Y.Standalone);break;case"cccc":pt=_t(ce.Days,re.Wide,Y.Standalone);break;case"ccccc":pt=_t(ce.Days,re.Narrow,Y.Standalone);break;case"cccccc":pt=_t(ce.Days,re.Short,Y.Standalone);break;case"E":case"EE":case"EEE":pt=_t(ce.Days,re.Abbreviated);break;case"EEEE":pt=_t(ce.Days,re.Wide);break;case"EEEEE":pt=_t(ce.Days,re.Narrow);break;case"EEEEEE":pt=_t(ce.Days,re.Short);break;case"a":case"aa":case"aaa":pt=_t(ce.DayPeriods,re.Abbreviated);break;case"aaaa":pt=_t(ce.DayPeriods,re.Wide);break;case"aaaaa":pt=_t(ce.DayPeriods,re.Narrow);break;case"b":case"bb":case"bbb":pt=_t(ce.DayPeriods,re.Abbreviated,Y.Standalone,!0);break;case"bbbb":pt=_t(ce.DayPeriods,re.Wide,Y.Standalone,!0);break;case"bbbbb":pt=_t(ce.DayPeriods,re.Narrow,Y.Standalone,!0);break;case"B":case"BB":case"BBB":pt=_t(ce.DayPeriods,re.Abbreviated,Y.Format,!0);break;case"BBBB":pt=_t(ce.DayPeriods,re.Wide,Y.Format,!0);break;case"BBBBB":pt=_t(ce.DayPeriods,re.Narrow,Y.Format,!0);break;case"h":pt=dt(ge.Hours,1,-12);break;case"hh":pt=dt(ge.Hours,2,-12);break;case"H":pt=dt(ge.Hours,1);break;case"HH":pt=dt(ge.Hours,2);break;case"m":pt=dt(ge.Minutes,1);break;case"mm":pt=dt(ge.Minutes,2);break;case"s":pt=dt(ge.Seconds,1);break;case"ss":pt=dt(ge.Seconds,2);break;case"S":pt=dt(ge.FractionalSeconds,1);break;case"SS":pt=dt(ge.FractionalSeconds,2);break;case"SSS":pt=dt(ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":pt=jt(de.Short);break;case"ZZZZZ":pt=jt(de.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":pt=jt(de.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":pt=jt(de.Long);break;default:return null}return ut[De]=pt,pt}(Fi);Ii+=Mi?Mi(Bt,Je,Yi):"''"===Fi?"'":Fi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ii}function Ye(De,pt,Je){const gt=new Date(0);return gt.setFullYear(De,pt,Je),gt.setHours(0,0,0),gt}function Be(De,pt){const Je=function oe(De){return(0,c.cg1)(De)[c.wAp.LocaleId]}(De);if(q[Je]=q[Je]||{},q[Je][pt])return q[Je][pt];let gt="";switch(pt){case"shortDate":gt=le(De,ae.Short);break;case"mediumDate":gt=le(De,ae.Medium);break;case"longDate":gt=le(De,ae.Long);break;case"fullDate":gt=le(De,ae.Full);break;case"shortTime":gt=Me(De,ae.Short);break;case"mediumTime":gt=Me(De,ae.Medium);break;case"longTime":gt=Me(De,ae.Long);break;case"fullTime":gt=Me(De,ae.Full);break;case"short":const Bt=Be(De,"shortTime"),fn=Be(De,"shortDate");gt=$e(we(De,ae.Short),[Bt,fn]);break;case"medium":const Cn=Be(De,"mediumTime"),Xn=Be(De,"mediumDate");gt=$e(we(De,ae.Medium),[Cn,Xn]);break;case"long":const Yi=Be(De,"longTime"),Ii=Be(De,"longDate");gt=$e(we(De,ae.Long),[Yi,Ii]);break;case"full":const Fi=Be(De,"fullTime"),Mi=Be(De,"fullDate");gt=$e(we(De,ae.Full),[Fi,Mi])}return gt&&(q[Je][pt]=gt),gt}function $e(De,pt){return pt&&(De=De.replace(/\{([^}]+)}/g,function(Je,gt){return null!=pt&&gt in pt?pt[gt]:Je})),De}function Qe(De,pt,Je="-",gt,Bt){let fn="";(De<0||Bt&&De<=0)&&(Bt?De=1-De:(De=-De,fn=Je));let Cn=String(De);for(;Cn.length<pt;)Cn="0"+Cn;return gt&&(Cn=Cn.slice(Cn.length-pt)),fn+Cn}function dt(De,pt,Je=0,gt=!1,Bt=!1){return function(fn,Cn){let Xn=function It(De,pt){switch(De){case ge.FullYear:return pt.getFullYear();case ge.Month:return pt.getMonth();case ge.Date:return pt.getDate();case ge.Hours:return pt.getHours();case ge.Minutes:return pt.getMinutes();case ge.Seconds:return pt.getSeconds();case ge.FractionalSeconds:return pt.getMilliseconds();case ge.Day:return pt.getDay();default:throw new Error(`Unknown DateType value "${De}".`)}}(De,fn);if((Je>0||Xn>-Je)&&(Xn+=Je),De===ge.Hours)0===Xn&&-12===Je&&(Xn=12);else if(De===ge.FractionalSeconds)return function qe(De,pt){return Qe(De,3).substring(0,pt)}(Xn,pt);const Yi=_e(Cn,Re.MinusSign);return Qe(Xn,pt,Yi,gt,Bt)}}function _t(De,pt,Je=Y.Format,gt=!1){return function(Bt,fn){return function Ot(De,pt,Je,gt,Bt,fn){switch(Je){case ce.Months:return te(pt,Bt,gt)[De.getMonth()];case ce.Days:return me(pt,Bt,gt)[De.getDay()];case ce.DayPeriods:const Cn=De.getHours(),Xn=De.getMinutes();if(fn){const Ii=function ye(De){const pt=(0,c.cg1)(De);return Ae(pt),(pt[c.wAp.ExtraData][2]||[]).map(gt=>"string"==typeof gt?$(gt):[$(gt[0]),$(gt[1])])}(pt),Fi=function K(De,pt,Je){const gt=(0,c.cg1)(De);Ae(gt);const fn=he([gt[c.wAp.ExtraData][0],gt[c.wAp.ExtraData][1]],pt)||[];return he(fn,Je)||[]}(pt,Bt,gt),Mi=Ii.findIndex(er=>{if(Array.isArray(er)){const[Ki,xr]=er,uo=Cn>=Ki.hours&&Xn>=Ki.minutes,ri=Cn<xr.hours||Cn===xr.hours&&Xn<xr.minutes;if(Ki.hours<xr.hours){if(uo&&ri)return!0}else if(uo||ri)return!0}else if(er.hours===Cn&&er.minutes===Xn)return!0;return!1});if(-1!==Mi)return Fi[Mi]}return function H(De,pt,Je){const gt=(0,c.cg1)(De),fn=he([gt[c.wAp.DayPeriodsFormat],gt[c.wAp.DayPeriodsStandalone]],pt);return he(fn,Je)}(pt,Bt,gt)[Cn<12?0:1];case ce.Eras:return function ue(De,pt){return he((0,c.cg1)(De)[c.wAp.Eras],pt)}(pt,gt)[De.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Je}`)}}(Bt,fn,De,pt,Je,gt)}}function jt(De){return function(pt,Je,gt){const Bt=-1*gt,fn=_e(Je,Re.MinusSign),Cn=Bt>0?Math.floor(Bt/60):Math.ceil(Bt/60);switch(De){case de.Short:return(Bt>=0?"+":"")+Qe(Cn,2,fn)+Qe(Math.abs(Bt%60),2,fn);case de.ShortGMT:return"GMT"+(Bt>=0?"+":"")+Qe(Cn,1,fn);case de.Long:return"GMT"+(Bt>=0?"+":"")+Qe(Cn,2,fn)+":"+Qe(Math.abs(Bt%60),2,fn);case de.Extended:return 0===gt?"Z":(Bt>=0?"+":"")+Qe(Cn,2,fn)+":"+Qe(Math.abs(Bt%60),2,fn);default:throw new Error(`Unknown zone width "${De}"`)}}}const zt=0,$t=4;function pn(De){return Ye(De.getFullYear(),De.getMonth(),De.getDate()+($t-De.getDay()))}function jn(De,pt=!1){return function(Je,gt){let Bt;if(pt){const fn=new Date(Je.getFullYear(),Je.getMonth(),1).getDay()-1,Cn=Je.getDate();Bt=1+Math.floor((Cn+fn)/7)}else{const fn=pn(Je),Cn=function dn(De){const pt=Ye(De,zt,1).getDay();return Ye(De,0,1+(pt<=$t?$t:$t+7)-pt)}(fn.getFullYear()),Xn=fn.getTime()-Cn.getTime();Bt=1+Math.round(Xn/6048e5)}return Qe(Bt,De,_e(gt,Re.MinusSign))}}function st(De,pt=!1){return function(Je,gt){return Qe(pn(Je).getFullYear(),De,_e(gt,Re.MinusSign),pt)}}const ut={};function fe(De,pt){De=De.replace(/:/g,"");const Je=Date.parse("Jan 01, 1970 00:00:00 "+De)/6e4;return isNaN(Je)?pt:Je}function ft(De){return De instanceof Date&&!isNaN(De.valueOf())}function bn(De,pt){pt=encodeURIComponent(pt);for(const Je of De.split(";")){const gt=Je.indexOf("="),[Bt,fn]=-1==gt?[Je,""]:[Je.slice(0,gt),Je.slice(gt+1)];if(Bt.trim()===pt)return decodeURIComponent(fn)}return null}const Ft=/\s+/,Rt=[];let Ht=(()=>{class De{constructor(Je,gt,Bt,fn){this._iterableDiffers=Je,this._keyValueDiffers=gt,this._ngEl=Bt,this._renderer=fn,this.initialClasses=Rt,this.stateMap=new Map}set klass(Je){this.initialClasses=null!=Je?Je.trim().split(Ft):Rt}set ngClass(Je){this.rawClass="string"==typeof Je?Je.trim().split(Ft):Je}ngDoCheck(){for(const gt of this.initialClasses)this._updateState(gt,!0);const Je=this.rawClass;if(Array.isArray(Je)||Je instanceof Set)for(const gt of Je)this._updateState(gt,!0);else if(null!=Je)for(const gt of Object.keys(Je))this._updateState(gt,!!Je[gt]);this._applyStateDiff()}_updateState(Je,gt){const Bt=this.stateMap.get(Je);void 0!==Bt?(Bt.enabled!==gt&&(Bt.changed=!0,Bt.enabled=gt),Bt.touched=!0):this.stateMap.set(Je,{enabled:gt,changed:!0,touched:!0})}_applyStateDiff(){for(const Je of this.stateMap){const gt=Je[0],Bt=Je[1];Bt.changed?(this._toggleClass(gt,Bt.enabled),Bt.changed=!1):Bt.touched||(Bt.enabled&&this._toggleClass(gt,!1),this.stateMap.delete(gt)),Bt.touched=!1}}_toggleClass(Je,gt){(Je=Je.trim()).length>0&&Je.split(Ft).forEach(Bt=>{gt?this._renderer.addClass(this._ngEl.nativeElement,Bt):this._renderer.removeClass(this._ngEl.nativeElement,Bt)})}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return De})();class Un{constructor(pt,Je,gt,Bt){this.$implicit=pt,this.ngForOf=Je,this.index=gt,this.count=Bt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rt=(()=>{class De{set ngForOf(Je){this._ngForOf=Je,this._ngForOfDirty=!0}set ngForTrackBy(Je){this._trackByFn=Je}get ngForTrackBy(){return this._trackByFn}constructor(Je,gt,Bt){this._viewContainer=Je,this._template=gt,this._differs=Bt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Je){Je&&(this._template=Je)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Je=this._ngForOf;!this._differ&&Je&&(this._differ=this._differs.find(Je).create(this.ngForTrackBy))}if(this._differ){const Je=this._differ.diff(this._ngForOf);Je&&this._applyChanges(Je)}}_applyChanges(Je){const gt=this._viewContainer;Je.forEachOperation((Bt,fn,Cn)=>{if(null==Bt.previousIndex)gt.createEmbeddedView(this._template,new Un(Bt.item,this._ngForOf,-1,-1),null===Cn?void 0:Cn);else if(null==Cn)gt.remove(null===fn?void 0:fn);else if(null!==fn){const Xn=gt.get(fn);gt.move(Xn,Cn),Xt(Xn,Bt)}});for(let Bt=0,fn=gt.length;Bt<fn;Bt++){const Xn=gt.get(Bt).context;Xn.index=Bt,Xn.count=fn,Xn.ngForOf=this._ngForOf}Je.forEachIdentityChange(Bt=>{Xt(gt.get(Bt.currentIndex),Bt)})}static ngTemplateContextGuard(Je,gt){return!0}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return De})();function Xt(De,pt){De.context.$implicit=pt.item}let at=(()=>{class De{constructor(Je,gt){this._viewContainer=Je,this._context=new tt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=gt}set ngIf(Je){this._context.$implicit=this._context.ngIf=Je,this._updateView()}set ngIfThen(Je){At("ngIfThen",Je),this._thenTemplateRef=Je,this._thenViewRef=null,this._updateView()}set ngIfElse(Je){At("ngIfElse",Je),this._elseTemplateRef=Je,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Je,gt){return!0}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.s_b),c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return De})();class tt{constructor(){this.$implicit=null,this.ngIf=null}}function At(De,pt){if(pt&&!pt.createEmbeddedView)throw new Error(`${De} must be a TemplateRef, but received '${(0,c.AaK)(pt)}'.`)}class qt{constructor(pt,Je){this._viewContainerRef=pt,this._templateRef=Je,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(pt){pt&&!this._created?this.create():!pt&&this._created&&this.destroy()}}let tn=(()=>{class De{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Je){this._ngSwitch=Je,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Je){this._defaultViews.push(Je)}_matchCase(Je){const gt=Je==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||gt,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),gt}_updateDefaultCases(Je){if(this._defaultViews.length>0&&Je!==this._defaultUsed){this._defaultUsed=Je;for(const gt of this._defaultViews)gt.enforceState(Je)}}static#e=this.\u0275fac=function(gt){return new(gt||De)};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return De})(),pi=(()=>{class De{constructor(Je,gt,Bt){this.ngSwitch=Bt,Bt._addCase(),this._view=new qt(Je,gt)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(tn,9))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return De})(),si=(()=>{class De{constructor(Je,gt,Bt){Bt._addDefault(new qt(Je,gt))}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(tn,9))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return De})(),eo=(()=>{class De{constructor(Je){this._viewContainerRef=Je,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Je){if(Je.ngTemplateOutlet||Je.ngTemplateOutletInjector){const gt=this._viewContainerRef;if(this._viewRef&&gt.remove(gt.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Bt,ngTemplateOutletContext:fn,ngTemplateOutletInjector:Cn}=this;this._viewRef=gt.createEmbeddedView(Bt,fn,Cn?{injector:Cn}:void 0)}else this._viewRef=null}else this._viewRef&&Je.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.s_b))};static#t=this.\u0275dir=c.lG2({type:De,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]})}return De})();function di(De,pt){return new c.vHH(2100,!1)}class Zi{createSubscription(pt,Je){return(0,c.rg0)(()=>pt.subscribe({next:Je,error:gt=>{throw gt}}))}dispose(pt){(0,c.rg0)(()=>pt.unsubscribe())}}class gr{createSubscription(pt,Je){return pt.then(Je,gt=>{throw gt})}dispose(pt){}}const Si=new gr,ni=new Zi;let Ro=(()=>{class De{constructor(Je){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Je}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Je){return this._obj?Je!==this._obj?(this._dispose(),this.transform(Je)):this._latestValue:(Je&&this._subscribe(Je),this._latestValue)}_subscribe(Je){this._obj=Je,this._strategy=this._selectStrategy(Je),this._subscription=this._strategy.createSubscription(Je,gt=>this._updateLatestValue(Je,gt))}_selectStrategy(Je){if((0,c.QGY)(Je))return Si;if((0,c.F4k)(Je))return ni;throw di()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Je,gt){Je===this._obj&&(this._latestValue=gt,this._ref.markForCheck())}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.sBO,16))};static#t=this.\u0275pipe=c.Yjl({name:"async",type:De,pure:!1,standalone:!0})}return De})();const Rn=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ai=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Li=(()=>{class De{constructor(Je,gt,Bt){this.locale=Je,this.defaultTimezone=gt,this.defaultOptions=Bt}transform(Je,gt,Bt,fn){if(null==Je||""===Je||Je!=Je)return null;try{return Ce(Je,gt??this.defaultOptions?.dateFormat??"mediumDate",fn||this.locale,Bt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Cn){throw di()}}static#e=this.\u0275fac=function(gt){return new(gt||De)(c.Y36(c.soG,16),c.Y36(Rn,24),c.Y36(ai,24))};static#t=this.\u0275pipe=c.Yjl({name:"date",type:De,pure:!0,standalone:!0})}return De})(),ur=(()=>{class De{static#e=this.\u0275fac=function(gt){return new(gt||De)};static#t=this.\u0275mod=c.oAB({type:De});static#n=this.\u0275inj=c.cJS({})}return De})();const fr="browser",Ia="server";function Hr(De){return De===fr}function bo(De){return De===Ia}let Oa=(()=>{class De{static#e=this.\u0275prov=(0,c.Yz7)({token:De,providedIn:"root",factory:()=>new Fr((0,c.LFG)(F),window)})}return De})();class Fr{constructor(pt,Je){this.document=pt,this.window=Je,this.offset=()=>[0,0]}setOffset(pt){this.offset=Array.isArray(pt)?()=>pt:pt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(pt){this.supportsScrolling()&&this.window.scrollTo(pt[0],pt[1])}scrollToAnchor(pt){if(!this.supportsScrolling())return;const Je=function Eo(De,pt){const Je=De.getElementById(pt)||De.getElementsByName(pt)[0];if(Je)return Je;if("function"==typeof De.createTreeWalker&&De.body&&"function"==typeof De.body.attachShadow){const gt=De.createTreeWalker(De.body,NodeFilter.SHOW_ELEMENT);let Bt=gt.currentNode;for(;Bt;){const fn=Bt.shadowRoot;if(fn){const Cn=fn.getElementById(pt)||fn.querySelector(`[name="${pt}"]`);if(Cn)return Cn}Bt=gt.nextNode()}}return null}(this.document,pt);Je&&(this.scrollToElement(Je),Je.focus())}setHistoryScrollRestoration(pt){if(this.supportScrollRestoration()){const Je=this.window.history;Je&&Je.scrollRestoration&&(Je.scrollRestoration=pt)}}scrollToElement(pt){const Je=pt.getBoundingClientRect(),gt=Je.left+this.window.pageXOffset,Bt=Je.top+this.window.pageYOffset,fn=this.offset();this.window.scrollTo(gt-fn[0],Bt-fn[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const pt=Zo(this.window.history)||Zo(Object.getPrototypeOf(this.window.history));return!(!pt||!pt.writable&&!pt.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Zo(De){return Object.getOwnPropertyDescriptor(De,"scrollRestoration")}class $i{}},5879:(In,Ze,C)=>{"use strict";C.d(Ze,{$8M:()=>yp,$WT:()=>Si,$Z:()=>U_,AFp:()=>UE,ALo:()=>sg,AaK:()=>v,AsE:()=>Pm,BQk:()=>ef,CHM:()=>xc,CRH:()=>b0,DdM:()=>n0,EJc:()=>rD,EiD:()=>r_,EpF:()=>Iv,F$t:()=>kv,F4k:()=>Ov,FYo:()=>Ao,FiY:()=>nu,G48:()=>Yf,Gf:()=>v0,GfV:()=>S_,GkF:()=>ym,Gpc:()=>O,Gre:()=>lf,HDt:()=>L0,Hsn:()=>Fv,Ikx:()=>ic,JOm:()=>du,JVY:()=>Kx,JZr:()=>w,Jf7:()=>x_,KtG:()=>Qf,L6k:()=>Wx,LAX:()=>Zx,LFG:()=>xe,LMc:()=>jD,LSH:()=>fs,Lbi:()=>m_,Lck:()=>Sd,MAs:()=>Mv,MGl:()=>tf,MMx:()=>Zy,MR2:()=>Au,NdJ:()=>Em,O4$:()=>sh,Ojb:()=>lM,OlP:()=>Wi,Oqu:()=>Om,P3R:()=>Mu,PXZ:()=>Fg,Q6J:()=>pm,QGY:()=>bm,QbO:()=>VE,Qsj:()=>Qr,R0b:()=>Po,RDi:()=>Gc,Rgc:()=>Qs,SBq:()=>hs,SDv:()=>pf,Sil:()=>F0,Suo:()=>y0,TTD:()=>Ra,TgZ:()=>Ju,Tol:()=>HS,Udp:()=>Am,VKq:()=>r0,VuI:()=>hb,W1O:()=>E0,WFA:()=>Tm,WLB:()=>o0,XFs:()=>de,Xpm:()=>tn,Xq5:()=>gv,Xts:()=>kl,Y36:()=>Gl,YKP:()=>vf,YNc:()=>qu,Yjl:()=>yo,Yz7:()=>Ae,Z0I:()=>he,ZZ4:()=>Zg,_Bn:()=>zy,_UZ:()=>vm,_Vd:()=>Lu,_c5:()=>MD,_uU:()=>oy,aQg:()=>$g,c2e:()=>wg,cJS:()=>K,cg1:()=>fd,d8E:()=>Qi,dDg:()=>dD,dqk:()=>$e,eBb:()=>zx,eFA:()=>Ug,eJc:()=>Sg,ekj:()=>wm,eoX:()=>Lg,f3M:()=>pe,g9A:()=>jE,h0i:()=>cc,hGG:()=>AD,hYB:()=>Cm,hij:()=>sf,iGM:()=>wd,ifc:()=>Vt,ip1:()=>N0,jDz:()=>$y,kEZ:()=>oo,kL8:()=>vy,kcU:()=>Fe,lG2:()=>eo,lcZ:()=>Va,lqb:()=>Fl,lri:()=>kd,mCW:()=>Kc,n5z:()=>jb,n_E:()=>Md,oAB:()=>Ui,oJD:()=>o_,oxw:()=>Lv,pB0:()=>$x,q3G:()=>us,qFp:()=>VD,qLn:()=>Ul,qOj:()=>rm,qZA:()=>Qu,qzn:()=>Yc,rWj:()=>Bf,rg0:()=>ha,s9C:()=>Sm,sBO:()=>Wo,s_b:()=>Df,soG:()=>Nd,tb:()=>jf,tp0:()=>Fc,uIk:()=>sm,vHH:()=>E,vpe:()=>Ga,wAp:()=>or,xi3:()=>s0,xp6:()=>P_,ynx:()=>Xu,z2F:()=>il,z3N:()=>ds,zSh:()=>c_,zW0:()=>uv,zs3:()=>gs});var c=C(8645),t=C(7394),b=C(5619),I=C(5592),y=C(3019),F=C(2096),L=C(3020),x=C(4664),m=C(3997);function h(l){for(let d in l)if(l[d]===h)return d;throw Error("Could not find renamed property on target object.")}function p(l,d){for(const f in d)d.hasOwnProperty(f)&&!l.hasOwnProperty(f)&&(l[f]=d[f])}function v(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(v).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const d=l.toString();if(null==d)return""+d;const f=d.indexOf("\n");return-1===f?d:d.substring(0,f)}function A(l,d){return null==l||""===l?null===d?"":d:null==d||""===d?l:l+" "+d}const U=h({__forward_ref__:h});function O(l){return l.__forward_ref__=O,l.toString=function(){return v(this())},l}function V(l){return k(l)?l():l}function k(l){return"function"==typeof l&&l.hasOwnProperty(U)&&l.__forward_ref__===O}function P(l){return l&&!!l.\u0275providers}const w="https://g.co/ng/security#xss";class E extends Error{constructor(d,f){super(function N(l,d){return`NG0${Math.abs(l)}${d?": "+d:""}`}(d,f)),this.code=d}}function S(l){return"string"==typeof l?l:null==l?"":String(l)}function Re(l,d){throw new E(-201,!1)}function Oe(l,d,f,_){throw new Error(`ASSERTION ERROR: ${l}`+(null==_?"":` [Expected=> ${f} ${_} ${d} <=Actual]`))}function Ae(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function K(l){return{providers:l.providers||[],imports:l.imports||[]}}function ie(l){return $(l,X)||$(l,q)}function he(l){return null!==ie(l)}function $(l,d){return l.hasOwnProperty(d)?l[d]:null}function W(l){return l&&(l.hasOwnProperty(Q)||l.hasOwnProperty(J))?l[Q]:null}const X=h({\u0275prov:h}),Q=h({\u0275inj:h}),q=h({ngInjectableDef:h}),J=h({ngInjectorDef:h});var de=function(l){return l[l.Default=0]="Default",l[l.Host=1]="Host",l[l.Self=2]="Self",l[l.SkipSelf=4]="SkipSelf",l[l.Optional=8]="Optional",l}(de||{});let ge;function Ce(l){const d=ge;return ge=l,d}function Ye(l,d,f){const _=ie(l);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:f&de.Optional?null:void 0!==d?d:void Re(v(l))}const $e=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),It={},_t="__NG_DI_FLAG__",Ot="ngTempTokenPath",zt=/\n/gm,dn="__source";let pn;function st(l){const d=pn;return pn=l,d}function ut(l,d=de.Default){if(void 0===pn)throw new E(-203,!1);return null===pn?Ye(l,void 0,d):pn.get(l,d&de.Optional?null:void 0,d)}function xe(l,d=de.Default){return(function ce(){return ge}()||ut)(V(l),d)}function pe(l,d=de.Default){return xe(l,lt(d))}function lt(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function mt(l){const d=[];for(let f=0;f<l.length;f++){const _=V(l[f]);if(Array.isArray(_)){if(0===_.length)throw new E(900,!1);let M,j=de.Default;for(let ee=0;ee<_.length;ee++){const Te=_[ee],ke=ft(Te);"number"==typeof ke?-1===ke?M=Te.token:j|=ke:M=Te}d.push(xe(M,j))}else d.push(xe(_))}return d}function Dt(l,d){return l[_t]=d,l.prototype[_t]=d,l}function ft(l){return l[_t]}function Wt(l){return{toString:l}.toString()}var wt=function(l){return l[l.OnPush=0]="OnPush",l[l.Default=1]="Default",l}(wt||{}),Vt=function(l){return l[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",l}(Vt||{});const en={},nn=[],yn=h({\u0275cmp:h}),Tn=h({\u0275dir:h}),On=h({\u0275pipe:h}),kn=h({\u0275mod:h}),qn=h({\u0275fac:h}),ui=h({__NG_ELEMENT_ID__:h}),kt=h({__NG_ENV_ID__:h});function St(l,d,f){let _=l.length;for(;;){const M=l.indexOf(d,f);if(-1===M)return M;if(0===M||l.charCodeAt(M-1)<=32){const j=d.length;if(M+j===_||l.charCodeAt(M+j)<=32)return M}f=M+1}}function ct(l,d,f){let _=0;for(;_<f.length;){const M=f[_];if("number"==typeof M){if(0!==M)break;_++;const j=f[_++],ee=f[_++],Te=f[_++];l.setAttribute(d,ee,Te,j)}else{const j=M,ee=f[++_];Ke(j)?l.setProperty(d,j,ee):l.setAttribute(d,j,ee),_++}}return _}function Qt(l){return 3===l||4===l||6===l}function Ke(l){return 64===l.charCodeAt(0)}function it(l,d){if(null!==d&&0!==d.length)if(null===l||0===l.length)l=d.slice();else{let f=-1;for(let _=0;_<d.length;_++){const M=d[_];"number"==typeof M?f=M:0===f||Ct(l,f,M,null,-1===f||2===f?d[++_]:null)}}return l}function Ct(l,d,f,_,M){let j=0,ee=l.length;if(-1===d)ee=-1;else for(;j<l.length;){const Te=l[j++];if("number"==typeof Te){if(Te===d){ee=-1;break}if(Te>d){ee=j-1;break}}}for(;j<l.length;){const Te=l[j];if("number"==typeof Te)break;if(Te===f){if(null===_)return void(null!==M&&(l[j+1]=M));if(_===l[j+1])return void(l[j+2]=M)}j++,null!==_&&j++,null!==M&&j++}-1!==ee&&(l.splice(ee,0,d),j=ee+1),l.splice(j++,0,f),null!==_&&l.splice(j++,0,_),null!==M&&l.splice(j++,0,M)}const Gt="ng-template";function hn(l,d,f){let _=0,M=!0;for(;_<l.length;){let j=l[_++];if("string"==typeof j&&M){const ee=l[_++];if(f&&"class"===j&&-1!==St(ee.toLowerCase(),d,0))return!0}else{if(1===j){for(;_<l.length&&"string"==typeof(j=l[_++]);)if(j.toLowerCase()===d)return!0;return!1}"number"==typeof j&&(M=!1)}}return!1}function bn(l){return 4===l.type&&l.value!==Gt}function Ft(l,d,f){return d===(4!==l.type||f?l.value:Gt)}function Rt(l,d,f){let _=4;const M=l.attrs||[],j=function rt(l){for(let d=0;d<l.length;d++)if(Qt(l[d]))return d;return l.length}(M);let ee=!1;for(let Te=0;Te<d.length;Te++){const ke=d[Te];if("number"!=typeof ke){if(!ee)if(4&_){if(_=2|1&_,""!==ke&&!Ft(l,ke,f)||""===ke&&1===d.length){if(Ht(_))return!1;ee=!0}}else{const nt=8&_?ke:d[++Te];if(8&_&&null!==l.attrs){if(!hn(l.attrs,nt,f)){if(Ht(_))return!1;ee=!0}continue}const Pt=on(8&_?"class":ke,M,bn(l),f);if(-1===Pt){if(Ht(_))return!1;ee=!0;continue}if(""!==nt){let rn;rn=Pt>j?"":M[Pt+1].toLowerCase();const ln=8&_?rn:null;if(ln&&-1!==St(ln,nt,0)||2&_&&nt!==rn){if(Ht(_))return!1;ee=!0}}}}else{if(!ee&&!Ht(_)&&!Ht(ke))return!1;if(ee&&Ht(ke))continue;ee=!1,_=ke|1&_}}return Ht(_)||ee}function Ht(l){return 0==(1&l)}function on(l,d,f,_){if(null===d)return-1;let M=0;if(_||!f){let j=!1;for(;M<d.length;){const ee=d[M];if(ee===l)return M;if(3===ee||6===ee)j=!0;else{if(1===ee||2===ee){let Te=d[++M];for(;"string"==typeof Te;)Te=d[++M];continue}if(4===ee)break;if(0===ee){M+=4;continue}}M+=j?1:2}return-1}return function Xt(l,d){let f=l.indexOf(4);if(f>-1)for(f++;f<l.length;){const _=l[f];if("number"==typeof _)return-1;if(_===d)return f;f++}return-1}(d,l)}function vn(l,d,f=!1){for(let _=0;_<d.length;_++)if(Rt(l,d[_],f))return!0;return!1}function ve(l,d){e:for(let f=0;f<d.length;f++){const _=d[f];if(l.length===_.length){for(let M=0;M<l.length;M++)if(l[M]!==_[M])continue e;return!0}}return!1}function at(l,d){return l?":not("+d.trim()+")":d}function tt(l){let d=l[0],f=1,_=2,M="",j=!1;for(;f<l.length;){let ee=l[f];if("string"==typeof ee)if(2&_){const Te=l[++f];M+="["+ee+(Te.length>0?'="'+Te+'"':"")+"]"}else 8&_?M+="."+ee:4&_&&(M+=" "+ee);else""!==M&&!Ht(ee)&&(d+=at(j,M),M=""),_=ee,j=j||!Ht(_);f++}return""!==M&&(d+=at(j,M)),d}function tn(l){return Wt(()=>{const d=Ro(l),f={...d,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&l.dependencies||null,getStandaloneInjector:null,signals:l.signals??!1,data:l.data||{},encapsulation:l.encapsulation||Vt.Emulated,styles:l.styles||nn,_:null,schemas:l.schemas||null,tView:null,id:""};so(f);const _=l.dependencies;return f.directiveDefs=wi(_,!1),f.pipeDefs=wi(_,!0),f.id=function xn(l){let d=0;const f=[l.selectors,l.ngContentSelectors,l.hostVars,l.hostAttrs,l.consts,l.vars,l.decls,l.encapsulation,l.standalone,l.signals,l.exportAs,JSON.stringify(l.inputs),JSON.stringify(l.outputs),Object.getOwnPropertyNames(l.type.prototype),!!l.contentQueries,!!l.viewQuery].join("|");for(const M of f)d=Math.imul(31,d)+M.charCodeAt(0)<<0;return d+=2147483648,"c"+d}(f),f})}function si(l){return di(l)||Zi(l)}function sr(l){return null!==l}function Ui(l){return Wt(()=>({type:l.type,bootstrap:l.bootstrap||nn,declarations:l.declarations||nn,imports:l.imports||nn,exports:l.exports||nn,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function vo(l,d){if(null==l)return en;const f={};for(const _ in l)if(l.hasOwnProperty(_)){let M=l[_],j=M;Array.isArray(M)&&(j=M[1],M=M[0]),f[M]=_,d&&(d[M]=j)}return f}function eo(l){return Wt(()=>{const d=Ro(l);return so(d),d})}function yo(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function di(l){return l[yn]||null}function Zi(l){return l[Tn]||null}function gr(l){return l[On]||null}function Si(l){const d=di(l)||Zi(l)||gr(l);return null!==d&&d.standalone}function ni(l,d){const f=l[kn]||null;if(!f&&!0===d)throw new Error(`Type ${v(l)} does not have '\u0275mod' property.`);return f}function Ro(l){const d={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:l.inputs||en,exportAs:l.exportAs||null,standalone:!0===l.standalone,signals:!0===l.signals,selectors:l.selectors||nn,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vo(l.inputs,d),outputs:vo(l.outputs)}}function so(l){l.features?.forEach(d=>d(l))}function wi(l,d){if(!l)return null;const f=d?gr:si;return()=>("function"==typeof l?l():l).map(_=>f(_)).filter(sr)}const _i=0,Rn=1,ai=2,Li=3,Sr=4,cr=5,nr=6,Jn=7,Ut=8,mn=9,Mn=10,Nn=11,Zn=12,ei=13,fi=14,li=15,Ri=16,dr=17,ur=18,fr=19,Ia=20,to=21,wr=22,Hr=23,bo=24,Di=25,Ir=1,Oa=2,Fr=7,Eo=9,$i=11;function pr(l){return Array.isArray(l)&&"object"==typeof l[Ir]}function Or(l){return Array.isArray(l)&&!0===l[Ir]}function To(l){return 0!=(4&l.flags)}function hr(l){return l.componentOffset>-1}function Qo(l){return 1==(1&l.flags)}function rr(l){return!!l.template}function Xo(l){return 0!=(512&l[ai])}function We(l,d){return l.hasOwnProperty(qn)?l[qn]:null}let hi=$e.WeakRef??class Wn{constructor(d){this.ref=d}deref(){return this.ref}},_r=0,Mr=null,Ur=!1;function ki(l){const d=Mr;return Mr=l,d}class ko{constructor(){this.id=_r++,this.ref=function Ji(l){return new hi(l)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[d,f]of this.producers){const _=f.producerNode.deref();if(null!=_&&f.atTrackingVersion===this.trackingVersion){if(_.producerPollStatus(f.seenValueVersion))return!0}else this.producers.delete(d),_?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const d=Ur;Ur=!0;try{for(const[f,_]of this.consumers){const M=_.consumerNode.deref();null!=M&&M.trackingVersion===_.atTrackingVersion?M.onConsumerDependencyMayHaveChanged():(this.consumers.delete(f),M?.producers.delete(this.id))}}finally{Ur=d}}producerAccessed(){if(Ur)throw new Error("");if(null===Mr)return;let d=Mr.producers.get(this.id);void 0===d?(d={consumerNode:Mr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Mr.trackingVersion},Mr.producers.set(this.id,d),this.consumers.set(Mr.id,d)):(d.seenValueVersion=this.valueVersion,d.atTrackingVersion=Mr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Mr?.consumerAllowSignalWrites}producerPollStatus(d){return this.valueVersion!==d||(this.onProducerUpdateValueVersion(),this.valueVersion!==d)}}let dl=null;function ha(l){const d=ki(null);try{return l()}finally{ki(d)}}const yc=()=>{};class bc extends ko{constructor(d,f,_){super(),this.watch=d,this.schedule=f,this.dirty=!1,this.cleanupFn=yc,this.registerOnCleanup=M=>{this.cleanupFn=M},this.consumerAllowSignalWrites=_}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const d=ki(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=yc,this.watch(this.registerOnCleanup)}finally{ki(d)}}cleanup(){this.cleanupFn()}}class Ec{constructor(d,f,_){this.previousValue=d,this.currentValue=f,this.firstChange=_}isFirstChange(){return this.firstChange}}function Ra(){return ws}function ws(l){return l.type.prototype.ngOnChanges&&(l.setInput=Tc),Is}function Is(){const l=ul(this),d=l?.current;if(d){const f=l.previous;if(f===en)l.previous=d;else for(let _ in d)f[_]=d[_];l.current=null,this.ngOnChanges(d)}}function Tc(l,d,f,_){const M=this.declaredInputs[f],j=ul(l)||function Cc(l,d){return l[Sc]=d}(l,{previous:en,current:null}),ee=j.current||(j.current={}),Te=j.previous,ke=Te[M];ee[M]=new Ec(ke&&ke.currentValue,d,Te===en),l[_]=d}Ra.ngInherit=!0;const Sc="__ngSimpleChanges__";function ul(l){return l[Sc]||null}const Bo=function(l,d,f){},hl="svg";function Xi(l){for(;Array.isArray(l);)l=l[_i];return l}function De(l,d){return Xi(d[l])}function pt(l,d){return Xi(d[l.index])}function gt(l,d){return l.data[d]}function Bt(l,d){return l[d]}function fn(l,d){const f=d[l];return pr(f)?f:f[_i]}function Ii(l,d){return null==d?null:l[d]}function Fi(l){l[dr]=0}function Mi(l){1024&l[ai]||(l[ai]|=1024,Ki(l,1))}function er(l){1024&l[ai]&&(l[ai]&=-1025,Ki(l,-1))}function Ki(l,d){let f=l[Li];if(null===f)return;f[cr]+=d;let _=f;for(f=f[Li];null!==f&&(1===d&&1===_[cr]||-1===d&&0===_[cr]);)f[cr]+=d,_=f,f=f[Li]}const ri={lFrame:Zd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Dc(){return ri.bindingsEnabled}function ta(){return null!==ri.skipHydrationRootTNode}function Ln(){return ri.lFrame.lView}function Oi(){return ri.lFrame.tView}function xc(l){return ri.lFrame.contextLView=l,l[Ut]}function Qf(l){return ri.lFrame.contextLView=null,l}function Nr(){let l=na();for(;null!==l&&64===l.type;)l=l.parent;return l}function na(){return ri.lFrame.currentTNode}function Ps(){const l=ri.lFrame,d=l.currentTNode;return l.isParent?d:d.parent}function ya(l,d){const f=ri.lFrame;f.currentTNode=l,f.isParent=d}function Yd(){return ri.lFrame.isParent}function Xf(){ri.lFrame.isParent=!1}function io(){const l=ri.lFrame;let d=l.bindingRootIndex;return-1===d&&(d=l.bindingRootIndex=l.tView.bindingStartIndex),d}function Qa(){return ri.lFrame.bindingIndex++}function Ea(l){const d=ri.lFrame,f=d.bindingIndex;return d.bindingIndex=d.bindingIndex+l,f}function nh(l){ri.lFrame.inI18n=l}function ap(l,d){const f=ri.lFrame;f.bindingIndex=f.bindingRootIndex=l,rh(d)}function rh(l){ri.lFrame.currentDirectiveIndex=l}function pl(l){const d=ri.lFrame.currentDirectiveIndex;return-1===d?null:l[d]}function oh(){return ri.lFrame.currentQueryIndex}function Mc(l){ri.lFrame.currentQueryIndex=l}function sp(l){const d=l[Rn];return 2===d.type?d.declTNode:1===d.type?l[nr]:null}function ah(l,d,f){if(f&de.SkipSelf){let M=d,j=l;for(;!(M=M.parent,null!==M||f&de.Host||(M=sp(j),null===M||(j=j[fi],10&M.type))););if(null===M)return!1;d=M,l=j}const _=ri.lFrame=zd();return _.currentTNode=d,_.lView=l,!0}function Wd(l){const d=zd(),f=l[Rn];ri.lFrame=d,d.currentTNode=f.firstChild,d.lView=l,d.tView=f,d.contextLView=l,d.bindingIndex=f.bindingStartIndex,d.inI18n=!1}function zd(){const l=ri.lFrame,d=null===l?null:l.child;return null===d?Zd(l):d}function Zd(l){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=d),d}function $d(){const l=ri.lFrame;return ri.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Ac=$d;function wc(){const l=$d();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function fo(){return ri.lFrame.selectedIndex}function ss(l){ri.lFrame.selectedIndex=l}function vr(){const l=ri.lFrame;return gt(l.tView,l.selectedIndex)}function sh(){ri.lFrame.currentNamespace=hl}function Fe(){!function se(){ri.lFrame.currentNamespace=null}()}let ot=!0;function Mt(){return ot}function xt(l){ot=l}function Fn(l,d){for(let f=d.directiveStart,_=d.directiveEnd;f<_;f++){const j=l.data[f].type.prototype,{ngAfterContentInit:ee,ngAfterContentChecked:Te,ngAfterViewInit:ke,ngAfterViewChecked:nt,ngOnDestroy:Et}=j;ee&&(l.contentHooks??=[]).push(-f,ee),Te&&((l.contentHooks??=[]).push(f,Te),(l.contentCheckHooks??=[]).push(f,Te)),ke&&(l.viewHooks??=[]).push(-f,ke),nt&&((l.viewHooks??=[]).push(f,nt),(l.viewCheckHooks??=[]).push(f,nt)),null!=Et&&(l.destroyHooks??=[]).push(f,Et)}}function ti(l,d,f){ho(l,d,3,f)}function ii(l,d,f,_){(3&l[ai])===f&&ho(l,d,f,_)}function ji(l,d){let f=l[ai];(3&f)===d&&(f&=8191,f+=1,l[ai]=f)}function ho(l,d,f,_){const j=_??-1,ee=d.length-1;let Te=0;for(let ke=void 0!==_?65535&l[dr]:0;ke<ee;ke++)if("number"==typeof d[ke+1]){if(Te=d[ke],null!=_&&Te>=_)break}else d[ke]<0&&(l[dr]+=65536),(Te<j||-1==j)&&(Rs(l,f,d,ke),l[dr]=(4294901760&l[dr])+ke+2),ke++}function _l(l,d){Bo(4,l,d);const f=ki(null);try{d.call(l)}finally{ki(f),Bo(5,l,d)}}function Rs(l,d,f,_){const M=f[_]<0,j=f[_+1],Te=l[M?-f[_]:f[_]];M?l[ai]>>13<l[dr]>>16&&(3&l[ai])===d&&(l[ai]+=8192,_l(Te,j)):_l(Te,j)}const ia=-1;class Xa{constructor(d,f,_){this.factory=d,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=_}}function dp(l){return l!==ia}function qd(l){return 32767&l}function Jd(l,d){let f=function Ob(l){return l>>16}(l),_=d;for(;f>0;)_=_[fi],f--;return _}let ch=!0;function Qd(l){const d=ch;return ch=l,d}const up=255,fp=5;let Pb=0;const Na={};function Xd(l,d){const f=hp(l,d);if(-1!==f)return f;const _=d[Rn];_.firstCreatePass&&(l.injectorIndex=d.length,Ic(_.data,l),Ic(d,null),Ic(_.blueprint,null));const M=dh(l,d),j=l.injectorIndex;if(dp(M)){const ee=qd(M),Te=Jd(M,d),ke=Te[Rn].data;for(let nt=0;nt<8;nt++)d[j+nt]=Te[ee+nt]|ke[ee+nt]}return d[j+8]=M,j}function Ic(l,d){l.push(0,0,0,0,0,0,0,0,d)}function hp(l,d){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===d[l.injectorIndex+8]?-1:l.injectorIndex}function dh(l,d){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let f=0,_=null,M=d;for(;null!==M;){if(_=Vb(M),null===_)return ia;if(f++,M=M[fi],-1!==_.injectorIndex)return _.injectorIndex|f<<16}return ia}function uh(l,d,f){!function Rb(l,d,f){let _;"string"==typeof f?_=f.charCodeAt(0)||0:f.hasOwnProperty(ui)&&(_=f[ui]),null==_&&(_=f[ui]=Pb++);const M=_&up;d.data[l+(M>>fp)]|=1<<M}(l,d,f)}function mp(l,d,f){if(f&de.Optional||void 0!==l)return l;Re()}function gp(l,d,f,_){if(f&de.Optional&&void 0===_&&(_=null),!(f&(de.Self|de.Host))){const M=l[mn],j=Ce(void 0);try{return M?M.get(d,_,f&de.Optional):Ye(d,_,f&de.Optional)}finally{Ce(j)}}return mp(_,0,f)}function pp(l,d,f,_=de.Default,M){if(null!==l){if(2048&d[ai]&&!(_&de.Self)){const ee=function yx(l,d,f,_,M){let j=l,ee=d;for(;null!==j&&null!==ee&&2048&ee[ai]&&!(512&ee[ai]);){const Te=_p(j,ee,f,_|de.Self,Na);if(Te!==Na)return Te;let ke=j.parent;if(!ke){const nt=ee[Ia];if(nt){const Et=nt.get(f,Na,_);if(Et!==Na)return Et}ke=Vb(ee),ee=ee[fi]}j=ke}return M}(l,d,f,_,Na);if(ee!==Na)return ee}const j=_p(l,d,f,_,Na);if(j!==Na)return j}return gp(d,f,_,M)}function _p(l,d,f,_,M){const j=function kb(l){if("string"==typeof l)return l.charCodeAt(0)||0;const d=l.hasOwnProperty(ui)?l[ui]:void 0;return"number"==typeof d?d>=0?d&up:Ub:d}(f);if("function"==typeof j){if(!ah(d,l,_))return _&de.Host?mp(M,0,_):gp(d,f,_,M);try{const ee=j(_);if(null!=ee||_&de.Optional)return ee;Re()}finally{Ac()}}else if("number"==typeof j){let ee=null,Te=hp(l,d),ke=ia,nt=_&de.Host?d[li][nr]:null;for((-1===Te||_&de.SkipSelf)&&(ke=-1===Te?dh(l,d):d[Te+8],ke!==ia&&Bb(_,!1)?(ee=d[Rn],Te=qd(ke),d=Jd(ke,d)):Te=-1);-1!==Te;){const Et=d[Rn];if(Fb(j,Te,Et.data)){const Pt=Lb(Te,d,f,ee,_,nt);if(Pt!==Na)return Pt}ke=d[Te+8],ke!==ia&&Bb(_,d[Rn].data[Te+8]===nt)&&Fb(j,Te,d)?(ee=Et,Te=qd(ke),d=Jd(ke,d)):Te=-1}}return M}function Lb(l,d,f,_,M,j){const ee=d[Rn],Te=ee.data[l+8],Et=eu(Te,ee,f,null==_?hr(Te)&&ch:_!=ee&&0!=(3&Te.type),M&de.Host&&j===Te);return null!==Et?Ls(d,ee,Et,Te):Na}function eu(l,d,f,_,M){const j=l.providerIndexes,ee=d.data,Te=1048575&j,ke=l.directiveStart,Et=j>>20,rn=M?Te+Et:l.directiveEnd;for(let ln=_?Te:Te+Et;ln<rn;ln++){const Dn=ee[ln];if(ln<ke&&f===Dn||ln>=ke&&Dn.type===f)return ln}if(M){const ln=ee[ke];if(ln&&rr(ln)&&ln.type===f)return ke}return null}function Ls(l,d,f,_){let M=l[f];const j=d.data;if(function Ns(l){return l instanceof Xa}(M)){const ee=M;ee.resolving&&function Y(l,d){const f=d?`. Dependency path: ${d.join(" > ")} > ${l}`:"";throw new E(-200,`Circular dependency in DI detected for ${l}${f}`)}(function B(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():S(l)}(j[f]));const Te=Qd(ee.canSeeViewProviders);ee.resolving=!0;const ke=ee.injectImpl?Ce(ee.injectImpl):null;ah(l,_,de.Default);try{M=l[f]=ee.factory(void 0,j,l,_),d.firstCreatePass&&f>=_.directiveStart&&function an(l,d,f){const{ngOnChanges:_,ngOnInit:M,ngDoCheck:j}=d.type.prototype;if(_){const ee=ws(d);(f.preOrderHooks??=[]).push(l,ee),(f.preOrderCheckHooks??=[]).push(l,ee)}M&&(f.preOrderHooks??=[]).push(0-l,M),j&&((f.preOrderHooks??=[]).push(l,j),(f.preOrderCheckHooks??=[]).push(l,j))}(f,j[f],d)}finally{null!==ke&&Ce(ke),Qd(Te),ee.resolving=!1,Ac()}}return M}function Fb(l,d,f){return!!(f[d+(l>>fp)]&1<<l)}function Bb(l,d){return!(l&de.Self||l&de.Host&&d)}class Oc{constructor(d,f){this._tNode=d,this._lView=f}get(d,f,_){return pp(this._tNode,this._lView,d,lt(_),f)}}function Ub(){return new Oc(Nr(),Ln())}function jb(l){return Wt(()=>{const d=l.prototype.constructor,f=d[qn]||vp(d),_=Object.prototype;let M=Object.getPrototypeOf(l.prototype).constructor;for(;M&&M!==_;){const j=M[qn]||vp(M);if(j&&j!==f)return j;M=Object.getPrototypeOf(M)}return j=>new j})}function vp(l){return k(l)?()=>{const d=vp(V(l));return d&&d()}:We(l)}function Vb(l){const d=l[Rn],f=d.type;return 2===f?d.declTNode:1===f?l[nr]:null}function yp(l){return function Nb(l,d){if("class"===d)return l.classes;if("style"===d)return l.styles;const f=l.attrs;if(f){const _=f.length;let M=0;for(;M<_;){const j=f[M];if(Qt(j))break;if(0===j)M+=2;else if("number"==typeof j)for(M++;M<_&&"string"==typeof f[M];)M++;else{if(j===d)return f[M+1];M+=2}}}return null}(Nr(),l)}const vl="__parameters__";function bl(l,d,f){return Wt(()=>{const _=function bp(l){return function(...f){if(l){const _=l(...f);for(const M in _)this[M]=_[M]}}}(d);function M(...j){if(this instanceof M)return _.apply(this,j),this;const ee=new M(...j);return Te.annotation=ee,Te;function Te(ke,nt,Et){const Pt=ke.hasOwnProperty(vl)?ke[vl]:Object.defineProperty(ke,vl,{value:[]})[vl];for(;Pt.length<=Et;)Pt.push(null);return(Pt[Et]=Pt[Et]||[]).push(ee),ke}}return f&&(M.prototype=Object.create(f.prototype)),M.prototype.ngMetadataName=l,M.annotationCls=M,M})}function Lr(l,d){l.forEach(f=>Array.isArray(f)?Lr(f,d):d(f))}function xo(l,d,f){d>=l.length?l.push(f):l.splice(d,0,f)}function La(l,d){return d>=l.length-1?l.pop():l.splice(d,1)[0]}function El(l,d){const f=[];for(let _=0;_<l;_++)f.push(d);return f}function $r(l,d,f){let _=Nc(l,d);return _>=0?l[1|_]=f:(_=~_,function Tp(l,d,f,_){let M=l.length;if(M==d)l.push(f,_);else if(1===M)l.push(_,l[0]),l[0]=f;else{for(M--,l.push(l[M-1],l[M]);M>d;)l[M]=l[M-2],M--;l[d]=f,l[d+1]=_}}(l,_,d,f)),_}function fh(l,d){const f=Nc(l,d);if(f>=0)return l[1|f]}function Nc(l,d){return function hh(l,d,f){let _=0,M=l.length>>f;for(;M!==_;){const j=_+(M-_>>1),ee=l[j<<f];if(d===ee)return j<<f;ee>d?M=j:_=j+1}return~(M<<f)}(l,d,1)}const nu=Dt(bl("Optional"),8),Fc=Dt(bl("SkipSelf"),4);function lu(l){return 128==(128&l.flags)}var du=function(l){return l[l.Important=1]="Important",l[l.DashCase=2]="DashCase",l}(du||{});const tE=/^>|^->|<!--|-->|--!>|<!-$/g,Np=/(<|>)/,uu="\u200b$1\u200b";const xl=new Map;let nE=0;const tr="__ngContext__";function mo(l,d){pr(d)?(l[tr]=d[fr],function Fs(l){xl.set(l[fr],l)}(d)):l[tr]=d}let pu;function _u(l,d){return pu(l,d)}function Ml(l){const d=l[Li];return Or(d)?d[Li]:d}function Vp(l){return Hp(l[Zn])}function Gp(l){return Hp(l[Sr])}function Hp(l){for(;null!==l&&!Or(l);)l=l[Sr];return l}function Al(l,d,f,_,M){if(null!=_){let j,ee=!1;Or(_)?j=_:pr(_)&&(ee=!0,_=_[_i]);const Te=Xi(_);0===l&&null!==f?null==M?uE(d,f,Te):wl(d,f,Te,M||null,!0):1===l&&null!==f?wl(d,f,Te,M||null,!0):2===l?function wh(l,d,f){const _=Mh(l,d);_&&function kx(l,d,f,_){l.removeChild(d,f,_)}(l,_,d,f)}(d,Te,ee):3===l&&d.destroyNode(Te),null!=j&&function _E(l,d,f,_,M){const j=f[Fr];j!==Xi(f)&&Al(d,l,_,j,M);for(let Te=$i;Te<f.length;Te++){const ke=f[Te];Us(ke[Rn],ke,l,d,_,j)}}(d,l,j,f,M)}}function vu(l,d){return l.createText(d)}function Ch(l,d){return l.createComment(function Lp(l){return l.replace(tE,d=>d.replace(Np,uu))}(d))}function yu(l,d,f){return l.createElement(d,f)}function Dh(l,d){const f=l[Eo],_=f.indexOf(d);er(d),f.splice(_,1)}function xh(l,d){if(l.length<=$i)return;const f=$i+d,_=l[f];if(_){const M=_[Ri];null!==M&&M!==l&&Dh(M,_),d>0&&(l[f-1][Sr]=_[Sr]);const j=La(l,$i+d);!function Kp(l,d){Us(l,d,d[Nn],2,null,null),d[_i]=null,d[nr]=null}(_[Rn],_);const ee=j[ur];null!==ee&&ee.detachView(j[Rn]),_[Li]=null,_[Sr]=null,_[ai]&=-129}return _}function qp(l,d){if(!(256&d[ai])){const f=d[Nn];d[Hr]?.destroy(),d[bo]?.destroy(),f.destroyNode&&Us(l,d,f,3,null,null),function Zp(l){let d=l[Zn];if(!d)return Jp(l[Rn],l);for(;d;){let f=null;if(pr(d))f=d[Zn];else{const _=d[$i];_&&(f=_)}if(!f){for(;d&&!d[Sr]&&d!==l;)pr(d)&&Jp(d[Rn],d),d=d[Li];null===d&&(d=l),pr(d)&&Jp(d[Rn],d),f=d&&d[Sr]}d=f}}(d)}}function Jp(l,d){if(!(256&d[ai])){d[ai]&=-129,d[ai]|=256,function Lx(l,d){let f;if(null!=l&&null!=(f=l.destroyHooks))for(let _=0;_<f.length;_+=2){const M=d[f[_]];if(!(M instanceof Xa)){const j=f[_+1];if(Array.isArray(j))for(let ee=0;ee<j.length;ee+=2){const Te=M[j[ee]],ke=j[ee+1];Bo(4,Te,ke);try{ke.call(Te)}finally{Bo(5,Te,ke)}}else{Bo(4,M,j);try{j.call(M)}finally{Bo(5,M,j)}}}}}(l,d),function Nx(l,d){const f=l.cleanup,_=d[Jn];if(null!==f)for(let j=0;j<f.length-1;j+=2)if("string"==typeof f[j]){const ee=f[j+3];ee>=0?_[ee]():_[-ee].unsubscribe(),j+=2}else f[j].call(_[f[j+1]]);null!==_&&(d[Jn]=null);const M=d[to];if(null!==M){d[to]=null;for(let j=0;j<M.length;j++)(0,M[j])()}}(l,d),1===d[Rn].type&&d[Nn].destroy();const f=d[Ri];if(null!==f&&Or(d[Li])){f!==d[Li]&&Dh(f,d);const _=d[ur];null!==_&&_.detachView(l)}!function bh(l){xl.delete(l[fr])}(d)}}function Qp(l,d,f){return dE(l,d.parent,f)}function dE(l,d,f){let _=d;for(;null!==_&&40&_.type;)_=(d=_).parent;if(null===_)return f[_i];{const{componentOffset:M}=_;if(M>-1){const{encapsulation:j}=l.data[_.directiveStart+M];if(j===Vt.None||j===Vt.Emulated)return null}return pt(_,f)}}function wl(l,d,f,_,M){l.insertBefore(d,f,_,M)}function uE(l,d,f){l.appendChild(d,f)}function fE(l,d,f,_,M){null!==_?wl(l,d,f,_,M):uE(l,d,f)}function Mh(l,d){return l.parentNode(d)}function hE(l,d,f){return mE(l,d,f)}function Xp(l,d,f){return 40&l.type?pt(l,f):null}let e_,js,es,Hc,mE=Xp;function gE(l,d){mE=l,e_=d}function Ah(l,d,f,_){const M=Qp(l,_,d),j=d[Nn],Te=hE(_.parent||d[nr],_,d);if(null!=M)if(Array.isArray(f))for(let ke=0;ke<f.length;ke++)fE(j,M,f[ke],Te,!1);else fE(j,M,f,Te,!1);void 0!==e_&&e_(j,_,d,f,M)}function bu(l,d){if(null!==d){const f=d.type;if(3&f)return pt(d,l);if(4&f)return Eu(-1,l[d.index]);if(8&f){const _=d.child;if(null!==_)return bu(l,_);{const M=l[d.index];return Or(M)?Eu(-1,M):Xi(M)}}if(32&f)return _u(d,l)()||Xi(l[d.index]);{const _=pE(l,d);return null!==_?Array.isArray(_)?_[0]:bu(Ml(l[li]),_):bu(l,d.next)}}return null}function pE(l,d){return null!==d?l[li][nr].projection[d.projection]:null}function Eu(l,d){const f=$i+l+1;if(f<d.length){const _=d[f],M=_[Rn].firstChild;if(null!==M)return bu(_,M)}return d[Fr]}function lr(l,d,f,_,M,j,ee){for(;null!=f;){const Te=_[f.index],ke=f.type;if(ee&&0===d&&(Te&&mo(Xi(Te),_),f.flags|=2),32!=(32&f.flags))if(8&ke)lr(l,d,f.child,_,M,j,!1),Al(d,l,M,Te,j);else if(32&ke){const nt=_u(f,_);let Et;for(;Et=nt();)Al(d,l,M,Et,j);Al(d,l,M,Te,j)}else 16&ke?Tu(l,d,_,f,M,j):Al(d,l,M,Te,j);f=ee?f.projectionNext:f.next}}function Us(l,d,f,_,M,j){lr(f,_,l.firstChild,d,M,j,!1)}function Tu(l,d,f,_,M,j){const ee=f[li],ke=ee[nr].projection[_.projection];if(Array.isArray(ke))for(let nt=0;nt<ke.length;nt++)Al(d,l,M,ke[nt],j);else{let nt=ke;const Et=ee[Li];lu(_)&&(nt.flags|=128),lr(l,d,nt,Et,M,j,!0)}}function yE(l,d,f){""===f?l.removeAttribute(d,"class"):l.setAttribute(d,"class",f)}function Il(l,d,f){const{mergedAttrs:_,classes:M,styles:j}=f;null!==_&&ct(l,d,_),null!==M&&yE(l,d,M),null!==j&&function Ih(l,d,f){l.setAttribute(d,"style",f)}(l,d,j)}function Ol(l){return function Su(){if(void 0===js&&(js=null,$e.trustedTypes))try{js=$e.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return js}()?.createHTML(l)||l}function Gc(l){es=l}function ls(){if(void 0!==es)return es;if(typeof document<"u")return document;throw new E(210,!1)}function Rl(){if(void 0===Hc&&(Hc=null,$e.trustedTypes))try{Hc=$e.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return Hc}function cs(l){return Rl()?.createHTML(l)||l}function TE(l){return Rl()?.createScriptURL(l)||l}class Nl{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${w})`}}class Ux extends Nl{getTypeName(){return"HTML"}}class jx extends Nl{getTypeName(){return"Style"}}class Vx extends Nl{getTypeName(){return"Script"}}class Gx extends Nl{getTypeName(){return"URL"}}class Hx extends Nl{getTypeName(){return"ResourceURL"}}function ds(l){return l instanceof Nl?l.changingThisBreaksApplicationSecurity:l}function Yc(l,d){const f=function Yx(l){return l instanceof Nl&&l.getTypeName()||null}(l);if(null!=f&&f!==d){if("ResourceURL"===f&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${f} (see ${w})`)}return f===d}function Kx(l){return new Ux(l)}function Wx(l){return new jx(l)}function zx(l){return new Vx(l)}function Zx(l){return new Gx(l)}function $x(l){return new Hx(l)}function SE(l){const d=new DE(l);return function qx(){try{return!!(new window.DOMParser).parseFromString(Ol(""),"text/html")}catch{return!1}}()?new CE(d):d}class CE{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const f=(new window.DOMParser).parseFromString(Ol(d),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(d):(f.removeChild(f.firstChild),f)}catch{return null}}}class DE{constructor(d){this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(d){const f=this.inertDocument.createElement("template");return f.innerHTML=Ol(d),f}}const n_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kc(l){return(l=String(l)).match(n_)?l:"unsafe:"+l}function oa(l){const d={};for(const f of l.split(","))d[f]=!0;return d}function Wc(...l){const d={};for(const f of l)for(const _ in f)f.hasOwnProperty(_)&&(d[_]=!0);return d}const zc=oa("area,br,col,hr,img,wbr"),xE=oa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),i_=oa("rp,rt"),Jr=Wc(zc,Wc(xE,oa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wc(i_,oa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wc(i_,xE)),Ph=oa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cu=Wc(Ph,oa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ME=oa("script,style,template");class AE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let f=d.firstChild,_=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?_=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,_&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let M=this.checkClobberedElement(f,f.nextSibling);if(M){f=M;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(d){const f=d.nodeName.toLowerCase();if(!Jr.hasOwnProperty(f))return this.sanitizedSomething=!0,!ME.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const _=d.attributes;for(let M=0;M<_.length;M++){const j=_.item(M),ee=j.name,Te=ee.toLowerCase();if(!Cu.hasOwnProperty(Te)){this.sanitizedSomething=!0;continue}let ke=j.value;Ph[Te]&&(ke=Kc(ke)),this.buf.push(" ",ee,'="',Mo(ke),'"')}return this.buf.push(">"),!0}endElement(d){const f=d.nodeName.toLowerCase();Jr.hasOwnProperty(f)&&!zc.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(d){this.buf.push(Mo(d))}checkClobberedElement(d,f){if(f&&(d.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return f}}const wE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IE=/([^\#-~ |!])/g;function Mo(l){return l.replace(/&/g,"&amp;").replace(wE,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(IE,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Du;function r_(l,d){let f=null;try{Du=Du||SE(l);let _=d?String(d):"";f=Du.getInertBodyElement(_);let M=5,j=_;do{if(0===M)throw new Error("Failed to sanitize html because the input is unstable");M--,_=j,j=f.innerHTML,f=Du.getInertBodyElement(_)}while(_!==j);return Ol((new AE).sanitizeChildren(xu(f)||f))}finally{if(f){const _=xu(f)||f;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function xu(l){return"content"in l&&function OE(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var us=function(l){return l[l.NONE=0]="NONE",l[l.HTML=1]="HTML",l[l.STYLE=2]="STYLE",l[l.SCRIPT=3]="SCRIPT",l[l.URL=4]="URL",l[l.RESOURCE_URL=5]="RESOURCE_URL",l}(us||{});function o_(l){const d=qc();return d?cs(d.sanitize(us.HTML,l)||""):Yc(l,"HTML")?cs(ds(l)):r_(ls(),S(l))}function fs(l){const d=qc();return d?d.sanitize(us.URL,l)||"":Yc(l,"URL")?ds(l):Kc(S(l))}function $c(l){const d=qc();if(d)return TE(d.sanitize(us.RESOURCE_URL,l)||"");if(Yc(l,"ResourceURL"))return TE(ds(l));throw new E(904,!1)}function Mu(l,d,f){return function LE(l,d){return"src"===d&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===d&&("base"===l||"link"===l)?$c:fs}(d,f)(l)}function qc(){const l=Ln();return l&&l[Mn].sanitizer}class Wi{constructor(d,f){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=Ae({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const kl=new Wi("ENVIRONMENT_INITIALIZER"),Rh=new Wi("INJECTOR",-1),Nh=new Wi("INJECTOR_DEF_TYPES");class Lh{get(d,f=It){if(f===It){const _=new Error(`NullInjectorError: No provider for ${v(d)}!`);throw _.name="NullInjectorError",_}return f}}function Au(l){return{\u0275providers:l}}function a_(...l){return{\u0275providers:kh(0,l),\u0275fromNgModule:!0}}function kh(l,...d){const f=[],_=new Set;let M;return Lr(d,j=>{const ee=j;s_(ee,f,[],_)&&(M||=[],M.push(ee))}),void 0!==M&&kE(M,f),f}function kE(l,d){for(let f=0;f<l.length;f++){const{providers:M}=l[f];Fh(M,j=>{d.push(j)})}}function s_(l,d,f,_){if(!(l=V(l)))return!1;let M=null,j=W(l);const ee=!j&&di(l);if(j||ee){if(ee&&!ee.standalone)return!1;M=l}else{const ke=l.ngModule;if(j=W(ke),!j)return!1;M=ke}const Te=_.has(M);if(ee){if(Te)return!1;if(_.add(M),ee.dependencies){const ke="function"==typeof ee.dependencies?ee.dependencies():ee.dependencies;for(const nt of ke)s_(nt,d,f,_)}}else{if(!j)return!1;{if(null!=j.imports&&!Te){let nt;_.add(M);try{Lr(j.imports,Et=>{s_(Et,d,f,_)&&(nt||=[],nt.push(Et))})}finally{}void 0!==nt&&kE(nt,d)}if(!Te){const nt=We(M)||(()=>new M);d.push({provide:M,useFactory:nt,deps:nn},{provide:Nh,useValue:M,multi:!0},{provide:kl,useValue:()=>xe(M),multi:!0})}const ke=j.providers;null==ke||Te||Fh(ke,Et=>{d.push(Et)})}}return M!==l&&void 0!==l.providers}function Fh(l,d){for(let f of l)P(f)&&(f=f.\u0275providers),Array.isArray(f)?Fh(f,d):d(f)}const FE=h({provide:String,useValue:h});function Bh(l){return null!==l&&"object"==typeof l&&FE in l}function Vs(l){return"function"==typeof l}const c_=new Wi("Set Injector scope."),jh={},nM={};let d_;function wu(){return void 0===d_&&(d_=new Lh),d_}class Fl{}class u_ extends Fl{get destroyed(){return this._destroyed}constructor(d,f,_,M){super(),this.parent=f,this.source=_,this.scopes=M,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,h_(d,ee=>this.processProvider(ee)),this.records.set(Rh,Bl(void 0,this)),M.has("environment")&&this.records.set(Fl,Bl(void 0,this));const j=this.records.get(c_);null!=j&&"string"==typeof j.value&&this.scopes.add(j.value),this.injectorDefTypes=new Set(this.get(Nh.multi,nn,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();const d=this._onDestroyHooks;this._onDestroyHooks=[];for(const f of d)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const f=st(this),_=Ce(void 0);try{return d()}finally{st(f),Ce(_)}}get(d,f=It,_=de.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(kt))return d[kt](this);_=lt(_);const M=st(this),j=Ce(void 0);try{if(!(_&de.SkipSelf)){let Te=this.records.get(d);if(void 0===Te){const ke=function aM(l){return"function"==typeof l||"object"==typeof l&&l instanceof Wi}(d)&&ie(d);Te=ke&&this.injectableDefInScope(ke)?Bl(Vh(d),jh):null,this.records.set(d,Te)}if(null!=Te)return this.hydrate(d,Te)}return(_&de.Self?wu():this.parent).get(d,f=_&de.Optional&&f===It?null:f)}catch(ee){if("NullInjectorError"===ee.name){if((ee[Ot]=ee[Ot]||[]).unshift(v(d)),M)throw ee;return function bt(l,d,f,_){const M=l[Ot];throw d[dn]&&M.unshift(d[dn]),l.message=function Nt(l,d,f,_=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.slice(2):l;let M=v(d);if(Array.isArray(d))M=d.map(v).join(" -> ");else if("object"==typeof d){let j=[];for(let ee in d)if(d.hasOwnProperty(ee)){let Te=d[ee];j.push(ee+":"+("string"==typeof Te?JSON.stringify(Te):v(Te)))}M=`{${j.join(", ")}}`}return`${f}${_?"("+_+")":""}[${M}]: ${l.replace(zt,"\n  ")}`}("\n"+l.message,M,f,_),l.ngTokenPath=M,l[Ot]=null,l}(ee,d,"R3InjectorError",this.source)}throw ee}finally{Ce(j),st(M)}}resolveInjectorInitializers(){const d=st(this),f=Ce(void 0);try{const _=this.get(kl.multi,nn,de.Self);for(const M of _)M()}finally{st(d),Ce(f)}}toString(){const d=[],f=this.records;for(const _ of f.keys())d.push(v(_));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(d){let f=Vs(d=V(d))?d:V(d&&d.provide);const _=function rM(l){return Bh(l)?Bl(void 0,l.useValue):Bl(f_(l),jh)}(d);if(Vs(d)||!0!==d.multi)this.records.get(f);else{let M=this.records.get(f);M||(M=Bl(void 0,jh,!0),M.factory=()=>mt(M.multi),this.records.set(f,M)),f=d,M.multi.push(d)}this.records.set(f,_)}hydrate(d,f){return f.value===jh&&(f.value=nM,f.value=f.factory()),"object"==typeof f.value&&f.value&&function oM(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}injectableDefInScope(d){if(!d.providedIn)return!1;const f=V(d.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}removeOnDestroy(d){const f=this._onDestroyHooks.indexOf(d);-1!==f&&this._onDestroyHooks.splice(f,1)}}function Vh(l){const d=ie(l),f=null!==d?d.factory:We(l);if(null!==f)return f;if(l instanceof Wi)throw new E(204,!1);if(l instanceof Function)return function iM(l){const d=l.length;if(d>0)throw El(d,"?"),new E(204,!1);const f=function Z(l){return l&&(l[X]||l[q])||null}(l);return null!==f?()=>f.factory(l):()=>new l}(l);throw new E(204,!1)}function f_(l,d,f){let _;if(Vs(l)){const M=V(l);return We(M)||Vh(M)}if(Bh(l))_=()=>V(l.useValue);else if(function Uh(l){return!(!l||!l.useFactory)}(l))_=()=>l.useFactory(...mt(l.deps||[]));else if(function l_(l){return!(!l||!l.useExisting)}(l))_=()=>xe(V(l.useExisting));else{const M=V(l&&(l.useClass||l.provide));if(!function BE(l){return!!l.deps}(l))return We(M)||Vh(M);_=()=>new M(...mt(l.deps))}return _}function Bl(l,d,f=!1){return{factory:l,value:d,multi:f?[]:void 0}}function h_(l,d){for(const f of l)Array.isArray(f)?h_(f,d):f&&P(f)?h_(f.\u0275providers,d):d(f)}const UE=new Wi("AppId",{providedIn:"root",factory:()=>sM}),sM="ng",jE=new Wi("Platform Initializer"),m_=new Wi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),VE=new Wi("AnimationModuleType"),lM=new Wi("CSP nonce",{providedIn:"root",factory:()=>ls().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let HE=(l,d)=>null;function KE(l,d){return HE(l,d)}class mM{}class qE{}class pM{resolveComponentFactory(d){throw function gM(l){const d=Error(`No component factory found for ${v(l)}.`);return d.ngComponent=l,d}(d)}}let Lu=(()=>{class l{static#e=this.NULL=new pM}return l})();function _M(){return yr(Nr(),Ln())}function yr(l,d){return new hs(pt(l,d))}let hs=(()=>{class l{constructor(f){this.nativeElement=f}static#e=this.__NG_ELEMENT_ID__=_M}return l})();function QE(l){return l instanceof hs?l.nativeElement:l}class Ao{}let Qr=(()=>{class l{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function vi(){const l=Ln(),f=fn(Nr().index,l);return(pr(f)?f:l)[Nn]}()}return l})(),XE=(()=>{class l{static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:()=>null})}return l})();class S_{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const eT=new S_("16.1.7"),aa={};function qo(l){for(;l;){l[ai]|=64;const d=Ml(l);if(Xo(l)&&!d)return l;l=d}return null}function Kh(l){return l.ngOriginalError}class Ul{constructor(){this._console=console}handleError(d){const f=this._findOriginalError(d);this._console.error("ERROR",d),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(d){let f=d&&Kh(d);for(;f&&Kh(f);)f=Kh(f);return f||null}}const D_=new Wi("",{providedIn:"root",factory:()=>!1});function x_(l){return l.ownerDocument.defaultView}function ts(l){return l instanceof Function?l():l}class w_ extends ko{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(d){this._lView=d}onConsumerDependencyMayHaveChanged(){qo(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(d,f,_){const M=ki(this);this.trackingVersion++;try{d(f,_)}finally{ki(M)}}destroy(){this.trackingVersion++}}let Bu=null;function Zh(){return Bu??=new w_,Bu}function I_(l,d){return l[d]??Zh()}function O_(l,d){const f=Zh();f.hasReadASignal&&(l[d]=Bu,f.lView=l,Bu=new w_)}const xi={};function P_(l){R_(Oi(),Ln(),fo()+l,!1)}function R_(l,d,f,_){if(!_)if(3==(3&d[ai])){const j=l.preOrderCheckHooks;null!==j&&ti(d,j,f)}else{const j=l.preOrderHooks;null!==j&&ii(d,j,0,f)}ss(f)}function F_(l,d=null,f=null,_){const M=B_(l,d,f,_);return M.resolveInjectorInitializers(),M}function B_(l,d=null,f=null,_,M=new Set){const j=[f||nn,a_(l)];return _=_||("object"==typeof l?void 0:v(l)),new u_(j,d||wu(),_||null,M)}let gs=(()=>{class l{static#e=this.THROW_IF_NOT_FOUND=It;static#t=this.NULL=new Lh;static create(f,_){if(Array.isArray(f))return F_({name:""},_,f,"");{const M=f.name??"";return F_({name:M},f.parent,f.providers,M)}}static#n=this.\u0275prov=Ae({token:l,providedIn:"any",factory:()=>xe(Rh)});static#i=this.__NG_ELEMENT_ID__=-1}return l})();function Gl(l,d=de.Default){const f=Ln();return null===f?xe(l,d):pp(Nr(),f,V(l),d)}function U_(){throw new Error("invalid")}function Uu(l,d,f,_,M,j,ee,Te,ke,nt,Et){const Pt=d.blueprint.slice();return Pt[_i]=M,Pt[ai]=140|_,(null!==nt||l&&2048&l[ai])&&(Pt[ai]|=2048),Fi(Pt),Pt[Li]=Pt[fi]=l,Pt[Ut]=f,Pt[Mn]=ee||l&&l[Mn],Pt[Nn]=Te||l&&l[Nn],Pt[mn]=ke||l&&l[mn]||null,Pt[nr]=j,Pt[fr]=function iE(){return nE++}(),Pt[wr]=Et,Pt[Ia]=nt,Pt[li]=2==d.type?l[li]:Pt,Pt}function Hl(l,d,f,_,M){let j=l.data[d];if(null===j)j=qh(l,d,f,_,M),function op(){return ri.lFrame.inI18n}()&&(j.flags|=32);else if(64&j.type){j.type=f,j.value=_,j.attrs=M;const ee=Ps();j.injectorIndex=null===ee?-1:ee.injectorIndex}return ya(j,!0),j}function qh(l,d,f,_,M){const j=na(),ee=Yd(),ke=l.data[d]=function mT(l,d,f,_,M,j){let ee=d?d.injectorIndex:-1,Te=0;return ta()&&(Te|=128),{type:f,index:_,insertBeforeIndex:null,injectorIndex:ee,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Te,providerIndexes:0,value:M,attrs:j,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ee?j:j&&j.parent,f,d,_,M);return null===l.firstChild&&(l.firstChild=ke),null!==j&&(ee?null==j.child&&null!==ke.parent&&(j.child=ke):null===j.next&&(j.next=ke,ke.prev=j)),ke}function Qc(l,d,f,_){if(0===f)return-1;const M=d.length;for(let j=0;j<f;j++)d.push(_),l.blueprint.push(_),l.data.push(null);return M}function V_(l,d,f,_,M){const j=I_(d,Hr),ee=fo(),Te=2&_;try{if(ss(-1),Te&&d.length>Di&&R_(l,d,Di,!1),Bo(Te?2:0,M),Te)j.runInContext(f,_,M);else{const nt=ki(null);try{f(_,M)}finally{ki(nt)}}}finally{Te&&null===d[Hr]&&O_(d,Hr),ss(ee),Bo(Te?3:1,M)}}function ju(l,d,f){if(To(d)){const _=ki(null);try{const j=d.directiveEnd;for(let ee=d.directiveStart;ee<j;ee++){const Te=l.data[ee];Te.contentQueries&&Te.contentQueries(1,f[ee],ee)}}finally{ki(_)}}}function Jh(l,d,f){Dc()&&(function yT(l,d,f,_){const M=f.directiveStart,j=f.directiveEnd;hr(f)&&function CT(l,d,f){const _=pt(d,l),M=Xc(f);let ee=16;f.signals?ee=4096:f.onPush&&(ee=64);const Te=Vu(l,Uu(l,M,null,ee,_,d,null,l[Mn].rendererFactory.createRenderer(_,f),null,null,null));l[d.index]=Te}(d,f,l.data[M+f.componentOffset]),l.firstCreatePass||Xd(f,d),mo(_,d);const ee=f.initialInputs;for(let Te=M;Te<j;Te++){const ke=l.data[Te],nt=Ls(d,l,Te,f);mo(nt,d),null!==ee&&DT(0,Te-M,nt,ke,0,ee),rr(ke)&&(fn(f.index,d)[Ut]=Ls(d,l,Te,f))}}(l,d,f,pt(f,d)),64==(64&f.flags)&&Z_(l,d,f))}function Yl(l,d,f=pt){const _=d.localNames;if(null!==_){let M=d.index+1;for(let j=0;j<_.length;j+=2){const ee=_[j+1],Te=-1===ee?f(d,l):l[ee];l[M++]=Te}}}function Xc(l){const d=l.tView;return null===d||d.incompleteFirstPass?l.tView=ed(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts,l.id):d}function ed(l,d,f,_,M,j,ee,Te,ke,nt,Et){const Pt=Di+_,rn=Pt+M,ln=function td(l,d){const f=[];for(let _=0;_<d;_++)f.push(_<l?null:xi);return f}(Pt,rn),Dn="function"==typeof nt?nt():nt;return ln[Rn]={type:l,blueprint:ln,template:f,queries:null,viewQuery:Te,declTNode:d,data:ln.slice().fill(null,Pt),bindingStartIndex:Pt,expandoStartIndex:rn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof j?j():j,pipeRegistry:"function"==typeof ee?ee():ee,firstChild:null,schemas:ke,consts:Dn,incompleteFirstPass:!1,ssrId:Et}}let G_=l=>null;function K_(l,d,f,_){for(let M in l)if(l.hasOwnProperty(M)){f=null===f?{}:f;const j=l[M];null===_?W_(f,d,M,j):_.hasOwnProperty(M)&&W_(f,d,_[M],j)}return f}function W_(l,d,f,_){l.hasOwnProperty(f)?l[f].push(d,_):l[f]=[d,_]}function Jo(l,d,f,_,M,j,ee,Te){const ke=pt(d,f);let Et,nt=d.inputs;!Te&&null!=nt&&(Et=nt[_])?(im(l,f,Et,_,M),hr(d)&&function Kl(l,d){const f=fn(d,l);16&f[ai]||(f[ai]|=64)}(f,d.index)):3&d.type&&(_=function pT(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(_),M=null!=ee?ee(M,d.value||"",_):M,j.setProperty(ke,_,M))}function Qh(l,d,f,_){if(Dc()){const M=null===_?null:{"":-1},j=function Gs(l,d){const f=l.directiveRegistry;let _=null,M=null;if(f)for(let j=0;j<f.length;j++){const ee=f[j];if(vn(d,ee.selectors,!1))if(_||(_=[]),rr(ee))if(null!==ee.findHostDirectiveDefs){const Te=[];M=M||new Map,ee.findHostDirectiveDefs(ee,Te,M),_.unshift(...Te,ee),em(l,d,Te.length)}else _.unshift(ee),em(l,d,0);else M=M||new Map,ee.findHostDirectiveDefs?.(ee,_,M),_.push(ee)}return null===_?null:[_,M]}(l,f);let ee,Te;null===j?ee=Te=null:[ee,Te]=j,null!==ee&&Xh(l,d,f,ee,M,Te),M&&function bT(l,d,f){if(d){const _=l.localNames=[];for(let M=0;M<d.length;M+=2){const j=f[d[M+1]];if(null==j)throw new E(-301,!1);_.push(d[M],j)}}}(f,_,M)}f.mergedAttrs=it(f.mergedAttrs,f.attrs)}function Xh(l,d,f,_,M,j){for(let nt=0;nt<_.length;nt++)uh(Xd(f,d),l,_[nt].type);!function TT(l,d,f){l.flags|=1,l.directiveStart=d,l.directiveEnd=d+f,l.providerIndexes=d}(f,l.data.length,_.length);for(let nt=0;nt<_.length;nt++){const Et=_[nt];Et.providersResolver&&Et.providersResolver(Et)}let ee=!1,Te=!1,ke=Qc(l,d,_.length,null);for(let nt=0;nt<_.length;nt++){const Et=_[nt];f.mergedAttrs=it(f.mergedAttrs,Et.hostAttrs),ST(l,f,d,ke,Et),ET(ke,Et,M),null!==Et.contentQueries&&(f.flags|=4),(null!==Et.hostBindings||null!==Et.hostAttrs||0!==Et.hostVars)&&(f.flags|=64);const Pt=Et.type.prototype;!ee&&(Pt.ngOnChanges||Pt.ngOnInit||Pt.ngDoCheck)&&((l.preOrderHooks??=[]).push(f.index),ee=!0),!Te&&(Pt.ngOnChanges||Pt.ngDoCheck)&&((l.preOrderCheckHooks??=[]).push(f.index),Te=!0),ke++}!function gT(l,d,f){const M=d.directiveEnd,j=l.data,ee=d.attrs,Te=[];let ke=null,nt=null;for(let Et=d.directiveStart;Et<M;Et++){const Pt=j[Et],rn=f?f.get(Pt):null,Dn=rn?rn.outputs:null;ke=K_(Pt.inputs,Et,ke,rn?rn.inputs:null),nt=K_(Pt.outputs,Et,nt,Dn);const Gn=null===ke||null===ee||bn(d)?null:xT(ke,Et,ee);Te.push(Gn)}null!==ke&&(ke.hasOwnProperty("class")&&(d.flags|=8),ke.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=Te,d.inputs=ke,d.outputs=nt}(l,f,j)}function Z_(l,d,f){const _=f.directiveStart,M=f.directiveEnd,j=f.index,ee=function ih(){return ri.lFrame.currentDirectiveIndex}();try{ss(j);for(let Te=_;Te<M;Te++){const ke=l.data[Te],nt=d[Te];rh(Te),(null!==ke.hostBindings||0!==ke.hostVars||null!==ke.hostAttrs)&&$_(ke,nt)}}finally{ss(-1),rh(ee)}}function $_(l,d){null!==l.hostBindings&&l.hostBindings(1,d)}function em(l,d,f){d.componentOffset=f,(l.components??=[]).push(d.index)}function ET(l,d,f){if(f){if(d.exportAs)for(let _=0;_<d.exportAs.length;_++)f[d.exportAs[_]]=l;rr(d)&&(f[""]=l)}}function ST(l,d,f,_,M){l.data[_]=M;const j=M.factory||(M.factory=We(M.type)),ee=new Xa(j,rr(M),Gl);l.blueprint[_]=ee,f[_]=ee,function vT(l,d,f,_,M){const j=M.hostBindings;if(j){let ee=l.hostBindingOpCodes;null===ee&&(ee=l.hostBindingOpCodes=[]);const Te=~d.index;(function z_(l){let d=l.length;for(;d>0;){const f=l[--d];if("number"==typeof f&&f<0)return f}return 0})(ee)!=Te&&ee.push(Te),ee.push(f,_,j)}}(l,d,_,Qc(l,f,M.hostVars,xi),M)}function ka(l,d,f,_,M,j){const ee=pt(l,d);!function tm(l,d,f,_,M,j,ee){if(null==j)l.removeAttribute(d,M,f);else{const Te=null==ee?S(j):ee(j,_||"",M);l.setAttribute(d,M,Te,f)}}(d[Nn],ee,j,l.value,f,_,M)}function DT(l,d,f,_,M,j){const ee=j[d];if(null!==ee)for(let Te=0;Te<ee.length;)q_(_,f,ee[Te++],ee[Te++],ee[Te++])}function q_(l,d,f,_,M){const j=ki(null);try{const ee=l.inputTransforms;null!==ee&&ee.hasOwnProperty(_)&&(M=ee[_].call(d,M)),null!==l.setInput?l.setInput(d,M,f,_):d[_]=M}finally{ki(j)}}function xT(l,d,f){let _=null,M=0;for(;M<f.length;){const j=f[M];if(0!==j)if(5!==j){if("number"==typeof j)break;if(l.hasOwnProperty(j)){null===_&&(_=[]);const ee=l[j];for(let Te=0;Te<ee.length;Te+=2)if(ee[Te]===d){_.push(j,ee[Te+1],f[M+1]);break}}M+=2}else M+=2;else M+=4}return _}function J_(l,d,f,_){return[l,!0,!1,d,null,0,_,f,null,null,null]}function Q_(l,d){const f=l.contentQueries;if(null!==f)for(let _=0;_<f.length;_+=2){const j=f[_+1];if(-1!==j){const ee=l.data[j];Mc(f[_]),ee.contentQueries(2,d[j],j)}}}function Vu(l,d){return l[Zn]?l[ei][Sr]=d:l[Zn]=d,l[ei]=d,d}function nm(l,d,f){Mc(0);const _=ki(null);try{d(l,f)}finally{ki(_)}}function X_(l){return l[Jn]||(l[Jn]=[])}function ev(l){return l.cleanup||(l.cleanup=[])}function tv(l,d,f){return(null===l||rr(l))&&(f=function ga(l){for(;Array.isArray(l);){if("object"==typeof l[Ir])return l;l=l[_i]}return null}(f[d.index])),f[Nn]}function nv(l,d){const f=l[mn],_=f?f.get(Ul,null):null;_&&_.handleError(d)}function im(l,d,f,_,M){for(let j=0;j<f.length;){const ee=f[j++],Te=f[j++];q_(l.data[ee],d[ee],_,Te,M)}}function ns(l,d,f){const _=De(d,l);!function Yp(l,d,f){l.setValue(d,f)}(l[Nn],_,f)}function MT(l,d){const f=fn(d,l),_=f[Rn];!function AT(l,d){for(let f=d.length;f<l.blueprint.length;f++)d.push(l.blueprint[f])}(_,f);const M=f[_i];null!==M&&null===f[wr]&&(f[wr]=KE(M,f[mn])),ps(_,f,f[Ut])}function ps(l,d,f){Wd(d);try{const _=l.viewQuery;null!==_&&nm(1,_,f);const M=l.template;null!==M&&V_(l,d,M,1,f),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Q_(l,d),l.staticViewQueries&&nm(2,l.viewQuery,f);const j=l.components;null!==j&&function wT(l,d){for(let f=0;f<d.length;f++)MT(l,d[f])}(d,j)}catch(_){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),_}finally{d[ai]&=-5,wc()}}let iv=(()=>{class l{constructor(){this.all=new Set,this.queue=new Map}create(f,_,M){const j=typeof Zone>"u"?null:Zone.current,ee=new bc(f,nt=>{this.all.has(nt)&&this.queue.set(nt,j)},M);let Te;this.all.add(ee),ee.notify();const ke=()=>{ee.cleanup(),Te?.(),this.all.delete(ee),this.queue.delete(ee)};return Te=_?.onDestroy(ke),{destroy:ke}}flush(){if(0!==this.queue.size)for(const[f,_]of this.queue)this.queue.delete(f),_?_.run(()=>f.run()):f.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:()=>new l})}return l})();function Gu(l,d,f){let _=f?l.styles:null,M=f?l.classes:null,j=0;if(null!==d)for(let ee=0;ee<d.length;ee++){const Te=d[ee];"number"==typeof Te?j=Te:1==j?M=A(M,Te):2==j&&(_=A(_,Te+": "+d[++ee]+";"))}f?l.styles=_:l.stylesWithoutHost=_,f?l.classes=M:l.classesWithoutHost=M}function id(l,d,f,_,M=!1){for(;null!==f;){const j=d[f.index];if(null!==j&&_.push(Xi(j)),Or(j)){for(let Te=$i;Te<j.length;Te++){const ke=j[Te],nt=ke[Rn].firstChild;null!==nt&&id(ke[Rn],ke,nt,_)}j[Fr]!==j[_i]&&_.push(j[Fr])}const ee=f.type;if(8&ee)id(l,d,f.child,_);else if(32&ee){const Te=_u(f,d);let ke;for(;ke=Te();)_.push(ke)}else if(16&ee){const Te=pE(d,f);if(Array.isArray(Te))_.push(...Te);else{const ke=Ml(d[li]);id(ke[Rn],ke,Te,_,!0)}}f=M?f.projectionNext:f.next}return _}function Hu(l,d,f,_=!0){const M=d[Mn].rendererFactory;M.begin&&M.begin();try{rv(l,d,l.template,f)}catch(ee){throw _&&nv(d,ee),ee}finally{M.end&&M.end(),d[Mn].effectManager?.flush()}}function rv(l,d,f,_){const M=d[ai];if(256!=(256&M)){d[Mn].effectManager?.flush(),Wd(d);try{Fi(d),function th(l){return ri.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==f&&V_(l,d,f,2,_);const ee=3==(3&M);if(ee){const nt=l.preOrderCheckHooks;null!==nt&&ti(d,nt,null)}else{const nt=l.preOrderHooks;null!==nt&&ii(d,nt,0,null),ji(d,0)}if(function NT(l){for(let d=Vp(l);null!==d;d=Gp(d)){if(!d[Oa])continue;const f=d[Eo];for(let _=0;_<f.length;_++){Mi(f[_])}}}(d),ov(d,2),null!==l.contentQueries&&Q_(l,d),ee){const nt=l.contentCheckHooks;null!==nt&&ti(d,nt)}else{const nt=l.contentHooks;null!==nt&&ii(d,nt,1),ji(d,1)}!function j_(l,d){const f=l.hostBindingOpCodes;if(null===f)return;const _=I_(d,bo);try{for(let M=0;M<f.length;M++){const j=f[M];if(j<0)ss(~j);else{const ee=j,Te=f[++M],ke=f[++M];ap(Te,ee),_.runInContext(ke,2,d[ee])}}}finally{null===d[bo]&&O_(d,bo),ss(-1)}}(l,d);const Te=l.components;null!==Te&&sv(d,Te,0);const ke=l.viewQuery;if(null!==ke&&nm(2,ke,_),ee){const nt=l.viewCheckHooks;null!==nt&&ti(d,nt)}else{const nt=l.viewHooks;null!==nt&&ii(d,nt,2),ji(d,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),d[ai]&=-73,er(d)}finally{wc()}}}function ov(l,d){for(let f=Vp(l);null!==f;f=Gp(f))for(let _=$i;_<f.length;_++)av(f[_],d)}function LT(l,d,f){av(fn(d,l),f)}function av(l,d){if(!function Xn(l){return 128==(128&l[ai])}(l))return;const f=l[Rn];if(80&l[ai]&&0===d||1024&l[ai]||2===d)rv(f,l,f.template,l[Ut]);else if(l[cr]>0){ov(l,1);const M=l[Rn].components;null!==M&&sv(l,M,1)}}function sv(l,d,f){for(let _=0;_<d.length;_++)LT(l,d[_],f)}class rd{get rootNodes(){const d=this._lView,f=d[Rn];return id(f,d,f.firstChild,[])}constructor(d,f){this._lView=d,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(d){this._lView[Ut]=d}get destroyed(){return 256==(256&this._lView[ai])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[Li];if(Or(d)){const f=d[8],_=f?f.indexOf(this):-1;_>-1&&(xh(d,_),La(f,_))}this._attachedToViewContainer=!1}qp(this._lView[Rn],this._lView)}onDestroy(d){!function xr(l,d){if(256==(256&l[ai]))throw new E(911,!1);null===l[to]&&(l[to]=[]),l[to].push(d)}(this._lView,d)}markForCheck(){qo(this._cdRefInjectingView||this._lView)}detach(){this._lView[ai]&=-129}reattach(){this._lView[ai]|=128}detectChanges(){Hu(this._lView[Rn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zp(l,d){Us(l,d,d[Nn],2,null,null)}(this._lView[Rn],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=d}}class kT extends rd{constructor(d){super(d),this._view=d}detectChanges(){const d=this._view;Hu(d[Rn],d,d[Ut],!1)}checkNoChanges(){}get context(){return null}}class lv extends Lu{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const f=di(d);return new Wl(f,this.ngModule)}}function cv(l){const d=[];for(let f in l)l.hasOwnProperty(f)&&d.push({propName:l[f],templateName:f});return d}class BT{constructor(d,f){this.injector=d,this.parentInjector=f}get(d,f,_){_=lt(_);const M=this.injector.get(d,aa,_);return M!==aa||f===aa?M:this.parentInjector.get(d,f,_)}}class Wl extends qE{get inputs(){const d=this.componentDef,f=d.inputTransforms,_=cv(d.inputs);if(null!==f)for(const M of _)f.hasOwnProperty(M.propName)&&(M.transform=f[M.propName]);return _}get outputs(){return cv(this.componentDef.outputs)}constructor(d,f){super(),this.componentDef=d,this.ngModule=f,this.componentType=d.type,this.selector=function At(l){return l.map(tt).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!f}create(d,f,_,M){let j=(M=M||this.ngModule)instanceof Fl?M:M?.injector;j&&null!==this.componentDef.getStandaloneInjector&&(j=this.componentDef.getStandaloneInjector(j)||j);const ee=j?new BT(d,j):d,Te=ee.get(Ao,null);if(null===Te)throw new E(407,!1);const Et={rendererFactory:Te,sanitizer:ee.get(XE,null),effectManager:ee.get(iv,null)},Pt=Te.createRenderer(null,this.componentDef),rn=this.componentDef.selectors[0][0]||"div",ln=_?function nd(l,d,f,_){const j=_.get(D_,!1)||f===Vt.ShadowDom,ee=l.selectRootElement(d,j);return function fT(l){G_(l)}(ee),ee}(Pt,_,this.componentDef.encapsulation,ee):yu(Pt,rn,function FT(l){const d=l.toLowerCase();return"svg"===d?hl:"math"===d?"math":null}(rn)),$n=this.componentDef.signals?4608:this.componentDef.onPush?576:528,oi=ed(0,null,null,1,0,null,null,null,null,null,null),wn=Uu(null,oi,null,$n,null,null,Et,Pt,ee,null,null);let Ci,Ni;Wd(wn);try{const Bi=this.componentDef;let _o,Zf=null;Bi.findHostDirectiveDefs?(_o=[],Zf=new Map,Bi.findHostDirectiveDefs(Bi,_o,Zf),_o.push(Bi)):_o=[Bi];const GD=function VT(l,d){const f=l[Rn],_=Di;return l[_]=d,Hl(f,_,2,"#host",null)}(wn,ln),HD=function GT(l,d,f,_,M,j,ee){const Te=M[Rn];!function HT(l,d,f,_){for(const M of l)d.mergedAttrs=it(d.mergedAttrs,M.hostAttrs);null!==d.mergedAttrs&&(Gu(d,d.mergedAttrs,!0),null!==f&&Il(_,f,d))}(_,l,d,ee);let ke=null;null!==d&&(ke=KE(d,M[mn]));const nt=j.rendererFactory.createRenderer(d,f);let Et=16;f.signals?Et=4096:f.onPush&&(Et=64);const Pt=Uu(M,Xc(f),null,Et,M[l.index],l,j,nt,null,null,ke);return Te.firstCreatePass&&em(Te,l,_.length-1),Vu(M,Pt),M[l.index]=Pt}(GD,ln,Bi,_o,wn,Et,Pt);Ni=gt(oi,Di),ln&&function KT(l,d,f,_){if(_)ct(l,f,["ng-version",eT.full]);else{const{attrs:M,classes:j}=function qt(l){const d=[],f=[];let _=1,M=2;for(;_<l.length;){let j=l[_];if("string"==typeof j)2===M?""!==j&&d.push(j,l[++_]):8===M&&f.push(j);else{if(!Ht(M))break;M=j}_++}return{attrs:d,classes:f}}(d.selectors[0]);M&&ct(l,f,M),j&&j.length>0&&yE(l,f,j.join(" "))}}(Pt,Bi,ln,_),void 0!==f&&function WT(l,d,f){const _=l.projection=[];for(let M=0;M<d.length;M++){const j=f[M];_.push(null!=j?Array.from(j):null)}}(Ni,this.ngContentSelectors,f),Ci=function YT(l,d,f,_,M,j){const ee=Nr(),Te=M[Rn],ke=pt(ee,M);Xh(Te,M,ee,f,null,_);for(let Et=0;Et<f.length;Et++)mo(Ls(M,Te,ee.directiveStart+Et,ee),M);Z_(Te,M,ee),ke&&mo(ke,M);const nt=Ls(M,Te,ee.directiveStart+ee.componentOffset,ee);if(l[Ut]=M[Ut]=nt,null!==j)for(const Et of j)Et(nt,d);return ju(Te,ee,l),nt}(HD,Bi,_o,Zf,wn,[zT]),ps(oi,wn,null)}finally{wc()}return new UT(this.componentType,Ci,yr(Ni,wn),wn,Ni)}}class UT extends mM{constructor(d,f,_,M,j){super(),this.location=_,this._rootLView=M,this._tNode=j,this.previousInputValues=null,this.instance=f,this.hostView=this.changeDetectorRef=new kT(M),this.componentType=d}setInput(d,f){const _=this._tNode.inputs;let M;if(null!==_&&(M=_[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),f))return;const j=this._rootLView;im(j[Rn],j,M,d,f),this.previousInputValues.set(d,f),qo(fn(this._tNode.index,j))}}get injector(){return new Oc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function zT(){const l=Nr();Fn(Ln()[Rn],l)}function rm(l){let d=function dv(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),f=!0;const _=[l];for(;d;){let M;if(rr(l))M=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new E(903,!1);M=d.\u0275dir}if(M){if(f){_.push(M);const ee=l;ee.inputs=Yu(l.inputs),ee.inputTransforms=Yu(l.inputTransforms),ee.declaredInputs=Yu(l.declaredInputs),ee.outputs=Yu(l.outputs);const Te=M.hostBindings;Te&&JT(l,Te);const ke=M.viewQuery,nt=M.contentQueries;if(ke&&$T(l,ke),nt&&qT(l,nt),p(l.inputs,M.inputs),p(l.declaredInputs,M.declaredInputs),p(l.outputs,M.outputs),null!==M.inputTransforms&&(null===ee.inputTransforms&&(ee.inputTransforms={}),p(ee.inputTransforms,M.inputTransforms)),rr(M)&&M.data.animation){const Et=l.data;Et.animation=(Et.animation||[]).concat(M.data.animation)}}const j=M.features;if(j)for(let ee=0;ee<j.length;ee++){const Te=j[ee];Te&&Te.ngInherit&&Te(l),Te===rm&&(f=!1)}}d=Object.getPrototypeOf(d)}!function ZT(l){let d=0,f=null;for(let _=l.length-1;_>=0;_--){const M=l[_];M.hostVars=d+=M.hostVars,M.hostAttrs=it(M.hostAttrs,f=it(f,M.hostAttrs))}}(_)}function Yu(l){return l===en?{}:l===nn?[]:l}function $T(l,d){const f=l.viewQuery;l.viewQuery=f?(_,M)=>{d(_,M),f(_,M)}:d}function qT(l,d){const f=l.contentQueries;l.contentQueries=f?(_,M,j)=>{d(_,M,j),f(_,M,j)}:d}function JT(l,d){const f=l.hostBindings;l.hostBindings=f?(_,M)=>{d(_,M),f(_,M)}:d}function uv(l){return d=>{d.findHostDirectiveDefs=om,d.hostDirectives=(Array.isArray(l)?l:l()).map(f=>"function"==typeof f?{directive:V(f),inputs:en,outputs:en}:{directive:V(f.directive),inputs:fv(f.inputs),outputs:fv(f.outputs)})}}function om(l,d,f){if(null!==l.hostDirectives)for(const _ of l.hostDirectives){const M=Zi(_.directive);hv(M.declaredInputs,_.inputs),om(M,d,f),f.set(M,_),d.push(M)}}function fv(l){if(void 0===l||0===l.length)return en;const d={};for(let f=0;f<l.length;f+=2)d[l[f]]=l[f+1];return d}function hv(l,d){for(const f in d)d.hasOwnProperty(f)&&(l[d[f]]=l[f])}function gv(l){const d=l.inputConfig,f={};for(const _ in d)if(d.hasOwnProperty(_)){const M=d[_];Array.isArray(M)&&M[2]&&(f[_]=M[2])}l.inputTransforms=f}function Ku(l){return!!am(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function am(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Fa(l,d,f){return l[d]=f}function go(l,d,f){return!Object.is(l[d],f)&&(l[d]=f,!0)}function Hs(l,d,f,_){const M=go(l,d,f);return go(l,d+1,_)||M}function sm(l,d,f,_){const M=Ln();return go(M,Qa(),d)&&(Oi(),ka(vr(),M,l,d,f,_)),sm}function Zl(l,d,f,_){return go(l,Qa(),f)?d+S(f)+_:xi}function $l(l,d,f,_,M,j){const Te=Hs(l,function ba(){return ri.lFrame.bindingIndex}(),f,M);return Ea(2),Te?d+S(f)+_+S(M)+j:xi}function qu(l,d,f,_,M,j,ee,Te){const ke=Ln(),nt=Oi(),Et=l+Di,Pt=nt.firstCreatePass?function Cv(l,d,f,_,M,j,ee,Te,ke){const nt=d.consts,Et=Hl(d,l,4,ee||null,Ii(nt,Te));Qh(d,f,Et,Ii(nt,ke)),Fn(d,Et);const Pt=Et.tView=ed(2,Et,_,M,j,d.directiveRegistry,d.pipeRegistry,null,d.schemas,nt,null);return null!==d.queries&&(d.queries.template(d,Et),Pt.queries=d.queries.embeddedTView(Et)),Et}(Et,nt,ke,d,f,_,M,j,ee):nt.data[Et];ya(Pt,!1);const rn=Dv(nt,ke,Pt,l);Mt()&&Ah(nt,ke,rn,Pt),mo(rn,ke),Vu(ke,ke[Et]=J_(rn,ke,rn,Pt)),Qo(Pt)&&Jh(nt,ke,Pt),null!=ee&&Yl(ke,Pt,Te)}let Dv=function xv(l,d,f,_){return xt(!0),d[Nn].createComment("")};function Mv(l){return Bt(function Kd(){return ri.lFrame.contextLView}(),Di+l)}function pm(l,d,f){const _=Ln();return go(_,Qa(),d)&&Jo(Oi(),vr(),_,l,d,_[Nn],f,!1),pm}function _m(l,d,f,_,M){const ee=M?"class":"style";im(l,f,d.inputs[ee],ee,_)}function Ju(l,d,f,_){const M=Ln(),j=Oi(),ee=Di+l,Te=M[Nn],ke=j.firstCreatePass?function SS(l,d,f,_,M,j){const ee=d.consts,ke=Hl(d,l,2,_,Ii(ee,M));return Qh(d,f,ke,Ii(ee,j)),null!==ke.attrs&&Gu(ke,ke.attrs,!1),null!==ke.mergedAttrs&&Gu(ke,ke.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,ke),ke}(ee,j,M,d,f,_):j.data[ee],nt=Av(j,M,ke,Te,d,l);M[ee]=nt;const Et=Qo(ke);return ya(ke,!0),Il(Te,nt,ke),32!=(32&ke.flags)&&Mt()&&Ah(j,M,nt,ke),0===function _a(){return ri.lFrame.elementDepthCount}()&&mo(nt,M),function va(){ri.lFrame.elementDepthCount++}(),Et&&(Jh(j,M,ke),ju(j,ke,M)),null!==_&&Yl(M,ke),Ju}function Qu(){let l=Nr();Yd()?Xf():(l=l.parent,ya(l,!1));const d=l;(function Jf(l){return ri.skipHydrationRootTNode===l})(d)&&function rp(){ri.skipHydrationRootTNode=null}(),function Ar(){ri.lFrame.elementDepthCount--}();const f=Oi();return f.firstCreatePass&&(Fn(f,l),To(l)&&f.queries.elementEnd(l)),null!=d.classesWithoutHost&&function wb(l){return 0!=(8&l.flags)}(d)&&_m(f,d,Ln(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function Ib(l){return 0!=(16&l.flags)}(d)&&_m(f,d,Ln(),d.stylesWithoutHost,!1),Qu}function vm(l,d,f,_){return Ju(l,d,f,_),Qu(),vm}let Av=(l,d,f,_,M,j)=>(xt(!0),yu(_,M,function Ne(){return ri.lFrame.currentNamespace}()));function Xu(l,d,f){const _=Ln(),M=Oi(),j=l+Di,ee=M.firstCreatePass?function xS(l,d,f,_,M){const j=d.consts,ee=Ii(j,_),Te=Hl(d,l,8,"ng-container",ee);return null!==ee&&Gu(Te,ee,!0),Qh(d,f,Te,Ii(j,M)),null!==d.queries&&d.queries.elementStart(d,Te),Te}(j,M,_,d,f):M.data[j];ya(ee,!0);const Te=wv(M,_,ee,l);return _[j]=Te,Mt()&&Ah(M,_,Te,ee),mo(Te,_),Qo(ee)&&(Jh(M,_,ee),ju(M,ee,_)),null!=f&&Yl(_,ee),Xu}function ef(){let l=Nr();const d=Oi();return Yd()?Xf():(l=l.parent,ya(l,!1)),d.firstCreatePass&&(Fn(d,l),To(l)&&d.queries.elementEnd(l)),ef}function ym(l,d,f){return Xu(l,d,f),ef(),ym}let wv=(l,d,f,_)=>(xt(!0),Ch(d[Nn],""));function Iv(){return Ln()}function bm(l){return!!l&&"function"==typeof l.then}function Ov(l){return!!l&&"function"==typeof l.subscribe}function Em(l,d,f,_){const M=Ln(),j=Oi(),ee=Nr();return Pv(j,M,M[Nn],ee,l,d,_),Em}function Tm(l,d){const f=Nr(),_=Ln(),M=Oi();return Pv(M,_,tv(pl(M.data),f,_),f,l,d),Tm}function Pv(l,d,f,_,M,j,ee){const Te=Qo(_),nt=l.firstCreatePass&&ev(l),Et=d[Ut],Pt=X_(d);let rn=!0;if(3&_.type||ee){const Gn=pt(_,d),$n=ee?ee(Gn):Gn,oi=Pt.length,wn=ee?Ni=>ee(Xi(Ni[_.index])):_.index;let Ci=null;if(!ee&&Te&&(Ci=function wS(l,d,f,_){const M=l.cleanup;if(null!=M)for(let j=0;j<M.length-1;j+=2){const ee=M[j];if(ee===f&&M[j+1]===_){const Te=d[Jn],ke=M[j+2];return Te.length>ke?Te[ke]:null}"string"==typeof ee&&(j+=2)}return null}(l,d,M,_.index)),null!==Ci)(Ci.__ngLastListenerFn__||Ci).__ngNextListenerFn__=j,Ci.__ngLastListenerFn__=j,rn=!1;else{j=Nv(_,d,Et,j,!1);const Ni=f.listen($n,M,j);Pt.push(j,Ni),nt&&nt.push(M,wn,oi,oi+1)}}else j=Nv(_,d,Et,j,!1);const ln=_.outputs;let Dn;if(rn&&null!==ln&&(Dn=ln[M])){const Gn=Dn.length;if(Gn)for(let $n=0;$n<Gn;$n+=2){const Bi=d[Dn[$n]][Dn[$n+1]].subscribe(j),_o=Pt.length;Pt.push(j,Bi),nt&&nt.push(M,_.index,_o,-(_o+1))}}}function Rv(l,d,f,_){try{return Bo(6,d,f),!1!==f(_)}catch(M){return nv(l,M),!1}finally{Bo(7,d,f)}}function Nv(l,d,f,_,M){return function j(ee){if(ee===Function)return _;qo(l.componentOffset>-1?fn(l.index,d):d);let ke=Rv(d,f,_,ee),nt=j.__ngNextListenerFn__;for(;nt;)ke=Rv(d,f,nt,ee)&&ke,nt=nt.__ngNextListenerFn__;return M&&!1===ke&&ee.preventDefault(),ke}}function Lv(l=1){return function lp(l){return(ri.lFrame.contextLView=function cp(l,d){for(;l>0;)d=d[fi],l--;return d}(l,ri.lFrame.contextLView))[Ut]}(l)}function IS(l,d){let f=null;const _=function Un(l){const d=l.attrs;if(null!=d){const f=d.indexOf(5);if(!(1&f))return d[f+1]}return null}(l);for(let M=0;M<d.length;M++){const j=d[M];if("*"!==j){if(null===_?vn(l,j,!0):ve(_,j))return M}else f=M}return f}function kv(l){const d=Ln()[li][nr];if(!d.projection){const _=d.projection=El(l?l.length:1,null),M=_.slice();let j=d.child;for(;null!==j;){const ee=l?IS(j,l):0;null!==ee&&(M[ee]?M[ee].projectionNext=j:_[ee]=j,M[ee]=j),j=j.next}}}function Fv(l,d=0,f){const _=Ln(),M=Oi(),j=Hl(M,Di+l,16,null,f||null);null===j.projection&&(j.projection=d),Xf(),(!_[wr]||ta())&&32!=(32&j.flags)&&function t_(l,d,f){Tu(d[Nn],0,d,f,Qp(l,f,d),hE(f.parent||d[nr],f,d))}(M,_,j)}function Sm(l,d,f){return tf(l,"",d,"",f),Sm}function tf(l,d,f,_,M){const j=Ln(),ee=Zl(j,d,f,_);return ee!==xi&&Jo(Oi(),vr(),j,l,ee,j[Nn],M,!1),tf}function Cm(l,d,f,_,M,j,ee){const Te=Ln(),ke=$l(Te,d,f,_,M,j);return ke!==xi&&Jo(Oi(),vr(),Te,l,ke,Te[Nn],ee,!1),Cm}function nf(l,d){return l<<17|d<<2}function _s(l){return l>>17&32767}function Dm(l){return 2|l}function Ks(l){return(131068&l)>>2}function xm(l,d){return-131069&l|d<<2}function Mm(l){return 1|l}function Kv(l,d,f,_,M){const j=l[f+1],ee=null===d;let Te=_?_s(j):Ks(j),ke=!1;for(;0!==Te&&(!1===ke||ee);){const Et=l[Te+1];kS(l[Te],d)&&(ke=!0,l[Te+1]=_?Mm(Et):Dm(Et)),Te=_?_s(Et):Ks(Et)}ke&&(l[f+1]=_?Dm(j):Mm(j))}function kS(l,d){return null===l||null==d||(Array.isArray(l)?l[1]:l)===d||!(!Array.isArray(l)||"string"!=typeof d)&&Nc(l,d)>=0}const jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wv(l){return l.substring(jr.key,jr.keyEnd)}function zv(l,d){const f=jr.textEnd;return f===d?-1:(d=jr.keyEnd=function jS(l,d,f){for(;d<f&&l.charCodeAt(d)>32;)d++;return d}(l,jr.key=d,f),nc(l,d,f))}function nc(l,d,f){for(;d<f&&l.charCodeAt(d)<=32;)d++;return d}function Am(l,d,f){return Ta(l,d,f,!1),Am}function wm(l,d){return Ta(l,d,null,!0),wm}function HS(l){Sa(ZS,Ua,l,!0)}function Ua(l,d){for(let f=function BS(l){return function Zv(l){jr.key=0,jr.keyEnd=0,jr.value=0,jr.valueEnd=0,jr.textEnd=l.length}(l),zv(l,nc(l,0,jr.textEnd))}(d);f>=0;f=zv(d,f))$r(l,Wv(d),!0)}function Ta(l,d,f,_){const M=Ln(),j=Oi(),ee=Ea(2);j.firstUpdatePass&&Qv(j,l,ee,_),d!==xi&&go(M,ee,d)&&ny(j,j.data[fo()],M,M[Nn],l,M[ee+1]=function $S(l,d){return null==l||""===l||("string"==typeof d?l+=d:"object"==typeof l&&(l=v(ds(l)))),l}(d,f),_,ee)}function Sa(l,d,f,_){const M=Oi(),j=Ea(2);M.firstUpdatePass&&Qv(M,null,j,_);const ee=Ln();if(f!==xi&&go(ee,j,f)){const Te=M.data[fo()];if(ry(Te,_)&&!Jv(M,j)){let ke=_?Te.classesWithoutHost:Te.stylesWithoutHost;null!==ke&&(f=A(ke,f||"")),_m(M,Te,ee,f,_)}else!function ty(l,d,f,_,M,j,ee,Te){M===xi&&(M=nn);let ke=0,nt=0,Et=0<M.length?M[0]:null,Pt=0<j.length?j[0]:null;for(;null!==Et||null!==Pt;){const rn=ke<M.length?M[ke+1]:void 0,ln=nt<j.length?j[nt+1]:void 0;let Gn,Dn=null;Et===Pt?(ke+=2,nt+=2,rn!==ln&&(Dn=Pt,Gn=ln)):null===Pt||null!==Et&&Et<Pt?(ke+=2,Dn=Et):(nt+=2,Dn=Pt,Gn=ln),null!==Dn&&ny(l,d,f,_,Dn,Gn,ee,Te),Et=ke<M.length?M[ke]:null,Pt=nt<j.length?j[nt]:null}}(M,Te,ee,ee[Nn],ee[j+1],ee[j+1]=function zS(l,d,f){if(null==f||""===f)return nn;const _=[],M=ds(f);if(Array.isArray(M))for(let j=0;j<M.length;j++)l(_,M[j],!0);else if("object"==typeof M)for(const j in M)M.hasOwnProperty(j)&&l(_,j,M[j]);else"string"==typeof M&&d(_,M);return _}(l,d,f),_,j)}}function Jv(l,d){return d>=l.expandoStartIndex}function Qv(l,d,f,_){const M=l.data;if(null===M[f+1]){const j=M[fo()],ee=Jv(l,f);ry(j,_)&&null===d&&!ee&&(d=!1),d=function YS(l,d,f,_){const M=pl(l);let j=_?d.residualClasses:d.residualStyles;if(null===M)0===(_?d.classBindings:d.styleBindings)&&(f=dd(f=Im(null,l,d,f,_),d.attrs,_),j=null);else{const ee=d.directiveStylingLast;if(-1===ee||l[ee]!==M)if(f=Im(M,l,d,f,_),null===j){let ke=function Xv(l,d,f){const _=f?d.classBindings:d.styleBindings;if(0!==Ks(_))return l[_s(_)]}(l,d,_);void 0!==ke&&Array.isArray(ke)&&(ke=Im(null,l,d,ke[1],_),ke=dd(ke,d.attrs,_),function KS(l,d,f,_){l[_s(f?d.classBindings:d.styleBindings)]=_}(l,d,_,ke))}else j=function WS(l,d,f){let _;const M=d.directiveEnd;for(let j=1+d.directiveStylingLast;j<M;j++)_=dd(_,l[j].hostAttrs,f);return dd(_,d.attrs,f)}(l,d,_)}return void 0!==j&&(_?d.residualClasses=j:d.residualStyles=j),f}(M,j,d,_),function NS(l,d,f,_,M,j){let ee=j?d.classBindings:d.styleBindings,Te=_s(ee),ke=Ks(ee);l[_]=f;let Et,nt=!1;if(Array.isArray(f)?(Et=f[1],(null===Et||Nc(f,Et)>0)&&(nt=!0)):Et=f,M)if(0!==ke){const rn=_s(l[Te+1]);l[_+1]=nf(rn,Te),0!==rn&&(l[rn+1]=xm(l[rn+1],_)),l[Te+1]=function PS(l,d){return 131071&l|d<<17}(l[Te+1],_)}else l[_+1]=nf(Te,0),0!==Te&&(l[Te+1]=xm(l[Te+1],_)),Te=_;else l[_+1]=nf(ke,0),0===Te?Te=_:l[ke+1]=xm(l[ke+1],_),ke=_;nt&&(l[_+1]=Dm(l[_+1])),Kv(l,Et,_,!0),Kv(l,Et,_,!1),function LS(l,d,f,_,M){const j=M?l.residualClasses:l.residualStyles;null!=j&&"string"==typeof d&&Nc(j,d)>=0&&(f[_+1]=Mm(f[_+1]))}(d,Et,l,_,j),ee=nf(Te,ke),j?d.classBindings=ee:d.styleBindings=ee}(M,j,d,f,ee,_)}}function Im(l,d,f,_,M){let j=null;const ee=f.directiveEnd;let Te=f.directiveStylingLast;for(-1===Te?Te=f.directiveStart:Te++;Te<ee&&(j=d[Te],_=dd(_,j.hostAttrs,M),j!==l);)Te++;return null!==l&&(f.directiveStylingLast=Te),_}function dd(l,d,f){const _=f?1:2;let M=-1;if(null!==d)for(let j=0;j<d.length;j++){const ee=d[j];"number"==typeof ee?M=ee:M===_&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),$r(l,ee,!!f||d[++j]))}return void 0===l?null:l}function ZS(l,d,f){const _=String(d);""!==_&&!_.includes(" ")&&$r(l,_,f)}function ny(l,d,f,_,M,j,ee,Te){if(!(3&d.type))return;const ke=l.data,nt=ke[Te+1],Et=function RS(l){return 1==(1&l)}(nt)?iy(ke,d,f,M,Ks(nt),ee):void 0;af(Et)||(af(j)||function OS(l){return 2==(2&l)}(nt)&&(j=iy(ke,null,f,M,Te,ee)),function vE(l,d,f,_,M){if(d)M?l.addClass(f,_):l.removeClass(f,_);else{let j=-1===_.indexOf("-")?void 0:du.DashCase;null==M?l.removeStyle(f,_,j):("string"==typeof M&&M.endsWith("!important")&&(M=M.slice(0,-10),j|=du.Important),l.setStyle(f,_,M,j))}}(_,ee,De(fo(),f),M,j))}function iy(l,d,f,_,M,j){const ee=null===d;let Te;for(;M>0;){const ke=l[M],nt=Array.isArray(ke),Et=nt?ke[1]:ke,Pt=null===Et;let rn=f[M+1];rn===xi&&(rn=Pt?nn:void 0);let ln=Pt?fh(rn,_):Et===_?rn:void 0;if(nt&&!af(ln)&&(ln=fh(ke,_)),af(ln)&&(Te=ln,ee))return Te;const Dn=l[M+1];M=ee?_s(Dn):Ks(Dn)}if(null!==d){let ke=j?d.residualClasses:d.residualStyles;null!=ke&&(Te=fh(ke,_))}return Te}function af(l){return void 0!==l}function ry(l,d){return 0!=(l.flags&(d?8:16))}function oy(l,d=""){const f=Ln(),_=Oi(),M=l+Di,j=_.firstCreatePass?Hl(_,M,1,d,null):_.data[M],ee=ay(_,f,j,d,l);f[M]=ee,Mt()&&Ah(_,f,ee,j),ya(j,!1)}let ay=(l,d,f,_,M)=>(xt(!0),vu(d[Nn],_));function Om(l){return sf("",l,""),Om}function sf(l,d,f){const _=Ln(),M=Zl(_,l,d,f);return M!==xi&&ns(_,fo(),M),sf}function Pm(l,d,f,_,M){const j=Ln(),ee=$l(j,l,d,f,_,M);return ee!==xi&&ns(j,fo(),ee),Pm}function lf(l,d,f){Sa($r,Ua,Zl(Ln(),l,d,f),!0)}function ic(l,d,f){const _=Ln();return go(_,Qa(),d)&&Jo(Oi(),vr(),_,l,d,_[Nn],f,!0),ic}function Qi(l,d,f){const _=Ln();if(go(_,Qa(),d)){const j=Oi(),ee=vr();Jo(j,ee,_,l,d,tv(pl(j.data),ee,_),f,!0)}return Qi}const vs=void 0;var iC=["en",[["a","p"],["AM","PM"],vs],[["AM","PM"],vs,vs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vs,"{1} 'at' {0}",vs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Um(l){const f=Math.floor(Math.abs(l)),_=l.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===_?1:5}];let rc={};function fd(l){const d=function Yo(l){return l.toLowerCase().replace(/_/g,"-")}(l);let f=yy(d);if(f)return f;const _=d.split("-")[0];if(f=yy(_),f)return f;if("en"===_)return iC;throw new E(701,!1)}function vy(l){return fd(l)[or.PluralCase]}function yy(l){return l in rc||(rc[l]=$e.ng&&$e.ng.common&&$e.ng.common.locales&&$e.ng.common.locales[l]),rc[l]}var or=function(l){return l[l.LocaleId=0]="LocaleId",l[l.DayPeriodsFormat=1]="DayPeriodsFormat",l[l.DayPeriodsStandalone=2]="DayPeriodsStandalone",l[l.DaysFormat=3]="DaysFormat",l[l.DaysStandalone=4]="DaysStandalone",l[l.MonthsFormat=5]="MonthsFormat",l[l.MonthsStandalone=6]="MonthsStandalone",l[l.Eras=7]="Eras",l[l.FirstDayOfWeek=8]="FirstDayOfWeek",l[l.WeekendRange=9]="WeekendRange",l[l.DateFormat=10]="DateFormat",l[l.TimeFormat=11]="TimeFormat",l[l.DateTimeFormat=12]="DateTimeFormat",l[l.NumberSymbols=13]="NumberSymbols",l[l.NumberFormats=14]="NumberFormats",l[l.CurrencyCode=15]="CurrencyCode",l[l.CurrencySymbol=16]="CurrencySymbol",l[l.CurrencyName=17]="CurrencyName",l[l.Currencies=18]="Currencies",l[l.Directionality=19]="Directionality",l[l.PluralCase=20]="PluralCase",l[l.ExtraData=21]="ExtraData",l}(or||{});const oc="en-US",ac={marker:"element"},hd={marker:"ICU"};var Ko=function(l){return l[l.SHIFT=2]="SHIFT",l[l.APPEND_EAGERLY=1]="APPEND_EAGERLY",l[l.COMMENT=2]="COMMENT",l}(Ko||{});let ys=oc;function cf(l){(function Pe(l,d){null==l&&Oe(d,l,null,"!=")})(l,"Expected localeId to be defined"),"string"==typeof l&&(ys=l.toLowerCase().replace(/_/g,"-"))}function md(l,d,f){const _=d.insertBeforeIndex,M=Array.isArray(_)?_[0]:_;return null===M?Xp(l,0,f):Xi(f[M])}function gd(l,d,f,_,M){const j=d.insertBeforeIndex;if(Array.isArray(j)){let ee=_,Te=null;if(3&d.type||(Te=ee,ee=M),null!==ee&&-1===d.componentOffset)for(let ke=1;ke<j.length;ke++)wl(l,ee,f[j[ke]],Te,!1)}}function Cy(l,d){if(l.push(d),l.length>1)for(let f=l.length-2;f>=0;f--){const _=l[f];Dy(_)||xy(_,d)&&null===oC(_)&&My(_,d.index)}}function Dy(l){return!(64&l.type)}function xy(l,d){return Dy(d)||l.index>d.index}function oC(l){const d=l.insertBeforeIndex;return Array.isArray(d)?d[0]:d}function My(l,d){const f=l.insertBeforeIndex;Array.isArray(f)?f[0]=d:(gE(md,gd),l.insertBeforeIndex=d)}function lC(l,d,f){const _=qh(l,f,64,null,null);return Cy(d,_),_}function cC(){const l=[];let f,_,d=-1;function j(Te,ke){d=0;const nt=function df(l,d){const f=d[l.currentCaseLViewIndex];return null===f?f:f<0?~f:f}(Te,ke);_=null!==nt?Te.remove[nt]:nn}function ee(){if(d<_.length){const Te=_[d++];return Te>0?f[Te]:(l.push(d,_),j(f[Rn].data[~Te],f),ee())}return 0===l.length?null:(_=l.pop(),d=l.pop(),ee())}return function M(Te,ke){for(f=ke;l.length;)l.pop();return j(Te.value,ke),ee}}const hf=/\ufffd(\d+):?\d*\ufffd/gi,Ny=/\ufffd(\d+)\ufffd/,Ly=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,vd="\ufffd",ky=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Fy=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,uC=/\uE500/g;function yd(l,d,f,_,M,j,ee){const Te=Qc(l,_,1,null);let ke=Te<<Ko.SHIFT,nt=Ps();d===nt&&(nt=null),null===nt&&(ke|=Ko.APPEND_EAGERLY),ee&&(ke|=Ko.COMMENT,function jp(l){void 0===pu&&(pu=l())}(cC)),M.push(ke,null===j?"":j);const Et=qh(l,Te,ee?32:1,null===j?"":j,null);Cy(f,Et);const Pt=Et.index;return ya(Et,!1),null!==nt&&d!==nt&&function sC(l,d){let f=l.insertBeforeIndex;null===f?(gE(md,gd),f=l.insertBeforeIndex=[null,d]):(function te(l,d,f){l!=d&&Oe(f,l,d,"==")}(Array.isArray(f),!0,"Expecting array here"),f.push(d))}(nt,Pt),Et}function bd(l,d,f,_,M,j,ee){const Te=ee.match(hf),ke=yd(l,d,f,j,_,Te?null:ee,!1);Te&&sc(M,ee,ke.index,null,0,null)}function sc(l,d,f,_,M,j){const ee=l.length,Te=ee+1;l.push(null,null);const ke=ee+2,nt=d.split(hf);let Et=0;for(let Pt=0;Pt<nt.length;Pt++){const rn=nt[Pt];if(1&Pt){const ln=M+parseInt(rn,10);l.push(-1-ln),Et|=Io(ln)}else""!==rn&&l.push(rn)}return l.push(f<<2|(_?1:0)),_&&l.push(_,j),l[ee]=Et,l[Te]=l.length-ke,Et}function Io(l){return 1<<Math.min(l,31)}function Gm(l){let d,j,f="",_=0,M=!1;for(;null!==(d=ky.exec(l));)M?d[0]===`${vd}/*${j}${vd}`&&(_=d.index,M=!1):(f+=l.substring(_,d.index+d[0].length),j=d[1],M=!0);return f+=l.slice(_),f}function Ed(l,d,f,_,M,j){let ee=0;const Te={type:M.type,currentCaseLViewIndex:Qc(l,d,1,null),anchorIdx:j,cases:[],create:[],remove:[],update:[]};(function vC(l,d,f){l.push(Io(d.mainBinding),2,-1-d.mainBinding,f<<2|2)})(f,M,j),function aC(l,d,f){const _=l.data[d];null===_?l.data[d]=f:_.value=f}(l,j,Te);const ke=M.values;for(let nt=0;nt<ke.length;nt++){const Et=ke[nt],Pt=[];for(let rn=0;rn<Et.length;rn++){const ln=Et[rn];if("string"!=typeof ln){const Dn=Pt.push(ln)-1;Et[rn]=`\x3c!--\ufffd${Dn}\ufffd--\x3e`}}ee=_C(l,Te,d,f,_,M.cases[nt],Et.join(""),Pt)|ee}ee&&function jy(l,d,f){l.push(d,1,f<<2|3)}(f,ee,j)}function pC(l){const d=[],f=[];let _=1,M=0;const j=mf(l=l.replace(Ly,function(ee,Te,ke){return _="select"===ke?0:1,M=parseInt(Te.slice(1),10),""}));for(let ee=0;ee<j.length;){let Te=j[ee++].trim();1===_&&(Te=Te.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Te.length&&d.push(Te);const ke=mf(j[ee++]);d.length>f.length&&f.push(ke)}return{type:_,mainBinding:M,cases:d,values:f}}function mf(l){if(!l)return[];let d=0;const f=[],_=[],M=/[{}]/g;let j;for(M.lastIndex=0;j=M.exec(l);){const Te=j.index;if("}"==j[0]){if(f.pop(),0==f.length){const ke=l.substring(d,Te);Ly.test(ke)?_.push(pC(ke)):_.push(ke),d=Te+1}}else{if(0==f.length){const ke=l.substring(d,Te);_.push(ke),d=Te+1}f.push("{")}}const ee=l.substring(d);return _.push(ee),_}function _C(l,d,f,_,M,j,ee,Te){const ke=[],nt=[],Et=[];d.cases.push(j),d.create.push(ke),d.remove.push(nt),d.update.push(Et);const rn=SE(ls()).getInertBodyElement(ee),ln=xu(rn)||rn;return ln?gf(l,d,f,_,ke,nt,Et,ln,M,Te,0):0}function gf(l,d,f,_,M,j,ee,Te,ke,nt,Et){let Pt=0,rn=Te.firstChild;for(;rn;){const ln=Qc(l,f,1,null);switch(rn.nodeType){case Node.ELEMENT_NODE:const Dn=rn,Gn=Dn.tagName.toLowerCase();if(Jr.hasOwnProperty(Gn)){Ym(M,ac,Gn,ke,ln),l.data[ln]=Gn;const Ci=Dn.attributes;for(let Ni=0;Ni<Ci.length;Ni++){const Bi=Ci.item(Ni),_o=Bi.name.toLowerCase();Bi.value.match(hf)?Cu.hasOwnProperty(_o)&&sc(ee,Bi.value,ln,Bi.name,0,Ph[_o]?Kc:null):Da(M,ln,Bi)}Pt=gf(l,d,f,_,M,j,ee,rn,ln,nt,Et+1)|Pt,Hm(j,ln,Et)}break;case Node.TEXT_NODE:const $n=rn.textContent||"",oi=$n.match(hf);Ym(M,null,oi?"":$n,ke,ln),Hm(j,ln,Et),oi&&(Pt=sc(ee,$n,ln,null,0,null)|Pt);break;case Node.COMMENT_NODE:const wn=Ny.exec(rn.textContent||"");if(wn){const Ni=nt[parseInt(wn[1],10)];Ym(M,hd,"",ke,ln),Ed(l,f,_,ke,Ni,ln),Uy(j,ln,Et)}}rn=rn.nextSibling}return Pt}function Hm(l,d,f){0===f&&l.push(d)}function Uy(l,d,f){0===f&&(l.push(~d),l.push(d))}function Ym(l,d,f,_,M){null!==d&&l.push(d),l.push(f,M,function ja(l,d,f){return l|d<<17|f<<1}(0,_,M))}function Da(l,d,f){l.push(d<<1|1,f.name,f.value)}function gi(l,d,f=-1){const _=Oi(),M=Ln(),j=Di+l,ee=Ii(_.consts,d),Te=Ps();_.firstCreatePass&&function hC(l,d,f,_,M,j){const ee=Ps(),Te=[],ke=[],nt=[[]];M=function gC(l,d){if(function Vm(l){return-1===l}(d))return Gm(l);{const f=l.indexOf(`:${d}${vd}`)+2+d.toString().length,_=l.search(new RegExp(`${vd}\\/\\*\\d+:${d}${vd}`));return Gm(l.substring(f,_))}}(M,j);const Et=function fC(l){return l.replace(uC," ")}(M).split(Fy);for(let Pt=0;Pt<Et.length;Pt++){let rn=Et[Pt];if(1&Pt){const ln=47===rn.charCodeAt(0),Gn=(rn.charCodeAt(ln?1:0),Di+Number.parseInt(rn.substring(ln?2:1)));if(ln)nt.shift(),ya(Ps(),!1);else{const $n=lC(l,nt[0],Gn);nt.unshift([]),ya($n,!0)}}else{const ln=mf(rn);for(let Dn=0;Dn<ln.length;Dn++){let Gn=ln[Dn];if(1&Dn){const $n=Gn;if("object"!=typeof $n)throw new Error(`Unable to parse ICU expression in "${M}" message.`);Ed(l,f,ke,d,$n,yd(l,ee,nt[0],f,Te,"",!0).index)}else""!==Gn&&bd(l,ee,nt[0],Te,ke,f,Gn)}}}l.data[_]={create:Te,update:ke}}(_,null===Te?0:Te.index,M,j,ee,f),2===_.type?M[li][ai]|=32:M[ai]|=32;const ke=_.data[j],Et=dE(_,Te===M[nr]?null:Te,M);(function Iy(l,d,f,_){const M=l[Nn];for(let j=0;j<d.length;j++){const ee=d[j++],Te=d[j],nt=(ee&Ko.APPEND_EAGERLY)===Ko.APPEND_EAGERLY,Et=ee>>>Ko.SHIFT;let Pt=l[Et];null===Pt&&(Pt=l[Et]=(ee&Ko.COMMENT)===Ko.COMMENT?M.createComment(Te):vu(M,Te)),nt&&null!==f&&wl(M,f,Pt,_,!1)}})(M,ke.create,Et,Te&&8&Te.type?M[Te.index]:null),nh(!0)}function pf(l,d,f){gi(l,d,f),function Wm(){nh(!1)}()}function $m(l,d,f,_,M){if(l=V(l),Array.isArray(l))for(let j=0;j<l.length;j++)$m(l[j],d,f,_,M);else{const j=Oi(),ee=Ln();let Te=Vs(l)?l:V(l.provide),ke=f_(l);const nt=Nr(),Et=1048575&nt.providerIndexes,Pt=nt.directiveStart,rn=nt.providerIndexes>>20;if(Vs(l)||!l.multi){const ln=new Xa(ke,M,Gl),Dn=Jm(Te,d,M?Et:Et+rn,Pt);-1===Dn?(uh(Xd(nt,ee),j,Te),qm(j,l,d.length),d.push(Te),nt.directiveStart++,nt.directiveEnd++,M&&(nt.providerIndexes+=1048576),f.push(ln),ee.push(ln)):(f[Dn]=ln,ee[Dn]=ln)}else{const ln=Jm(Te,d,Et+rn,Pt),Dn=Jm(Te,d,Et,Et+rn),$n=Dn>=0&&f[Dn];if(M&&!$n||!M&&!(ln>=0&&f[ln])){uh(Xd(nt,ee),j,Te);const oi=function TC(l,d,f,_,M){const j=new Xa(l,f,Gl);return j.multi=[],j.index=d,j.componentProviders=0,la(j,M,_&&!f),j}(M?_f:Qm,f.length,M,_,ke);!M&&$n&&(f[Dn].providerFactory=oi),qm(j,l,d.length,0),d.push(Te),nt.directiveStart++,nt.directiveEnd++,M&&(nt.providerIndexes+=1048576),f.push(oi),ee.push(oi)}else qm(j,l,ln>-1?ln:Dn,la(f[M?Dn:ln],ke,!M&&_));!M&&_&&$n&&f[Dn].componentProviders++}}}function qm(l,d,f,_){const M=Vs(d),j=function tM(l){return!!l.useClass}(d);if(M||j){const ke=(j?V(d.useClass):d).prototype.ngOnDestroy;if(ke){const nt=l.destroyHooks||(l.destroyHooks=[]);if(!M&&d.multi){const Et=nt.indexOf(f);-1===Et?nt.push(f,[_,ke]):nt[Et+1].push(_,ke)}else nt.push(f,ke)}}}function la(l,d,f){return f&&l.componentProviders++,l.multi.push(d)-1}function Jm(l,d,f,_){for(let M=f;M<_;M++)if(d[M]===l)return M;return-1}function Qm(l,d,f,_){return Td(this.multi,[])}function _f(l,d,f,_){const M=this.multi;let j;if(this.providerFactory){const ee=this.providerFactory.componentProviders,Te=Ls(f,f[Rn],this.providerFactory.index,_);j=Te.slice(0,ee),Td(M,j);for(let ke=ee;ke<Te.length;ke++)j.push(Te[ke])}else j=[],Td(M,j);return j}function Td(l,d){for(let f=0;f<l.length;f++)d.push((0,l[f])());return d}function zy(l,d=[]){return f=>{f.providersResolver=(_,M)=>function Zm(l,d,f){const _=Oi();if(_.firstCreatePass){const M=rr(l);$m(f,_.data,_.blueprint,M,!0),$m(d,_.data,_.blueprint,M,!1)}}(_,M?M(l):l,d)}}class cc{}class vf{}function Sd(l,d){return new yf(l,d??null,[])}class yf extends cc{constructor(d,f,_){super(),this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new lv(this);const M=ni(d);this._bootstrapComponents=ts(M.bootstrap),this._r3Injector=B_(d,f,[{provide:cc,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver},..._],v(d),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(d)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class $s extends vf{constructor(d){super(),this.moduleType=d}create(d){return new yf(this.moduleType,d,[])}}class eg extends cc{constructor(d){super(),this.componentFactoryResolver=new lv(this),this.instance=null;const f=new u_([...d.providers,{provide:cc,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],d.parent||wu(),d.debugName,new Set(["environment"]));this.injector=f,d.runEnvironmentInitializers&&f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function Zy(l,d,f=null){return new eg({providers:l,parent:d,debugName:f,runEnvironmentInitializers:!0}).injector}let SC=(()=>{class l{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f)){const _=kh(0,f.type),M=_.length>0?Zy([_],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f,M)}return this.cachedInjectors.get(f)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ae({token:l,providedIn:"environment",factory:()=>new l(xe(Fl))})}return l})();function $y(l){l.getStandaloneInjector=d=>d.get(SC).getOrCreateStandaloneInjector(l)}function n0(l,d,f){const _=io()+l,M=Ln();return M[_]===xi?Fa(M,_,f?d.call(f):d()):function od(l,d){return l[d]}(M,_)}function r0(l,d,f,_){return ag(Ln(),io(),l,d,f,_)}function o0(l,d,f,_,M){return Gr(Ln(),io(),l,d,f,_,M)}function oo(l,d,f,_,M,j){return function a0(l,d,f,_,M,j,ee,Te){const ke=d+f;return function Wu(l,d,f,_,M){const j=Hs(l,d,f,_);return go(l,d+2,M)||j}(l,ke,M,j,ee)?Fa(l,ke+3,Te?_.call(Te,M,j,ee):_(M,j,ee)):Es(l,ke+3)}(Ln(),io(),l,d,f,_,M,j)}function Es(l,d){const f=l[d];return f===xi?void 0:f}function ag(l,d,f,_,M,j){const ee=d+f;return go(l,ee,M)?Fa(l,ee+1,j?_.call(j,M):_(M)):Es(l,ee+1)}function Gr(l,d,f,_,M,j,ee){const Te=d+f;return Hs(l,Te,M,j)?Fa(l,Te+2,ee?_.call(ee,M,j):_(M,j)):Es(l,Te+2)}function sg(l,d){const f=Oi();let _;const M=l+Di;f.firstCreatePass?(_=function wC(l,d){if(d)for(let f=d.length-1;f>=0;f--){const _=d[f];if(l===_.name)return _}}(d,f.pipeRegistry),f.data[M]=_,_.onDestroy&&(f.destroyHooks??=[]).push(M,_.onDestroy)):_=f.data[M];const j=_.factory||(_.factory=We(_.type)),ee=Ce(Gl);try{const Te=Qd(!1),ke=j();return Qd(Te),function TS(l,d,f,_){f>=l.data.length&&(l.data[f]=null,l.blueprint[f]=null),d[f]=_}(f,Ln(),M,ke),ke}finally{Ce(ee)}}function Va(l,d,f){const _=l+Di,M=Ln(),j=Bt(M,_);return Js(M,_)?ag(M,io(),d,j.transform,f,j):j.transform(f)}function s0(l,d,f,_){const M=l+Di,j=Ln(),ee=Bt(j,M);return Js(j,M)?Gr(j,io(),d,ee.transform,f,_,ee):ee.transform(f,_)}function Js(l,d){return l[Rn].data[d].pure}function Cf(l){return d=>{setTimeout(l,void 0,d)}}const Ga=class Sf extends c.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,f,_){let M=d,j=f||(()=>null),ee=_;if(d&&"object"==typeof d){const ke=d;M=ke.next?.bind(ke),j=ke.error?.bind(ke),ee=ke.complete?.bind(ke)}this.__isAsync&&(j=Cf(j),M&&(M=Cf(M)),ee&&(ee=Cf(ee)));const Te=super.subscribe({next:M,error:j,complete:ee});return d instanceof t.w0&&d.add(Te),Te}};function NC(){return this._results[Symbol.iterator]()}class Md{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ga)}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=Md.prototype;f[Symbol.iterator]||(f[Symbol.iterator]=NC)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,f){return this._results.reduce(d,f)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,f){const _=this;_.dirty=!1;const M=function Zr(l){return l.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function Kb(l,d,f){if(l.length!==d.length)return!1;for(let _=0;_<l.length;_++){let M=l[_],j=d[_];if(f&&(M=f(M),j=f(j)),j!==M)return!1}return!0}(_._results,M,f))&&(_._results=M,_.length=M.length,_.last=M[this.length-1],_.first=M[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Qs=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=FC}return l})();const LC=Qs,kC=class extends LC{constructor(d,f,_){super(),this._declarationLView=d,this._declarationTContainer=f,this.elementRef=_}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,f){return this.createEmbeddedViewImpl(d,f,null)}createEmbeddedViewImpl(d,f,_){const ee=this._declarationTContainer.tView,Te=Uu(this._declarationLView,ee,d,4096&this._declarationLView[ai]?4096:16,null,ee.declTNode,null,null,null,f||null,_||null);Te[Ri]=this._declarationLView[this._declarationTContainer.index];const nt=this._declarationLView[ur];return null!==nt&&(Te[ur]=nt.createEmbeddedView(ee)),ps(ee,Te,d),new rd(Te)}};function FC(){return Ad(Nr(),Ln())}function Ad(l,d){return 4&l.type?new kC(d,l,yr(l,d)):null}let Df=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=VC}return l})();function VC(){return fg(Nr(),Ln())}const GC=Df,d0=class extends GC{constructor(d,f,_){super(),this._lContainer=d,this._hostTNode=f,this._hostLView=_}get element(){return yr(this._hostTNode,this._hostLView)}get injector(){return new Oc(this._hostTNode,this._hostLView)}get parentInjector(){const d=dh(this._hostTNode,this._hostLView);if(dp(d)){const f=Jd(d,this._hostLView),_=qd(d);return new Oc(f[Rn].data[_+8],f)}return new Oc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const f=u0(this._lContainer);return null!==f&&f[d]||null}get length(){return this._lContainer.length-$i}createEmbeddedView(d,f,_){let M,j;"number"==typeof _?M=_:null!=_&&(M=_.index,j=_.injector);const Te=d.createEmbeddedViewImpl(f||{},j,null);return this.insertImpl(Te,M,false),Te}createComponent(d,f,_,M,j){const ee=d&&!function tu(l){return"function"==typeof l}(d);let Te;if(ee)Te=f;else{const Gn=f||{};Te=Gn.index,_=Gn.injector,M=Gn.projectableNodes,j=Gn.environmentInjector||Gn.ngModuleRef}const ke=ee?d:new Wl(di(d)),nt=_||this.parentInjector;if(!j&&null==ke.ngModule){const $n=(ee?nt:this.parentInjector).get(Fl,null);$n&&(j=$n)}di(ke.componentType??{});const ln=ke.create(nt,M,null,j);return this.insertImpl(ln.hostView,Te,false),ln}insert(d,f){return this.insertImpl(d,f,!1)}insertImpl(d,f,_){const M=d._lView,j=M[Rn];if(function Yi(l){return Or(l[Li])}(M)){const ke=this.indexOf(d);if(-1!==ke)this.detach(ke);else{const nt=M[Li],Et=new d0(nt,nt[nr],nt[Li]);Et.detach(Et.indexOf(d))}}const ee=this._adjustIndex(f),Te=this._lContainer;if(function $p(l,d,f,_){const M=$i+_,j=f.length;_>0&&(f[M-1][Sr]=d),_<j-$i?(d[Sr]=f[M],xo(f,$i+_,d)):(f.push(d),d[Sr]=null),d[Li]=f;const ee=d[Ri];null!==ee&&f!==ee&&function cE(l,d){const f=l[Eo];d[li]!==d[Li][Li][li]&&(l[Oa]=!0),null===f?l[Eo]=[d]:f.push(d)}(ee,d);const Te=d[ur];null!==Te&&Te.insertView(l),d[ai]|=128}(j,M,Te,ee),!_){const ke=Eu(ee,Te),nt=M[Nn],Et=Mh(nt,Te[Fr]);null!==Et&&function Wp(l,d,f,_,M,j){_[_i]=M,_[nr]=d,Us(l,_,f,1,M,j)}(j,Te[nr],nt,M,Et,ke)}return d.attachToViewContainerRef(),xo(da(Te),ee,d),d}move(d,f){return this.insert(d,f)}indexOf(d){const f=u0(this._lContainer);return null!==f?f.indexOf(d):-1}remove(d){const f=this._adjustIndex(d,-1),_=xh(this._lContainer,f);_&&(La(da(this._lContainer),f),qp(_[Rn],_))}detach(d){const f=this._adjustIndex(d,-1),_=xh(this._lContainer,f);return _&&null!=La(da(this._lContainer),f)?new rd(_):null}_adjustIndex(d,f=0){return d??this.length+f}};function u0(l){return l[8]}function da(l){return l[8]||(l[8]=[])}function fg(l,d){let f;const _=d[l.index];return Or(_)?f=_:(f=J_(_,d,null,l),d[l.index]=f,Vu(d,f)),f0(f,d,l,_),new d0(f,l,d)}let f0=function hg(l,d,f,_){if(l[Fr])return;let M;M=8&f.type?Xi(_):function HC(l,d){const f=l[Nn],_=f.createComment(""),M=pt(d,l);return wl(f,Mh(f,M),_,function Fx(l,d){return l.nextSibling(d)}(f,M),!1),_}(d,f),l[Fr]=M};class gg{constructor(d){this.queryList=d,this.matches=null}clone(){return new gg(this.queryList)}setDirty(){this.queryList.setDirty()}}class dc{constructor(d=[]){this.queries=d}createEmbeddedView(d){const f=d.queries;if(null!==f){const _=null!==d.contentQueries?d.contentQueries[0]:f.length,M=[];for(let j=0;j<_;j++){const ee=f.getByIndex(j);M.push(this.queries[ee.indexInDeclarationView].clone())}return new dc(M)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let f=0;f<this.queries.length;f++)null!==Eg(d,f).matches&&this.queries[f].setDirty()}}class m0{constructor(d,f,_=null){this.predicate=d,this.flags=f,this.read=_}}class pg{constructor(d=[]){this.queries=d}elementStart(d,f){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(d,f)}elementEnd(d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(d)}embeddedTView(d){let f=null;for(let _=0;_<this.length;_++){const M=null!==f?f.length:0,j=this.getByIndex(_).embeddedTView(d,M);j&&(j.indexInDeclarationView=_,null!==f?f.push(j):f=[j])}return null!==f?new pg(f):null}template(d,f){for(let _=0;_<this.queries.length;_++)this.queries[_].template(d,f)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class xf{constructor(d,f=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(d,f){this.isApplyingToNode(f)&&this.matchTNode(d,f)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,f){this.elementStart(d,f)}embeddedTView(d,f){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,f),new xf(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let _=d.parent;for(;null!==_&&8&_.type&&_.index!==f;)_=_.parent;return f===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(d,f){const _=this.metadata.predicate;if(Array.isArray(_))for(let M=0;M<_.length;M++){const j=_[M];this.matchTNodeWithReadOption(d,f,g0(f,j)),this.matchTNodeWithReadOption(d,f,eu(f,d,j,!1,!1))}else _===Qs?4&f.type&&this.matchTNodeWithReadOption(d,f,-1):this.matchTNodeWithReadOption(d,f,eu(f,d,_,!1,!1))}matchTNodeWithReadOption(d,f,_){if(null!==_){const M=this.metadata.read;if(null!==M)if(M===hs||M===Df||M===Qs&&4&f.type)this.addMatch(f.index,-2);else{const j=eu(f,d,M,!1,!1);null!==j&&this.addMatch(f.index,j)}else this.addMatch(f.index,_)}}addMatch(d,f){null===this.matches?this.matches=[d,f]:this.matches.push(d,f)}}function g0(l,d){const f=l.localNames;if(null!==f)for(let _=0;_<f.length;_+=2)if(f[_]===d)return f[_+1];return null}function p0(l,d,f,_){return-1===f?function YC(l,d){return 11&l.type?yr(l,d):4&l.type?Ad(l,d):null}(d,l):-2===f?function KC(l,d,f){return f===hs?yr(d,l):f===Qs?Ad(d,l):f===Df?fg(d,l):void 0}(l,d,_):Ls(l,l[Rn],f,d)}function _0(l,d,f,_){const M=d[ur].queries[_];if(null===M.matches){const j=l.data,ee=f.matches,Te=[];for(let ke=0;ke<ee.length;ke+=2){const nt=ee[ke];Te.push(nt<0?null:p0(d,j[nt],ee[ke+1],f.metadata.read))}M.matches=Te}return M.matches}function _g(l,d,f,_){const M=l.queries.getByIndex(f),j=M.matches;if(null!==j){const ee=_0(l,d,M,f);for(let Te=0;Te<j.length;Te+=2){const ke=j[Te];if(ke>0)_.push(ee[Te/2]);else{const nt=j[Te+1],Et=d[-ke];for(let Pt=$i;Pt<Et.length;Pt++){const rn=Et[Pt];rn[Ri]===rn[Li]&&_g(rn[Rn],rn,nt,_)}if(null!==Et[Eo]){const Pt=Et[Eo];for(let rn=0;rn<Pt.length;rn++){const ln=Pt[rn];_g(ln[Rn],ln,nt,_)}}}}}return _}function wd(l){const d=Ln(),f=Oi(),_=oh();Mc(_+1);const M=Eg(f,_);if(l.dirty&&function Cn(l){return 4==(4&l[ai])}(d)===(2==(2&M.metadata.flags))){if(null===M.matches)l.reset([]);else{const j=M.crossesNgTemplate?_g(f,d,_,[]):_0(f,d,M,_);l.reset(j,QE),l.notifyOnChanges()}return!0}return!1}function v0(l,d,f){const _=Oi();_.firstCreatePass&&(yg(_,new m0(l,d,f),-1),2==(2&d)&&(_.staticViewQueries=!0)),vg(_,Ln(),d)}function y0(l,d,f,_){const M=Oi();if(M.firstCreatePass){const j=Nr();yg(M,new m0(d,f,_),j.index),function bg(l,d){const f=l.contentQueries||(l.contentQueries=[]);d!==(f.length?f[f.length-1]:-1)&&f.push(l.queries.length-1,d)}(M,l),2==(2&f)&&(M.staticContentQueries=!0)}vg(M,Ln(),f)}function b0(){return function WC(l,d){return l[ur].queries[d].queryList}(Ln(),oh())}function vg(l,d,f){const _=new Md(4==(4&f));(function hT(l,d,f,_){const M=X_(d);M.push(f),l.firstCreatePass&&ev(l).push(_,M.length-1)})(l,d,_,_.destroy),null===d[ur]&&(d[ur]=new dc),d[ur].queries.push(new gg(_))}function yg(l,d,f){null===l.queries&&(l.queries=new pg),l.queries.track(new xf(d,f))}function Eg(l,d){return l.queries.getByIndex(d)}function E0(l,d){return Ad(l,d)}function Sg(l){return!!ni(l)}const N0=new Wi("Application Initializer");let Ag=(()=>{class l{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,_)=>{this.resolve=f,this.reject=_}),this.appInits=pe(N0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const f=[];for(const M of this.appInits){const j=M();if(bm(j))f.push(j);else if(Ov(j)){const ee=new Promise((Te,ke)=>{j.subscribe({complete:Te,error:ke})});f.push(ee)}}const _=()=>{this.done=!0,this.resolve()};Promise.all(f).then(()=>{_()}).catch(M=>{this.reject(M)}),0===f.length&&_(),this.initialized=!0}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),wg=(()=>{class l{log(f){console.log(f)}warn(f){console.warn(f)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();const Nd=new Wi("LocaleId",{providedIn:"root",factory:()=>pe(Nd,de.Optional|de.SkipSelf)||function iD(){return typeof $localize<"u"&&$localize.locale||oc}()}),rD=new Wi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let L0=(()=>{class l{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new b.X(!1)}add(){this.hasPendingTasks.next(!0);const f=this.taskId++;return this.pendingTasks.add(f),f}remove(f){this.pendingTasks.delete(f),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();class k0{constructor(d,f){this.ngModuleFactory=d,this.componentFactories=f}}let F0=(()=>{class l{compileModuleSync(f){return new $s(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const _=this.compileModuleSync(f),j=ts(ni(f).declarations).reduce((ee,Te)=>{const ke=di(Te);return ke&&ee.push(new Wl(ke)),ee},[]);return new k0(_,j)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function U0(...l){}class Po{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ga(!1),this.onMicrotaskEmpty=new Ga(!1),this.onStable=new Ga(!1),this.onError=new Ga(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const M=this;M._nesting=0,M._outer=M._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(M._inner=M._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(M._inner=M._inner.fork(Zone.longStackTraceZoneSpec)),M.shouldCoalesceEventChangeDetection=!_&&f,M.shouldCoalesceRunChangeDetection=_,M.lastRequestAnimationFrameId=-1,M.nativeRequestAnimationFrame=function sD(){const l="function"==typeof $e.requestAnimationFrame;let d=$e[l?"requestAnimationFrame":"setTimeout"],f=$e[l?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&d&&f){const _=d[Zone.__symbol__("OriginalDelegate")];_&&(d=_);const M=f[Zone.__symbol__("OriginalDelegate")];M&&(f=M)}return{nativeRequestAnimationFrame:d,nativeCancelAnimationFrame:f}}().nativeRequestAnimationFrame,function cD(l){const d=()=>{!function lD(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call($e,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Ld(l),l.isCheckStableRunning=!0,Ff(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Ld(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,_,M,j,ee,Te)=>{try{return Og(l),f.invokeTask(M,j,ee,Te)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===j.type||l.shouldCoalesceRunChangeDetection)&&d(),Pg(l)}},onInvoke:(f,_,M,j,ee,Te,ke)=>{try{return Og(l),f.invoke(M,j,ee,Te,ke)}finally{l.shouldCoalesceRunChangeDetection&&d(),Pg(l)}},onHasTask:(f,_,M,j)=>{f.hasTask(M,j),_===M&&("microTask"==j.change?(l._hasPendingMicrotasks=j.microTask,Ld(l),Ff(l)):"macroTask"==j.change&&(l.hasPendingMacrotasks=j.macroTask))},onHandleError:(f,_,M,j)=>(f.handleError(M,j),l.runOutsideAngular(()=>l.onError.emit(j)),!1)})}(M)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Po.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(Po.isInAngularZone())throw new E(909,!1)}run(d,f,_){return this._inner.run(d,f,_)}runTask(d,f,_,M){const j=this._inner,ee=j.scheduleEventTask("NgZoneEvent: "+M,d,nl,U0,U0);try{return j.runTask(ee,f,_)}finally{j.cancelTask(ee)}}runGuarded(d,f,_){return this._inner.runGuarded(d,f,_)}runOutsideAngular(d){return this._outer.run(d)}}const nl={};function Ff(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Ld(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function Og(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Pg(l){l._nesting--,Ff(l)}class hc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ga,this.onMicrotaskEmpty=new Ga,this.onStable=new Ga,this.onError=new Ga}run(d,f,_){return d.apply(f,_)}runGuarded(d,f,_){return d.apply(f,_)}runOutsideAngular(d){return d()}runTask(d,f,_,M){return d.apply(f,_)}}const Rg=new Wi("",{providedIn:"root",factory:Ng});function Ng(){const l=pe(Po);let d=!0;const f=new I.y(M=>{d=l.isStable&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks,l.runOutsideAngular(()=>{M.next(d),M.complete()})}),_=new I.y(M=>{let j;l.runOutsideAngular(()=>{j=l.onStable.subscribe(()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{!d&&!l.hasPendingMacrotasks&&!l.hasPendingMicrotasks&&(d=!0,M.next(!0))})})});const ee=l.onUnstable.subscribe(()=>{Po.assertInAngularZone(),d&&(d=!1,l.runOutsideAngular(()=>{M.next(!1)}))});return()=>{j.unsubscribe(),ee.unsubscribe()}});return(0,y.T)(f,_.pipe((0,L.B)()))}const kd=new Wi(""),Bf=new Wi("");let Uf,dD=(()=>{class l{constructor(f,_,M){this._ngZone=f,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Uf||(function uD(l){Uf=l}(M),M.addToWindow(_)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(f)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,_,M){let j=-1;_&&_>0&&(j=setTimeout(()=>{this._callbacks=this._callbacks.filter(ee=>ee.timeoutId!==j),f(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:f,timeoutId:j,updateCb:M})}whenStable(f,_,M){if(M&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,_,M),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,_,M){return[]}static#e=this.\u0275fac=function(_){return new(_||l)(xe(Po),xe(Lg),xe(Bf))};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac})}return l})(),Lg=(()=>{class l{constructor(){this._applications=new Map}registerApplication(f,_){this._applications.set(f,_)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,_=!0){return Uf?.findTestabilityInTree(this,f,_)??null}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})(),Ka=null;const Fd=new Wi("AllowMultipleToken"),kg=new Wi("PlatformDestroyListeners"),jf=new Wi("appBootstrapListener");class Fg{constructor(d,f){this.name=d,this.token=f}}function Ug(l,d,f=[]){const _=`Platform: ${d}`,M=new Wi(_);return(j=[])=>{let ee=jg();if(!ee||ee.injector.get(Fd,!1)){const Te=[...f,...j,{provide:M,useValue:!0}];l?l(Te):function Bg(l){if(Ka&&!Ka.get(Fd,!1))throw new E(400,!1);(function Vf(){!function _c(l){dl=l}(()=>{throw new E(600,!1)})})(),Ka=l;const d=l.get(Gf);(function j0(l){l.get(jE,null)?.forEach(f=>f())})(l)}(function H0(l=[],d){return gs.create({name:d,providers:[{provide:c_,useValue:"platform"},{provide:kg,useValue:new Set([()=>Ka=null])},...l]})}(Te,_))}return function G0(l){const d=jg();if(!d)throw new E(401,!1);return d}()}}function jg(){return Ka?.get(Gf)??null}let Gf=(()=>{class l{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,_){const M=function Y0(l="zone.js",d){return"noop"===l?new hc:"zone.js"===l?new Po(d):l}(_?.ngZone,function Vg(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:l?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:l?.runCoalescing??!1}}({eventCoalescing:_?.ngZoneEventCoalescing,runCoalescing:_?.ngZoneRunCoalescing}));return M.run(()=>{const j=function Xm(l,d,f){return new yf(l,d,f)}(f.moduleType,this.injector,function Gg(l){return[{provide:Po,useFactory:l},{provide:kl,multi:!0,useFactory:()=>{const d=pe(_D,{optional:!0});return()=>d.initialize()}},{provide:z0,useFactory:pD},{provide:Rg,useFactory:Ng}]}(()=>M)),ee=j.injector.get(Ul,null);return M.runOutsideAngular(()=>{const Te=M.onError.subscribe({next:ke=>{ee.handleError(ke)}});j.onDestroy(()=>{mc(this._modules,j),Te.unsubscribe()})}),function K0(l,d,f){try{const _=f();return bm(_)?_.catch(M=>{throw d.runOutsideAngular(()=>l.handleError(M)),M}):_}catch(_){throw d.runOutsideAngular(()=>l.handleError(_)),_}}(ee,M,()=>{const Te=j.injector.get(Ag);return Te.runInitializers(),Te.donePromise.then(()=>(cf(j.injector.get(Nd,oc)||oc),this._moduleDoBootstrap(j),j))})})}bootstrapModule(f,_=[]){const M=Hf({},_);return function fD(l,d,f){const _=new $s(f);return Promise.resolve(_)}(0,0,f).then(j=>this.bootstrapModuleFactory(j,M))}_moduleDoBootstrap(f){const _=f.injector.get(il);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(M=>_.bootstrap(M));else{if(!f.instance.ngDoBootstrap)throw new E(-403,!1);f.instance.ngDoBootstrap(_)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const f=this._injector.get(kg,null);f&&(f.forEach(_=>_()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(_){return new(_||l)(xe(gs))};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"platform"})}return l})();function Hf(l,d){return Array.isArray(d)?d.reduce(Hf,l):{...l,...d}}let il=(()=>{class l{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pe(z0),this.zoneIsStable=pe(Rg),this.componentTypes=[],this.components=[],this.isStable=pe(L0).hasPendingTasks.pipe((0,x.w)(f=>f?(0,F.of)(!1):this.zoneIsStable),(0,m.x)(),(0,L.B)()),this._injector=pe(Fl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(f,_){const M=f instanceof qE;if(!this._injector.get(Ag).done)throw!M&&Si(f),new E(405,!1);let ee;ee=M?f:this._injector.get(Lu).resolveComponentFactory(f),this.componentTypes.push(ee.componentType);const Te=function hD(l){return l.isBoundToModule}(ee)?void 0:this._injector.get(cc),nt=ee.create(gs.NULL,[],_||ee.selector,Te),Et=nt.location.nativeElement,Pt=nt.injector.get(kd,null);return Pt?.registerApplication(Et),nt.onDestroy(()=>{this.detachView(nt.hostView),mc(this.components,nt),Pt?.unregisterApplication(Et)}),this._loadComponent(nt),nt}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this.internalErrorHandler(f)}finally{this._runningTick=!1}}attachView(f){const _=f;this._views.push(_),_.attachToAppRef(this)}detachView(f){const _=f;mc(this._views,_),_.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const _=this._injector.get(jf,[]);_.push(...this._bootstrapListeners),_.forEach(M=>M(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>mc(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new E(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function mc(l,d){const f=l.indexOf(d);f>-1&&l.splice(f,1)}const z0=new Wi("",{providedIn:"root",factory:()=>pe(Ul).handleError.bind(void 0)});function pD(){const l=pe(Po),d=pe(Ul);return f=>l.runOutsideAngular(()=>d.handleError(f))}let _D=(()=>{class l{constructor(){this.zone=pe(Po),this.applicationRef=pe(il)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(_){return new(_||l)};static#t=this.\u0275prov=Ae({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function Yf(){}let Wo=(()=>{class l{static#e=this.__NG_ELEMENT_ID__=vD}return l})();function vD(l){return function Cs(l,d,f){if(hr(l)&&!f){const _=fn(l.index,d);return new rd(_,_)}return 47&l.type?new rd(d[li],d):null}(Nr(),Ln(),16==(16&l))}class eb{constructor(){}supports(d){return Ku(d)}create(d){return new SD(d)}}const ol=(l,d)=>d;class SD{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||ol}forEachItem(d){let f;for(f=this._itHead;null!==f;f=f._next)d(f)}forEachOperation(d){let f=this._itHead,_=this._removalsHead,M=0,j=null;for(;f||_;){const ee=!_||f&&f.currentIndex<nb(_,M,j)?f:_,Te=nb(ee,M,j),ke=ee.currentIndex;if(ee===_)M--,_=_._nextRemoved;else if(f=f._next,null==ee.previousIndex)M++;else{j||(j=[]);const nt=Te-M,Et=ke-M;if(nt!=Et){for(let rn=0;rn<nt;rn++){const ln=rn<j.length?j[rn]:j[rn]=0,Dn=ln+rn;Et<=Dn&&Dn<nt&&(j[rn]=ln+1)}j[ee.previousIndex]=Et-nt}}Te!==ke&&d(ee,Te,ke)}}forEachPreviousItem(d){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachMovedItem(d){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}forEachIdentityChange(d){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)d(f)}diff(d){if(null==d&&(d=[]),!Ku(d))throw new E(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let M,j,ee,f=this._itHead,_=!1;if(Array.isArray(d)){this.length=d.length;for(let Te=0;Te<this.length;Te++)j=d[Te],ee=this._trackByFn(Te,j),null!==f&&Object.is(f.trackById,ee)?(_&&(f=this._verifyReinsertion(f,j,ee,Te)),Object.is(f.item,j)||this._addIdentityChange(f,j)):(f=this._mismatch(f,j,ee,Te),_=!0),f=f._next}else M=0,function iS(l,d){if(Array.isArray(l))for(let f=0;f<l.length;f++)d(l[f]);else{const f=l[Symbol.iterator]();let _;for(;!(_=f.next()).done;)d(_.value)}}(d,Te=>{ee=this._trackByFn(M,Te),null!==f&&Object.is(f.trackById,ee)?(_&&(f=this._verifyReinsertion(f,Te,ee,M)),Object.is(f.item,Te)||this._addIdentityChange(f,Te)):(f=this._mismatch(f,Te,ee,M),_=!0),f=f._next,M++}),this.length=M;return this._truncate(f),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,f,_,M){let j;return null===d?j=this._itTail:(j=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._reinsertAfter(d,j,M)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(_,M))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._moveAfter(d,j,M)):d=this._addAfter(new uA(f,_),j,M),d}_verifyReinsertion(d,f,_,M){let j=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==j?d=this._reinsertAfter(j,d._prev,M):d.currentIndex!=M&&(d.currentIndex=M,this._addToMoves(d,M)),d}_truncate(d){for(;null!==d;){const f=d._next;this._addToRemovals(this._unlink(d)),d=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,f,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const M=d._prevRemoved,j=d._nextRemoved;return null===M?this._removalsHead=j:M._nextRemoved=j,null===j?this._removalsTail=M:j._prevRemoved=M,this._insertAfter(d,f,_),this._addToMoves(d,_),d}_moveAfter(d,f,_){return this._unlink(d),this._insertAfter(d,f,_),this._addToMoves(d,_),d}_addAfter(d,f,_){return this._insertAfter(d,f,_),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,f,_){const M=null===f?this._itHead:f._next;return d._next=M,d._prev=f,null===M?this._itTail=d:M._prev=d,null===f?this._itHead=d:f._next=d,null===this._linkedRecords&&(this._linkedRecords=new tb),this._linkedRecords.put(d),d.currentIndex=_,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const f=d._prev,_=d._next;return null===f?this._itHead=_:f._next=_,null===_?this._itTail=f:_._prev=f,d}_addToMoves(d,f){return d.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tb),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,f){return d.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class uA{constructor(d,f){this.item=d,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fA{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,f){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===f||f<=_.currentIndex)&&Object.is(_.trackById,d))return _;return null}remove(d){const f=d._prevDup,_=d._nextDup;return null===f?this._head=_:f._nextDup=_,null===_?this._tail=f:_._prevDup=f,null===this._head}}class tb{constructor(){this.map=new Map}put(d){const f=d.trackById;let _=this.map.get(f);_||(_=new fA,this.map.set(f,_)),_.add(d)}get(d,f){const M=this.map.get(d);return M?M.get(d,f):null}remove(d){const f=d.trackById;return this.map.get(f).remove(d)&&this.map.delete(f),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nb(l,d,f){const _=l.previousIndex;if(null===_)return _;let M=0;return f&&_<f.length&&(M=f[_]),_+d+M}class ib{constructor(){}supports(d){return d instanceof Map||am(d)}create(){return new CD}}class CD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let f;for(f=this._mapHead;null!==f;f=f._next)d(f)}forEachPreviousItem(d){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)d(f)}forEachChangedItem(d){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}diff(d){if(d){if(!(d instanceof Map||am(d)))throw new E(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(d,(_,M)=>{if(f&&f.key===M)this._maybeAddToChanges(f,_),this._appendAfter=f,f=f._next;else{const j=this._getOrCreateRecordForKey(M,_);f=this._insertBeforeOrAppend(f,j)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let _=f;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,f){if(d){const _=d._prev;return f._next=d,f._prev=_,d._prev=f,_&&(_._next=f),d===this._mapHead&&(this._mapHead=f),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(d,f){if(this._records.has(d)){const M=this._records.get(d);this._maybeAddToChanges(M,f);const j=M._prev,ee=M._next;return j&&(j._next=ee),ee&&(ee._prev=j),M._next=null,M._prev=null,M}const _=new DD(d);return this._records.set(d,_),_.currentValue=f,this._addToAdditions(_),_}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,f){Object.is(f,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=f,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,f){d instanceof Map?d.forEach(f):Object.keys(d).forEach(_=>f(d[_],_))}}class DD{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rb(){return new Zg([new eb])}let Zg=(()=>{class l{static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:rb});constructor(f){this.factories=f}static create(f,_){if(null!=_){const M=_.factories.slice();f=f.concat(M)}return new l(f)}static extend(f){return{provide:l,useFactory:_=>l.create(f,_||rb()),deps:[[l,new Fc,new nu]]}}find(f){const _=this.factories.find(M=>M.supports(f));if(null!=_)return _;throw new E(901,!1)}}return l})();function ob(){return new $g([new ib])}let $g=(()=>{class l{static#e=this.\u0275prov=Ae({token:l,providedIn:"root",factory:ob});constructor(f){this.factories=f}static create(f,_){if(_){const M=_.factories.slice();f=f.concat(M)}return new l(f)}static extend(f){return{provide:l,useFactory:_=>l.create(f,_||ob()),deps:[[l,new Fc,new nu]]}}find(f){const _=this.factories.find(M=>M.supports(f));if(_)return _;throw new E(901,!1)}}return l})();const MD=Ug(null,"core",[]);let AD=(()=>{class l{constructor(f){}static#e=this.\u0275fac=function(_){return new(_||l)(xe(il))};static#t=this.\u0275mod=Ui({type:l});static#n=this.\u0275inj=K({})}return l})();function hb(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}function jD(l,d){const f=di(l),_=d.elementInjector||wu();return new Wl(f).create(_,d.projectableNodes,d.hostElement,d.environmentInjector)}function VD(l){const d=di(l);if(!d)return null;const f=new Wl(d);return{get selector(){return f.selector},get type(){return f.componentType},get inputs(){return f.inputs},get outputs(){return f.outputs},get ngContentSelectors(){return f.ngContentSelectors},get isStandalone(){return d.standalone},get isSignal(){return d.signals}}}},95:(In,Ze,C)=>{"use strict";C.d(Ze,{Zs:()=>Xo,Fj:()=>E,qu:()=>as,NI:()=>Ui,u:()=>fr,sg:()=>Zn,u5:()=>qi,Cf:()=>B,JU:()=>O,a5:()=>Q,JJ:()=>ge,JL:()=>ce,F:()=>pi,On:()=>wi,YN:()=>bo,wV:()=>_i,UX:()=>Jt,EJ:()=>Hr,kI:()=>ae,_Y:()=>lo,Kr:()=>Zo});var c=C(5879),t=C(6814),b=C(7715),I=C(5592),y=C(7453),F=C(4829),L=C(9940),x=C(8251),m=C(7400),h=C(2714),v=C(7398);let A=(()=>{class We{constructor(Ve,yt){this._renderer=Ve,this._elementRef=yt,this.onChange=Yt=>{},this.onTouched=()=>{}}setProperty(Ve,yt){this._renderer.setProperty(this._elementRef.nativeElement,Ve,yt)}registerOnTouched(Ve){this.onTouched=Ve}registerOnChange(Ve){this.onChange=Ve}setDisabledState(Ve){this.setProperty("disabled",Ve)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.Qsj),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:We})}return We})(),U=(()=>{class We extends A{static#e=this.\u0275fac=function(){let Ve;return function(Yt){return(Ve||(Ve=c.n5z(We)))(Yt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,features:[c.qOj]})}return We})();const O=new c.OlP("NgValueAccessor"),P={provide:O,useExisting:(0,c.Gpc)(()=>E),multi:!0},w=new c.OlP("CompositionEventMode");let E=(()=>{class We extends A{constructor(Ve,yt,Yt){super(Ve,yt),this._compositionMode=Yt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function D(){const We=(0,t.q)()?(0,t.q)().getUserAgent():"";return/android (\d+)/.test(We.toLowerCase())}())}writeValue(Ve){this.setProperty("value",Ve??"")}_handleInput(Ve){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Ve)}_compositionStart(){this._composing=!0}_compositionEnd(Ve){this._composing=!1,this._compositionMode&&this.onChange(Ve)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(w,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(yt,Yt){1&yt&&c.NdJ("input",function(hi){return Yt._handleInput(hi.target.value)})("blur",function(){return Yt.onTouched()})("compositionstart",function(){return Yt._compositionStart()})("compositionend",function(hi){return Yt._compositionEnd(hi.target.value)})},features:[c._Bn([P]),c.qOj]})}return We})();function N(We){return null==We||("string"==typeof We||Array.isArray(We))&&0===We.length}function S(We){return null!=We&&"number"==typeof We.length}const B=new c.OlP("NgValidators"),Y=new c.OlP("NgAsyncValidators"),re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(et){return function Re(We){return et=>{if(N(et.value)||N(We))return null;const Ve=parseFloat(et.value);return!isNaN(Ve)&&Ve<We?{min:{min:We,actual:et.value}}:null}}(et)}static max(et){return function z(We){return et=>{if(N(et.value)||N(We))return null;const Ve=parseFloat(et.value);return!isNaN(Ve)&&Ve>We?{max:{max:We,actual:et.value}}:null}}(et)}static required(et){return oe(et)}static requiredTrue(et){return H(et)}static email(et){return function me(We){return N(We.value)||re.test(We.value)?null:{email:!0}}(et)}static minLength(et){return function te(We){return et=>N(et.value)||!S(et.value)?null:et.value.length<We?{minlength:{requiredLength:We,actualLength:et.value.length}}:null}(et)}static maxLength(et){return function ue(We){return et=>S(et.value)&&et.value.length>We?{maxlength:{requiredLength:We,actualLength:et.value.length}}:null}(et)}static pattern(et){return function Se(We){if(!We)return Ie;let et,Ve;return"string"==typeof We?(Ve="","^"!==We.charAt(0)&&(Ve+="^"),Ve+=We,"$"!==We.charAt(We.length-1)&&(Ve+="$"),et=new RegExp(Ve)):(Ve=We.toString(),et=We),yt=>{if(N(yt.value))return null;const Yt=yt.value;return et.test(Yt)?null:{pattern:{requiredPattern:Ve,actualValue:Yt}}}}(et)}static nullValidator(et){return null}static compose(et){return Oe(et)}static composeAsync(et){return ze(et)}}function oe(We){return N(We.value)?{required:!0}:null}function H(We){return!0===We.value?null:{required:!0}}function Ie(We){return null}function le(We){return null!=We}function Me(We){return(0,c.QGY)(We)?(0,b.D)(We):We}function we(We){let et={};return We.forEach(Ve=>{et=null!=Ve?{...et,...Ve}:et}),0===Object.keys(et).length?null:et}function _e(We,et){return et.map(Ve=>Ve(We))}function Pe(We){return We.map(et=>function Le(We){return!We.validate}(et)?et:Ve=>et.validate(Ve))}function Oe(We){if(!We)return null;const et=We.filter(le);return 0==et.length?null:function(Ve){return we(_e(Ve,et))}}function je(We){return null!=We?Oe(Pe(We)):null}function ze(We){if(!We)return null;const et=We.filter(le);return 0==et.length?null:function(Ve){return function p(...We){const et=(0,L.jO)(We),{args:Ve,keys:yt}=(0,y.D)(We),Yt=new I.y(Wn=>{const{length:hi}=Ve;if(!hi)return void Wn.complete();const Ji=new Array(hi);let no=hi,_r=hi;for(let Mr=0;Mr<hi;Mr++){let Ur=!1;(0,F.Xf)(Ve[Mr]).subscribe((0,x.x)(Wn,ki=>{Ur||(Ur=!0,_r--),Ji[Mr]=ki},()=>no--,void 0,()=>{(!no||!Ur)&&(_r||Wn.next(yt?(0,h.n)(yt,Ji):Ji),Wn.complete())}))}});return et?Yt.pipe((0,m.Z)(et)):Yt}(_e(Ve,et).map(Me)).pipe((0,v.U)(we))}}function He(We){return null!=We?ze(Pe(We)):null}function Ae(We,et){return null===We?[et]:Array.isArray(We)?[...We,et]:[We,et]}function ye(We){return We._rawValidators}function K(We){return We._rawAsyncValidators}function ie(We){return We?Array.isArray(We)?We:[We]:[]}function he(We,et){return Array.isArray(We)?We.includes(et):We===et}function $(We,et){const Ve=ie(et);return ie(We).forEach(Yt=>{he(Ve,Yt)||Ve.push(Yt)}),Ve}function Z(We,et){return ie(et).filter(Ve=>!he(We,Ve))}class W{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(et){this._rawValidators=et||[],this._composedValidatorFn=je(this._rawValidators)}_setAsyncValidators(et){this._rawAsyncValidators=et||[],this._composedAsyncValidatorFn=He(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(et){this._onDestroyCallbacks.push(et)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(et=>et()),this._onDestroyCallbacks=[]}reset(et=void 0){this.control&&this.control.reset(et)}hasError(et,Ve){return!!this.control&&this.control.hasError(et,Ve)}getError(et,Ve){return this.control?this.control.getError(et,Ve):null}}class X extends W{get formDirective(){return null}get path(){return null}}class Q extends W{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class q{constructor(et){this._cd=et}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ge=(()=>{class We extends q{constructor(Ve){super(Ve)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(Q,2))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(yt,Yt){2&yt&&c.ekj("ng-untouched",Yt.isUntouched)("ng-touched",Yt.isTouched)("ng-pristine",Yt.isPristine)("ng-dirty",Yt.isDirty)("ng-valid",Yt.isValid)("ng-invalid",Yt.isInvalid)("ng-pending",Yt.isPending)},features:[c.qOj]})}return We})(),ce=(()=>{class We extends q{constructor(Ve){super(Ve)}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(X,10))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(yt,Yt){2&yt&&c.ekj("ng-untouched",Yt.isUntouched)("ng-touched",Yt.isTouched)("ng-pristine",Yt.isPristine)("ng-dirty",Yt.isDirty)("ng-valid",Yt.isValid)("ng-invalid",Yt.isInvalid)("ng-pending",Yt.isPending)("ng-submitted",Yt.isSubmitted)},features:[c.qOj]})}return We})();const ut="VALID",xe="INVALID",fe="PENDING",pe="DISABLED";function lt(We){return(bt(We)?We.validators:We)||null}function Dt(We,et){return(bt(et)?et.asyncValidators:We)||null}function bt(We){return null!=We&&!Array.isArray(We)&&"object"==typeof We}function Nt(We,et,Ve){const yt=We.controls;if(!(et?Object.keys(yt):yt).length)throw new c.vHH(1e3,"");if(!yt[Ve])throw new c.vHH(1001,"")}function Wt(We,et,Ve){We._forEachChild((yt,Yt)=>{if(void 0===Ve[Yt])throw new c.vHH(1002,"")})}class wt{constructor(et,Ve){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(et),this._assignAsyncValidators(Ve)}get validator(){return this._composedValidatorFn}set validator(et){this._rawValidators=this._composedValidatorFn=et}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(et){this._rawAsyncValidators=this._composedAsyncValidatorFn=et}get parent(){return this._parent}get valid(){return this.status===ut}get invalid(){return this.status===xe}get pending(){return this.status==fe}get disabled(){return this.status===pe}get enabled(){return this.status!==pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(et){this._assignValidators(et)}setAsyncValidators(et){this._assignAsyncValidators(et)}addValidators(et){this.setValidators($(et,this._rawValidators))}addAsyncValidators(et){this.setAsyncValidators($(et,this._rawAsyncValidators))}removeValidators(et){this.setValidators(Z(et,this._rawValidators))}removeAsyncValidators(et){this.setAsyncValidators(Z(et,this._rawAsyncValidators))}hasValidator(et){return he(this._rawValidators,et)}hasAsyncValidator(et){return he(this._rawAsyncValidators,et)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(et={}){this.touched=!0,this._parent&&!et.onlySelf&&this._parent.markAsTouched(et)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(et=>et.markAllAsTouched())}markAsUntouched(et={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Ve=>{Ve.markAsUntouched({onlySelf:!0})}),this._parent&&!et.onlySelf&&this._parent._updateTouched(et)}markAsDirty(et={}){this.pristine=!1,this._parent&&!et.onlySelf&&this._parent.markAsDirty(et)}markAsPristine(et={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Ve=>{Ve.markAsPristine({onlySelf:!0})}),this._parent&&!et.onlySelf&&this._parent._updatePristine(et)}markAsPending(et={}){this.status=fe,!1!==et.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!et.onlySelf&&this._parent.markAsPending(et)}disable(et={}){const Ve=this._parentMarkedDirty(et.onlySelf);this.status=pe,this.errors=null,this._forEachChild(yt=>{yt.disable({...et,onlySelf:!0})}),this._updateValue(),!1!==et.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...et,skipPristineCheck:Ve}),this._onDisabledChange.forEach(yt=>yt(!0))}enable(et={}){const Ve=this._parentMarkedDirty(et.onlySelf);this.status=ut,this._forEachChild(yt=>{yt.enable({...et,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:et.emitEvent}),this._updateAncestors({...et,skipPristineCheck:Ve}),this._onDisabledChange.forEach(yt=>yt(!1))}_updateAncestors(et){this._parent&&!et.onlySelf&&(this._parent.updateValueAndValidity(et),et.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(et){this._parent=et}getRawValue(){return this.value}updateValueAndValidity(et={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ut||this.status===fe)&&this._runAsyncValidator(et.emitEvent)),!1!==et.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!et.onlySelf&&this._parent.updateValueAndValidity(et)}_updateTreeValidity(et={emitEvent:!0}){this._forEachChild(Ve=>Ve._updateTreeValidity(et)),this.updateValueAndValidity({onlySelf:!0,emitEvent:et.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pe:ut}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(et){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator=!0;const Ve=Me(this.asyncValidator(this));this._asyncValidationSubscription=Ve.subscribe(yt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(yt,{emitEvent:et})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(et,Ve={}){this.errors=et,this._updateControlsErrors(!1!==Ve.emitEvent)}get(et){let Ve=et;return null==Ve||(Array.isArray(Ve)||(Ve=Ve.split(".")),0===Ve.length)?null:Ve.reduce((yt,Yt)=>yt&&yt._find(Yt),this)}getError(et,Ve){const yt=Ve?this.get(Ve):this;return yt&&yt.errors?yt.errors[et]:null}hasError(et,Ve){return!!this.getError(et,Ve)}get root(){let et=this;for(;et._parent;)et=et._parent;return et}_updateControlsErrors(et){this.status=this._calculateStatus(),et&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(et)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?pe:this.errors?xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(xe)?xe:ut}_anyControlsHaveStatus(et){return this._anyControls(Ve=>Ve.status===et)}_anyControlsDirty(){return this._anyControls(et=>et.dirty)}_anyControlsTouched(){return this._anyControls(et=>et.touched)}_updatePristine(et={}){this.pristine=!this._anyControlsDirty(),this._parent&&!et.onlySelf&&this._parent._updatePristine(et)}_updateTouched(et={}){this.touched=this._anyControlsTouched(),this._parent&&!et.onlySelf&&this._parent._updateTouched(et)}_registerOnCollectionChange(et){this._onCollectionChange=et}_setUpdateStrategy(et){bt(et)&&null!=et.updateOn&&(this._updateOn=et.updateOn)}_parentMarkedDirty(et){return!et&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(et){return null}_assignValidators(et){this._rawValidators=Array.isArray(et)?et.slice():et,this._composedValidatorFn=function mt(We){return Array.isArray(We)?je(We):We||null}(this._rawValidators)}_assignAsyncValidators(et){this._rawAsyncValidators=Array.isArray(et)?et.slice():et,this._composedAsyncValidatorFn=function ft(We){return Array.isArray(We)?He(We):We||null}(this._rawAsyncValidators)}}class Vt extends wt{constructor(et,Ve,yt){super(lt(Ve),Dt(yt,Ve)),this.controls=et,this._initObservables(),this._setUpdateStrategy(Ve),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(et,Ve){return this.controls[et]?this.controls[et]:(this.controls[et]=Ve,Ve.setParent(this),Ve._registerOnCollectionChange(this._onCollectionChange),Ve)}addControl(et,Ve,yt={}){this.registerControl(et,Ve),this.updateValueAndValidity({emitEvent:yt.emitEvent}),this._onCollectionChange()}removeControl(et,Ve={}){this.controls[et]&&this.controls[et]._registerOnCollectionChange(()=>{}),delete this.controls[et],this.updateValueAndValidity({emitEvent:Ve.emitEvent}),this._onCollectionChange()}setControl(et,Ve,yt={}){this.controls[et]&&this.controls[et]._registerOnCollectionChange(()=>{}),delete this.controls[et],Ve&&this.registerControl(et,Ve),this.updateValueAndValidity({emitEvent:yt.emitEvent}),this._onCollectionChange()}contains(et){return this.controls.hasOwnProperty(et)&&this.controls[et].enabled}setValue(et,Ve={}){Wt(this,0,et),Object.keys(et).forEach(yt=>{Nt(this,!0,yt),this.controls[yt].setValue(et[yt],{onlySelf:!0,emitEvent:Ve.emitEvent})}),this.updateValueAndValidity(Ve)}patchValue(et,Ve={}){null!=et&&(Object.keys(et).forEach(yt=>{const Yt=this.controls[yt];Yt&&Yt.patchValue(et[yt],{onlySelf:!0,emitEvent:Ve.emitEvent})}),this.updateValueAndValidity(Ve))}reset(et={},Ve={}){this._forEachChild((yt,Yt)=>{yt.reset(et[Yt],{onlySelf:!0,emitEvent:Ve.emitEvent})}),this._updatePristine(Ve),this._updateTouched(Ve),this.updateValueAndValidity(Ve)}getRawValue(){return this._reduceChildren({},(et,Ve,yt)=>(et[yt]=Ve.getRawValue(),et))}_syncPendingControls(){let et=this._reduceChildren(!1,(Ve,yt)=>!!yt._syncPendingControls()||Ve);return et&&this.updateValueAndValidity({onlySelf:!0}),et}_forEachChild(et){Object.keys(this.controls).forEach(Ve=>{const yt=this.controls[Ve];yt&&et(yt,Ve)})}_setUpControls(){this._forEachChild(et=>{et.setParent(this),et._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(et){for(const[Ve,yt]of Object.entries(this.controls))if(this.contains(Ve)&&et(yt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Ve,yt,Yt)=>((yt.enabled||this.disabled)&&(Ve[Yt]=yt.value),Ve))}_reduceChildren(et,Ve){let yt=et;return this._forEachChild((Yt,Wn)=>{yt=Ve(yt,Yt,Wn)}),yt}_allControlsDisabled(){for(const et of Object.keys(this.controls))if(this.controls[et].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(et){return this.controls.hasOwnProperty(et)?this.controls[et]:null}}class yn extends Vt{}const On=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>kn}),kn="always";function qn(We,et){return[...et.path,We]}function ui(We,et,Ve=kn){Qt(We,et),et.valueAccessor.writeValue(We.value),(We.disabled||"always"===Ve)&&et.valueAccessor.setDisabledState?.(We.disabled),function it(We,et){et.valueAccessor.registerOnChange(Ve=>{We._pendingValue=Ve,We._pendingChange=!0,We._pendingDirty=!0,"change"===We.updateOn&&Gt(We,et)})}(We,et),function hn(We,et){const Ve=(yt,Yt)=>{et.valueAccessor.writeValue(yt),Yt&&et.viewToModelUpdate(yt)};We.registerOnChange(Ve),et._registerOnDestroy(()=>{We._unregisterOnChange(Ve)})}(We,et),function Ct(We,et){et.valueAccessor.registerOnTouched(()=>{We._pendingTouched=!0,"blur"===We.updateOn&&We._pendingChange&&Gt(We,et),"submit"!==We.updateOn&&We.markAsTouched()})}(We,et),function ct(We,et){if(et.valueAccessor.setDisabledState){const Ve=yt=>{et.valueAccessor.setDisabledState(yt)};We.registerOnDisabledChange(Ve),et._registerOnDestroy(()=>{We._unregisterOnDisabledChange(Ve)})}}(We,et)}function kt(We,et,Ve=!0){const yt=()=>{};et.valueAccessor&&(et.valueAccessor.registerOnChange(yt),et.valueAccessor.registerOnTouched(yt)),Ke(We,et),We&&(et._invokeOnDestroyCallbacks(),We._registerOnCollectionChange(()=>{}))}function St(We,et){We.forEach(Ve=>{Ve.registerOnValidatorChange&&Ve.registerOnValidatorChange(et)})}function Qt(We,et){const Ve=ye(We);null!==et.validator?We.setValidators(Ae(Ve,et.validator)):"function"==typeof Ve&&We.setValidators([Ve]);const yt=K(We);null!==et.asyncValidator?We.setAsyncValidators(Ae(yt,et.asyncValidator)):"function"==typeof yt&&We.setAsyncValidators([yt]);const Yt=()=>We.updateValueAndValidity();St(et._rawValidators,Yt),St(et._rawAsyncValidators,Yt)}function Ke(We,et){let Ve=!1;if(null!==We){if(null!==et.validator){const Yt=ye(We);if(Array.isArray(Yt)&&Yt.length>0){const Wn=Yt.filter(hi=>hi!==et.validator);Wn.length!==Yt.length&&(Ve=!0,We.setValidators(Wn))}}if(null!==et.asyncValidator){const Yt=K(We);if(Array.isArray(Yt)&&Yt.length>0){const Wn=Yt.filter(hi=>hi!==et.asyncValidator);Wn.length!==Yt.length&&(Ve=!0,We.setAsyncValidators(Wn))}}}const yt=()=>{};return St(et._rawValidators,yt),St(et._rawAsyncValidators,yt),Ve}function Gt(We,et){We._pendingDirty&&We.markAsDirty(),We.setValue(We._pendingValue,{emitModelToViewChange:!1}),et.viewToModelUpdate(We._pendingValue),We._pendingChange=!1}function bn(We,et){Qt(We,et)}function rt(We,et){if(!We.hasOwnProperty("model"))return!1;const Ve=We.model;return!!Ve.isFirstChange()||!Object.is(et,Ve.currentValue)}function ve(We,et){We._syncPendingControls(),et.forEach(Ve=>{const yt=Ve.control;"submit"===yt.updateOn&&yt._pendingChange&&(Ve.viewToModelUpdate(yt._pendingValue),yt._pendingChange=!1)})}function at(We,et){if(!et)return null;let Ve,yt,Yt;return Array.isArray(et),et.forEach(Wn=>{Wn.constructor===E?Ve=Wn:function Xt(We){return Object.getPrototypeOf(We.constructor)===U}(Wn)?yt=Wn:Yt=Wn}),Yt||yt||Ve||null}const qt={provide:X,useExisting:(0,c.Gpc)(()=>pi)},tn=(()=>Promise.resolve())();let pi=(()=>{class We extends X{constructor(Ve,yt,Yt){super(),this.callSetDisabledState=Yt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Vt({},je(Ve),He(yt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Ve){tn.then(()=>{const yt=this._findContainer(Ve.path);Ve.control=yt.registerControl(Ve.name,Ve.control),ui(Ve.control,Ve,this.callSetDisabledState),Ve.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Ve)})}getControl(Ve){return this.form.get(Ve.path)}removeControl(Ve){tn.then(()=>{const yt=this._findContainer(Ve.path);yt&&yt.removeControl(Ve.name),this._directives.delete(Ve)})}addFormGroup(Ve){tn.then(()=>{const yt=this._findContainer(Ve.path),Yt=new Vt({});bn(Yt,Ve),yt.registerControl(Ve.name,Yt),Yt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Ve){tn.then(()=>{const yt=this._findContainer(Ve.path);yt&&yt.removeControl(Ve.name)})}getFormGroup(Ve){return this.form.get(Ve.path)}updateModel(Ve,yt){tn.then(()=>{this.form.get(Ve.path).setValue(yt)})}setValue(Ve){this.control.setValue(Ve)}onSubmit(Ve){return this.submitted=!0,ve(this.form,this._directives),this.ngSubmit.emit(Ve),"dialog"===Ve?.target?.method}onReset(){this.resetForm()}resetForm(Ve=void 0){this.form.reset(Ve),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Ve){return Ve.pop(),Ve.length?this.form.get(Ve):this.form}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(B,10),c.Y36(Y,10),c.Y36(On,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(yt,Yt){1&yt&&c.NdJ("submit",function(hi){return Yt.onSubmit(hi)})("reset",function(){return Yt.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([qt]),c.qOj]})}return We})();function si(We,et){const Ve=We.indexOf(et);Ve>-1&&We.splice(Ve,1)}function sr(We){return"object"==typeof We&&null!==We&&2===Object.keys(We).length&&"value"in We&&"disabled"in We}const Ui=class extends wt{constructor(et=null,Ve,yt){super(lt(Ve),Dt(yt,Ve)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(et),this._setUpdateStrategy(Ve),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bt(Ve)&&(Ve.nonNullable||Ve.initialValueIsDefault)&&(this.defaultValue=sr(et)?et.value:et)}setValue(et,Ve={}){this.value=this._pendingValue=et,this._onChange.length&&!1!==Ve.emitModelToViewChange&&this._onChange.forEach(yt=>yt(this.value,!1!==Ve.emitViewToModelChange)),this.updateValueAndValidity(Ve)}patchValue(et,Ve={}){this.setValue(et,Ve)}reset(et=this.defaultValue,Ve={}){this._applyFormState(et),this.markAsPristine(Ve),this.markAsUntouched(Ve),this.setValue(this.value,Ve),this._pendingChange=!1}_updateValue(){}_anyControls(et){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(et){this._onChange.push(et)}_unregisterOnChange(et){si(this._onChange,et)}registerOnDisabledChange(et){this._onDisabledChange.push(et)}_unregisterOnDisabledChange(et){si(this._onDisabledChange,et)}_forEachChild(et){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(et){sr(et)?(this.value=this._pendingValue=et.value,et.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=et}},Ro={provide:Q,useExisting:(0,c.Gpc)(()=>wi)},so=(()=>Promise.resolve())();let wi=(()=>{class We extends Q{constructor(Ve,yt,Yt,Wn,hi,Ji){super(),this._changeDetectorRef=hi,this.callSetDisabledState=Ji,this.control=new Ui,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=Ve,this._setValidators(yt),this._setAsyncValidators(Yt),this.valueAccessor=at(0,Wn)}ngOnChanges(Ve){if(this._checkForErrors(),!this._registered||"name"in Ve){if(this._registered&&(this._checkName(),this.formDirective)){const yt=Ve.name.previousValue;this.formDirective.removeControl({name:yt,path:this._getPath(yt)})}this._setUpControl()}"isDisabled"in Ve&&this._updateDisabled(Ve),rt(Ve,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Ve){this.viewModel=Ve,this.update.emit(Ve)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ui(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Ve){so.then(()=>{this.control.setValue(Ve,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Ve){const yt=Ve.isDisabled.currentValue,Yt=0!==yt&&(0,c.VuI)(yt);so.then(()=>{Yt&&!this.control.disabled?this.control.disable():!Yt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Ve){return this._parent?qn(Ve,this._parent):[Ve]}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(X,9),c.Y36(B,10),c.Y36(Y,10),c.Y36(O,10),c.Y36(c.sBO,8),c.Y36(On,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Ro]),c.qOj,c.TTD]})}return We})(),lo=(()=>{class We{static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return We})();const xn={provide:O,useExisting:(0,c.Gpc)(()=>_i),multi:!0};let _i=(()=>{class We extends U{writeValue(Ve){this.setProperty("value",Ve??"")}registerOnChange(Ve){this.onChange=yt=>{Ve(""==yt?null:parseFloat(yt))}}static#e=this.\u0275fac=function(){let Ve;return function(Yt){return(Ve||(Ve=c.n5z(We)))(Yt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(yt,Yt){1&yt&&c.NdJ("input",function(hi){return Yt.onChange(hi.target.value)})("blur",function(){return Yt.onTouched()})},features:[c._Bn([xn]),c.qOj]})}return We})(),Li=(()=>{class We{static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({})}return We})();const Ut=new c.OlP("NgModelWithFormControlWarning"),Nn={provide:X,useExisting:(0,c.Gpc)(()=>Zn)};let Zn=(()=>{class We extends X{constructor(Ve,yt,Yt){super(),this.callSetDisabledState=Yt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(Ve),this._setAsyncValidators(yt)}ngOnChanges(Ve){this._checkFormPresent(),Ve.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ke(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Ve){const yt=this.form.get(Ve.path);return ui(yt,Ve,this.callSetDisabledState),yt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Ve),yt}getControl(Ve){return this.form.get(Ve.path)}removeControl(Ve){kt(Ve.control||null,Ve,!1),function tt(We,et){const Ve=We.indexOf(et);Ve>-1&&We.splice(Ve,1)}(this.directives,Ve)}addFormGroup(Ve){this._setUpFormContainer(Ve)}removeFormGroup(Ve){this._cleanUpFormContainer(Ve)}getFormGroup(Ve){return this.form.get(Ve.path)}addFormArray(Ve){this._setUpFormContainer(Ve)}removeFormArray(Ve){this._cleanUpFormContainer(Ve)}getFormArray(Ve){return this.form.get(Ve.path)}updateModel(Ve,yt){this.form.get(Ve.path).setValue(yt)}onSubmit(Ve){return this.submitted=!0,ve(this.form,this.directives),this.ngSubmit.emit(Ve),"dialog"===Ve?.target?.method}onReset(){this.resetForm()}resetForm(Ve=void 0){this.form.reset(Ve),this.submitted=!1}_updateDomValue(){this.directives.forEach(Ve=>{const yt=Ve.control,Yt=this.form.get(Ve.path);yt!==Yt&&(kt(yt||null,Ve),(We=>We instanceof Ui)(Yt)&&(ui(Yt,Ve,this.callSetDisabledState),Ve.control=Yt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Ve){const yt=this.form.get(Ve.path);bn(yt,Ve),yt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Ve){if(this.form){const yt=this.form.get(Ve.path);yt&&function Ft(We,et){return Ke(We,et)}(yt,Ve)&&yt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qt(this.form,this),this._oldForm&&Ke(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(B,10),c.Y36(Y,10),c.Y36(On,8))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","formGroup",""]],hostBindings:function(yt,Yt){1&yt&&c.NdJ("submit",function(hi){return Yt.onSubmit(hi)})("reset",function(){return Yt.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Nn]),c.qOj,c.TTD]})}return We})();const ur={provide:Q,useExisting:(0,c.Gpc)(()=>fr)};let fr=(()=>{class We extends Q{set isDisabled(Ve){}static#e=this._ngModelWarningSentOnce=!1;constructor(Ve,yt,Yt,Wn,hi){super(),this._ngModelWarningConfig=hi,this._added=!1,this.name=null,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=Ve,this._setValidators(yt),this._setAsyncValidators(Yt),this.valueAccessor=at(0,Wn)}ngOnChanges(Ve){this._added||this._setUpControl(),rt(Ve,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Ve){this.viewModel=Ve,this.update.emit(Ve)}get path(){return qn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(X,13),c.Y36(B,10),c.Y36(Y,10),c.Y36(O,10),c.Y36(Ut,8))};static#n=this.\u0275dir=c.lG2({type:We,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([ur]),c.qOj,c.TTD]})}return We})();const Ia={provide:O,useExisting:(0,c.Gpc)(()=>Hr),multi:!0};function to(We,et){return null==We?`${et}`:(et&&"object"==typeof et&&(et="Object"),`${We}: ${et}`.slice(0,50))}let Hr=(()=>{class We extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Ve){this._compareWith=Ve}writeValue(Ve){this.value=Ve;const Yt=to(this._getOptionId(Ve),Ve);this.setProperty("value",Yt)}registerOnChange(Ve){this.onChange=yt=>{this.value=this._getOptionValue(yt),Ve(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Ve){for(const yt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(yt),Ve))return yt;return null}_getOptionValue(Ve){const yt=function wr(We){return We.split(":")[0]}(Ve);return this._optionMap.has(yt)?this._optionMap.get(yt):Ve}static#e=this.\u0275fac=function(){let Ve;return function(Yt){return(Ve||(Ve=c.n5z(We)))(Yt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(yt,Yt){1&yt&&c.NdJ("change",function(hi){return Yt.onChange(hi.target.value)})("blur",function(){return Yt.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Ia]),c.qOj]})}return We})(),bo=(()=>{class We{constructor(Ve,yt,Yt){this._element=Ve,this._renderer=yt,this._select=Yt,this._select&&(this.id=this._select._registerOption())}set ngValue(Ve){null!=this._select&&(this._select._optionMap.set(this.id,Ve),this._setElementValue(to(this.id,Ve)),this._select.writeValue(this._select.value))}set value(Ve){this._setElementValue(Ve),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Ve){this._renderer.setProperty(this._element.nativeElement,"value",Ve)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Hr,9))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return We})();const Di={provide:O,useExisting:(0,c.Gpc)(()=>Fr),multi:!0};function ir(We,et){return null==We?`${et}`:("string"==typeof et&&(et=`'${et}'`),et&&"object"==typeof et&&(et="Object"),`${We}: ${et}`.slice(0,50))}let Fr=(()=>{class We extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Ve){this._compareWith=Ve}writeValue(Ve){let yt;if(this.value=Ve,Array.isArray(Ve)){const Yt=Ve.map(Wn=>this._getOptionId(Wn));yt=(Wn,hi)=>{Wn._setSelected(Yt.indexOf(hi.toString())>-1)}}else yt=(Yt,Wn)=>{Yt._setSelected(!1)};this._optionMap.forEach(yt)}registerOnChange(Ve){this.onChange=yt=>{const Yt=[],Wn=yt.selectedOptions;if(void 0!==Wn){const hi=Wn;for(let Ji=0;Ji<hi.length;Ji++){const _r=this._getOptionValue(hi[Ji].value);Yt.push(_r)}}else{const hi=yt.options;for(let Ji=0;Ji<hi.length;Ji++){const no=hi[Ji];if(no.selected){const _r=this._getOptionValue(no.value);Yt.push(_r)}}}this.value=Yt,Ve(Yt)}}_registerOption(Ve){const yt=(this._idCounter++).toString();return this._optionMap.set(yt,Ve),yt}_getOptionId(Ve){for(const yt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(yt)._value,Ve))return yt;return null}_getOptionValue(Ve){const yt=function Ir(We){return We.split(":")[0]}(Ve);return this._optionMap.has(yt)?this._optionMap.get(yt)._value:Ve}static#e=this.\u0275fac=function(){let Ve;return function(Yt){return(Ve||(Ve=c.n5z(We)))(Yt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(yt,Yt){1&yt&&c.NdJ("change",function(hi){return Yt.onChange(hi.target)})("blur",function(){return Yt.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Di]),c.qOj]})}return We})(),Zo=(()=>{class We{constructor(Ve,yt,Yt){this._element=Ve,this._renderer=yt,this._select=Yt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Ve){null!=this._select&&(this._value=Ve,this._setElementValue(ir(this.id,Ve)),this._select.writeValue(this._select.value))}set value(Ve){this._select?(this._value=Ve,this._setElementValue(ir(this.id,Ve)),this._select.writeValue(this._select.value)):this._setElementValue(Ve)}_setElementValue(Ve){this._renderer.setProperty(this._element.nativeElement,"value",Ve)}_setSelected(Ve){this._renderer.setProperty(this._element.nativeElement,"selected",Ve)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(yt){return new(yt||We)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Fr,9))};static#t=this.\u0275dir=c.lG2({type:We,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return We})(),$i=(()=>{class We{constructor(){this._validator=Ie}ngOnChanges(Ve){if(this.inputName in Ve){const yt=this.normalizeInput(Ve[this.inputName].currentValue);this._enabled=this.enabled(yt),this._validator=this._enabled?this.createValidator(yt):Ie,this._onChange&&this._onChange()}}validate(Ve){return this._validator(Ve)}registerOnValidatorChange(Ve){this._onChange=Ve}enabled(Ve){return null!=Ve}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275dir=c.lG2({type:We,features:[c.TTD]})}return We})();const hr={provide:B,useExisting:(0,c.Gpc)(()=>rr),multi:!0},Qo={provide:B,useExisting:(0,c.Gpc)(()=>Xo),multi:!0};let rr=(()=>{class We extends $i{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.VuI,this.createValidator=Ve=>oe}enabled(Ve){return Ve}static#e=this.\u0275fac=function(){let Ve;return function(Yt){return(Ve||(Ve=c.n5z(We)))(Yt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(yt,Yt){2&yt&&c.uIk("required",Yt._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([hr]),c.qOj]})}return We})(),Xo=(()=>{class We extends rr{constructor(){super(...arguments),this.createValidator=Ve=>H}static#e=this.\u0275fac=function(){let Ve;return function(Yt){return(Ve||(Ve=c.n5z(We)))(Yt||We)}}();static#t=this.\u0275dir=c.lG2({type:We,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(yt,Yt){2&yt&&c.uIk("required",Yt._enabled?"":null)},features:[c._Bn([Qo]),c.qOj]})}return We})(),Kr=(()=>{class We{static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({imports:[Li]})}return We})();class Lo extends wt{constructor(et,Ve,yt){super(lt(Ve),Dt(yt,Ve)),this.controls=et,this._initObservables(),this._setUpdateStrategy(Ve),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(et){return this.controls[this._adjustIndex(et)]}push(et,Ve={}){this.controls.push(et),this._registerControl(et),this.updateValueAndValidity({emitEvent:Ve.emitEvent}),this._onCollectionChange()}insert(et,Ve,yt={}){this.controls.splice(et,0,Ve),this._registerControl(Ve),this.updateValueAndValidity({emitEvent:yt.emitEvent})}removeAt(et,Ve={}){let yt=this._adjustIndex(et);yt<0&&(yt=0),this.controls[yt]&&this.controls[yt]._registerOnCollectionChange(()=>{}),this.controls.splice(yt,1),this.updateValueAndValidity({emitEvent:Ve.emitEvent})}setControl(et,Ve,yt={}){let Yt=this._adjustIndex(et);Yt<0&&(Yt=0),this.controls[Yt]&&this.controls[Yt]._registerOnCollectionChange(()=>{}),this.controls.splice(Yt,1),Ve&&(this.controls.splice(Yt,0,Ve),this._registerControl(Ve)),this.updateValueAndValidity({emitEvent:yt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(et,Ve={}){Wt(this,0,et),et.forEach((yt,Yt)=>{Nt(this,!1,Yt),this.at(Yt).setValue(yt,{onlySelf:!0,emitEvent:Ve.emitEvent})}),this.updateValueAndValidity(Ve)}patchValue(et,Ve={}){null!=et&&(et.forEach((yt,Yt)=>{this.at(Yt)&&this.at(Yt).patchValue(yt,{onlySelf:!0,emitEvent:Ve.emitEvent})}),this.updateValueAndValidity(Ve))}reset(et=[],Ve={}){this._forEachChild((yt,Yt)=>{yt.reset(et[Yt],{onlySelf:!0,emitEvent:Ve.emitEvent})}),this._updatePristine(Ve),this._updateTouched(Ve),this.updateValueAndValidity(Ve)}getRawValue(){return this.controls.map(et=>et.getRawValue())}clear(et={}){this.controls.length<1||(this._forEachChild(Ve=>Ve._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:et.emitEvent}))}_adjustIndex(et){return et<0?et+this.length:et}_syncPendingControls(){let et=this.controls.reduce((Ve,yt)=>!!yt._syncPendingControls()||Ve,!1);return et&&this.updateValueAndValidity({onlySelf:!0}),et}_forEachChild(et){this.controls.forEach((Ve,yt)=>{et(Ve,yt)})}_updateValue(){this.value=this.controls.filter(et=>et.enabled||this.disabled).map(et=>et.value)}_anyControls(et){return this.controls.some(Ve=>Ve.enabled&&et(Ve))}_setUpControls(){this._forEachChild(et=>this._registerControl(et))}_allControlsDisabled(){for(const et of this.controls)if(et.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(et){et.setParent(this),et._registerOnCollectionChange(this._onCollectionChange)}_find(et){return this.at(et)??null}}function Do(We){return!!We&&(void 0!==We.asyncValidators||void 0!==We.validators||void 0!==We.updateOn)}let as=(()=>{class We{constructor(){this.useNonNullable=!1}get nonNullable(){const Ve=new We;return Ve.useNonNullable=!0,Ve}group(Ve,yt=null){const Yt=this._reduceControls(Ve);let Wn={};return Do(yt)?Wn=yt:null!==yt&&(Wn.validators=yt.validator,Wn.asyncValidators=yt.asyncValidator),new Vt(Yt,Wn)}record(Ve,yt=null){const Yt=this._reduceControls(Ve);return new yn(Yt,yt)}control(Ve,yt,Yt){let Wn={};return this.useNonNullable?(Do(yt)?Wn=yt:(Wn.validators=yt,Wn.asyncValidators=Yt),new Ui(Ve,{...Wn,nonNullable:!0})):new Ui(Ve,yt,Yt)}array(Ve,yt,Yt){const Wn=Ve.map(hi=>this._createControl(hi));return new Lo(Wn,yt,Yt)}_reduceControls(Ve){const yt={};return Object.keys(Ve).forEach(Yt=>{yt[Yt]=this._createControl(Ve[Yt])}),yt}_createControl(Ve){return Ve instanceof Ui||Ve instanceof wt?Ve:Array.isArray(Ve)?this.control(Ve[0],Ve.length>1?Ve[1]:null,Ve.length>2?Ve[2]:null):this.control(Ve)}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275prov=c.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})(),qi=(()=>{class We{static withConfig(Ve){return{ngModule:We,providers:[{provide:On,useValue:Ve.callSetDisabledState??kn}]}}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({imports:[Kr]})}return We})(),Jt=(()=>{class We{static withConfig(Ve){return{ngModule:We,providers:[{provide:Ut,useValue:Ve.warnOnNgModelWithFormControl??"always"},{provide:On,useValue:Ve.callSetDisabledState??kn}]}}static#e=this.\u0275fac=function(yt){return new(yt||We)};static#t=this.\u0275mod=c.oAB({type:We});static#n=this.\u0275inj=c.cJS({imports:[Kr]})}return We})()},2296:(In,Ze,C)=>{"use strict";C.d(Ze,{RK:()=>_e,lW:()=>oe,ot:()=>Pe});var c=C(2831),t=C(5879),b=C(4300),I=C(3680),y=C(6814);const F=["mat-button",""],L=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],x=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],U=["mat-icon-button",""],O=["*"],k={capture:!0},P=["focus","click","mouseenter","touchstart"],D="mat-button-ripple-uninitialized";let w=(()=>{class Oe{constructor(){this._document=(0,t.f3M)(y.K0,{optional:!0}),this._animationMode=(0,t.f3M)(t.QbO,{optional:!0}),this._globalRippleOptions=(0,t.f3M)(I.Y2,{optional:!0}),this._platform=(0,t.f3M)(c.t4),this._ngZone=(0,t.f3M)(t.R0b),this._onInteraction=ze=>{if(ze.target===this._document)return;const Ae=ze.target.closest(`[${D}]`);Ae&&(Ae.removeAttribute(D),this._appendRipple(Ae))},this._ngZone.runOutsideAngular(()=>{for(const ze of P)this._document?.addEventListener(ze,this._onInteraction,k)})}ngOnDestroy(){for(const ze of P)this._document?.removeEventListener(ze,this._onInteraction,k)}_appendRipple(ze){if(!this._document)return;const He=this._document.createElement("span");He.classList.add("mat-mdc-button-ripple");const Ae=new E(ze,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);Ae.rippleConfig.centered=ze.hasAttribute("mat-icon-button"),new I.IR(Ae,this._ngZone,He,this._platform).setupTriggerEvents(ze),ze.append(He)}_createMatRipple(ze){if(!this._document)return;ze.querySelector(".mat-mdc-button-ripple")?.remove(),ze.removeAttribute(D);const He=this._document.createElement("span");He.classList.add("mat-mdc-button-ripple");const Ae=new I.wG(new t.SBq(He),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ae._isInitialized=!0,Ae.trigger=ze,ze.append(He),Ae}static#e=this.\u0275fac=function(He){return new(He||Oe)};static#t=this.\u0275prov=t.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})();class E{constructor(je,ze,He){this._button=je,this._globalRippleOptions=ze,this._setRippleConfig(ze,He)}_setRippleConfig(je,ze){this.rippleConfig=je||{},"NoopAnimations"===ze&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get rippleDisabled(){return this._button.hasAttribute("disabled")||!!this._globalRippleOptions?.disabled}}const B=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Y=(0,I.pj)((0,I.Id)((0,I.Kr)(class{constructor(Oe){this._elementRef=Oe}})));let re=(()=>{class Oe extends Y{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement)),this._ripple}set ripple(ze){this._ripple=ze}constructor(ze,He,Ae,ye){super(ze),this._platform=He,this._ngZone=Ae,this._animationMode=ye,this._focusMonitor=(0,t.f3M)(b.tE),this._rippleLoader=(0,t.f3M)(w),this._isFab=!1;const K=ze.nativeElement.classList;for(const ie of B)this._hasHostAttributes(ie.selector)&&ie.mdcClasses.forEach(he=>{K.add(he)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnChanges(){this._ripple&&(this._ripple.disabled=this.disableRipple||this.disabled)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(ze="program",He){ze?this._focusMonitor.focusVia(this._elementRef.nativeElement,ze,He):this._elementRef.nativeElement.focus(He)}_hasHostAttributes(...ze){return ze.some(He=>this._elementRef.nativeElement.hasAttribute(He))}static#e=this.\u0275fac=function(He){t.$Z()};static#t=this.\u0275dir=t.lG2({type:Oe,features:[t.qOj,t.TTD]})}return Oe})(),oe=(()=>{class Oe extends re{constructor(ze,He,Ae,ye){super(ze,He,Ae,ye)}static#e=this.\u0275fac=function(He){return new(He||Oe)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Oe,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(He,Ae){2&He&&(t.uIk("disabled",Ae.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ae._animationMode)("mat-unthemed",!Ae.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:F,ngContentSelectors:x,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(He,Ae){1&He&&(t.F$t(L),t._UZ(0,"span",0),t.Hsn(1),t.TgZ(2,"span",1),t.Hsn(3,1),t.qZA(),t.Hsn(4,2),t._UZ(5,"span",2)(6,"span",3)),2&He&&t.ekj("mdc-button__ripple",!Ae._isFab)("mdc-fab__ripple",Ae._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),_e=(()=>{class Oe extends re{get ripple(){return!this._ripple&&this._rippleLoader&&(this._ripple=this._rippleLoader._createMatRipple(this._elementRef.nativeElement),this._ripple.centered=!0),this._ripple}constructor(ze,He,Ae,ye){super(ze,He,Ae,ye)}static#e=this.\u0275fac=function(He){return new(He||Oe)(t.Y36(t.SBq),t.Y36(c.t4),t.Y36(t.R0b),t.Y36(t.QbO,8))};static#t=this.\u0275cmp=t.Xpm({type:Oe,selectors:[["button","mat-icon-button",""]],hostAttrs:["mat-button-ripple-uninitialized",""],hostVars:7,hostBindings:function(He,Ae){2&He&&(t.uIk("disabled",Ae.disabled||null),t.ekj("_mat-animation-noopable","NoopAnimations"===Ae._animationMode)("mat-unthemed",!Ae.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[t.qOj],attrs:U,ngContentSelectors:O,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(He,Ae){1&He&&(t.F$t(),t._UZ(0,"span",0),t.Hsn(1),t._UZ(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return Oe})(),Pe=(()=>{class Oe{static#e=this.\u0275fac=function(He){return new(He||Oe)};static#t=this.\u0275mod=t.oAB({type:Oe});static#n=this.\u0275inj=t.cJS({imports:[I.BQ,I.si,I.BQ]})}return Oe})()},5986:(In,Ze,C)=>{"use strict";C.d(Ze,{oG:()=>V,p9:()=>w});var c=C(5879),t=C(95),b=C(3680),I=C(2495);const y=["input"],F=["label"],L=["*"],x=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:m});function m(){return{color:"accent",clickAction:"check-indeterminate"}}const h={provide:t.JU,useExisting:(0,c.Gpc)(()=>V),multi:!0};class p{}let v=0;const A=m(),U=(0,b.sb)((0,b.pj)((0,b.Kr)((0,b.Id)(class{constructor(E){this._elementRef=E}}))));let O=(()=>{class E extends U{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(S){this._required=(0,I.Ig)(S)}constructor(S,B,Y,re,ae,Re,z){super(B),this._changeDetectorRef=Y,this._ngZone=re,this._animationMode=Re,this._options=z,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||A,this.color=this.defaultColor=this._options.color||A.color,this.tabIndex=parseInt(ae)||0,this.id=this._uniqueId=`${S}${++v}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(S){const B=(0,I.Ig)(S);B!=this.checked&&(this._checked=B,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(S){const B=(0,I.Ig)(S);B!==this.disabled&&(this._disabled=B,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(S){const B=S!=this._indeterminate;this._indeterminate=(0,I.Ig)(S),B&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(S){this.checked=!!S}registerOnChange(S){this._controlValueAccessorChangeFn=S}registerOnTouched(S){this._onTouched=S}setDisabledState(S){this.disabled=S}_transitionCheckState(S){let B=this._currentCheckState,Y=this._getAnimationTargetElement();if(B!==S&&Y&&(this._currentAnimationClass&&Y.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(B,S),this._currentCheckState=S,this._currentAnimationClass.length>0)){Y.classList.add(this._currentAnimationClass);const re=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{Y.classList.remove(re)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const S=this._options?.clickAction;this.disabled||"noop"===S?!this.disabled&&"noop"===S&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==S&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(S){S.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(S,B){if("NoopAnimations"===this._animationMode)return"";switch(S){case 0:if(1===B)return this._animationClasses.uncheckedToChecked;if(3==B)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===B?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===B?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===B?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(S){const B=this._inputElement;B&&(B.nativeElement.indeterminate=S)}static#e=this.\u0275fac=function(B){c.$Z()};static#t=this.\u0275dir=c.lG2({type:E,viewQuery:function(B,Y){if(1&B&&(c.Gf(y,5),c.Gf(F,5),c.Gf(b.wG,5)),2&B){let re;c.iGM(re=c.CRH())&&(Y._inputElement=re.first),c.iGM(re=c.CRH())&&(Y._labelElement=re.first),c.iGM(re=c.CRH())&&(Y.ripple=re.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[c.qOj]})}return E})(),V=(()=>{class E extends O{constructor(S,B,Y,re,ae,Re){super("mat-mdc-checkbox-",S,B,Y,re,ae,Re),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(S){const B=new p;return B.source=this,B.checked=S,B}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(S){S.target&&this._labelElement.nativeElement.contains(S.target)&&S.stopPropagation()}static#e=this.\u0275fac=function(B){return new(B||E)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(c.QbO,8),c.Y36(x,8))};static#t=this.\u0275cmp=c.Xpm({type:E,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(B,Y){2&B&&(c.Ikx("id",Y.id),c.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),c.ekj("_mat-animation-noopable","NoopAnimations"===Y._animationMode)("mdc-checkbox--disabled",Y.disabled)("mat-mdc-checkbox-disabled",Y.disabled)("mat-mdc-checkbox-checked",Y.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[c._Bn([h]),c.qOj],ngContentSelectors:L,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(B,Y){if(1&B&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(ae){return Y._preventBubblingFromLabel(ae)}),c.TgZ(1,"div",1,2)(3,"div",3),c.NdJ("click",function(){return Y._onTouchTargetClick()}),c.qZA(),c.TgZ(4,"input",4,5),c.NdJ("blur",function(){return Y._onBlur()})("click",function(){return Y._onInputClick()})("change",function(ae){return Y._onInteractionEvent(ae)}),c.qZA(),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.O4$(),c.TgZ(8,"svg",8),c._UZ(9,"path",9),c.qZA(),c.kcU(),c._UZ(10,"div",10),c.qZA(),c._UZ(11,"div",11),c.qZA(),c.TgZ(12,"label",12,13),c.Hsn(14),c.qZA()()),2&B){const re=c.MAs(2);c.ekj("mdc-form-field--align-end","before"==Y.labelPosition),c.xp6(4),c.ekj("mdc-checkbox--selected",Y.checked),c.Q6J("checked",Y.checked)("indeterminate",Y.indeterminate)("disabled",Y.disabled)("id",Y.inputId)("required",Y.required)("tabIndex",Y.tabIndex),c.uIk("aria-label",Y.ariaLabel||null)("aria-labelledby",Y.ariaLabelledby)("aria-describedby",Y.ariaDescribedby)("name",Y.name)("value",Y.value),c.xp6(7),c.Q6J("matRippleTrigger",re)("matRippleDisabled",Y.disableRipple||Y.disabled)("matRippleCentered",!0),c.xp6(1),c.Q6J("for",Y.inputId)}},dependencies:[b.wG],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}html{--mdc-checkbox-disabled-selected-checkmark-color:#fff;--mdc-checkbox-selected-focus-state-layer-opacity:0.16;--mdc-checkbox-selected-hover-state-layer-opacity:0.04;--mdc-checkbox-selected-pressed-state-layer-opacity:0.16;--mdc-checkbox-unselected-focus-state-layer-opacity:0.16;--mdc-checkbox-unselected-hover-state-layer-opacity:0.04;--mdc-checkbox-unselected-pressed-state-layer-opacity:0.16}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return E})(),D=(()=>{class E{static#e=this.\u0275fac=function(B){return new(B||E)};static#t=this.\u0275mod=c.oAB({type:E});static#n=this.\u0275inj=c.cJS({})}return E})(),w=(()=>{class E{static#e=this.\u0275fac=function(B){return new(B||E)};static#t=this.\u0275mod=c.oAB({type:E});static#n=this.\u0275inj=c.cJS({imports:[b.BQ,b.si,D,b.BQ,D]})}return E})()},3680:(In,Ze,C)=>{"use strict";C.d(Ze,{yN:()=>w,mZ:()=>E,_A:()=>Ie,rD:()=>ze,sG:()=>le,K7:()=>It,HF:()=>$e,Y2:()=>ge,BQ:()=>B,XK:()=>Oe,ey:()=>$t,Ng:()=>jn,wG:()=>ce,si:()=>Ce,IR:()=>J,CB:()=>dn,jH:()=>pn,pj:()=>z,Kr:()=>oe,Id:()=>Re,FD:()=>me,dB:()=>te,sb:()=>H});var c=C(5879),t=C(4300),b=C(9388),y=C(6814),F=C(2831),L=C(2495),x=C(5592),m=C(8645),h=C(6028);const A=["text"];function U(st,ut){if(1&st&&c._UZ(0,"mat-pseudo-checkbox",6),2&st){const xe=c.oxw();c.Q6J("disabled",xe.disabled)("state",xe.selected?"checked":"unchecked")}}function O(st,ut){if(1&st&&c._UZ(0,"mat-pseudo-checkbox",7),2&st){const xe=c.oxw();c.Q6J("disabled",xe.disabled)}}function V(st,ut){if(1&st&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&st){const xe=c.oxw();c.xp6(1),c.hij("(",xe.group.label,")")}}const k=[[["mat-icon"]],"*"],P=["mat-icon","*"];let w=(()=>{class st{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return st})(),E=(()=>{class st{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return st})();const S=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function N(){return!0}});let B=(()=>{class st{constructor(xe,fe,pe){this._sanityChecks=fe,this._document=pe,this._hasDoneGlobalChecks=!1,xe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(xe){return!(0,F.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[xe])}static#e=this.\u0275fac=function(fe){return new(fe||st)(c.LFG(t.qm),c.LFG(S,8),c.LFG(y.K0))};static#t=this.\u0275mod=c.oAB({type:st});static#n=this.\u0275inj=c.cJS({imports:[b.vT,b.vT]})}return st})();function Re(st){return class extends st{get disabled(){return this._disabled}set disabled(ut){this._disabled=(0,L.Ig)(ut)}constructor(...ut){super(...ut),this._disabled=!1}}}function z(st,ut){return class extends st{get color(){return this._color}set color(xe){const fe=xe||this.defaultColor;fe!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),fe&&this._elementRef.nativeElement.classList.add(`mat-${fe}`),this._color=fe)}constructor(...xe){super(...xe),this.defaultColor=ut,this.color=ut}}}function oe(st){return class extends st{get disableRipple(){return this._disableRipple}set disableRipple(ut){this._disableRipple=(0,L.Ig)(ut)}constructor(...ut){super(...ut),this._disableRipple=!1}}}function H(st,ut=0){return class extends st{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(xe){this._tabIndex=null!=xe?(0,L.su)(xe):this.defaultTabIndex}constructor(...xe){super(...xe),this._tabIndex=ut,this.defaultTabIndex=ut}}}function me(st){return class extends st{updateErrorState(){const ut=this.errorState,lt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);lt!==ut&&(this.errorState=lt,this.stateChanges.next())}constructor(...ut){super(...ut),this.errorState=!1}}}function te(st){return class extends st{constructor(...ut){super(...ut),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new x.y(xe=>{this._isInitialized?this._notifySubscriber(xe):this._pendingSubscribers.push(xe)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(ut){ut.next(),ut.complete()}}}const ue=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Se(){return(0,c.f3M)(c.soG)}});class Ie{constructor(){this._localeChanges=new m.x,this.localeChanges=this._localeChanges}getValidDateOrNull(ut){return this.isDateInstance(ut)&&this.isValid(ut)?ut:null}deserialize(ut){return null==ut||this.isDateInstance(ut)&&this.isValid(ut)?ut:this.invalid()}setLocale(ut){this.locale=ut,this._localeChanges.next()}compareDate(ut,xe){return this.getYear(ut)-this.getYear(xe)||this.getMonth(ut)-this.getMonth(xe)||this.getDate(ut)-this.getDate(xe)}sameDate(ut,xe){if(ut&&xe){let fe=this.isValid(ut),pe=this.isValid(xe);return fe&&pe?!this.compareDate(ut,xe):fe==pe}return ut==xe}clampDate(ut,xe,fe){return xe&&this.compareDate(ut,xe)<0?xe:fe&&this.compareDate(ut,fe)>0?fe:ut}}const le=new c.OlP("mat-date-formats"),Me=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function we(st,ut){const xe=Array(st);for(let fe=0;fe<st;fe++)xe[fe]=ut(fe);return xe}let _e=(()=>{class st extends Ie{constructor(xe,fe){super(),this.useUtcForDisplay=!1,super.setLocale(xe)}getYear(xe){return xe.getFullYear()}getMonth(xe){return xe.getMonth()}getDate(xe){return xe.getDate()}getDayOfWeek(xe){return xe.getDay()}getMonthNames(xe){const fe=new Intl.DateTimeFormat(this.locale,{month:xe,timeZone:"utc"});return we(12,pe=>this._format(fe,new Date(2017,pe,1)))}getDateNames(){const xe=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return we(31,fe=>this._format(xe,new Date(2017,0,fe+1)))}getDayOfWeekNames(xe){const fe=new Intl.DateTimeFormat(this.locale,{weekday:xe,timeZone:"utc"});return we(7,pe=>this._format(fe,new Date(2017,0,pe+1)))}getYearName(xe){const fe=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(fe,xe)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(xe){return this.getDate(this._createDateWithOverflow(this.getYear(xe),this.getMonth(xe)+1,0))}clone(xe){return new Date(xe.getTime())}createDate(xe,fe,pe){let lt=this._createDateWithOverflow(xe,fe,pe);return lt.getMonth(),lt}today(){return new Date}parse(xe,fe){return"number"==typeof xe?new Date(xe):xe?new Date(Date.parse(xe)):null}format(xe,fe){if(!this.isValid(xe))throw Error("NativeDateAdapter: Cannot format invalid date.");const pe=new Intl.DateTimeFormat(this.locale,{...fe,timeZone:"utc"});return this._format(pe,xe)}addCalendarYears(xe,fe){return this.addCalendarMonths(xe,12*fe)}addCalendarMonths(xe,fe){let pe=this._createDateWithOverflow(this.getYear(xe),this.getMonth(xe)+fe,this.getDate(xe));return this.getMonth(pe)!=((this.getMonth(xe)+fe)%12+12)%12&&(pe=this._createDateWithOverflow(this.getYear(pe),this.getMonth(pe),0)),pe}addCalendarDays(xe,fe){return this._createDateWithOverflow(this.getYear(xe),this.getMonth(xe),this.getDate(xe)+fe)}toIso8601(xe){return[xe.getUTCFullYear(),this._2digit(xe.getUTCMonth()+1),this._2digit(xe.getUTCDate())].join("-")}deserialize(xe){if("string"==typeof xe){if(!xe)return null;if(Me.test(xe)){let fe=new Date(xe);if(this.isValid(fe))return fe}}return super.deserialize(xe)}isDateInstance(xe){return xe instanceof Date}isValid(xe){return!isNaN(xe.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(xe,fe,pe){const lt=new Date;return lt.setFullYear(xe,fe,pe),lt.setHours(0,0,0,0),lt}_2digit(xe){return("00"+xe).slice(-2)}_format(xe,fe){const pe=new Date;return pe.setUTCFullYear(fe.getFullYear(),fe.getMonth(),fe.getDate()),pe.setUTCHours(fe.getHours(),fe.getMinutes(),fe.getSeconds(),fe.getMilliseconds()),xe.format(pe)}static#e=this.\u0275fac=function(fe){return new(fe||st)(c.LFG(ue,8),c.LFG(F.t4))};static#t=this.\u0275prov=c.Yz7({token:st,factory:st.\u0275fac})}return st})();const Le={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Pe=(()=>{class st{static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275mod=c.oAB({type:st});static#n=this.\u0275inj=c.cJS({providers:[{provide:Ie,useClass:_e}]})}return st})(),Oe=(()=>{class st{static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275mod=c.oAB({type:st});static#n=this.\u0275inj=c.cJS({providers:[{provide:le,useValue:Le}],imports:[Pe]})}return st})(),ze=(()=>{class st{isErrorState(xe,fe){return!!(xe&&xe.invalid&&(xe.touched||fe&&fe.submitted))}static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275prov=c.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})();class ie{constructor(ut,xe,fe,pe=!1){this._renderer=ut,this.element=xe,this.config=fe,this._animationForciblyDisabledThroughCss=pe,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const he=(0,F.i$)({passive:!0,capture:!0});class ${constructor(){this._events=new Map,this._delegateEventHandler=ut=>{const xe=(0,F.sA)(ut);xe&&this._events.get(ut.type)?.forEach((fe,pe)=>{(pe===xe||pe.contains(xe))&&fe.forEach(lt=>lt.handleEvent(ut))})}}addHandler(ut,xe,fe,pe){const lt=this._events.get(xe);if(lt){const mt=lt.get(fe);mt?mt.add(pe):lt.set(fe,new Set([pe]))}else this._events.set(xe,new Map([[fe,new Set([pe])]])),ut.runOutsideAngular(()=>{document.addEventListener(xe,this._delegateEventHandler,he)})}removeHandler(ut,xe,fe){const pe=this._events.get(ut);if(!pe)return;const lt=pe.get(xe);lt&&(lt.delete(fe),0===lt.size&&pe.delete(xe),0===pe.size&&(this._events.delete(ut),document.removeEventListener(ut,this._delegateEventHandler,he)))}}const Z={enterDuration:225,exitDuration:150},X=(0,F.i$)({passive:!0,capture:!0}),Q=["mousedown","touchstart"],q=["mouseup","mouseleave","touchend","touchcancel"];class J{static#e=this._eventManager=new $;constructor(ut,xe,fe,pe){this._target=ut,this._ngZone=xe,this._platform=pe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,pe.isBrowser&&(this._containerElement=(0,L.fI)(fe))}fadeInRipple(ut,xe,fe={}){const pe=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),lt={...Z,...fe.animation};fe.centered&&(ut=pe.left+pe.width/2,xe=pe.top+pe.height/2);const mt=fe.radius||function de(st,ut,xe){const fe=Math.max(Math.abs(st-xe.left),Math.abs(st-xe.right)),pe=Math.max(Math.abs(ut-xe.top),Math.abs(ut-xe.bottom));return Math.sqrt(fe*fe+pe*pe)}(ut,xe,pe),Dt=ut-pe.left,ft=xe-pe.top,bt=lt.enterDuration,Nt=document.createElement("div");Nt.classList.add("mat-ripple-element"),Nt.style.left=Dt-mt+"px",Nt.style.top=ft-mt+"px",Nt.style.height=2*mt+"px",Nt.style.width=2*mt+"px",null!=fe.color&&(Nt.style.backgroundColor=fe.color),Nt.style.transitionDuration=`${bt}ms`,this._containerElement.appendChild(Nt);const Wt=window.getComputedStyle(Nt),Vt=Wt.transitionDuration,en="none"===Wt.transitionProperty||"0s"===Vt||"0s, 0s"===Vt||0===pe.width&&0===pe.height,nn=new ie(this,Nt,fe,en);Nt.style.transform="scale3d(1, 1, 1)",nn.state=0,fe.persistent||(this._mostRecentTransientRipple=nn);let yn=null;return!en&&(bt||lt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Tn=()=>this._finishRippleTransition(nn),On=()=>this._destroyRipple(nn);Nt.addEventListener("transitionend",Tn),Nt.addEventListener("transitioncancel",On),yn={onTransitionEnd:Tn,onTransitionCancel:On}}),this._activeRipples.set(nn,yn),(en||!bt)&&this._finishRippleTransition(nn),nn}fadeOutRipple(ut){if(2===ut.state||3===ut.state)return;const xe=ut.element,fe={...Z,...ut.config.animation};xe.style.transitionDuration=`${fe.exitDuration}ms`,xe.style.opacity="0",ut.state=2,(ut._animationForciblyDisabledThroughCss||!fe.exitDuration)&&this._finishRippleTransition(ut)}fadeOutAll(){this._getActiveRipples().forEach(ut=>ut.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ut=>{ut.config.persistent||ut.fadeOut()})}setupTriggerEvents(ut){const xe=(0,L.fI)(ut);!this._platform.isBrowser||!xe||xe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=xe,Q.forEach(fe=>{J._eventManager.addHandler(this._ngZone,fe,xe,this)}))}handleEvent(ut){"mousedown"===ut.type?this._onMousedown(ut):"touchstart"===ut.type?this._onTouchStart(ut):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{q.forEach(xe=>{this._triggerElement.addEventListener(xe,this,X)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ut){0===ut.state?this._startFadeOutTransition(ut):2===ut.state&&this._destroyRipple(ut)}_startFadeOutTransition(ut){const xe=ut===this._mostRecentTransientRipple,{persistent:fe}=ut.config;ut.state=1,!fe&&(!xe||!this._isPointerDown)&&ut.fadeOut()}_destroyRipple(ut){const xe=this._activeRipples.get(ut)??null;this._activeRipples.delete(ut),this._activeRipples.size||(this._containerRect=null),ut===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ut.state=3,null!==xe&&(ut.element.removeEventListener("transitionend",xe.onTransitionEnd),ut.element.removeEventListener("transitioncancel",xe.onTransitionCancel)),ut.element.remove()}_onMousedown(ut){const xe=(0,t.X6)(ut),fe=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!xe&&!fe&&(this._isPointerDown=!0,this.fadeInRipple(ut.clientX,ut.clientY,this._target.rippleConfig))}_onTouchStart(ut){if(!this._target.rippleDisabled&&!(0,t.yG)(ut)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const xe=ut.changedTouches;if(xe)for(let fe=0;fe<xe.length;fe++)this.fadeInRipple(xe[fe].clientX,xe[fe].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ut=>{!ut.config.persistent&&(1===ut.state||ut.config.terminateOnPointerUp&&0===ut.state)&&ut.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ut=this._triggerElement;ut&&(Q.forEach(xe=>J._eventManager.removeHandler(xe,ut,this)),this._pointerUpEventsRegistered&&q.forEach(xe=>ut.removeEventListener(xe,this,X)))}}const ge=new c.OlP("mat-ripple-global-options");let ce=(()=>{class st{get disabled(){return this._disabled}set disabled(xe){xe&&this.fadeOutAllNonPersistent(),this._disabled=xe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(xe){this._trigger=xe,this._setupTriggerEventsIfEnabled()}constructor(xe,fe,pe,lt,mt){this._elementRef=xe,this._animationMode=mt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=lt||{},this._rippleRenderer=new J(this,fe,xe,pe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(xe,fe=0,pe){return"number"==typeof xe?this._rippleRenderer.fadeInRipple(xe,fe,{...this.rippleConfig,...pe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...xe})}static#e=this.\u0275fac=function(fe){return new(fe||st)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(F.t4),c.Y36(ge,8),c.Y36(c.QbO,8))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(fe,pe){2&fe&&c.ekj("mat-ripple-unbounded",pe.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return st})(),Ce=(()=>{class st{static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275mod=c.oAB({type:st});static#n=this.\u0275inj=c.cJS({imports:[B,B]})}return st})(),Ye=(()=>{class st{constructor(xe){this._animationMode=xe,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(fe){return new(fe||st)(c.Y36(c.QbO,8))};static#t=this.\u0275cmp=c.Xpm({type:st,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(fe,pe){2&fe&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===pe.state)("mat-pseudo-checkbox-checked","checked"===pe.state)("mat-pseudo-checkbox-disabled",pe.disabled)("mat-pseudo-checkbox-minimal","minimal"===pe.appearance)("mat-pseudo-checkbox-full","full"===pe.appearance)("_mat-animation-noopable","NoopAnimations"===pe._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(fe,pe){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return st})(),Be=(()=>{class st{static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275mod=c.oAB({type:st});static#n=this.\u0275inj=c.cJS({imports:[B]})}return st})();const $e=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),It=new c.OlP("MatOptgroup");let Ot=0;class jt{constructor(ut,xe=!1){this.source=ut,this.isUserInput=xe}}let zt=(()=>{class st{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(xe){this._disabled=(0,L.Ig)(xe)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(xe,fe,pe,lt){this._element=xe,this._changeDetectorRef=fe,this._parent=pe,this.group=lt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ot++,this.onSelectionChange=new c.vpe,this._stateChanges=new m.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(xe=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),xe&&this._emitSelectionChangeEvent())}deselect(xe=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),xe&&this._emitSelectionChangeEvent())}focus(xe,fe){const pe=this._getHostElement();"function"==typeof pe.focus&&pe.focus(fe)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(xe){(xe.keyCode===h.K5||xe.keyCode===h.L_)&&!(0,h.Vb)(xe)&&(this._selectViaInteraction(),xe.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const xe=this.viewValue;xe!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=xe)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(xe=!1){this.onSelectionChange.emit(new jt(this,xe))}static#e=this.\u0275fac=function(fe){c.$Z()};static#t=this.\u0275dir=c.lG2({type:st,viewQuery:function(fe,pe){if(1&fe&&c.Gf(A,7),2&fe){let lt;c.iGM(lt=c.CRH())&&(pe._text=lt.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return st})(),$t=(()=>{class st extends zt{constructor(xe,fe,pe,lt){super(xe,fe,pe,lt)}static#e=this.\u0275fac=function(fe){return new(fe||st)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36($e,8),c.Y36(It,8))};static#t=this.\u0275cmp=c.Xpm({type:st,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(fe,pe){1&fe&&c.NdJ("click",function(){return pe._selectViaInteraction()})("keydown",function(mt){return pe._handleKeydown(mt)}),2&fe&&(c.Ikx("id",pe.id),c.uIk("aria-selected",pe.selected)("aria-disabled",pe.disabled.toString()),c.ekj("mdc-list-item--selected",pe.selected)("mat-mdc-option-multiple",pe.multiple)("mat-mdc-option-active",pe.active)("mdc-list-item--disabled",pe.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:P,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(fe,pe){1&fe&&(c.F$t(k),c.YNc(0,U,1,2,"mat-pseudo-checkbox",0),c.Hsn(1),c.TgZ(2,"span",1,2),c.Hsn(4,1),c.qZA(),c.YNc(5,O,1,1,"mat-pseudo-checkbox",3),c.YNc(6,V,2,1,"span",4),c._UZ(7,"div",5)),2&fe&&(c.Q6J("ngIf",pe.multiple),c.xp6(5),c.Q6J("ngIf",!pe.multiple&&pe.selected&&!pe.hideSingleSelectionIndicator),c.xp6(1),c.Q6J("ngIf",pe.group&&pe.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",pe._getHostElement())("matRippleDisabled",pe.disabled||pe.disableRipple))},dependencies:[ce,y.O5,Ye],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return st})();function dn(st,ut,xe){if(xe.length){let fe=ut.toArray(),pe=xe.toArray(),lt=0;for(let mt=0;mt<st+1;mt++)fe[mt].group&&fe[mt].group===pe[lt]&&lt++;return lt}return 0}function pn(st,ut,xe,fe){return st<xe?st:st+ut>xe+fe?Math.max(0,st-fe+ut):xe}let jn=(()=>{class st{static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275mod=c.oAB({type:st});static#n=this.\u0275inj=c.cJS({imports:[Ce,y.ez,B,Be]})}return st})()},8034:(In,Ze,C)=>{"use strict";C.d(Ze,{FA:()=>Un,Mq:()=>wt,hl:()=>On,nW:()=>qn});var c=C(4300),t=C(3651),b=C(8484),I=C(6814),y=C(5879),F=C(2296),L=C(799),x=C(3680),m=C(8645),h=C(7394),p=C(3019),v=C(2096),A=C(6028),U=C(9388),O=C(2831),V=C(8180),k=C(7921),P=C(2181),D=C(2495),w=C(6825),E=C(95),N=C(9157),S=C(2032);const B=["mat-calendar-body",""];function Y(rt,Xt){if(1&rt&&(y.TgZ(0,"tr",3)(1,"td",4),y._uU(2),y.qZA()()),2&rt){const ve=y.oxw();y.xp6(1),y.Udp("padding-top",ve._cellPadding)("padding-bottom",ve._cellPadding),y.uIk("colspan",ve.numCols),y.xp6(1),y.hij(" ",ve.label," ")}}function re(rt,Xt){if(1&rt&&(y.TgZ(0,"td",4),y._uU(1),y.qZA()),2&rt){const ve=y.oxw(2);y.Udp("padding-top",ve._cellPadding)("padding-bottom",ve._cellPadding),y.uIk("colspan",ve._firstRowOffset),y.xp6(1),y.hij(" ",ve._firstRowOffset>=ve.labelMinRequiredCells?ve.label:""," ")}}function ae(rt,Xt){if(1&rt){const ve=y.EpF();y.TgZ(0,"td",8)(1,"button",9),y.NdJ("click",function(tt){const qt=y.CHM(ve).$implicit,tn=y.oxw(2);return y.KtG(tn._cellClicked(qt,tt))})("focus",function(tt){const qt=y.CHM(ve).$implicit,tn=y.oxw(2);return y.KtG(tn._emitActiveDateChange(qt,tt))}),y.TgZ(2,"span",10),y._uU(3),y.qZA(),y._UZ(4,"span",11),y.qZA()()}if(2&rt){const ve=Xt.$implicit,at=Xt.index,tt=y.oxw().index,At=y.oxw();y.Udp("width",At._cellWidth)("padding-top",At._cellPadding)("padding-bottom",At._cellPadding),y.uIk("data-mat-row",tt)("data-mat-col",at),y.xp6(1),y.ekj("mat-calendar-body-disabled",!ve.enabled)("mat-calendar-body-active",At._isActiveCell(tt,at))("mat-calendar-body-range-start",At._isRangeStart(ve.compareValue))("mat-calendar-body-range-end",At._isRangeEnd(ve.compareValue))("mat-calendar-body-in-range",At._isInRange(ve.compareValue))("mat-calendar-body-comparison-bridge-start",At._isComparisonBridgeStart(ve.compareValue,tt,at))("mat-calendar-body-comparison-bridge-end",At._isComparisonBridgeEnd(ve.compareValue,tt,at))("mat-calendar-body-comparison-start",At._isComparisonStart(ve.compareValue))("mat-calendar-body-comparison-end",At._isComparisonEnd(ve.compareValue))("mat-calendar-body-in-comparison-range",At._isInComparisonRange(ve.compareValue))("mat-calendar-body-preview-start",At._isPreviewStart(ve.compareValue))("mat-calendar-body-preview-end",At._isPreviewEnd(ve.compareValue))("mat-calendar-body-in-preview",At._isInPreview(ve.compareValue)),y.Q6J("ngClass",ve.cssClasses)("tabindex",At._isActiveCell(tt,at)?0:-1),y.uIk("aria-label",ve.ariaLabel)("aria-disabled",!ve.enabled||null)("aria-pressed",At._isSelected(ve.compareValue))("aria-current",At.todayValue===ve.compareValue?"date":null)("aria-describedby",At._getDescribedby(ve.compareValue)),y.xp6(1),y.ekj("mat-calendar-body-selected",At._isSelected(ve.compareValue))("mat-calendar-body-comparison-identical",At._isComparisonIdentical(ve.compareValue))("mat-calendar-body-today",At.todayValue===ve.compareValue),y.xp6(1),y.hij(" ",ve.displayValue," ")}}function Re(rt,Xt){if(1&rt&&(y.TgZ(0,"tr",5),y.YNc(1,re,2,6,"td",6),y.YNc(2,ae,5,48,"td",7),y.qZA()),2&rt){const ve=Xt.$implicit,at=Xt.index,tt=y.oxw();y.xp6(1),y.Q6J("ngIf",0===at&&tt._firstRowOffset),y.xp6(1),y.Q6J("ngForOf",ve)}}function z(rt,Xt){if(1&rt&&(y.TgZ(0,"th",5)(1,"span",6),y._uU(2),y.qZA(),y.TgZ(3,"span",7),y._uU(4),y.qZA()()),2&rt){const ve=Xt.$implicit;y.xp6(2),y.Oqu(ve.long),y.xp6(2),y.Oqu(ve.narrow)}}const oe=["*"];function H(rt,Xt){}function me(rt,Xt){if(1&rt){const ve=y.EpF();y.TgZ(0,"mat-month-view",5),y.NdJ("activeDateChange",function(tt){y.CHM(ve);const At=y.oxw();return y.KtG(At.activeDate=tt)})("_userSelection",function(tt){y.CHM(ve);const At=y.oxw();return y.KtG(At._dateSelected(tt))})("dragStarted",function(tt){y.CHM(ve);const At=y.oxw();return y.KtG(At._dragStarted(tt))})("dragEnded",function(tt){y.CHM(ve);const At=y.oxw();return y.KtG(At._dragEnded(tt))}),y.qZA()}if(2&rt){const ve=y.oxw();y.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)("comparisonStart",ve.comparisonStart)("comparisonEnd",ve.comparisonEnd)("startDateAccessibleName",ve.startDateAccessibleName)("endDateAccessibleName",ve.endDateAccessibleName)("activeDrag",ve._activeDrag)}}function te(rt,Xt){if(1&rt){const ve=y.EpF();y.TgZ(0,"mat-year-view",6),y.NdJ("activeDateChange",function(tt){y.CHM(ve);const At=y.oxw();return y.KtG(At.activeDate=tt)})("monthSelected",function(tt){y.CHM(ve);const At=y.oxw();return y.KtG(At._monthSelectedInYearView(tt))})("selectedChange",function(tt){y.CHM(ve);const At=y.oxw();return y.KtG(At._goToDateInView(tt,"month"))}),y.qZA()}if(2&rt){const ve=y.oxw();y.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)}}function ue(rt,Xt){if(1&rt){const ve=y.EpF();y.TgZ(0,"mat-multi-year-view",7),y.NdJ("activeDateChange",function(tt){y.CHM(ve);const At=y.oxw();return y.KtG(At.activeDate=tt)})("yearSelected",function(tt){y.CHM(ve);const At=y.oxw();return y.KtG(At._yearSelectedInMultiYearView(tt))})("selectedChange",function(tt){y.CHM(ve);const At=y.oxw();return y.KtG(At._goToDateInView(tt,"year"))}),y.qZA()}if(2&rt){const ve=y.oxw();y.Q6J("activeDate",ve.activeDate)("selected",ve.selected)("dateFilter",ve.dateFilter)("maxDate",ve.maxDate)("minDate",ve.minDate)("dateClass",ve.dateClass)}}function Se(rt,Xt){}const Ie=["button"];function le(rt,Xt){1&rt&&(y.O4$(),y.TgZ(0,"svg",3),y._UZ(1,"path",4),y.qZA())}const Me=[[["","matDatepickerToggleIcon",""]]],we=["[matDatepickerToggleIcon]"];let je=(()=>{class rt{constructor(){this.changes=new m.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(ve,at){return`${ve} \u2013 ${at}`}formatYearRangeLabel(ve,at){return`${ve} to ${at}`}static#e=this.\u0275fac=function(at){return new(at||rt)};static#t=this.\u0275prov=y.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();class ze{constructor(Xt,ve,at,tt,At={},qt=Xt,tn){this.value=Xt,this.displayValue=ve,this.ariaLabel=at,this.enabled=tt,this.cssClasses=At,this.compareValue=qt,this.rawValue=tn}}let He=1;const Ae=(0,O.i$)({passive:!1,capture:!0}),ye=(0,O.i$)({passive:!0,capture:!0}),K=(0,O.i$)({passive:!0});let ie=(()=>{class rt{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(ve,at){this._elementRef=ve,this._ngZone=at,this._platform=(0,y.f3M)(O.t4),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new y.vpe,this.previewChange=new y.vpe,this.activeDateChange=new y.vpe,this.dragStarted=new y.vpe,this.dragEnded=new y.vpe,this._didDragSinceMouseDown=!1,this._enterHandler=tt=>{if(this._skipNextFocus&&"focus"===tt.type)this._skipNextFocus=!1;else if(tt.target&&this.isRange){const At=this._getCellFromElement(tt.target);At&&this._ngZone.run(()=>this.previewChange.emit({value:At.enabled?At:null,event:tt}))}},this._touchmoveHandler=tt=>{if(!this.isRange)return;const At=Q(tt),qt=At?this._getCellFromElement(At):null;At!==tt.target&&(this._didDragSinceMouseDown=!0),$(tt.target)&&tt.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:qt?.enabled?qt:null,event:tt}))},this._leaveHandler=tt=>{null!==this.previewEnd&&this.isRange&&("blur"!==tt.type&&(this._didDragSinceMouseDown=!0),tt.target&&this._getCellFromElement(tt.target)&&(!tt.relatedTarget||!this._getCellFromElement(tt.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:tt})))},this._mousedownHandler=tt=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const At=tt.target&&this._getCellFromElement(tt.target);!At||!this._isInRange(At.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:At.rawValue,event:tt})})},this._mouseupHandler=tt=>{if(!this.isRange)return;const At=$(tt.target);At?At.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const qt=this._getCellFromElement(At);this.dragEnded.emit({value:qt?.rawValue??null,event:tt})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:tt})})},this._touchendHandler=tt=>{const At=Q(tt);At&&this._mouseupHandler({target:At})},this._id="mat-calendar-body-"+He++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,at.runOutsideAngular(()=>{const tt=ve.nativeElement;tt.addEventListener("touchmove",this._touchmoveHandler,Ae),tt.addEventListener("mouseenter",this._enterHandler,ye),tt.addEventListener("focus",this._enterHandler,ye),tt.addEventListener("mouseleave",this._leaveHandler,ye),tt.addEventListener("blur",this._leaveHandler,ye),tt.addEventListener("mousedown",this._mousedownHandler,K),tt.addEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(ve,at){this._didDragSinceMouseDown||ve.enabled&&this.selectedValueChange.emit({value:ve.value,event:at})}_emitActiveDateChange(ve,at){ve.enabled&&this.activeDateChange.emit({value:ve.value,event:at})}_isSelected(ve){return this.startValue===ve||this.endValue===ve}ngOnChanges(ve){const at=ve.numCols,{rows:tt,numCols:At}=this;(ve.rows||at)&&(this._firstRowOffset=tt&&tt.length&&tt[0].length?At-tt[0].length:0),(ve.cellAspectRatio||at||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/At+"%"),(at||!this._cellWidth)&&(this._cellWidth=100/At+"%")}ngOnDestroy(){const ve=this._elementRef.nativeElement;ve.removeEventListener("touchmove",this._touchmoveHandler,Ae),ve.removeEventListener("mouseenter",this._enterHandler,ye),ve.removeEventListener("focus",this._enterHandler,ye),ve.removeEventListener("mouseleave",this._leaveHandler,ye),ve.removeEventListener("blur",this._leaveHandler,ye),ve.removeEventListener("mousedown",this._mousedownHandler,K),ve.removeEventListener("touchstart",this._mousedownHandler,K),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(ve,at){let tt=ve*this.numCols+at;return ve&&(tt-=this._firstRowOffset),tt==this.activeCell}_focusActiveCell(ve=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,V.q)(1)).subscribe(()=>{setTimeout(()=>{const at=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");at&&(ve||(this._skipNextFocus=!0),at.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(ve){return Z(ve,this.startValue,this.endValue)}_isRangeEnd(ve){return W(ve,this.startValue,this.endValue)}_isInRange(ve){return X(ve,this.startValue,this.endValue,this.isRange)}_isComparisonStart(ve){return Z(ve,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(ve,at,tt){if(!this._isComparisonStart(ve)||this._isRangeStart(ve)||!this._isInRange(ve))return!1;let At=this.rows[at][tt-1];if(!At){const qt=this.rows[at-1];At=qt&&qt[qt.length-1]}return At&&!this._isRangeEnd(At.compareValue)}_isComparisonBridgeEnd(ve,at,tt){if(!this._isComparisonEnd(ve)||this._isRangeEnd(ve)||!this._isInRange(ve))return!1;let At=this.rows[at][tt+1];if(!At){const qt=this.rows[at+1];At=qt&&qt[0]}return At&&!this._isRangeStart(At.compareValue)}_isComparisonEnd(ve){return W(ve,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(ve){return X(ve,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(ve){return this.comparisonStart===this.comparisonEnd&&ve===this.comparisonStart}_isPreviewStart(ve){return Z(ve,this.previewStart,this.previewEnd)}_isPreviewEnd(ve){return W(ve,this.previewStart,this.previewEnd)}_isInPreview(ve){return X(ve,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(ve){return this.isRange?this.startValue===ve&&this.endValue===ve?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===ve?this._startDateLabelId:this.endValue===ve?this._endDateLabelId:null:null}_getCellFromElement(ve){const at=$(ve);if(at){const tt=at.getAttribute("data-mat-row"),At=at.getAttribute("data-mat-col");if(tt&&At)return this.rows[parseInt(tt)][parseInt(At)]}return null}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(y.SBq),y.Y36(y.R0b))};static#t=this.\u0275cmp=y.Xpm({type:rt,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[y.TTD],attrs:B,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(at,tt){1&at&&(y.YNc(0,Y,3,6,"tr",0),y.YNc(1,Re,3,2,"tr",1),y.TgZ(2,"label",2),y._uU(3),y.qZA(),y.TgZ(4,"label",2),y._uU(5),y.qZA()),2&at&&(y.Q6J("ngIf",tt._firstRowOffset<tt.labelMinRequiredCells),y.xp6(1),y.Q6J("ngForOf",tt.rows),y.xp6(1),y.Q6J("id",tt._startDateLabelId),y.xp6(1),y.hij(" ",tt.startDateAccessibleName,"\n"),y.xp6(1),y.Q6J("id",tt._endDateLabelId),y.xp6(1),y.hij(" ",tt.endDateAccessibleName,"\n"))},dependencies:[I.mk,I.sg,I.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}return rt})();function he(rt){return"TD"===rt?.nodeName}function $(rt){let Xt;return he(rt)?Xt=rt:he(rt.parentNode)?Xt=rt.parentNode:he(rt.parentNode?.parentNode)&&(Xt=rt.parentNode.parentNode),null!=Xt?.getAttribute("data-mat-row")?Xt:null}function Z(rt,Xt,ve){return null!==ve&&Xt!==ve&&rt<ve&&rt===Xt}function W(rt,Xt,ve){return null!==Xt&&Xt!==ve&&rt>=Xt&&rt===ve}function X(rt,Xt,ve,at){return at&&null!==Xt&&null!==ve&&Xt!==ve&&rt>=Xt&&rt<=ve}function Q(rt){const Xt=rt.changedTouches[0];return document.elementFromPoint(Xt.clientX,Xt.clientY)}class q{constructor(Xt,ve){this.start=Xt,this.end=ve}}let J=(()=>{class rt{constructor(ve,at){this.selection=ve,this._adapter=at,this._selectionChanged=new m.x,this.selectionChanged=this._selectionChanged,this.selection=ve}updateSelection(ve,at){const tt=this.selection;this.selection=ve,this._selectionChanged.next({selection:ve,source:at,oldValue:tt})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(ve){return this._adapter.isDateInstance(ve)&&this._adapter.isValid(ve)}static#e=this.\u0275fac=function(at){y.$Z()};static#t=this.\u0275prov=y.Yz7({token:rt,factory:rt.\u0275fac})}return rt})(),de=(()=>{class rt extends J{constructor(ve){super(null,ve)}add(ve){super.updateSelection(ve,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const ve=new rt(this._adapter);return ve.updateSelection(this.selection,this),ve}static#e=this.\u0275fac=function(at){return new(at||rt)(y.LFG(x._A))};static#t=this.\u0275prov=y.Yz7({token:rt,factory:rt.\u0275fac})}return rt})();const Ce={provide:J,deps:[[new y.FiY,new y.tp0,J],x._A],useFactory:function ce(rt,Xt){return rt||new de(Xt)}},$e=new y.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let _t=(()=>{class rt{get activeDate(){return this._activeDate}set activeDate(ve){const at=this._activeDate,tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(tt,this.minDate,this.maxDate),this._hasSameMonthAndYear(at,this._activeDate)||this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,at,tt,At,qt){this._changeDetectorRef=ve,this._dateFormats=at,this._dateAdapter=tt,this._dir=At,this._rangeStrategy=qt,this._rerenderSubscription=h.w0.EMPTY,this.activeDrag=null,this.selectedChange=new y.vpe,this._userSelection=new y.vpe,this.dragStarted=new y.vpe,this.dragEnded=new y.vpe,this.activeDateChange=new y.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnChanges(ve){const at=ve.comparisonStart||ve.comparisonEnd;at&&!at.firstChange&&this._setRanges(this.selected),ve.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(ve){const at=ve.value,tt=this._getDateFromDayOfMonth(at);let At,qt;this._selected instanceof q?(At=this._getDateInCurrentMonth(this._selected.start),qt=this._getDateInCurrentMonth(this._selected.end)):At=qt=this._getDateInCurrentMonth(this._selected),(At!==at||qt!==at)&&this.selectedChange.emit(tt),this._userSelection.emit({value:tt,event:ve.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(ve){const tt=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(ve.value),this._dateAdapter.compareDate(tt,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(ve){const at=this._activeDate,tt=this._isRtl();switch(ve.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,tt?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,tt?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.Ku:this.activeDate=ve.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.VM:this.activeDate=ve.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.K5:case A.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&ve.preventDefault());case A.hY:return void(null!=this._previewEnd&&!(0,A.Vb)(ve)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:ve}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:ve})),ve.preventDefault(),ve.stopPropagation()));default:return}this._dateAdapter.compareDate(at,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===A.L_||ve.keyCode===A.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let ve=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(ve)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(ve){this._matCalendarBody._focusActiveCell(ve)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:ve,value:at}){if(this._rangeStrategy){const tt=at?at.rawValue:null,At=this._rangeStrategy.createPreview(tt,this.selected,ve);if(this._previewStart=this._getCellCompareValue(At.start),this._previewEnd=this._getCellCompareValue(At.end),this.activeDrag&&tt){const qt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,tt,ve);qt&&(this._previewStart=this._getCellCompareValue(qt.start),this._previewEnd=this._getCellCompareValue(qt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(ve){if(this.activeDrag)if(ve.value){const at=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,ve.value,ve.event);this.dragEnded.emit({value:at??null,event:ve.event})}else this.dragEnded.emit({value:null,event:ve.event})}_getDateFromDayOfMonth(ve){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),ve)}_initWeekdays(){const ve=this._dateAdapter.getFirstDayOfWeek(),at=this._dateAdapter.getDayOfWeekNames("narrow");let At=this._dateAdapter.getDayOfWeekNames("long").map((qt,tn)=>({long:qt,narrow:at[tn]}));this._weekdays=At.slice(ve).concat(At.slice(0,ve))}_createWeekCells(){const ve=this._dateAdapter.getNumDaysInMonth(this.activeDate),at=this._dateAdapter.getDateNames();this._weeks=[[]];for(let tt=0,At=this._firstWeekOffset;tt<ve;tt++,At++){7==At&&(this._weeks.push([]),At=0);const qt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),tt+1),tn=this._shouldEnableDate(qt),pi=this._dateAdapter.format(qt,this._dateFormats.display.dateA11yLabel),si=this.dateClass?this.dateClass(qt,"month"):void 0;this._weeks[this._weeks.length-1].push(new ze(tt+1,at[tt],pi,tn,si,this._getCellCompareValue(qt),qt))}}_shouldEnableDate(ve){return!!ve&&(!this.minDate||this._dateAdapter.compareDate(ve,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(ve,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(ve))}_getDateInCurrentMonth(ve){return ve&&this._hasSameMonthAndYear(ve,this.activeDate)?this._dateAdapter.getDate(ve):null}_hasSameMonthAndYear(ve,at){return!(!ve||!at||this._dateAdapter.getMonth(ve)!=this._dateAdapter.getMonth(at)||this._dateAdapter.getYear(ve)!=this._dateAdapter.getYear(at))}_getCellCompareValue(ve){if(ve){const at=this._dateAdapter.getYear(ve),tt=this._dateAdapter.getMonth(ve),At=this._dateAdapter.getDate(ve);return new Date(at,tt,At).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(ve){ve instanceof q?(this._rangeStart=this._getCellCompareValue(ve.start),this._rangeEnd=this._getCellCompareValue(ve.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(ve),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(ve){return!this.dateFilter||this.dateFilter(ve)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(y.sBO),y.Y36(x.sG,8),y.Y36(x._A,8),y.Y36(U.Is,8),y.Y36($e,8))};static#t=this.\u0275cmp=y.Xpm({type:rt,selectors:[["mat-month-view"]],viewQuery:function(at,tt){if(1&at&&y.Gf(ie,5),2&at){let At;y.iGM(At=y.CRH())&&(tt._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[y.TTD],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(at,tt){1&at&&(y.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),y.YNc(3,z,5,2,"th",2),y.qZA(),y.TgZ(4,"tr"),y._UZ(5,"th",3),y.qZA()(),y.TgZ(6,"tbody",4),y.NdJ("selectedValueChange",function(qt){return tt._dateSelected(qt)})("activeDateChange",function(qt){return tt._updateActiveDate(qt)})("previewChange",function(qt){return tt._previewChanged(qt)})("dragStarted",function(qt){return tt.dragStarted.emit(qt)})("dragEnded",function(qt){return tt._dragEnded(qt)})("keyup",function(qt){return tt._handleCalendarBodyKeyup(qt)})("keydown",function(qt){return tt._handleCalendarBodyKeydown(qt)}),y.qZA()()),2&at&&(y.xp6(3),y.Q6J("ngForOf",tt._weekdays),y.xp6(3),y.Q6J("label",tt._monthLabel)("rows",tt._weeks)("todayValue",tt._todayDate)("startValue",tt._rangeStart)("endValue",tt._rangeEnd)("comparisonStart",tt._comparisonRangeStart)("comparisonEnd",tt._comparisonRangeEnd)("previewStart",tt._previewStart)("previewEnd",tt._previewEnd)("isRange",tt._isRange)("labelMinRequiredCells",3)("activeCell",tt._dateAdapter.getDate(tt.activeDate)-1)("startDateAccessibleName",tt.startDateAccessibleName)("endDateAccessibleName",tt.endDateAccessibleName))},dependencies:[I.sg,ie],encapsulation:2,changeDetection:0})}return rt})();const Ot=24;let zt=(()=>{class rt{get activeDate(){return this._activeDate}set activeDate(ve){let at=this._activeDate;const tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(tt,this.minDate,this.maxDate),$t(this._dateAdapter,at,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setSelectedYear(ve)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,at,tt){this._changeDetectorRef=ve,this._dateAdapter=at,this._dir=tt,this._rerenderSubscription=h.w0.EMPTY,this.selectedChange=new y.vpe,this.yearSelected=new y.vpe,this.activeDateChange=new y.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const at=this._dateAdapter.getYear(this._activeDate)-dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let tt=0,At=[];tt<Ot;tt++)At.push(at+tt),4==At.length&&(this._years.push(At.map(qt=>this._createCellForYear(qt))),At=[]);this._changeDetectorRef.markForCheck()}_yearSelected(ve){const at=ve.value,tt=this._dateAdapter.createDate(at,0,1),At=this._getDateFromYear(at);this.yearSelected.emit(tt),this.selectedChange.emit(At)}_updateActiveDate(ve){const tt=this._activeDate;this.activeDate=this._getDateFromYear(ve.value),this._dateAdapter.compareDate(tt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ve){const at=this._activeDate,tt=this._isRtl();switch(ve.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,tt?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,tt?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ot-dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10*-Ot:-Ot);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10*Ot:Ot);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(at,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===A.L_||ve.keyCode===A.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_getActiveCell(){return dn(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(ve){const at=this._dateAdapter.getMonth(this.activeDate),tt=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(ve,at,1));return this._dateAdapter.createDate(ve,at,Math.min(this._dateAdapter.getDate(this.activeDate),tt))}_createCellForYear(ve){const at=this._dateAdapter.createDate(ve,0,1),tt=this._dateAdapter.getYearName(at),At=this.dateClass?this.dateClass(at,"multi-year"):void 0;return new ze(ve,tt,tt,this._shouldEnableYear(ve),At)}_shouldEnableYear(ve){if(null==ve||this.maxDate&&ve>this._dateAdapter.getYear(this.maxDate)||this.minDate&&ve<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let tt=this._dateAdapter.createDate(ve,0,1);this._dateAdapter.getYear(tt)==ve;tt=this._dateAdapter.addCalendarDays(tt,1))if(this.dateFilter(tt))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(ve){if(this._selectedYear=null,ve instanceof q){const at=ve.start||ve.end;at&&(this._selectedYear=this._dateAdapter.getYear(at))}else ve&&(this._selectedYear=this._dateAdapter.getYear(ve))}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(y.sBO),y.Y36(x._A,8),y.Y36(U.Is,8))};static#t=this.\u0275cmp=y.Xpm({type:rt,selectors:[["mat-multi-year-view"]],viewQuery:function(at,tt){if(1&at&&y.Gf(ie,5),2&at){let At;y.iGM(At=y.CRH())&&(tt._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(at,tt){1&at&&(y.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),y._UZ(3,"th",2),y.qZA()(),y.TgZ(4,"tbody",3),y.NdJ("selectedValueChange",function(qt){return tt._yearSelected(qt)})("activeDateChange",function(qt){return tt._updateActiveDate(qt)})("keyup",function(qt){return tt._handleCalendarBodyKeyup(qt)})("keydown",function(qt){return tt._handleCalendarBodyKeydown(qt)}),y.qZA()()),2&at&&(y.xp6(4),y.Q6J("rows",tt._years)("todayValue",tt._todayYear)("startValue",tt._selectedYear)("endValue",tt._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",tt._getActiveCell()))},dependencies:[ie],encapsulation:2,changeDetection:0})}return rt})();function $t(rt,Xt,ve,at,tt){const At=rt.getYear(Xt),qt=rt.getYear(ve),tn=pn(rt,at,tt);return Math.floor((At-tn)/Ot)===Math.floor((qt-tn)/Ot)}function dn(rt,Xt,ve,at){return function jn(rt,Xt){return(rt%Xt+Xt)%Xt}(rt.getYear(Xt)-pn(rt,ve,at),Ot)}function pn(rt,Xt,ve){let at=0;return ve?at=rt.getYear(ve)-Ot+1:Xt&&(at=rt.getYear(Xt)),at}let st=(()=>{class rt{get activeDate(){return this._activeDate}set activeDate(ve){let at=this._activeDate;const tt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(tt,this.minDate,this.maxDate),this._dateAdapter.getYear(at)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve)),this._setSelectedMonth(ve)}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}constructor(ve,at,tt,At){this._changeDetectorRef=ve,this._dateFormats=at,this._dateAdapter=tt,this._dir=At,this._rerenderSubscription=h.w0.EMPTY,this.selectedChange=new y.vpe,this.monthSelected=new y.vpe,this.activeDateChange=new y.vpe,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,k.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(ve){const at=ve.value,tt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),at,1);this.monthSelected.emit(tt);const At=this._getDateFromMonth(at);this.selectedChange.emit(At)}_updateActiveDate(ve){const tt=this._activeDate;this.activeDate=this._getDateFromMonth(ve.value),this._dateAdapter.compareDate(tt,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(ve){const at=this._activeDate,tt=this._isRtl();switch(ve.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,tt?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,tt?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?-10:-1);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ve.altKey?10:1);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(at,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),ve.preventDefault()}_handleCalendarBodyKeyup(ve){(ve.keyCode===A.L_||ve.keyCode===A.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:ve}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let ve=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(at=>at.map(tt=>this._createCellForMonth(tt,ve[tt]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(ve){return ve&&this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(ve):null}_getDateFromMonth(ve){const at=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,1),tt=this._dateAdapter.getNumDaysInMonth(at);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,Math.min(this._dateAdapter.getDate(this.activeDate),tt))}_createCellForMonth(ve,at){const tt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),ve,1),At=this._dateAdapter.format(tt,this._dateFormats.display.monthYearA11yLabel),qt=this.dateClass?this.dateClass(tt,"year"):void 0;return new ze(ve,at.toLocaleUpperCase(),At,this._shouldEnableMonth(ve),qt)}_shouldEnableMonth(ve){const at=this._dateAdapter.getYear(this.activeDate);if(null==ve||this._isYearAndMonthAfterMaxDate(at,ve)||this._isYearAndMonthBeforeMinDate(at,ve))return!1;if(!this.dateFilter)return!0;for(let At=this._dateAdapter.createDate(at,ve,1);this._dateAdapter.getMonth(At)==ve;At=this._dateAdapter.addCalendarDays(At,1))if(this.dateFilter(At))return!0;return!1}_isYearAndMonthAfterMaxDate(ve,at){if(this.maxDate){const tt=this._dateAdapter.getYear(this.maxDate),At=this._dateAdapter.getMonth(this.maxDate);return ve>tt||ve===tt&&at>At}return!1}_isYearAndMonthBeforeMinDate(ve,at){if(this.minDate){const tt=this._dateAdapter.getYear(this.minDate),At=this._dateAdapter.getMonth(this.minDate);return ve<tt||ve===tt&&at<At}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(ve){this._selectedMonth=ve instanceof q?this._getMonthInCurrentYear(ve.start)||this._getMonthInCurrentYear(ve.end):this._getMonthInCurrentYear(ve)}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(y.sBO),y.Y36(x.sG,8),y.Y36(x._A,8),y.Y36(U.Is,8))};static#t=this.\u0275cmp=y.Xpm({type:rt,selectors:[["mat-year-view"]],viewQuery:function(at,tt){if(1&at&&y.Gf(ie,5),2&at){let At;y.iGM(At=y.CRH())&&(tt._matCalendarBody=At.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(at,tt){1&at&&(y.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),y._UZ(3,"th",2),y.qZA()(),y.TgZ(4,"tbody",3),y.NdJ("selectedValueChange",function(qt){return tt._monthSelected(qt)})("activeDateChange",function(qt){return tt._updateActiveDate(qt)})("keyup",function(qt){return tt._handleCalendarBodyKeyup(qt)})("keydown",function(qt){return tt._handleCalendarBodyKeydown(qt)}),y.qZA()()),2&at&&(y.xp6(4),y.Q6J("label",tt._yearLabel)("rows",tt._months)("todayValue",tt._todayMonth)("startValue",tt._selectedMonth)("endValue",tt._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",tt._dateAdapter.getMonth(tt.activeDate)))},dependencies:[ie],encapsulation:2,changeDetection:0})}return rt})(),ut=1,xe=(()=>{class rt{constructor(ve,at,tt,At,qt){this._intl=ve,this.calendar=at,this._dateAdapter=tt,this._dateFormats=At,this._id="mat-calendar-header-"+ut++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>qt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Ot)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Ot)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(ve,at){return"month"==this.calendar.currentView?this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(at)&&this._dateAdapter.getMonth(ve)==this._dateAdapter.getMonth(at):"year"==this.calendar.currentView?this._dateAdapter.getYear(ve)==this._dateAdapter.getYear(at):$t(this._dateAdapter,ve,at,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const at=this._dateAdapter.getYear(this.calendar.activeDate)-dn(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),tt=at+Ot-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(at,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(tt,0,1))]}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(je),y.Y36((0,y.Gpc)(()=>fe)),y.Y36(x._A,8),y.Y36(x.sG,8),y.Y36(y.sBO))};static#t=this.\u0275cmp=y.Xpm({type:rt,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:oe,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(at,tt){1&at&&(y.F$t(),y.TgZ(0,"div",0)(1,"div",1)(2,"button",2),y.NdJ("click",function(){return tt.currentPeriodClicked()}),y.TgZ(3,"span",3),y._uU(4),y.qZA(),y.O4$(),y.TgZ(5,"svg",4),y._UZ(6,"polygon",5),y.qZA()(),y.kcU(),y._UZ(7,"div",6),y.Hsn(8),y.TgZ(9,"button",7),y.NdJ("click",function(){return tt.previousClicked()}),y.qZA(),y.TgZ(10,"button",8),y.NdJ("click",function(){return tt.nextClicked()}),y.qZA()()(),y.TgZ(11,"label",9),y._uU(12),y.qZA()),2&at&&(y.xp6(2),y.uIk("aria-label",tt.periodButtonLabel)("aria-describedby",tt._periodButtonLabelId),y.xp6(2),y.Oqu(tt.periodButtonText),y.xp6(1),y.ekj("mat-calendar-invert","month"!==tt.calendar.currentView),y.xp6(4),y.Q6J("disabled",!tt.previousEnabled()),y.uIk("aria-label",tt.prevButtonLabel),y.xp6(1),y.Q6J("disabled",!tt.nextEnabled()),y.uIk("aria-label",tt.nextButtonLabel),y.xp6(1),y.Q6J("id",tt._periodButtonLabelId),y.xp6(1),y.Oqu(tt.periodButtonDescription))},dependencies:[F.lW,F.RK],encapsulation:2,changeDetection:0})}return rt})(),fe=(()=>{class rt{get startAt(){return this._startAt}set startAt(ve){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get selected(){return this._selected}set selected(ve){this._selected=ve instanceof q?ve:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get minDate(){return this._minDate}set minDate(ve){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get maxDate(){return this._maxDate}set maxDate(ve){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get activeDate(){return this._clampedActiveDate}set activeDate(ve){this._clampedActiveDate=this._dateAdapter.clampDate(ve,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(ve){const at=this._currentView!==ve?ve:null;this._currentView=ve,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),at&&this.viewChanged.emit(at)}constructor(ve,at,tt,At){this._dateAdapter=at,this._dateFormats=tt,this._changeDetectorRef=At,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new y.vpe,this.yearSelected=new y.vpe,this.monthSelected=new y.vpe,this.viewChanged=new y.vpe(!0),this._userSelection=new y.vpe,this._userDragDrop=new y.vpe,this._activeDrag=null,this.stateChanges=new m.x,this._intlChanges=ve.changes.subscribe(()=>{At.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new b.C5(this.headerComponent||xe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(ve){const at=ve.minDate&&!this._dateAdapter.sameDate(ve.minDate.previousValue,ve.minDate.currentValue)?ve.minDate:void 0,tt=ve.maxDate&&!this._dateAdapter.sameDate(ve.maxDate.previousValue,ve.maxDate.currentValue)?ve.maxDate:void 0,At=at||tt||ve.dateFilter;if(At&&!At.firstChange){const qt=this._getCurrentViewComponent();qt&&(this._changeDetectorRef.detectChanges(),qt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(ve){const at=ve.value;(this.selected instanceof q||at&&!this._dateAdapter.sameDate(at,this.selected))&&this.selectedChange.emit(at),this._userSelection.emit(ve)}_yearSelectedInMultiYearView(ve){this.yearSelected.emit(ve)}_monthSelectedInYearView(ve){this.monthSelected.emit(ve)}_goToDateInView(ve,at){this.activeDate=ve,this.currentView=at}_dragStarted(ve){this._activeDrag=ve}_dragEnded(ve){this._activeDrag&&(ve.value&&this._userDragDrop.emit(ve),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(je),y.Y36(x._A,8),y.Y36(x.sG,8),y.Y36(y.sBO))};static#t=this.\u0275cmp=y.Xpm({type:rt,selectors:[["mat-calendar"]],viewQuery:function(at,tt){if(1&at&&(y.Gf(_t,5),y.Gf(st,5),y.Gf(zt,5)),2&at){let At;y.iGM(At=y.CRH())&&(tt.monthView=At.first),y.iGM(At=y.CRH())&&(tt.yearView=At.first),y.iGM(At=y.CRH())&&(tt.multiYearView=At.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[y._Bn([Ce]),y.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(at,tt){1&at&&(y.YNc(0,H,0,0,"ng-template",0),y.TgZ(1,"div",1),y.YNc(2,me,1,11,"mat-month-view",2),y.YNc(3,te,1,6,"mat-year-view",3),y.YNc(4,ue,1,6,"mat-multi-year-view",4),y.qZA()),2&at&&(y.Q6J("cdkPortalOutlet",tt._calendarHeaderPortal),y.xp6(1),y.Q6J("ngSwitch",tt.currentView),y.xp6(1),y.Q6J("ngSwitchCase","month"),y.xp6(1),y.Q6J("ngSwitchCase","year"),y.xp6(1),y.Q6J("ngSwitchCase","multi-year"))},dependencies:[I.RF,I.n9,c.kH,b.Pl,_t,st,zt],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}return rt})();const pe={transformPanel:(0,w.X$)("transformPanel",[(0,w.eR)("void => enter-dropdown",(0,w.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,w.F4)([(0,w.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,w.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,w.eR)("void => enter-dialog",(0,w.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,w.F4)([(0,w.oB)({opacity:0,transform:"scale(0.7)"}),(0,w.oB)({transform:"none",opacity:1})]))),(0,w.eR)("* => void",(0,w.jt)("100ms linear",(0,w.oB)({opacity:0})))]),fadeInCalendar:(0,w.X$)("fadeInCalendar",[(0,w.SB)("void",(0,w.oB)({opacity:0})),(0,w.SB)("enter",(0,w.oB)({opacity:1})),(0,w.eR)("void => *",(0,w.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let lt=0;const mt=new y.OlP("mat-datepicker-scroll-strategy"),ft={provide:mt,deps:[t.aV],useFactory:function Dt(rt){return()=>rt.scrollStrategies.reposition()}},bt=(0,x.pj)(class{constructor(rt){this._elementRef=rt}});let Nt=(()=>{class rt extends bt{constructor(ve,at,tt,At,qt,tn){super(ve),this._changeDetectorRef=at,this._globalModel=tt,this._dateAdapter=At,this._rangeSelectionStrategy=qt,this._subscriptions=new h.w0,this._animationDone=new m.x,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=tn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(ve){const at=this._model.selection,tt=ve.value,At=at instanceof q;if(At&&this._rangeSelectionStrategy){const qt=this._rangeSelectionStrategy.selectionFinished(tt,at,ve.event);this._model.updateSelection(qt,this)}else tt&&(At||!this._dateAdapter.sameDate(tt,at))&&this._model.add(tt);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(ve){this._model.updateSelection(ve.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(ve){this._isAnimating="start"===ve.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(ve,at){this._model=ve?this._globalModel.clone():this._globalModel,this._actionsPortal=ve,at&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(y.SBq),y.Y36(y.sBO),y.Y36(J),y.Y36(x._A),y.Y36($e,8),y.Y36(je))};static#t=this.\u0275cmp=y.Xpm({type:rt,selectors:[["mat-datepicker-content"]],viewQuery:function(at,tt){if(1&at&&y.Gf(fe,5),2&at){let At;y.iGM(At=y.CRH())&&(tt._calendar=At.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(at,tt){1&at&&y.WFA("@transformPanel.start",function(qt){return tt._handleAnimationEvent(qt)})("@transformPanel.done",function(qt){return tt._handleAnimationEvent(qt)}),2&at&&(y.d8E("@transformPanel",tt._animationState),y.ekj("mat-datepicker-content-touch",tt.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[y.qOj],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(at,tt){if(1&at&&(y.TgZ(0,"div",0)(1,"mat-calendar",1),y.NdJ("yearSelected",function(qt){return tt.datepicker._selectYear(qt)})("monthSelected",function(qt){return tt.datepicker._selectMonth(qt)})("viewChanged",function(qt){return tt.datepicker._viewChanged(qt)})("_userSelection",function(qt){return tt._handleUserSelection(qt)})("_userDragDrop",function(qt){return tt._handleUserDragDrop(qt)}),y.qZA(),y.YNc(2,Se,0,0,"ng-template",2),y.TgZ(3,"button",3),y.NdJ("focus",function(){return tt._closeButtonFocused=!0})("blur",function(){return tt._closeButtonFocused=!1})("click",function(){return tt.datepicker.close()}),y._uU(4),y.qZA()()),2&at){let At;y.ekj("mat-datepicker-content-container-with-custom-header",tt.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",tt._actionsPortal),y.uIk("aria-modal",!0)("aria-labelledby",null!==(At=tt._dialogLabelId)&&void 0!==At?At:void 0),y.xp6(1),y.Q6J("id",tt.datepicker.id)("ngClass",tt.datepicker.panelClass)("startAt",tt.datepicker.startAt)("startView",tt.datepicker.startView)("minDate",tt.datepicker._getMinDate())("maxDate",tt.datepicker._getMaxDate())("dateFilter",tt.datepicker._getDateFilter())("headerComponent",tt.datepicker.calendarHeaderComponent)("selected",tt._getSelected())("dateClass",tt.datepicker.dateClass)("comparisonStart",tt.comparisonStart)("comparisonEnd",tt.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",tt.startDateAccessibleName)("endDateAccessibleName",tt.endDateAccessibleName),y.xp6(1),y.Q6J("cdkPortalOutlet",tt._actionsPortal),y.xp6(1),y.ekj("cdk-visually-hidden",!tt._closeButtonFocused),y.Q6J("color",tt.color||"primary"),y.xp6(1),y.Oqu(tt._closeButtonText)}},dependencies:[I.mk,F.lW,c.mK,b.Pl,fe],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[pe.transformPanel,pe.fadeInCalendar]},changeDetection:0})}return rt})(),Wt=(()=>{class rt{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(ve){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(ve){this._color=ve}get touchUi(){return this._touchUi}set touchUi(ve){this._touchUi=(0,D.Ig)(ve)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(ve){const at=(0,D.Ig)(ve);at!==this._disabled&&(this._disabled=at,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(ve){this._restoreFocus=(0,D.Ig)(ve)}get panelClass(){return this._panelClass}set panelClass(ve){this._panelClass=(0,D.du)(ve)}get opened(){return this._opened}set opened(ve){(0,D.Ig)(ve)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(ve,at,tt,At,qt,tn,pi){this._overlay=ve,this._ngZone=at,this._viewContainerRef=tt,this._dateAdapter=qt,this._dir=tn,this._model=pi,this._inputStateChanges=h.w0.EMPTY,this._document=(0,y.f3M)(I.K0),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new y.vpe,this.monthSelected=new y.vpe,this.viewChanged=new y.vpe(!0),this.openedStream=new y.vpe,this.closedStream=new y.vpe,this._opened=!1,this.id="mat-datepicker-"+lt++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new m.x,this._scrollStrategy=At}ngOnChanges(ve){const at=ve.xPosition||ve.yPosition;if(at&&!at.firstChange&&this._overlayRef){const tt=this._overlayRef.getConfig().positionStrategy;tt instanceof t._G&&(this._setConnectedPositions(tt),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(ve){this._model.add(ve)}_selectYear(ve){this.yearSelected.emit(ve)}_selectMonth(ve){this.monthSelected.emit(ve)}_viewChanged(ve){this.viewChanged.emit(ve)}registerInput(ve){return this._inputStateChanges.unsubscribe(),this.datepickerInput=ve,this._inputStateChanges=ve.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(ve){this._actionsPortal=ve,this._componentRef?.instance._assignActions(ve,!0)}removeActions(ve){ve===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,O.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const ve=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,at=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:tt,location:At}=this._componentRef;tt._startExitAnimation(),tt._animationDone.pipe((0,V.q)(1)).subscribe(()=>{const qt=this._document.activeElement;ve&&(!qt||qt===this._document.activeElement||At.nativeElement.contains(qt))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}ve?setTimeout(at):at()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(ve){ve.datepicker=this,ve.color=this.color,ve._dialogLabelId=this.datepickerInput.getOverlayLabelId(),ve._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const ve=this.touchUi,at=new b.C5(Nt,this._viewContainerRef),tt=this._overlayRef=this._overlay.create(new t.X_({positionStrategy:ve?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[ve?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:ve?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(ve?"dialog":"popup")}));this._getCloseStream(tt).subscribe(At=>{At&&At.preventDefault(),this.close()}),tt.keydownEvents().subscribe(At=>{const qt=At.keyCode;(qt===A.LH||qt===A.JH||qt===A.oh||qt===A.SV||qt===A.Ku||qt===A.VM)&&At.preventDefault()}),this._componentRef=tt.attach(at),this._forwardContentValues(this._componentRef.instance),ve||this._ngZone.onStable.pipe((0,V.q)(1)).subscribe(()=>tt.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const ve=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(ve)}_setConnectedPositions(ve){const at="end"===this.xPosition?"end":"start",tt="start"===at?"end":"start",At="above"===this.yPosition?"bottom":"top",qt="top"===At?"bottom":"top";return ve.withPositions([{originX:at,originY:qt,overlayX:at,overlayY:At},{originX:at,originY:At,overlayX:at,overlayY:qt},{originX:tt,originY:qt,overlayX:tt,overlayY:At},{originX:tt,originY:At,overlayX:tt,overlayY:qt}])}_getCloseStream(ve){const at=["ctrlKey","shiftKey","metaKey"];return(0,p.T)(ve.backdropClick(),ve.detachments(),ve.keydownEvents().pipe((0,P.h)(tt=>tt.keyCode===A.hY&&!(0,A.Vb)(tt)||this.datepickerInput&&(0,A.Vb)(tt,"altKey")&&tt.keyCode===A.LH&&at.every(At=>!(0,A.Vb)(tt,At)))))}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(t.aV),y.Y36(y.R0b),y.Y36(y.s_b),y.Y36(mt),y.Y36(x._A,8),y.Y36(U.Is,8),y.Y36(J))};static#t=this.\u0275dir=y.lG2({type:rt,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[y.TTD]})}return rt})(),wt=(()=>{class rt extends Wt{static#e=this.\u0275fac=function(){let ve;return function(tt){return(ve||(ve=y.n5z(rt)))(tt||rt)}}();static#t=this.\u0275cmp=y.Xpm({type:rt,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[y._Bn([Ce,{provide:Wt,useExisting:rt}]),y.qOj],decls:0,vars:0,template:function(at,tt){},encapsulation:2,changeDetection:0})}return rt})();class Vt{constructor(Xt,ve){this.target=Xt,this.targetElement=ve,this.value=this.target.value}}let en=(()=>{class rt{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(ve){this._assignValueProgrammatically(ve)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(ve){const at=(0,D.Ig)(ve),tt=this._elementRef.nativeElement;this._disabled!==at&&(this._disabled=at,this.stateChanges.next(void 0)),at&&this._isInitialized&&tt.blur&&tt.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(ve){this._model=ve,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(at=>{if(this._shouldHandleChangeEvent(at)){const tt=this._getValueFromModel(at.selection);this._lastValueValid=this._isValidValue(tt),this._cvaOnChange(tt),this._onTouched(),this._formatValue(tt),this.dateInput.emit(new Vt(this,this._elementRef.nativeElement)),this.dateChange.emit(new Vt(this,this._elementRef.nativeElement))}})}constructor(ve,at,tt){this._elementRef=ve,this._dateAdapter=at,this._dateFormats=tt,this.dateChange=new y.vpe,this.dateInput=new y.vpe,this.stateChanges=new m.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=h.w0.EMPTY,this._localeSubscription=h.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=At=>{const qt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(At.value));return!qt||this._matchesFilter(qt)?null:{matDatepickerFilter:!0}},this._minValidator=At=>{const qt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(At.value)),tn=this._getMinDate();return!tn||!qt||this._dateAdapter.compareDate(tn,qt)<=0?null:{matDatepickerMin:{min:tn,actual:qt}}},this._maxValidator=At=>{const qt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(At.value)),tn=this._getMaxDate();return!tn||!qt||this._dateAdapter.compareDate(tn,qt)>=0?null:{matDatepickerMax:{max:tn,actual:qt}}},this._lastValueValid=!1,this._localeSubscription=at.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(ve){(function nn(rt,Xt){const ve=Object.keys(rt);for(let at of ve){const{previousValue:tt,currentValue:At}=rt[at];if(!Xt.isDateInstance(tt)||!Xt.isDateInstance(At))return!0;if(!Xt.sameDate(tt,At))return!0}return!1})(ve,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(ve){this._validatorOnChange=ve}validate(ve){return this._validator?this._validator(ve):null}writeValue(ve){this._assignValueProgrammatically(ve)}registerOnChange(ve){this._cvaOnChange=ve}registerOnTouched(ve){this._onTouched=ve}setDisabledState(ve){this.disabled=ve}_onKeydown(ve){(0,A.Vb)(ve,"altKey")&&ve.keyCode===A.JH&&["ctrlKey","shiftKey","metaKey"].every(At=>!(0,A.Vb)(ve,At))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),ve.preventDefault())}_onInput(ve){const at=this._lastValueValid;let tt=this._dateAdapter.parse(ve,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(tt),tt=this._dateAdapter.getValidDateOrNull(tt);const At=!this._dateAdapter.sameDate(tt,this.value);!tt||At?this._cvaOnChange(tt):(ve&&!this.value&&this._cvaOnChange(tt),at!==this._lastValueValid&&this._validatorOnChange()),At&&(this._assignValue(tt),this.dateInput.emit(new Vt(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Vt(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(ve){this._elementRef.nativeElement.value=null!=ve?this._dateAdapter.format(ve,this._dateFormats.display.dateInput):""}_assignValue(ve){this._model?(this._assignValueToModel(ve),this._pendingValue=null):this._pendingValue=ve}_isValidValue(ve){return!ve||this._dateAdapter.isValid(ve)}_parentDisabled(){return!1}_assignValueProgrammatically(ve){ve=this._dateAdapter.deserialize(ve),this._lastValueValid=this._isValidValue(ve),ve=this._dateAdapter.getValidDateOrNull(ve),this._assignValue(ve),this._formatValue(ve)}_matchesFilter(ve){const at=this._getDateFilter();return!at||at(ve)}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(y.SBq),y.Y36(x._A,8),y.Y36(x.sG,8))};static#t=this.\u0275dir=y.lG2({type:rt,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[y.TTD]})}return rt})();const yn={provide:E.JU,useExisting:(0,y.Gpc)(()=>On),multi:!0},Tn={provide:E.Cf,useExisting:(0,y.Gpc)(()=>On),multi:!0};let On=(()=>{class rt extends en{set matDatepicker(ve){ve&&(this._datepicker=ve,this._closedSubscription=ve.closedStream.subscribe(()=>this._onTouched()),this._registerModel(ve.registerInput(this)))}get min(){return this._min}set min(ve){const at=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve));this._dateAdapter.sameDate(at,this._min)||(this._min=at,this._validatorOnChange())}get max(){return this._max}set max(ve){const at=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ve));this._dateAdapter.sameDate(at,this._max)||(this._max=at,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(ve){const at=this._matchesFilter(this.value);this._dateFilter=ve,this._matchesFilter(this.value)!==at&&this._validatorOnChange()}constructor(ve,at,tt,At){super(ve,at,tt),this._formField=At,this._closedSubscription=h.w0.EMPTY,this._validator=E.kI.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(ve){return ve}_assignValueToModel(ve){this._model&&this._model.updateSelection(ve,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(ve){return ve.source!==this}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(y.SBq),y.Y36(x._A,8),y.Y36(x.sG,8),y.Y36(N.G_,8))};static#t=this.\u0275dir=y.lG2({type:rt,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(at,tt){1&at&&y.NdJ("input",function(qt){return tt._onInput(qt.target.value)})("change",function(){return tt._onChange()})("blur",function(){return tt._onBlur()})("keydown",function(qt){return tt._onKeydown(qt)}),2&at&&(y.Ikx("disabled",tt.disabled),y.uIk("aria-haspopup",tt._datepicker?"dialog":null)("aria-owns",(null==tt._datepicker?null:tt._datepicker.opened)&&tt._datepicker.id||null)("min",tt.min?tt._dateAdapter.toIso8601(tt.min):null)("max",tt.max?tt._dateAdapter.toIso8601(tt.max):null)("data-mat-calendar",tt._datepicker?tt._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[y._Bn([yn,Tn,{provide:S.Jk,useExisting:rt}]),y.qOj]})}return rt})(),kn=(()=>{class rt{static#e=this.\u0275fac=function(at){return new(at||rt)};static#t=this.\u0275dir=y.lG2({type:rt,selectors:[["","matDatepickerToggleIcon",""]]})}return rt})(),qn=(()=>{class rt{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(ve){this._disabled=(0,D.Ig)(ve)}constructor(ve,at,tt){this._intl=ve,this._changeDetectorRef=at,this._stateChanges=h.w0.EMPTY;const At=Number(tt);this.tabIndex=At||0===At?At:null}ngOnChanges(ve){ve.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(ve){this.datepicker&&!this.disabled&&(this.datepicker.open(),ve.stopPropagation())}_watchStateChanges(){const ve=this.datepicker?this.datepicker.stateChanges:(0,v.of)(),at=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,v.of)(),tt=this.datepicker?(0,p.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,v.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,p.T)(this._intl.changes,ve,at,tt).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(at){return new(at||rt)(y.Y36(je),y.Y36(y.sBO),y.$8M("tabindex"))};static#t=this.\u0275cmp=y.Xpm({type:rt,selectors:[["mat-datepicker-toggle"]],contentQueries:function(at,tt,At){if(1&at&&y.Suo(At,kn,5),2&at){let qt;y.iGM(qt=y.CRH())&&(tt._customIcon=qt.first)}},viewQuery:function(at,tt){if(1&at&&y.Gf(Ie,5),2&at){let At;y.iGM(At=y.CRH())&&(tt._button=At.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(at,tt){1&at&&y.NdJ("click",function(qt){return tt._open(qt)}),2&at&&(y.uIk("tabindex",null)("data-mat-calendar",tt.datepicker?tt.datepicker.id:null),y.ekj("mat-datepicker-toggle-active",tt.datepicker&&tt.datepicker.opened)("mat-accent",tt.datepicker&&"accent"===tt.datepicker.color)("mat-warn",tt.datepicker&&"warn"===tt.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[y.TTD],ngContentSelectors:we,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(at,tt){1&at&&(y.F$t(Me),y.TgZ(0,"button",0,1),y.YNc(2,le,2,0,"svg",2),y.Hsn(3),y.qZA()),2&at&&(y.Q6J("disabled",tt.disabled)("disableRipple",tt.disableRipple),y.uIk("aria-haspopup",tt.datepicker?"dialog":null)("aria-label",tt.ariaLabel||tt._intl.openCalendarLabel)("tabindex",tt.disabled?-1:tt.tabIndex),y.xp6(2),y.Q6J("ngIf",!tt._customIcon))},dependencies:[I.O5,F.RK],styles:[".mat-datepicker-toggle{pointer-events:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return rt})(),Un=(()=>{class rt{static#e=this.\u0275fac=function(at){return new(at||rt)};static#t=this.\u0275mod=y.oAB({type:rt});static#n=this.\u0275inj=y.cJS({providers:[je,ft],imports:[I.ez,F.ot,t.U8,c.rt,b.eL,x.BQ,L.ZD]})}return rt})()},7700:(In,Ze,C)=>{"use strict";C.d(Ze,{WI:()=>He,uw:()=>W,H8:()=>de,vA:()=>ue,xY:()=>J,Is:()=>ce,so:()=>je,uh:()=>q});var c=C(3651),t=C(6814),b=C(5879),I=C(4300),y=C(2831),F=C(8484),L=C(6028),x=C(8645),m=C(4911),h=C(2096),p=C(9388),v=C(7921);function A(Be,$e){}class U{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let V=(()=>{class Be extends F.en{constructor(Qe,qe,dt,It,_t,Ot,jt,zt){super(),this._elementRef=Qe,this._focusTrapFactory=qe,this._config=It,this._interactivityChecker=_t,this._ngZone=Ot,this._overlayRef=jt,this._focusMonitor=zt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=$t=>{this._portalOutlet.hasAttached();const dn=this._portalOutlet.attachDomPortal($t);return this._contentAttached(),dn},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=dt}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Qe){this._portalOutlet.hasAttached();const qe=this._portalOutlet.attachComponentPortal(Qe);return this._contentAttached(),qe}attachTemplatePortal(Qe){this._portalOutlet.hasAttached();const qe=this._portalOutlet.attachTemplatePortal(Qe);return this._contentAttached(),qe}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Qe,qe){this._interactivityChecker.isFocusable(Qe)||(Qe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const dt=()=>{Qe.removeEventListener("blur",dt),Qe.removeEventListener("mousedown",dt),Qe.removeAttribute("tabindex")};Qe.addEventListener("blur",dt),Qe.addEventListener("mousedown",dt)})),Qe.focus(qe)}_focusByCssSelector(Qe,qe){let dt=this._elementRef.nativeElement.querySelector(Qe);dt&&this._forceFocus(dt,qe)}_trapFocus(){const Qe=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Qe.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(qe=>{qe||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Qe=this._config.restoreFocus;let qe=null;if("string"==typeof Qe?qe=this._document.querySelector(Qe):"boolean"==typeof Qe?qe=Qe?this._elementFocusedBeforeDialogWasOpened:null:Qe&&(qe=Qe),this._config.restoreFocus&&qe&&"function"==typeof qe.focus){const dt=(0,y.ht)(),It=this._elementRef.nativeElement;(!dt||dt===this._document.body||dt===It||It.contains(dt))&&(this._focusMonitor?(this._focusMonitor.focusVia(qe,this._closeInteractionType),this._closeInteractionType=null):qe.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Qe=this._elementRef.nativeElement,qe=(0,y.ht)();return Qe===qe||Qe.contains(qe)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,y.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(qe){return new(qe||Be)(b.Y36(b.SBq),b.Y36(I.qV),b.Y36(t.K0,8),b.Y36(U),b.Y36(I.ic),b.Y36(b.R0b),b.Y36(c.Iu),b.Y36(I.tE))};static#t=this.\u0275cmp=b.Xpm({type:Be,selectors:[["cdk-dialog-container"]],viewQuery:function(qe,dt){if(1&qe&&b.Gf(F.Pl,7),2&qe){let It;b.iGM(It=b.CRH())&&(dt._portalOutlet=It.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(qe,dt){2&qe&&b.uIk("id",dt._config.id||null)("role",dt._config.role)("aria-modal",dt._config.ariaModal)("aria-labelledby",dt._config.ariaLabel?null:dt._ariaLabelledBy)("aria-label",dt._config.ariaLabel)("aria-describedby",dt._config.ariaDescribedBy||null)},features:[b.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(qe,dt){1&qe&&b.YNc(0,A,0,0,"ng-template",0)},dependencies:[F.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return Be})();class k{constructor($e,Qe){this.overlayRef=$e,this.config=Qe,this.closed=new x.x,this.disableClose=Qe.disableClose,this.backdropClick=$e.backdropClick(),this.keydownEvents=$e.keydownEvents(),this.outsidePointerEvents=$e.outsidePointerEvents(),this.id=Qe.id,this.keydownEvents.subscribe(qe=>{qe.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(qe)&&(qe.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=$e.detachments().subscribe(()=>{!1!==Qe.closeOnOverlayDetachments&&this.close()})}close($e,Qe){if(this.containerInstance){const qe=this.closed;this.containerInstance._closeInteractionType=Qe?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),qe.next($e),qe.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize($e="",Qe=""){return this.overlayRef.updateSize({width:$e,height:Qe}),this}addPanelClass($e){return this.overlayRef.addPanelClass($e),this}removePanelClass($e){return this.overlayRef.removePanelClass($e),this}}const P=new b.OlP("DialogScrollStrategy"),D=new b.OlP("DialogData"),w=new b.OlP("DefaultDialogConfig"),N={provide:P,deps:[c.aV],useFactory:function E(Be){return()=>Be.scrollStrategies.block()}};let S=0,B=(()=>{class Be{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Qe,qe,dt,It,_t,Ot){this._overlay=Qe,this._injector=qe,this._defaultOptions=dt,this._parentDialog=It,this._overlayContainer=_t,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x.x,this._afterOpenedAtThisLevel=new x.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,m.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.O)(void 0))),this._scrollStrategy=Ot}open(Qe,qe){(qe={...this._defaultOptions||new U,...qe}).id=qe.id||"cdk-dialog-"+S++,qe.id&&this.getDialogById(qe.id);const It=this._getOverlayConfig(qe),_t=this._overlay.create(It),Ot=new k(_t,qe),jt=this._attachContainer(_t,Ot,qe);return Ot.containerInstance=jt,this._attachDialogContent(Qe,Ot,jt,qe),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Ot),Ot.closed.subscribe(()=>this._removeOpenDialog(Ot,!0)),this.afterOpened.next(Ot),Ot}closeAll(){Y(this.openDialogs,Qe=>Qe.close())}getDialogById(Qe){return this.openDialogs.find(qe=>qe.id===Qe)}ngOnDestroy(){Y(this._openDialogsAtThisLevel,Qe=>{!1===Qe.config.closeOnDestroy&&this._removeOpenDialog(Qe,!1)}),Y(this._openDialogsAtThisLevel,Qe=>Qe.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Qe){const qe=new c.X_({positionStrategy:Qe.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Qe.scrollStrategy||this._scrollStrategy(),panelClass:Qe.panelClass,hasBackdrop:Qe.hasBackdrop,direction:Qe.direction,minWidth:Qe.minWidth,minHeight:Qe.minHeight,maxWidth:Qe.maxWidth,maxHeight:Qe.maxHeight,width:Qe.width,height:Qe.height,disposeOnNavigation:Qe.closeOnNavigation});return Qe.backdropClass&&(qe.backdropClass=Qe.backdropClass),qe}_attachContainer(Qe,qe,dt){const It=dt.injector||dt.viewContainerRef?.injector,_t=[{provide:U,useValue:dt},{provide:k,useValue:qe},{provide:c.Iu,useValue:Qe}];let Ot;dt.container?"function"==typeof dt.container?Ot=dt.container:(Ot=dt.container.type,_t.push(...dt.container.providers(dt))):Ot=V;const jt=new F.C5(Ot,dt.viewContainerRef,b.zs3.create({parent:It||this._injector,providers:_t}),dt.componentFactoryResolver);return Qe.attach(jt).instance}_attachDialogContent(Qe,qe,dt,It){if(Qe instanceof b.Rgc){const _t=this._createInjector(It,qe,dt,void 0);let Ot={$implicit:It.data,dialogRef:qe};It.templateContext&&(Ot={...Ot,..."function"==typeof It.templateContext?It.templateContext():It.templateContext}),dt.attachTemplatePortal(new F.UE(Qe,null,Ot,_t))}else{const _t=this._createInjector(It,qe,dt,this._injector),Ot=dt.attachComponentPortal(new F.C5(Qe,It.viewContainerRef,_t,It.componentFactoryResolver));qe.componentInstance=Ot.instance}}_createInjector(Qe,qe,dt,It){const _t=Qe.injector||Qe.viewContainerRef?.injector,Ot=[{provide:D,useValue:Qe.data},{provide:k,useValue:qe}];return Qe.providers&&("function"==typeof Qe.providers?Ot.push(...Qe.providers(qe,Qe,dt)):Ot.push(...Qe.providers)),Qe.direction&&(!_t||!_t.get(p.Is,null,{optional:!0}))&&Ot.push({provide:p.Is,useValue:{value:Qe.direction,change:(0,h.of)()}}),b.zs3.create({parent:_t||It,providers:Ot})}_removeOpenDialog(Qe,qe){const dt=this.openDialogs.indexOf(Qe);dt>-1&&(this.openDialogs.splice(dt,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((It,_t)=>{It?_t.setAttribute("aria-hidden",It):_t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),qe&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Qe=this._overlayContainer.getContainerElement();if(Qe.parentElement){const qe=Qe.parentElement.children;for(let dt=qe.length-1;dt>-1;dt--){const It=qe[dt];It!==Qe&&"SCRIPT"!==It.nodeName&&"STYLE"!==It.nodeName&&!It.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(It,It.getAttribute("aria-hidden")),It.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Qe=this._parentDialog;return Qe?Qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(qe){return new(qe||Be)(b.LFG(c.aV),b.LFG(b.zs3),b.LFG(w,8),b.LFG(Be,12),b.LFG(c.Xj),b.LFG(P))};static#t=this.\u0275prov=b.Yz7({token:Be,factory:Be.\u0275fac})}return Be})();function Y(Be,$e){let Qe=Be.length;for(;Qe--;)$e(Be[Qe])}let re=(()=>{class Be{static#e=this.\u0275fac=function(qe){return new(qe||Be)};static#t=this.\u0275mod=b.oAB({type:Be});static#n=this.\u0275inj=b.cJS({providers:[B,N],imports:[c.U8,F.eL,I.rt,F.eL]})}return Be})();var ae=C(2495),Re=C(3019),z=C(2181),oe=C(8180),H=C(3680);function te(Be,$e){}C(6825);class ue{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Se="mdc-dialog--open",Ie="mdc-dialog--opening",le="mdc-dialog--closing";let _e=(()=>{class Be extends V{constructor(Qe,qe,dt,It,_t,Ot,jt,zt){super(Qe,qe,dt,It,_t,Ot,jt,zt),this._animationStateChanged=new b.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Qe){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Qe})}static#e=this.\u0275fac=function(qe){return new(qe||Be)(b.Y36(b.SBq),b.Y36(I.qV),b.Y36(t.K0,8),b.Y36(ue),b.Y36(I.ic),b.Y36(b.R0b),b.Y36(c.Iu),b.Y36(I.tE))};static#t=this.\u0275cmp=b.Xpm({type:Be,selectors:[["ng-component"]],features:[b.qOj],decls:0,vars:0,template:function(qe,dt){},encapsulation:2})}return Be})();const Le="--mat-dialog-transition-duration";function Pe(Be){return null==Be?null:"number"==typeof Be?Be:Be.endsWith("ms")?(0,ae.su)(Be.substring(0,Be.length-2)):Be.endsWith("s")?1e3*(0,ae.su)(Be.substring(0,Be.length-1)):"0"===Be?0:null}let Oe=(()=>{class Be extends _e{constructor(Qe,qe,dt,It,_t,Ot,jt,zt,$t){super(Qe,qe,dt,It,_t,Ot,jt,$t),this._animationMode=zt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Pe(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Pe(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Le,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ie,Se)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Se),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Se),this._animationsEnabled?(this._hostElement.style.setProperty(Le,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(le)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ie,le)}_waitForAnimationToComplete(Qe,qe){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(qe,Qe)}_requestAnimationFrame(Qe){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Qe):Qe()})}static#e=this.\u0275fac=function(qe){return new(qe||Be)(b.Y36(b.SBq),b.Y36(I.qV),b.Y36(t.K0,8),b.Y36(ue),b.Y36(I.ic),b.Y36(b.R0b),b.Y36(c.Iu),b.Y36(b.QbO,8),b.Y36(I.tE))};static#t=this.\u0275cmp=b.Xpm({type:Be,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(qe,dt){2&qe&&(b.Ikx("id",dt._config.id),b.uIk("aria-modal",dt._config.ariaModal)("role",dt._config.role)("aria-labelledby",dt._config.ariaLabel?null:dt._ariaLabelledBy)("aria-label",dt._config.ariaLabel)("aria-describedby",dt._config.ariaDescribedBy||null),b.ekj("_mat-animation-noopable",!dt._animationsEnabled))},features:[b.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(qe,dt){1&qe&&(b.TgZ(0,"div",0)(1,"div",1),b.YNc(2,te,0,0,"ng-template",2),b.qZA()())},dependencies:[F.Pl],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return Be})();class je{constructor($e,Qe,qe){this._ref=$e,this._containerInstance=qe,this._afterOpened=new x.x,this._beforeClosed=new x.x,this._state=0,this.disableClose=Qe.disableClose,this.id=$e.id,qe._animationStateChanged.pipe((0,z.h)(dt=>"opened"===dt.state),(0,oe.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),qe._animationStateChanged.pipe((0,z.h)(dt=>"closed"===dt.state),(0,oe.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),$e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Re.T)(this.backdropClick(),this.keydownEvents().pipe((0,z.h)(dt=>dt.keyCode===L.hY&&!this.disableClose&&!(0,L.Vb)(dt)))).subscribe(dt=>{this.disableClose||(dt.preventDefault(),function ze(Be,$e,Qe){Be._closeInteractionType=$e,Be.close(Qe)}(this,"keydown"===dt.type?"keyboard":"mouse"))})}close($e){this._result=$e,this._containerInstance._animationStateChanged.pipe((0,z.h)(Qe=>"closing"===Qe.state),(0,oe.q)(1)).subscribe(Qe=>{this._beforeClosed.next($e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Qe.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition($e){let Qe=this._ref.config.positionStrategy;return $e&&($e.left||$e.right)?$e.left?Qe.left($e.left):Qe.right($e.right):Qe.centerHorizontally(),$e&&($e.top||$e.bottom)?$e.top?Qe.top($e.top):Qe.bottom($e.bottom):Qe.centerVertically(),this._ref.updatePosition(),this}updateSize($e="",Qe=""){return this._ref.updateSize($e,Qe),this}addPanelClass($e){return this._ref.addPanelClass($e),this}removePanelClass($e){return this._ref.removePanelClass($e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const He=new b.OlP("MatMdcDialogData"),Ae=new b.OlP("mat-mdc-dialog-default-options"),ye=new b.OlP("mat-mdc-dialog-scroll-strategy"),ie={provide:ye,deps:[c.aV],useFactory:function K(Be){return()=>Be.scrollStrategies.block()}};let $=0,Z=(()=>{class Be{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Qe=this._parentDialog;return Qe?Qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Qe,qe,dt,It,_t,Ot,jt,zt,$t,dn){this._overlay=Qe,this._defaultOptions=dt,this._parentDialog=It,this._dialogRefConstructor=jt,this._dialogContainerType=zt,this._dialogDataToken=$t,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x.x,this._afterOpenedAtThisLevel=new x.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=ue,this.afterAllClosed=(0,m.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.O)(void 0))),this._scrollStrategy=Ot,this._dialog=qe.get(B)}open(Qe,qe){let dt;(qe={...this._defaultOptions||new ue,...qe}).id=qe.id||`${this._idPrefix}${$++}`,qe.scrollStrategy=qe.scrollStrategy||this._scrollStrategy();const It=this._dialog.open(Qe,{...qe,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:qe},{provide:U,useValue:qe}]},templateContext:()=>({dialogRef:dt}),providers:(_t,Ot,jt)=>(dt=new this._dialogRefConstructor(_t,qe,jt),dt.updatePosition(qe?.position),[{provide:this._dialogContainerType,useValue:jt},{provide:this._dialogDataToken,useValue:Ot.data},{provide:this._dialogRefConstructor,useValue:dt}])});return dt.componentInstance=It.componentInstance,this.openDialogs.push(dt),this.afterOpened.next(dt),dt.afterClosed().subscribe(()=>{const _t=this.openDialogs.indexOf(dt);_t>-1&&(this.openDialogs.splice(_t,1),this.openDialogs.length||this._getAfterAllClosed().next())}),dt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Qe){return this.openDialogs.find(qe=>qe.id===Qe)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Qe){let qe=Qe.length;for(;qe--;)Qe[qe].close()}static#e=this.\u0275fac=function(qe){b.$Z()};static#t=this.\u0275prov=b.Yz7({token:Be,factory:Be.\u0275fac})}return Be})(),W=(()=>{class Be extends Z{constructor(Qe,qe,dt,It,_t,Ot,jt,zt){super(Qe,qe,It,Ot,jt,_t,je,Oe,He,zt),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(qe){return new(qe||Be)(b.LFG(c.aV),b.LFG(b.zs3),b.LFG(t.Ye,8),b.LFG(Ae,8),b.LFG(ye),b.LFG(Be,12),b.LFG(c.Xj),b.LFG(b.QbO,8))};static#t=this.\u0275prov=b.Yz7({token:Be,factory:Be.\u0275fac})}return Be})(),X=0,q=(()=>{class Be{constructor(Qe,qe,dt){this._dialogRef=Qe,this._elementRef=qe,this._dialog=dt,this.id="mat-mdc-dialog-title-"+X++}ngOnInit(){this._dialogRef||(this._dialogRef=function ge(Be,$e){let Qe=Be.nativeElement.parentElement;for(;Qe&&!Qe.classList.contains("mat-mdc-dialog-container");)Qe=Qe.parentElement;return Qe?$e.find(qe=>qe.id===Qe.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const Qe=this._dialogRef._containerInstance;Qe&&!Qe._ariaLabelledBy&&(Qe._ariaLabelledBy=this.id)})}static#e=this.\u0275fac=function(qe){return new(qe||Be)(b.Y36(je,8),b.Y36(b.SBq),b.Y36(W))};static#t=this.\u0275dir=b.lG2({type:Be,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(qe,dt){2&qe&&b.Ikx("id",dt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return Be})(),J=(()=>{class Be{static#e=this.\u0275fac=function(qe){return new(qe||Be)};static#t=this.\u0275dir=b.lG2({type:Be,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return Be})(),de=(()=>{class Be{constructor(){this.align="start"}static#e=this.\u0275fac=function(qe){return new(qe||Be)};static#t=this.\u0275dir=b.lG2({type:Be,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(qe,dt){2&qe&&b.ekj("mat-mdc-dialog-actions-align-center","center"===dt.align)("mat-mdc-dialog-actions-align-end","end"===dt.align)},inputs:{align:"align"}})}return Be})(),ce=(()=>{class Be{static#e=this.\u0275fac=function(qe){return new(qe||Be)};static#t=this.\u0275mod=b.oAB({type:Be});static#n=this.\u0275inj=b.cJS({providers:[W,ie],imports:[re,c.U8,F.eL,H.BQ,H.BQ]})}return Be})()},9157:(In,Ze,C)=>{"use strict";C.d(Ze,{G_:()=>It,TO:()=>ie,KE:()=>pn,Eo:()=>$e,lN:()=>jn,bx:()=>$,hX:()=>Ae,R9:()=>Q});var c=C(5879),t=C(9388),b=C(2831),I=C(7394),y=C(8645),F=C(3019),L=C(9773),x=C(5592),m=C(2181),h=C(4552);class p extends y.x{constructor(ut=1/0,xe=1/0,fe=h.l){super(),this._bufferSize=ut,this._windowTime=xe,this._timestampProvider=fe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=xe===1/0,this._bufferSize=Math.max(1,ut),this._windowTime=Math.max(1,xe)}next(ut){const{isStopped:xe,_buffer:fe,_infiniteTimeWindow:pe,_timestampProvider:lt,_windowTime:mt}=this;xe||(fe.push(ut),!pe&&fe.push(lt.now()+mt)),this._trimBuffer(),super.next(ut)}_subscribe(ut){this._throwIfClosed(),this._trimBuffer();const xe=this._innerSubscribe(ut),{_infiniteTimeWindow:fe,_buffer:pe}=this,lt=pe.slice();for(let mt=0;mt<lt.length&&!ut.closed;mt+=fe?1:2)ut.next(lt[mt]);return this._checkFinalizedStatuses(ut),xe}_trimBuffer(){const{_bufferSize:ut,_timestampProvider:xe,_buffer:fe,_infiniteTimeWindow:pe}=this,lt=(pe?1:2)*ut;if(ut<1/0&&lt<fe.length&&fe.splice(0,fe.length-lt),!pe){const mt=xe.now();let Dt=0;for(let ft=1;ft<fe.length&&fe[ft]<=mt;ft+=2)Dt=ft;Dt&&fe.splice(0,Dt+1)}}}var v=C(3020);class O{constructor(ut){this._box=ut,this._destroyed=new y.x,this._resizeSubject=new y.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(xe=>this._resizeSubject.next(xe)))}observe(ut){return this._elementObservables.has(ut)||this._elementObservables.set(ut,new x.y(xe=>{const fe=this._resizeSubject.subscribe(xe);return this._resizeObserver?.observe(ut,{box:this._box}),()=>{this._resizeObserver?.unobserve(ut),fe.unsubscribe(),this._elementObservables.delete(ut)}}).pipe((0,m.h)(xe=>xe.some(fe=>fe.target===ut)),function A(st,ut,xe){let fe,pe=!1;return st&&"object"==typeof st?({bufferSize:fe=1/0,windowTime:ut=1/0,refCount:pe=!1,scheduler:xe}=st):fe=st??1/0,(0,v.B)({connector:()=>new p(fe,ut,xe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:pe})}({bufferSize:1,refCount:!0}),(0,L.R)(this._destroyed))),this._elementObservables.get(ut)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let V=(()=>{class st{constructor(){this._observers=new Map,this._ngZone=(0,c.f3M)(c.R0b)}ngOnDestroy(){for(const[,xe]of this._observers)xe.destroy();this._observers.clear()}observe(xe,fe){const pe=fe?.box||"content-box";return this._observers.has(pe)||this._observers.set(pe,new O(pe)),this._observers.get(pe).observe(xe)}static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275prov=c.Yz7({token:st,factory:st.\u0275fac,providedIn:"root"})}return st})();var k=C(2495),P=C(6825),D=C(6814),w=C(7131),E=C(3680);const N=["notch"],S=["matFormFieldNotchedOutline",""],B=["*"],Y=["textField"],re=["iconPrefixContainer"],ae=["textPrefixContainer"];function Re(st,ut){1&st&&c._UZ(0,"span",19)}function z(st,ut){if(1&st&&(c.TgZ(0,"label",17),c.Hsn(1,1),c.YNc(2,Re,1,0,"span",18),c.qZA()),2&st){const xe=c.oxw(2);c.Q6J("floating",xe._shouldLabelFloat())("monitorResize",xe._hasOutline())("id",xe._labelId),c.uIk("for",xe._control.id),c.xp6(2),c.Q6J("ngIf",!xe.hideRequiredMarker&&xe._control.required)}}function oe(st,ut){if(1&st&&c.YNc(0,z,3,5,"label",16),2&st){const xe=c.oxw();c.Q6J("ngIf",xe._hasFloatingLabel())}}function H(st,ut){1&st&&c._UZ(0,"div",20)}function me(st,ut){}function te(st,ut){if(1&st&&c.YNc(0,me,0,0,"ng-template",22),2&st){c.oxw(2);const xe=c.MAs(1);c.Q6J("ngTemplateOutlet",xe)}}function ue(st,ut){if(1&st&&(c.TgZ(0,"div",21),c.YNc(1,te,1,1,"ng-template",9),c.qZA()),2&st){const xe=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",xe._shouldLabelFloat()),c.xp6(1),c.Q6J("ngIf",!xe._forceDisplayInfixLabel())}}function Se(st,ut){1&st&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function Ie(st,ut){1&st&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function le(st,ut){}function Me(st,ut){if(1&st&&c.YNc(0,le,0,0,"ng-template",22),2&st){c.oxw();const xe=c.MAs(1);c.Q6J("ngTemplateOutlet",xe)}}function we(st,ut){1&st&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function _e(st,ut){1&st&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function Le(st,ut){1&st&&c._UZ(0,"div",29)}function Pe(st,ut){if(1&st&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&st){const xe=c.oxw();c.Q6J("@transitionMessages",xe._subscriptAnimationState)}}function Oe(st,ut){if(1&st&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&st){const xe=c.oxw(2);c.Q6J("id",xe._hintLabelId),c.xp6(1),c.Oqu(xe.hintLabel)}}function je(st,ut){if(1&st&&(c.TgZ(0,"div",31),c.YNc(1,Oe,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&st){const xe=c.oxw();c.Q6J("@transitionMessages",xe._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",xe.hintLabel)}}const ze=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],He=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Ae=(()=>{class st{static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["mat-label"]]})}return st})(),ye=0;const K=new c.OlP("MatError");let ie=(()=>{class st{constructor(xe,fe){this.id="mat-mdc-error-"+ye++,xe||fe.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(fe){return new(fe||st)(c.$8M("aria-live"),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(fe,pe){2&fe&&c.Ikx("id",pe.id)},inputs:{id:"id"},features:[c._Bn([{provide:K,useExisting:st}])]})}return st})(),he=0,$=(()=>{class st{constructor(){this.align="start",this.id="mat-mdc-hint-"+he++}static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(fe,pe){2&fe&&(c.Ikx("id",pe.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===pe.align))},inputs:{align:"align",id:"id"}})}return st})();const Z=new c.OlP("MatPrefix"),X=new c.OlP("MatSuffix");let Q=(()=>{class st{constructor(){this._isText=!1}set _isTextSelector(xe){this._isText=!0}static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:X,useExisting:st}])]})}return st})();const q=new c.OlP("FloatingLabelParent");let J=(()=>{class st{get floating(){return this._floating}set floating(xe){this._floating=xe,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(xe){this._monitorResize=xe,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(xe){this._elementRef=xe,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,c.f3M)(V),this._ngZone=(0,c.f3M)(c.R0b),this._parent=(0,c.f3M)(q),this._resizeSubscription=new I.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function de(st){if(null!==st.offsetParent)return st.scrollWidth;const xe=st.cloneNode(!0);xe.style.setProperty("position","absolute"),xe.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(xe);const fe=xe.scrollWidth;return xe.remove(),fe}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(fe){return new(fe||st)(c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(fe,pe){2&fe&&c.ekj("mdc-floating-label--float-above",pe.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return st})();const ge="mdc-line-ripple--active",ce="mdc-line-ripple--deactivating";let Ce=(()=>{class st{constructor(xe,fe){this._elementRef=xe,this._handleTransitionEnd=pe=>{const lt=this._elementRef.nativeElement.classList,mt=lt.contains(ce);"opacity"===pe.propertyName&&mt&&lt.remove(ge,ce)},fe.runOutsideAngular(()=>{xe.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const xe=this._elementRef.nativeElement.classList;xe.remove(ce),xe.add(ge)}deactivate(){this._elementRef.nativeElement.classList.add(ce)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(fe){return new(fe||st)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275dir=c.lG2({type:st,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return st})(),Ye=(()=>{class st{constructor(xe,fe){this._elementRef=xe,this._ngZone=fe,this.open=!1}ngAfterViewInit(){const xe=this._elementRef.nativeElement.querySelector(".mdc-floating-label");xe?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(xe.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>xe.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(xe){this._notch.nativeElement.style.width=this.open&&xe?`calc(${xe}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(fe){return new(fe||st)(c.Y36(c.SBq),c.Y36(c.R0b))};static#t=this.\u0275cmp=c.Xpm({type:st,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(fe,pe){if(1&fe&&c.Gf(N,5),2&fe){let lt;c.iGM(lt=c.CRH())&&(pe._notch=lt.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(fe,pe){2&fe&&c.ekj("mdc-notched-outline--notched",pe.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:S,ngContentSelectors:B,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(fe,pe){1&fe&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1,2),c.Hsn(3),c.qZA(),c._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return st})();const Be={transitionMessages:(0,P.X$)("transitionMessages",[(0,P.SB)("enter",(0,P.oB)({opacity:1,transform:"translateY(0%)"})),(0,P.eR)("void => enter",[(0,P.oB)({opacity:0,transform:"translateY(-5px)"}),(0,P.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $e=(()=>{class st{static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275dir=c.lG2({type:st})}return st})();const It=new c.OlP("MatFormField"),_t=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Ot=0,pn=(()=>{class st{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(xe){this._hideRequiredMarker=(0,k.Ig)(xe)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(xe){xe!==this._floatLabel&&(this._floatLabel=xe,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(xe){const fe=this._appearance;this._appearance=xe||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==fe&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(xe){this._subscriptSizing=xe||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(xe){this._hintLabel=xe,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(xe){this._explicitFormFieldControl=xe}constructor(xe,fe,pe,lt,mt,Dt,ft,bt){this._elementRef=xe,this._changeDetectorRef=fe,this._ngZone=pe,this._dir=lt,this._platform=mt,this._defaults=Dt,this._animationMode=ft,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Ot++,this._hintLabelId="mat-mdc-hint-"+Ot++,this._subscriptAnimationState="",this._destroyed=new y.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,Dt&&(Dt.appearance&&(this.appearance=Dt.appearance),this._hideRequiredMarker=!!Dt?.hideRequiredMarker,Dt.color&&(this.color=Dt.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const xe=this._control;xe.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${xe.controlType}`),xe.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),xe.ngControl&&xe.ngControl.valueChanges&&xe.ngControl.valueChanges.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(xe=>!xe._isText),this._hasTextPrefix=!!this._prefixChildren.find(xe=>xe._isText),this._hasIconSuffix=!!this._suffixChildren.find(xe=>!xe._isText),this._hasTextSuffix=!!this._suffixChildren.find(xe=>xe._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,F.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,L.R)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,L.R)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(xe){const fe=this._control?this._control.ngControl:null;return fe&&fe[xe]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let xe=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&xe.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const fe=this._hintChildren?this._hintChildren.find(lt=>"start"===lt.align):null,pe=this._hintChildren?this._hintChildren.find(lt=>"end"===lt.align):null;fe?xe.push(fe.id):this._hintLabel&&xe.push(this._hintLabelId),pe&&xe.push(pe.id)}else this._errorChildren&&xe.push(...this._errorChildren.map(fe=>fe.id));this._control.setDescribedByIds(xe)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const xe=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(xe.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const fe=this._iconPrefixContainer?.nativeElement,pe=this._textPrefixContainer?.nativeElement,lt=fe?.getBoundingClientRect().width??0,mt=pe?.getBoundingClientRect().width??0;xe.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${lt+mt}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const xe=this._elementRef.nativeElement;if(xe.getRootNode){const fe=xe.getRootNode();return fe&&fe!==xe}return document.documentElement.contains(xe)}static#e=this.\u0275fac=function(fe){return new(fe||st)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(t.Is),c.Y36(b.t4),c.Y36(_t,8),c.Y36(c.QbO,8),c.Y36(D.K0))};static#t=this.\u0275cmp=c.Xpm({type:st,selectors:[["mat-form-field"]],contentQueries:function(fe,pe,lt){if(1&fe&&(c.Suo(lt,Ae,5),c.Suo(lt,Ae,7),c.Suo(lt,$e,5),c.Suo(lt,Z,5),c.Suo(lt,X,5),c.Suo(lt,K,5),c.Suo(lt,$,5)),2&fe){let mt;c.iGM(mt=c.CRH())&&(pe._labelChildNonStatic=mt.first),c.iGM(mt=c.CRH())&&(pe._labelChildStatic=mt.first),c.iGM(mt=c.CRH())&&(pe._formFieldControl=mt.first),c.iGM(mt=c.CRH())&&(pe._prefixChildren=mt),c.iGM(mt=c.CRH())&&(pe._suffixChildren=mt),c.iGM(mt=c.CRH())&&(pe._errorChildren=mt),c.iGM(mt=c.CRH())&&(pe._hintChildren=mt)}},viewQuery:function(fe,pe){if(1&fe&&(c.Gf(Y,5),c.Gf(re,5),c.Gf(ae,5),c.Gf(J,5),c.Gf(Ye,5),c.Gf(Ce,5)),2&fe){let lt;c.iGM(lt=c.CRH())&&(pe._textField=lt.first),c.iGM(lt=c.CRH())&&(pe._iconPrefixContainer=lt.first),c.iGM(lt=c.CRH())&&(pe._textPrefixContainer=lt.first),c.iGM(lt=c.CRH())&&(pe._floatingLabel=lt.first),c.iGM(lt=c.CRH())&&(pe._notchedOutline=lt.first),c.iGM(lt=c.CRH())&&(pe._lineRipple=lt.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(fe,pe){2&fe&&c.ekj("mat-mdc-form-field-label-always-float",pe._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",pe._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",pe._hasIconSuffix)("mat-form-field-invalid",pe._control.errorState)("mat-form-field-disabled",pe._control.disabled)("mat-form-field-autofilled",pe._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===pe._animationMode)("mat-form-field-appearance-fill","fill"==pe.appearance)("mat-form-field-appearance-outline","outline"==pe.appearance)("mat-form-field-hide-placeholder",pe._hasFloatingLabel()&&!pe._shouldLabelFloat())("mat-focused",pe._control.focused)("mat-primary","accent"!==pe.color&&"warn"!==pe.color)("mat-accent","accent"===pe.color)("mat-warn","warn"===pe.color)("ng-untouched",pe._shouldForward("untouched"))("ng-touched",pe._shouldForward("touched"))("ng-pristine",pe._shouldForward("pristine"))("ng-dirty",pe._shouldForward("dirty"))("ng-valid",pe._shouldForward("valid"))("ng-invalid",pe._shouldForward("invalid"))("ng-pending",pe._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:It,useExisting:st},{provide:q,useExisting:st}])],ngContentSelectors:He,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(fe,pe){1&fe&&(c.F$t(ze),c.YNc(0,oe,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(mt){return pe._control.onContainerClick(mt)}),c.YNc(4,H,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,ue,2,2,"div",5),c.YNc(7,Se,3,0,"div",6),c.YNc(8,Ie,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,Me,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,we,2,0,"div",10),c.YNc(13,_e,2,0,"div",11),c.qZA(),c.YNc(14,Le,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,Pe,2,1,"div",14),c.YNc(17,je,5,2,"div",15),c.qZA()),2&fe&&(c.xp6(2),c.ekj("mdc-text-field--filled",!pe._hasOutline())("mdc-text-field--outlined",pe._hasOutline())("mdc-text-field--no-label",!pe._hasFloatingLabel())("mdc-text-field--disabled",pe._control.disabled)("mdc-text-field--invalid",pe._control.errorState),c.xp6(2),c.Q6J("ngIf",!pe._hasOutline()&&!pe._control.disabled),c.xp6(2),c.Q6J("ngIf",pe._hasOutline()),c.xp6(1),c.Q6J("ngIf",pe._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",pe._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!pe._hasOutline()||pe._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",pe._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",pe._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!pe._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===pe.subscriptSizing),c.Q6J("ngSwitch",pe._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[D.O5,D.tP,D.RF,D.n9,$,J,Ye,Ce],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Be.transitionMessages]},changeDetection:0})}return st})(),jn=(()=>{class st{static#e=this.\u0275fac=function(fe){return new(fe||st)};static#t=this.\u0275mod=c.oAB({type:st});static#n=this.\u0275inj=c.cJS({imports:[E.BQ,D.ez,w.Q8,E.BQ]})}return st})()},2032:(In,Ze,C)=>{"use strict";C.d(Ze,{Jk:()=>O,Nt:()=>D,c:()=>w});var c=C(2495),t=C(2831),b=C(5879),I=C(6232),y=C(8645);const F=(0,t.i$)({passive:!0});let L=(()=>{class E{constructor(S,B){this._platform=S,this._ngZone=B,this._monitoredElements=new Map}monitor(S){if(!this._platform.isBrowser)return I.E;const B=(0,c.fI)(S),Y=this._monitoredElements.get(B);if(Y)return Y.subject;const re=new y.x,ae="cdk-text-field-autofilled",Re=z=>{"cdk-text-field-autofill-start"!==z.animationName||B.classList.contains(ae)?"cdk-text-field-autofill-end"===z.animationName&&B.classList.contains(ae)&&(B.classList.remove(ae),this._ngZone.run(()=>re.next({target:z.target,isAutofilled:!1}))):(B.classList.add(ae),this._ngZone.run(()=>re.next({target:z.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{B.addEventListener("animationstart",Re,F),B.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(B,{subject:re,unlisten:()=>{B.removeEventListener("animationstart",Re,F)}}),re}stopMonitoring(S){const B=(0,c.fI)(S),Y=this._monitoredElements.get(B);Y&&(Y.unlisten(),Y.subject.complete(),B.classList.remove("cdk-text-field-autofill-monitored"),B.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(B))}ngOnDestroy(){this._monitoredElements.forEach((S,B)=>this.stopMonitoring(B))}static#e=this.\u0275fac=function(B){return new(B||E)(b.LFG(t.t4),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),h=(()=>{class E{static#e=this.\u0275fac=function(B){return new(B||E)};static#t=this.\u0275mod=b.oAB({type:E});static#n=this.\u0275inj=b.cJS({})}return E})();var p=C(95),v=C(3680),A=C(9157);const O=new b.OlP("MAT_INPUT_VALUE_ACCESSOR"),V=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let k=0;const P=(0,v.FD)(class{constructor(E,N,S,B){this._defaultErrorStateMatcher=E,this._parentForm=N,this._parentFormGroup=S,this.ngControl=B,this.stateChanges=new y.x}});let D=(()=>{class E extends P{get disabled(){return this._disabled}set disabled(S){this._disabled=(0,c.Ig)(S),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(S){this._id=S||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(p.kI.required)??!1}set required(S){this._required=(0,c.Ig)(S)}get type(){return this._type}set type(S){this._type=S||"text",this._validateType(),!this._isTextarea&&(0,t.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(S){S!==this.value&&(this._inputValueAccessor.value=S,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(S){this._readonly=(0,c.Ig)(S)}constructor(S,B,Y,re,ae,Re,z,oe,H,me){super(Re,re,ae,Y),this._elementRef=S,this._platform=B,this._autofillMonitor=oe,this._formField=me,this._uid="mat-input-"+k++,this.focused=!1,this.stateChanges=new y.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Se=>(0,t.qK)().has(Se)),this._iOSKeyupListener=Se=>{const Ie=Se.target;!Ie.value&&0===Ie.selectionStart&&0===Ie.selectionEnd&&(Ie.setSelectionRange(1,1),Ie.setSelectionRange(0,0))};const te=this._elementRef.nativeElement,ue=te.nodeName.toLowerCase();this._inputValueAccessor=z||te,this._previousNativeValue=this.value,this.id=this.id,B.IOS&&H.runOutsideAngular(()=>{S.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ue,this._isTextarea="textarea"===ue,this._isInFormField=!!me,this._isNativeSelect&&(this.controlType=te.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(S=>{this.autofilled=S.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(S){this._elementRef.nativeElement.focus(S)}_focusChanged(S){S!==this.focused&&(this.focused=S,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const S=this._elementRef.nativeElement.value;this._previousNativeValue!==S&&(this._previousNativeValue=S,this.stateChanges.next())}_dirtyCheckPlaceholder(){const S=this._getPlaceholder();if(S!==this._previousPlaceholder){const B=this._elementRef.nativeElement;this._previousPlaceholder=S,S?B.setAttribute("placeholder",S):B.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){V.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let S=this._elementRef.nativeElement.validity;return S&&S.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const S=this._elementRef.nativeElement,B=S.options[0];return this.focused||S.multiple||!this.empty||!!(S.selectedIndex>-1&&B&&B.label)}return this.focused||!this.empty}setDescribedByIds(S){S.length?this._elementRef.nativeElement.setAttribute("aria-describedby",S.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const S=this._elementRef.nativeElement;return this._isNativeSelect&&(S.multiple||S.size>1)}static#e=this.\u0275fac=function(B){return new(B||E)(b.Y36(b.SBq),b.Y36(t.t4),b.Y36(p.a5,10),b.Y36(p.F,8),b.Y36(p.sg,8),b.Y36(v.rD),b.Y36(O,10),b.Y36(L),b.Y36(b.R0b),b.Y36(A.G_,8))};static#t=this.\u0275dir=b.lG2({type:E,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(B,Y){1&B&&b.NdJ("focus",function(){return Y._focusChanged(!0)})("blur",function(){return Y._focusChanged(!1)})("input",function(){return Y._onInput()}),2&B&&(b.Ikx("id",Y.id)("disabled",Y.disabled)("required",Y.required),b.uIk("name",Y.name||null)("readonly",Y.readonly&&!Y._isNativeSelect||null)("aria-invalid",Y.empty&&Y.required?null:Y.errorState)("aria-required",Y.required)("id",Y.id),b.ekj("mat-input-server",Y._isServer)("mat-mdc-form-field-textarea-control",Y._isInFormField&&Y._isTextarea)("mat-mdc-form-field-input-control",Y._isInFormField)("mdc-text-field__input",Y._isInFormField)("mat-mdc-native-select-inline",Y._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[b._Bn([{provide:A.Eo,useExisting:E}]),b.qOj,b.TTD]})}return E})(),w=(()=>{class E{static#e=this.\u0275fac=function(B){return new(B||E)};static#t=this.\u0275mod=b.oAB({type:E});static#n=this.\u0275inj=b.cJS({imports:[v.BQ,A.lN,A.lN,h,v.BQ]})}return E})()},1476:(In,Ze,C)=>{"use strict";C.d(Ze,{NW:()=>Y,TU:()=>re,ye:()=>V});var c=C(6814),t=C(5879),b=C(8645),I=C(2296),y=C(8525),F=C(2596),L=C(3680),x=C(2495),m=C(9157);function h(ae,Re){if(1&ae&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&ae){const z=Re.$implicit;t.Q6J("value",z),t.xp6(1),t.hij(" ",z," ")}}function p(ae,Re){if(1&ae){const z=t.EpF();t.TgZ(0,"mat-form-field",16)(1,"mat-select",17),t.NdJ("selectionChange",function(H){t.CHM(z);const me=t.oxw(2);return t.KtG(me._changePageSize(H.value))}),t.YNc(2,h,2,2,"mat-option",18),t.qZA()()}if(2&ae){const z=t.oxw(2);t.Q6J("appearance",z._formFieldAppearance)("color",z.color),t.xp6(1),t.Q6J("value",z.pageSize)("disabled",z.disabled)("aria-labelledby",z._pageSizeLabelId)("panelClass",z.selectConfig.panelClass||"")("disableOptionCentering",z.selectConfig.disableOptionCentering),t.xp6(1),t.Q6J("ngForOf",z._displayedPageSizeOptions)}}function v(ae,Re){if(1&ae&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&ae){const z=t.oxw(2);t.xp6(1),t.Oqu(z.pageSize)}}function A(ae,Re){if(1&ae&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,p,3,8,"mat-form-field",14),t.YNc(4,v,2,1,"div",15),t.qZA()),2&ae){const z=t.oxw();t.xp6(1),t.s9C("id",z._pageSizeLabelId),t.xp6(1),t.hij(" ",z._intl.itemsPerPageLabel," "),t.xp6(1),t.Q6J("ngIf",z._displayedPageSizeOptions.length>1),t.xp6(1),t.Q6J("ngIf",z._displayedPageSizeOptions.length<=1)}}function U(ae,Re){if(1&ae){const z=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(z);const H=t.oxw();return t.KtG(H.firstPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",22),t.qZA()()}if(2&ae){const z=t.oxw();t.Q6J("matTooltip",z._intl.firstPageLabel)("matTooltipDisabled",z._previousButtonsDisabled())("matTooltipPosition","above")("disabled",z._previousButtonsDisabled()),t.uIk("aria-label",z._intl.firstPageLabel)}}function O(ae,Re){if(1&ae){const z=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(z);const H=t.oxw();return t.KtG(H.lastPage())}),t.O4$(),t.TgZ(1,"svg",7),t._UZ(2,"path",24),t.qZA()()}if(2&ae){const z=t.oxw();t.Q6J("matTooltip",z._intl.lastPageLabel)("matTooltipDisabled",z._nextButtonsDisabled())("matTooltipPosition","above")("disabled",z._nextButtonsDisabled()),t.uIk("aria-label",z._intl.lastPageLabel)}}let V=(()=>{class ae{constructor(){this.changes=new b.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(z,oe,H)=>{if(0==H||0==oe)return`0 of ${H}`;const me=z*oe;return`${me+1} \u2013 ${me<(H=Math.max(H,0))?Math.min(me+oe,H):me+oe} of ${H}`}}static#e=this.\u0275fac=function(oe){return new(oe||ae)};static#t=this.\u0275prov=t.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const P={provide:V,deps:[[new t.FiY,new t.tp0,V]],useFactory:function k(ae){return ae||new V}},E=new t.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),N=(0,L.Id)((0,L.dB)(class{}));let S=(()=>{class ae extends N{get pageIndex(){return this._pageIndex}set pageIndex(z){this._pageIndex=Math.max((0,x.su)(z),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(z){this._length=(0,x.su)(z),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(z){this._pageSize=Math.max((0,x.su)(z),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(z){this._pageSizeOptions=(z||[]).map(oe=>(0,x.su)(oe)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(z){this._hidePageSize=(0,x.Ig)(z)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(z){this._showFirstLastButtons=(0,x.Ig)(z)}constructor(z,oe,H){if(super(),this._intl=z,this._changeDetectorRef=oe,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new t.vpe,this._intlChanges=z.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),H){const{pageSize:me,pageSizeOptions:te,hidePageSize:ue,showFirstLastButtons:Se}=H;null!=me&&(this._pageSize=me),null!=te&&(this._pageSizeOptions=te),null!=ue&&(this._hidePageSize=ue),null!=Se&&(this._showFirstLastButtons=Se)}}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const z=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(z)}previousPage(){if(!this.hasPreviousPage())return;const z=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(z)}firstPage(){if(!this.hasPreviousPage())return;const z=this.pageIndex;this.pageIndex=0,this._emitPageEvent(z)}lastPage(){if(!this.hasNextPage())return;const z=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(z)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const z=this.getNumberOfPages()-1;return this.pageIndex<z&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(z){const H=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/z)||0,this.pageSize=z,this._emitPageEvent(H)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((z,oe)=>z-oe),this._changeDetectorRef.markForCheck())}_emitPageEvent(z){this.page.emit({previousPageIndex:z,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(oe){t.$Z()};static#t=this.\u0275dir=t.lG2({type:ae,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[t.qOj]})}return ae})(),B=0,Y=(()=>{class ae extends S{constructor(z,oe,H){super(z,oe,H),this._pageSizeLabelId="mat-paginator-page-size-label-"+B++,this._formFieldAppearance=H?.formFieldAppearance||"outline"}static#e=this.\u0275fac=function(oe){return new(oe||ae)(t.Y36(V),t.Y36(t.sBO),t.Y36(E,8))};static#t=this.\u0275cmp=t.Xpm({type:ae,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[t.qOj],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],["class","mat-mdc-paginator-page-size",4,"ngIf"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-page-size-label",3,"id"],["class","mat-mdc-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-mdc-paginator-page-size-value",4,"ngIf"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],["hideSingleSelectionIndicator","",3,"value","disabled","aria-labelledby","panelClass","disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-mdc-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(oe,H){1&oe&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,A,5,4,"div",2),t.TgZ(3,"div",3)(4,"div",4),t._uU(5),t.qZA(),t.YNc(6,U,3,5,"button",5),t.TgZ(7,"button",6),t.NdJ("click",function(){return H.previousPage()}),t.O4$(),t.TgZ(8,"svg",7),t._UZ(9,"path",8),t.qZA()(),t.kcU(),t.TgZ(10,"button",9),t.NdJ("click",function(){return H.nextPage()}),t.O4$(),t.TgZ(11,"svg",7),t._UZ(12,"path",10),t.qZA()(),t.YNc(13,O,3,5,"button",11),t.qZA()()()),2&oe&&(t.xp6(2),t.Q6J("ngIf",!H.hidePageSize),t.xp6(3),t.hij(" ",H._intl.getRangeLabel(H.pageIndex,H.pageSize,H.length)," "),t.xp6(1),t.Q6J("ngIf",H.showFirstLastButtons),t.xp6(1),t.Q6J("matTooltip",H._intl.previousPageLabel)("matTooltipDisabled",H._previousButtonsDisabled())("matTooltipPosition","above")("disabled",H._previousButtonsDisabled()),t.uIk("aria-label",H._intl.previousPageLabel),t.xp6(3),t.Q6J("matTooltip",H._intl.nextPageLabel)("matTooltipDisabled",H._nextButtonsDisabled())("matTooltipPosition","above")("disabled",H._nextButtonsDisabled()),t.uIk("aria-label",H._intl.nextPageLabel),t.xp6(3),t.Q6J("ngIf",H.showFirstLastButtons))},dependencies:[c.sg,c.O5,I.RK,m.KE,y.gD,L.ey,F.gM],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return ae})(),re=(()=>{class ae{static#e=this.\u0275fac=function(oe){return new(oe||ae)};static#t=this.\u0275mod=t.oAB({type:ae});static#n=this.\u0275inj=t.cJS({providers:[P],imports:[c.ez,I.ot,y.LD,F.AV]})}return ae})()},5940:(In,Ze,C)=>{"use strict";C.d(Ze,{Cq:()=>U,Ou:()=>v});var c=C(5879),t=C(3680),b=C(2495),I=C(6814);const y=["determinateSpinner"];function F(O,V){if(1&O&&(c.O4$(),c.TgZ(0,"svg",11),c._UZ(1,"circle",12),c.qZA()),2&O){const k=c.oxw();c.uIk("viewBox",k._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",k._strokeCircumference(),"px")("stroke-dashoffset",k._strokeCircumference()/2,"px")("stroke-width",k._circleStrokeWidth(),"%"),c.uIk("r",k._circleRadius())}}const L=(0,t.pj)(class{constructor(O){this._elementRef=O}},"primary"),x=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function m(){return{diameter:h}}}),h=100;let v=(()=>{class O extends L{constructor(k,P,D){super(k),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=h,this._noopAnimations="NoopAnimations"===P&&!!D&&!D._forceAnimations,D&&(D.color&&(this.color=this.defaultColor=D.color),D.diameter&&(this.diameter=D.diameter),D.strokeWidth&&(this.strokeWidth=D.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(k){this._value=Math.max(0,Math.min(100,(0,b.su)(k)))}get diameter(){return this._diameter}set diameter(k){this._diameter=(0,b.su)(k)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(k){this._strokeWidth=(0,b.su)(k)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const k=2*this._circleRadius()+this.strokeWidth;return`0 0 ${k} ${k}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(P){return new(P||O)(c.Y36(c.SBq),c.Y36(c.QbO,8),c.Y36(x))};static#t=this.\u0275cmp=c.Xpm({type:O,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(P,D){if(1&P&&c.Gf(y,5),2&P){let w;c.iGM(w=c.CRH())&&(D._determinateCircle=w.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(P,D){2&P&&(c.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===D.mode?D.value:null)("mode",D.mode),c.Udp("width",D.diameter,"px")("height",D.diameter,"px")("--mdc-circular-progress-size",D.diameter+"px")("--mdc-circular-progress-active-indicator-width",D.diameter+"px"),c.ekj("_mat-animation-noopable",D._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===D.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(P,D){if(1&P&&(c.YNc(0,F,2,8,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.O4$(),c.TgZ(4,"svg",3),c._UZ(5,"circle",4),c.qZA()(),c.kcU(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.GkF(9,8),c.qZA(),c.TgZ(10,"div",9),c.GkF(11,8),c.qZA(),c.TgZ(12,"div",10),c.GkF(13,8),c.qZA()()()),2&P){const w=c.MAs(1);c.xp6(4),c.uIk("viewBox",D._viewBox()),c.xp6(1),c.Udp("stroke-dasharray",D._strokeCircumference(),"px")("stroke-dashoffset",D._strokeDashOffset(),"px")("stroke-width",D._circleStrokeWidth(),"%"),c.uIk("r",D._circleRadius()),c.xp6(4),c.Q6J("ngTemplateOutlet",w),c.xp6(2),c.Q6J("ngTemplateOutlet",w),c.xp6(2),c.Q6J("ngTemplateOutlet",w)}},dependencies:[I.tP],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return O})(),U=(()=>{class O{static#e=this.\u0275fac=function(P){return new(P||O)};static#t=this.\u0275mod=c.oAB({type:O});static#n=this.\u0275inj=c.cJS({imports:[I.ez,t.BQ]})}return O})()},8525:(In,Ze,C)=>{"use strict";C.d(Ze,{LD:()=>ye,gD:()=>Ae});var c=C(3651),t=C(6814),b=C(5879),I=C(3680),y=C(9157),F=C(799),L=C(4300),x=C(9388),m=C(2495),h=C(8337),p=C(6028),v=C(95),A=C(8645),U=C(4911),O=C(3019),V=C(7921),k=C(4664),P=C(8180),D=C(2181),w=C(7398),E=C(3997),N=C(9773),S=C(6825);const B=["trigger"],Y=["panel"];function re(K,ie){if(1&K&&(b.TgZ(0,"span",10),b._uU(1),b.qZA()),2&K){const he=b.oxw();b.xp6(1),b.Oqu(he.placeholder)}}function ae(K,ie){if(1&K&&(b.TgZ(0,"span",14),b._uU(1),b.qZA()),2&K){const he=b.oxw(2);b.xp6(1),b.Oqu(he.triggerValue)}}function Re(K,ie){1&K&&b.Hsn(0,0,["*ngSwitchCase","true"])}function z(K,ie){if(1&K&&(b.TgZ(0,"span",11),b.YNc(1,ae,2,1,"span",12),b.YNc(2,Re,1,0,"ng-content",13),b.qZA()),2&K){const he=b.oxw();b.Q6J("ngSwitch",!!he.customTrigger),b.xp6(2),b.Q6J("ngSwitchCase",!0)}}function oe(K,ie){if(1&K){const he=b.EpF();b.O4$(),b.kcU(),b.TgZ(0,"div",15,16),b.NdJ("@transformPanel.done",function(Z){b.CHM(he);const W=b.oxw();return b.KtG(W._panelDoneAnimatingStream.next(Z.toState))})("keydown",function(Z){b.CHM(he);const W=b.oxw();return b.KtG(W._handleKeydown(Z))}),b.Hsn(2,1),b.qZA()}if(2&K){const he=b.oxw();b.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",he._getPanelTheme(),""),b.Q6J("ngClass",he.panelClass)("@transformPanel","showing"),b.uIk("id",he.id+"-panel")("aria-multiselectable",he.multiple)("aria-label",he.ariaLabel||null)("aria-labelledby",he._getPanelAriaLabelledby())}}const H=[[["mat-select-trigger"]],"*"],me=["mat-select-trigger","*"],te={transformPanelWrap:(0,S.X$)("transformPanelWrap",[(0,S.eR)("* => void",(0,S.IO)("@transformPanel",[(0,S.pV)()],{optional:!0}))]),transformPanel:(0,S.X$)("transformPanel",[(0,S.SB)("void",(0,S.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,S.eR)("void => showing",(0,S.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,S.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,S.eR)("* => void",(0,S.jt)("100ms linear",(0,S.oB)({opacity:0})))])};let le=0;const Me=new b.OlP("mat-select-scroll-strategy"),_e=new b.OlP("MAT_SELECT_CONFIG"),Le={provide:Me,deps:[c.aV],useFactory:function we(K){return()=>K.scrollStrategies.reposition()}},Pe=new b.OlP("MatSelectTrigger");class Oe{constructor(ie,he){this.source=ie,this.value=he}}const je=(0,I.Kr)((0,I.sb)((0,I.Id)((0,I.FD)(class{constructor(K,ie,he,$,Z){this._elementRef=K,this._defaultErrorStateMatcher=ie,this._parentForm=he,this._parentFormGroup=$,this.ngControl=Z,this.stateChanges=new A.x}}))));let ze=(()=>{class K extends je{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(he){this._placeholder=he,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(v.kI.required)??!1}set required(he){this._required=(0,m.Ig)(he),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(he){this._multiple=(0,m.Ig)(he)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(he){this._disableOptionCentering=(0,m.Ig)(he)}get compareWith(){return this._compareWith}set compareWith(he){this._compareWith=he,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(he){this._assignValue(he)&&this._onChange(he)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(he){this._typeaheadDebounceInterval=(0,m.su)(he)}get id(){return this._id}set id(he){this._id=he||this._uid,this.stateChanges.next()}constructor(he,$,Z,W,X,Q,q,J,de,ge,ce,Ce,Ye,Be){super(X,W,q,J,ge),this._viewportRuler=he,this._changeDetectorRef=$,this._ngZone=Z,this._dir=Q,this._parentFormField=de,this._liveAnnouncer=Ye,this._defaultOptions=Be,this._panelOpen=!1,this._compareWith=($e,Qe)=>$e===Qe,this._uid="mat-select-"+le++,this._triggerAriaLabelledBy=null,this._destroy=new A.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+le++,this._panelDoneAnimatingStream=new A.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,U.P)(()=>{const $e=this.options;return $e?$e.changes.pipe((0,V.O)($e),(0,k.w)(()=>(0,O.T)(...$e.map(Qe=>Qe.onSelectionChange)))):this._ngZone.onStable.pipe((0,P.q)(1),(0,k.w)(()=>this.optionSelectionChanges))}),this.openedChange=new b.vpe,this._openedStream=this.openedChange.pipe((0,D.h)($e=>$e),(0,w.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,D.h)($e=>!$e),(0,w.U)(()=>{})),this.selectionChange=new b.vpe,this.valueChange=new b.vpe,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Be?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=Be.typeaheadDebounceInterval),this._scrollStrategyFactory=Ce,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ce)||0,this.id=this.id}ngOnInit(){this._selectionModel=new h.Ov(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,E.x)(),(0,N.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,N.R)(this._destroy)).subscribe(he=>{he.added.forEach($=>$.select()),he.removed.forEach($=>$.deselect())}),this.options.changes.pipe((0,V.O)(null),(0,N.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const he=this._getTriggerAriaLabelledby(),$=this.ngControl;if(he!==this._triggerAriaLabelledBy){const Z=this._elementRef.nativeElement;this._triggerAriaLabelledBy=he,he?Z.setAttribute("aria-labelledby",he):Z.removeAttribute("aria-labelledby")}$&&(this._previousControl!==$.control&&(void 0!==this._previousControl&&null!==$.disabled&&$.disabled!==this.disabled&&(this.disabled=$.disabled),this._previousControl=$.control),this.updateErrorState())}ngOnChanges(he){(he.disabled||he.userAriaDescribedBy)&&this.stateChanges.next(),he.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const he=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!he)return;const $=`${this.id}-panel`;this._trackedModal&&(0,L.iD)(this._trackedModal,"aria-owns",$),(0,L.Zf)(he,"aria-owns",$),this._trackedModal=he}_clearFromModal(){this._trackedModal&&((0,L.iD)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(he){this._assignValue(he)}registerOnChange(he){this._onChange=he}registerOnTouched(he){this._onTouched=he}setDisabledState(he){this.disabled=he,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const he=this._selectionModel.selected.map($=>$.viewValue);return this._isRtl()&&he.reverse(),he.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(he){this.disabled||(this.panelOpen?this._handleOpenKeydown(he):this._handleClosedKeydown(he))}_handleClosedKeydown(he){const $=he.keyCode,Z=$===p.JH||$===p.LH||$===p.oh||$===p.SV,W=$===p.K5||$===p.L_,X=this._keyManager;if(!X.isTyping()&&W&&!(0,p.Vb)(he)||(this.multiple||he.altKey)&&Z)he.preventDefault(),this.open();else if(!this.multiple){const Q=this.selected;X.onKeydown(he);const q=this.selected;q&&Q!==q&&this._liveAnnouncer.announce(q.viewValue,1e4)}}_handleOpenKeydown(he){const $=this._keyManager,Z=he.keyCode,W=Z===p.JH||Z===p.LH,X=$.isTyping();if(W&&he.altKey)he.preventDefault(),this.close();else if(X||Z!==p.K5&&Z!==p.L_||!$.activeItem||(0,p.Vb)(he))if(!X&&this._multiple&&Z===p.A&&he.ctrlKey){he.preventDefault();const Q=this.options.some(q=>!q.disabled&&!q.selected);this.options.forEach(q=>{q.disabled||(Q?q.select():q.deselect())})}else{const Q=$.activeItemIndex;$.onKeydown(he),this._multiple&&W&&he.shiftKey&&$.activeItem&&$.activeItemIndex!==Q&&$.activeItem._selectViaInteraction()}else he.preventDefault(),$.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,P.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(he){if(this.options.forEach($=>$.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&he)Array.isArray(he),he.forEach($=>this._selectOptionByValue($)),this._sortValues();else{const $=this._selectOptionByValue(he);$?this._keyManager.updateActiveItem($):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(he){const $=this.options.find(Z=>{if(this._selectionModel.isSelected(Z))return!1;try{return null!=Z.value&&this._compareWith(Z.value,he)}catch{return!1}});return $&&this._selectionModel.select($),$}_assignValue(he){return!!(he!==this._value||this._multiple&&Array.isArray(he))&&(this.options&&this._setSelectionByValue(he),this._value=he,!0)}_skipPredicate(he){return he.disabled}_initKeyManager(){this._keyManager=new L.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const he=(0,O.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,N.R)(he)).subscribe($=>{this._onSelect($.source,$.isUserInput),$.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,O.T)(...this.options.map($=>$._stateChanges)).pipe((0,N.R)(he)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(he,$){const Z=this._selectionModel.isSelected(he);null!=he.value||this._multiple?(Z!==he.selected&&(he.selected?this._selectionModel.select(he):this._selectionModel.deselect(he)),$&&this._keyManager.setActiveItem(he),this.multiple&&(this._sortValues(),$&&this.focus())):(he.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(he.value)),Z!==this._selectionModel.isSelected(he)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const he=this.options.toArray();this._selectionModel.sort(($,Z)=>this.sortComparator?this.sortComparator($,Z,he):he.indexOf($)-he.indexOf(Z)),this.stateChanges.next()}}_propagateChanges(he){let $=null;$=this.multiple?this.selected.map(Z=>Z.value):this.selected?this.selected.value:he,this._value=$,this.valueChange.emit($),this._onChange($),this.selectionChange.emit(this._getChangeEvent($)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let he=-1;for(let $=0;$<this.options.length;$++)if(!this.options.get($).disabled){he=$;break}this._keyManager.setActiveItem(he)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(he){this._elementRef.nativeElement.focus(he)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const he=this._parentFormField?.getLabelId();return this.ariaLabelledby?(he?he+" ":"")+this.ariaLabelledby:he}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const he=this._parentFormField?.getLabelId();let $=(he?he+" ":"")+this._valueId;return this.ariaLabelledby&&($+=" "+this.ariaLabelledby),$}_panelDoneAnimating(he){this.openedChange.emit(he)}setDescribedByIds(he){he.length?this._elementRef.nativeElement.setAttribute("aria-describedby",he.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function($){return new($||K)(b.Y36(F.rL),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(I.rD),b.Y36(b.SBq),b.Y36(x.Is,8),b.Y36(v.F,8),b.Y36(v.sg,8),b.Y36(y.G_,8),b.Y36(v.a5,10),b.$8M("tabindex"),b.Y36(Me),b.Y36(L.Kd),b.Y36(_e,8))};static#t=this.\u0275dir=b.lG2({type:K,viewQuery:function($,Z){if(1&$&&(b.Gf(B,5),b.Gf(Y,5),b.Gf(c.pI,5)),2&$){let W;b.iGM(W=b.CRH())&&(Z.trigger=W.first),b.iGM(W=b.CRH())&&(Z.panel=W.first),b.iGM(W=b.CRH())&&(Z._overlayDir=W.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[b.qOj,b.TTD]})}return K})(),Ae=(()=>{class K extends ze{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=he=>!this.panelOpen&&he.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,N.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(he){const $=this.options.toArray()[he];if($){const Z=this.panel.nativeElement,W=(0,I.CB)(he,this.options,this.optionGroups),X=$._getHostElement();Z.scrollTop=0===he&&1===W?0:(0,I.jH)(X.offsetTop,X.offsetHeight,Z.scrollTop,Z.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(he){return new Oe(this,he)}_getOverlayWidth(he){return"auto"===this.panelWidth?(he instanceof c.xu?he.elementRef:he||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(he){this._hideSingleSelectionIndicator=(0,m.Ig)(he),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const he of this.options)he._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let he;return function(Z){return(he||(he=b.n5z(K)))(Z||K)}}();static#t=this.\u0275cmp=b.Xpm({type:K,selectors:[["mat-select"]],contentQueries:function($,Z,W){if(1&$&&(b.Suo(W,Pe,5),b.Suo(W,I.ey,5),b.Suo(W,I.K7,5)),2&$){let X;b.iGM(X=b.CRH())&&(Z.customTrigger=X.first),b.iGM(X=b.CRH())&&(Z.options=X),b.iGM(X=b.CRH())&&(Z.optionGroups=X)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function($,Z){1&$&&b.NdJ("keydown",function(X){return Z._handleKeydown(X)})("focus",function(){return Z._onFocus()})("blur",function(){return Z._onBlur()}),2&$&&(b.uIk("id",Z.id)("tabindex",Z.tabIndex)("aria-controls",Z.panelOpen?Z.id+"-panel":null)("aria-expanded",Z.panelOpen)("aria-label",Z.ariaLabel||null)("aria-required",Z.required.toString())("aria-disabled",Z.disabled.toString())("aria-invalid",Z.errorState)("aria-activedescendant",Z._getAriaActiveDescendant()),b.ekj("mat-mdc-select-disabled",Z.disabled)("mat-mdc-select-invalid",Z.errorState)("mat-mdc-select-required",Z.required)("mat-mdc-select-empty",Z.empty)("mat-mdc-select-multiple",Z.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[b._Bn([{provide:y.Eo,useExisting:K},{provide:I.HF,useExisting:K}]),b.qOj],ngContentSelectors:me,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function($,Z){if(1&$&&(b.F$t(H),b.TgZ(0,"div",0,1),b.NdJ("click",function(){return Z.toggle()}),b.TgZ(3,"div",2),b.YNc(4,re,2,1,"span",3),b.YNc(5,z,3,2,"span",4),b.qZA(),b.TgZ(6,"div",5)(7,"div",6),b.O4$(),b.TgZ(8,"svg",7),b._UZ(9,"path",8),b.qZA()()()(),b.YNc(10,oe,3,9,"ng-template",9),b.NdJ("backdropClick",function(){return Z.close()})("attach",function(){return Z._onAttached()})("detach",function(){return Z.close()})),2&$){const W=b.MAs(1);b.xp6(3),b.Q6J("ngSwitch",Z.empty),b.uIk("id",Z._valueId),b.xp6(1),b.Q6J("ngSwitchCase",!0),b.xp6(1),b.Q6J("ngSwitchCase",!1),b.xp6(5),b.Q6J("cdkConnectedOverlayPanelClass",Z._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Z._scrollStrategy)("cdkConnectedOverlayOrigin",Z._preferredOverlayOrigin||W)("cdkConnectedOverlayOpen",Z.panelOpen)("cdkConnectedOverlayPositions",Z._positions)("cdkConnectedOverlayWidth",Z._overlayWidth)}},dependencies:[t.mk,t.RF,t.n9,t.ED,c.pI,c.xu],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[te.transformPanel]},changeDetection:0})}return K})(),ye=(()=>{class K{static#e=this.\u0275fac=function($){return new($||K)};static#t=this.\u0275mod=b.oAB({type:K});static#n=this.\u0275inj=b.cJS({providers:[Le],imports:[t.ez,c.U8,I.Ng,I.BQ,F.ZD,y.lN,I.Ng,I.BQ]})}return K})()},2939:(In,Ze,C)=>{"use strict";C.d(Ze,{OX:()=>P,ZX:()=>z,qD:()=>D,u_:()=>w,ux:()=>te});var c=C(5879),t=C(8645),b=C(6814),I=C(2296),y=C(6825),F=C(8484),L=C(2831),x=C(8180),m=C(9773),h=C(4300),p=C(1088),v=C(3651),A=C(3680);function U(ue,Se){if(1&ue){const Ie=c.EpF();c.TgZ(0,"div",2)(1,"button",3),c.NdJ("click",function(){c.CHM(Ie);const Me=c.oxw();return c.KtG(Me.action())}),c._uU(2),c.qZA()()}if(2&ue){const Ie=c.oxw();c.xp6(2),c.hij(" ",Ie.data.action," ")}}const O=["label"];function V(ue,Se){}const k=Math.pow(2,31)-1;class P{constructor(Se,Ie){this._overlayRef=Ie,this._afterDismissed=new t.x,this._afterOpened=new t.x,this._onAction=new t.x,this._dismissedByAction=!1,this.containerInstance=Se,Se._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Se){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Se,k))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const D=new c.OlP("MatSnackBarData");class w{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let E=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275dir=c.lG2({type:ue,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return ue})(),N=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275dir=c.lG2({type:ue,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return ue})(),S=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275dir=c.lG2({type:ue,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return ue})(),B=(()=>{class ue{constructor(Ie,le){this.snackBarRef=Ie,this.data=le}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(le){return new(le||ue)(c.Y36(P),c.Y36(D))};static#t=this.\u0275cmp=c.Xpm({type:ue,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(le,Me){1&le&&(c.TgZ(0,"div",0),c._uU(1),c.qZA(),c.YNc(2,U,3,1,"div",1)),2&le&&(c.xp6(1),c.hij(" ",Me.data.message,"\n"),c.xp6(1),c.Q6J("ngIf",Me.hasAction))},dependencies:[b.O5,I.lW,E,N,S],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return ue})();const Y={snackBarState:(0,y.X$)("state",[(0,y.SB)("void, hidden",(0,y.oB)({transform:"scale(0.8)",opacity:0})),(0,y.SB)("visible",(0,y.oB)({transform:"scale(1)",opacity:1})),(0,y.eR)("* => visible",(0,y.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,y.eR)("* => void, * => hidden",(0,y.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,y.oB)({opacity:0})))])};let re=0,ae=(()=>{class ue extends F.en{constructor(Ie,le,Me,we,_e){super(),this._ngZone=Ie,this._elementRef=le,this._changeDetectorRef=Me,this._platform=we,this.snackBarConfig=_e,this._document=(0,c.f3M)(b.K0),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new t.x,this._onExit=new t.x,this._onEnter=new t.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+re++,this.attachDomPortal=Le=>{this._assertNotAttached();const Pe=this._portalOutlet.attachDomPortal(Le);return this._afterPortalAttached(),Pe},this._live="assertive"!==_e.politeness||_e.announcementMessage?"off"===_e.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Ie){this._assertNotAttached();const le=this._portalOutlet.attachComponentPortal(Ie);return this._afterPortalAttached(),le}attachTemplatePortal(Ie){this._assertNotAttached();const le=this._portalOutlet.attachTemplatePortal(Ie);return this._afterPortalAttached(),le}onAnimationEnd(Ie){const{fromState:le,toState:Me}=Ie;if(("void"===Me&&"void"!==le||"hidden"===Me)&&this._completeExit(),"visible"===Me){const we=this._onEnter;this._ngZone.run(()=>{we.next(),we.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,x.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Ie=this._elementRef.nativeElement,le=this.snackBarConfig.panelClass;le&&(Array.isArray(le)?le.forEach(Me=>Ie.classList.add(Me)):Ie.classList.add(le)),this._exposeToModals()}_exposeToModals(){const Ie=this._liveElementId,le=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Me=0;Me<le.length;Me++){const we=le[Me],_e=we.getAttribute("aria-owns");this._trackedModals.add(we),_e?-1===_e.indexOf(Ie)&&we.setAttribute("aria-owns",_e+" "+Ie):we.setAttribute("aria-owns",Ie)}}_clearFromModals(){this._trackedModals.forEach(Ie=>{const le=Ie.getAttribute("aria-owns");if(le){const Me=le.replace(this._liveElementId,"").trim();Me.length>0?Ie.setAttribute("aria-owns",Me):Ie.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Ie=this._elementRef.nativeElement.querySelector("[aria-hidden]"),le=this._elementRef.nativeElement.querySelector("[aria-live]");if(Ie&&le){let Me=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Ie.contains(document.activeElement)&&(Me=document.activeElement),Ie.removeAttribute("aria-hidden"),le.appendChild(Ie),Me?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(le){return new(le||ue)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(L.t4),c.Y36(w))};static#t=this.\u0275dir=c.lG2({type:ue,viewQuery:function(le,Me){if(1&le&&c.Gf(F.Pl,7),2&le){let we;c.iGM(we=c.CRH())&&(Me._portalOutlet=we.first)}},features:[c.qOj]})}return ue})(),Re=(()=>{class ue extends ae{_afterPortalAttached(){super._afterPortalAttached();const Ie=this._label.nativeElement,le="mdc-snackbar__label";Ie.classList.toggle(le,!Ie.querySelector(`.${le}`))}static#e=this.\u0275fac=function(){let Ie;return function(Me){return(Ie||(Ie=c.n5z(ue)))(Me||ue)}}();static#t=this.\u0275cmp=c.Xpm({type:ue,selectors:[["mat-snack-bar-container"]],viewQuery:function(le,Me){if(1&le&&c.Gf(O,7),2&le){let we;c.iGM(we=c.CRH())&&(Me._label=we.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(le,Me){1&le&&c.WFA("@state.done",function(_e){return Me.onAnimationEnd(_e)}),2&le&&c.d8E("@state",Me._animationState)},features:[c.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(le,Me){1&le&&(c.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),c.YNc(4,V,0,0,"ng-template",4),c.qZA(),c._UZ(5,"div"),c.qZA()()),2&le&&(c.xp6(5),c.uIk("aria-live",Me._live)("role",Me._role)("id",Me._liveElementId))},dependencies:[F.Pl],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Y.snackBarState]}})}return ue})(),z=(()=>{class ue{static#e=this.\u0275fac=function(le){return new(le||ue)};static#t=this.\u0275mod=c.oAB({type:ue});static#n=this.\u0275inj=c.cJS({imports:[v.U8,F.eL,b.ez,I.ot,A.BQ,A.BQ]})}return ue})();const H=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function oe(){return new w}});let me=(()=>{class ue{get _openedSnackBarRef(){const Ie=this._parentSnackBar;return Ie?Ie._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Ie){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Ie:this._snackBarRefAtThisLevel=Ie}constructor(Ie,le,Me,we,_e,Le){this._overlay=Ie,this._live=le,this._injector=Me,this._breakpointObserver=we,this._parentSnackBar=_e,this._defaultConfig=Le,this._snackBarRefAtThisLevel=null}openFromComponent(Ie,le){return this._attach(Ie,le)}openFromTemplate(Ie,le){return this._attach(Ie,le)}open(Ie,le="",Me){const we={...this._defaultConfig,...Me};return we.data={message:Ie,action:le},we.announcementMessage===Ie&&(we.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,we)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Ie,le){const we=c.zs3.create({parent:le&&le.viewContainerRef&&le.viewContainerRef.injector||this._injector,providers:[{provide:w,useValue:le}]}),_e=new F.C5(this.snackBarContainerComponent,le.viewContainerRef,we),Le=Ie.attach(_e);return Le.instance.snackBarConfig=le,Le.instance}_attach(Ie,le){const Me={...new w,...this._defaultConfig,...le},we=this._createOverlay(Me),_e=this._attachSnackBarContainer(we,Me),Le=new P(_e,we);if(Ie instanceof c.Rgc){const Pe=new F.UE(Ie,null,{$implicit:Me.data,snackBarRef:Le});Le.instance=_e.attachTemplatePortal(Pe)}else{const Pe=this._createInjector(Me,Le),Oe=new F.C5(Ie,void 0,Pe),je=_e.attachComponentPortal(Oe);Le.instance=je.instance}return this._breakpointObserver.observe(p.u3.HandsetPortrait).pipe((0,m.R)(we.detachments())).subscribe(Pe=>{we.overlayElement.classList.toggle(this.handsetCssClass,Pe.matches)}),Me.announcementMessage&&_e._onAnnounce.subscribe(()=>{this._live.announce(Me.announcementMessage,Me.politeness)}),this._animateSnackBar(Le,Me),this._openedSnackBarRef=Le,this._openedSnackBarRef}_animateSnackBar(Ie,le){Ie.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Ie&&(this._openedSnackBarRef=null),le.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Ie.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Ie.containerInstance.enter(),le.duration&&le.duration>0&&Ie.afterOpened().subscribe(()=>Ie._dismissAfter(le.duration))}_createOverlay(Ie){const le=new v.X_;le.direction=Ie.direction;let Me=this._overlay.position().global();const we="rtl"===Ie.direction,_e="left"===Ie.horizontalPosition||"start"===Ie.horizontalPosition&&!we||"end"===Ie.horizontalPosition&&we,Le=!_e&&"center"!==Ie.horizontalPosition;return _e?Me.left("0"):Le?Me.right("0"):Me.centerHorizontally(),"top"===Ie.verticalPosition?Me.top("0"):Me.bottom("0"),le.positionStrategy=Me,this._overlay.create(le)}_createInjector(Ie,le){return c.zs3.create({parent:Ie&&Ie.viewContainerRef&&Ie.viewContainerRef.injector||this._injector,providers:[{provide:P,useValue:le},{provide:D,useValue:Ie.data}]})}static#e=this.\u0275fac=function(le){return new(le||ue)(c.LFG(v.aV),c.LFG(h.Kd),c.LFG(c.zs3),c.LFG(p.Yg),c.LFG(ue,12),c.LFG(H))};static#t=this.\u0275prov=c.Yz7({token:ue,factory:ue.\u0275fac})}return ue})(),te=(()=>{class ue extends me{constructor(Ie,le,Me,we,_e,Le){super(Ie,le,Me,we,_e,Le),this.simpleSnackBarComponent=B,this.snackBarContainerComponent=Re,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(le){return new(le||ue)(c.LFG(v.aV),c.LFG(h.Kd),c.LFG(c.zs3),c.LFG(p.Yg),c.LFG(ue,12),c.LFG(H))};static#t=this.\u0275prov=c.Yz7({token:ue,factory:ue.\u0275fac,providedIn:z})}return ue})()},3566:(In,Ze,C)=>{"use strict";C.d(Ze,{JX:()=>Re,YE:()=>D,nU:()=>ae});var c=C(5879),t=C(4300),b=C(2495),I=C(6028),y=C(3680),F=C(8645),L=C(3019),x=C(6825),m=C(6814);const h=["mat-sort-header",""];function p(z,oe){if(1&z){const H=c.EpF();c.TgZ(0,"div",3),c.NdJ("@arrowPosition.start",function(){c.CHM(H);const te=c.oxw();return c.KtG(te._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){c.CHM(H);const te=c.oxw();return c.KtG(te._disableViewStateAnimation=!1)}),c._UZ(1,"div",4),c.TgZ(2,"div",5),c._UZ(3,"div",6)(4,"div",7)(5,"div",8),c.qZA()()}if(2&z){const H=c.oxw();c.Q6J("@arrowOpacity",H._getArrowViewState())("@arrowPosition",H._getArrowViewState())("@allowChildren",H._getArrowDirectionState()),c.xp6(2),c.Q6J("@indicator",H._getArrowDirectionState()),c.xp6(1),c.Q6J("@leftPointer",H._getArrowDirectionState()),c.xp6(1),c.Q6J("@rightPointer",H._getArrowDirectionState())}}const v=["*"],k=new c.OlP("MAT_SORT_DEFAULT_OPTIONS"),P=(0,y.dB)((0,y.Id)(class{}));let D=(()=>{class z extends P{get direction(){return this._direction}set direction(H){this._direction=H}get disableClear(){return this._disableClear}set disableClear(H){this._disableClear=(0,b.Ig)(H)}constructor(H){super(),this._defaultOptions=H,this.sortables=new Map,this._stateChanges=new F.x,this.start="asc",this._direction="",this.sortChange=new c.vpe}register(H){this.sortables.set(H.id,H)}deregister(H){this.sortables.delete(H.id)}sort(H){this.active!=H.id?(this.active=H.id,this.direction=H.start?H.start:this.start):this.direction=this.getNextSortDirection(H),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(H){if(!H)return"";let te=function w(z,oe){let H=["asc","desc"];return"desc"==z&&H.reverse(),oe||H.push(""),H}(H.start||this.start,H?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),ue=te.indexOf(this.direction)+1;return ue>=te.length&&(ue=0),te[ue]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(me){return new(me||z)(c.Y36(k,8))};static#t=this.\u0275dir=c.lG2({type:z,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[c.qOj,c.TTD]})}return z})();const E=y.mZ.ENTERING+" "+y.yN.STANDARD_CURVE,N={indicator:(0,x.X$)("indicator",[(0,x.SB)("active-asc, asc",(0,x.oB)({transform:"translateY(0px)"})),(0,x.SB)("active-desc, desc",(0,x.oB)({transform:"translateY(10px)"})),(0,x.eR)("active-asc <=> active-desc",(0,x.jt)(E))]),leftPointer:(0,x.X$)("leftPointer",[(0,x.SB)("active-asc, asc",(0,x.oB)({transform:"rotate(-45deg)"})),(0,x.SB)("active-desc, desc",(0,x.oB)({transform:"rotate(45deg)"})),(0,x.eR)("active-asc <=> active-desc",(0,x.jt)(E))]),rightPointer:(0,x.X$)("rightPointer",[(0,x.SB)("active-asc, asc",(0,x.oB)({transform:"rotate(45deg)"})),(0,x.SB)("active-desc, desc",(0,x.oB)({transform:"rotate(-45deg)"})),(0,x.eR)("active-asc <=> active-desc",(0,x.jt)(E))]),arrowOpacity:(0,x.X$)("arrowOpacity",[(0,x.SB)("desc-to-active, asc-to-active, active",(0,x.oB)({opacity:1})),(0,x.SB)("desc-to-hint, asc-to-hint, hint",(0,x.oB)({opacity:.54})),(0,x.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,x.oB)({opacity:0})),(0,x.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,x.jt)("0ms")),(0,x.eR)("* <=> *",(0,x.jt)(E))]),arrowPosition:(0,x.X$)("arrowPosition",[(0,x.eR)("* => desc-to-hint, * => desc-to-active",(0,x.jt)(E,(0,x.F4)([(0,x.oB)({transform:"translateY(-25%)"}),(0,x.oB)({transform:"translateY(0)"})]))),(0,x.eR)("* => hint-to-desc, * => active-to-desc",(0,x.jt)(E,(0,x.F4)([(0,x.oB)({transform:"translateY(0)"}),(0,x.oB)({transform:"translateY(25%)"})]))),(0,x.eR)("* => asc-to-hint, * => asc-to-active",(0,x.jt)(E,(0,x.F4)([(0,x.oB)({transform:"translateY(25%)"}),(0,x.oB)({transform:"translateY(0)"})]))),(0,x.eR)("* => hint-to-asc, * => active-to-asc",(0,x.jt)(E,(0,x.F4)([(0,x.oB)({transform:"translateY(0)"}),(0,x.oB)({transform:"translateY(-25%)"})]))),(0,x.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,x.oB)({transform:"translateY(0)"})),(0,x.SB)("hint-to-desc, active-to-desc, desc",(0,x.oB)({transform:"translateY(-25%)"})),(0,x.SB)("hint-to-asc, active-to-asc, asc",(0,x.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,x.X$)("allowChildren",[(0,x.eR)("* <=> *",[(0,x.IO)("@*",(0,x.pV)(),{optional:!0})])])};let S=(()=>{class z{constructor(){this.changes=new F.x}static#e=this.\u0275fac=function(me){return new(me||z)};static#t=this.\u0275prov=c.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})();const Y={provide:S,deps:[[new c.FiY,new c.tp0,S]],useFactory:function B(z){return z||new S}},re=(0,y.Id)(class{});let ae=(()=>{class z extends re{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(H){this._updateSortActionDescription(H)}get disableClear(){return this._disableClear}set disableClear(H){this._disableClear=(0,b.Ig)(H)}constructor(H,me,te,ue,Se,Ie,le,Me){super(),this._intl=H,this._changeDetectorRef=me,this._sort=te,this._columnDef=ue,this._focusMonitor=Se,this._elementRef=Ie,this._ariaDescriber=le,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",Me?.arrowPosition&&(this.arrowPosition=Me?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(H=>{const me=!!H;me!==this._showIndicatorHint&&(this._setIndicatorHintVisible(me),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(H){this._isDisabled()&&H||(this._showIndicatorHint=H,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(H){this._viewState=H||{},this._disableViewStateAnimation&&(this._viewState={toState:H.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(H){!this._isDisabled()&&(H.keyCode===I.L_||H.keyCode===I.K5)&&(H.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const H=this._viewState.fromState;return(H?`${H}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(H){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,H)),this._sortActionDescription=H}_handleStateChanges(){this._rerenderSubscription=(0,L.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(me){return new(me||z)(c.Y36(S),c.Y36(c.sBO),c.Y36(D,8),c.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),c.Y36(t.tE),c.Y36(c.SBq),c.Y36(t.$s,8),c.Y36(k,8))};static#t=this.\u0275cmp=c.Xpm({type:z,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(me,te){1&me&&c.NdJ("click",function(){return te._handleClick()})("keydown",function(Se){return te._handleKeydown(Se)})("mouseenter",function(){return te._setIndicatorHintVisible(!0)})("mouseleave",function(){return te._setIndicatorHintVisible(!1)}),2&me&&(c.uIk("aria-sort",te._getAriaSortAttribute()),c.ekj("mat-sort-header-disabled",te._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[c.qOj],attrs:h,ngContentSelectors:v,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(me,te){1&me&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,p,6,6,"div",2),c.qZA()),2&me&&(c.ekj("mat-sort-header-sorted",te._isSorted())("mat-sort-header-position-before","before"===te.arrowPosition),c.uIk("tabindex",te._isDisabled()?null:0)("role",te._isDisabled()?null:"button"),c.xp6(3),c.Q6J("ngIf",te._renderArrow()))},dependencies:[m.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[N.indicator,N.leftPointer,N.rightPointer,N.arrowOpacity,N.arrowPosition,N.allowChildren]},changeDetection:0})}return z})(),Re=(()=>{class z{static#e=this.\u0275fac=function(me){return new(me||z)};static#t=this.\u0275mod=c.oAB({type:z});static#n=this.\u0275inj=c.cJS({providers:[Y],imports:[m.ez,y.BQ]})}return z})()},5313:(In,Ze,C)=>{"use strict";C.d(Ze,{ev:()=>Nt,Dz:()=>pe,w1:()=>Dt,ge:()=>ft,fO:()=>lt,XQ:()=>en,as:()=>Wt,Ee:()=>Tn,Gk:()=>yn,nj:()=>Vt,BZ:()=>fe,by:()=>St,p0:()=>qn});var c=C(5879),t=C(9388),b=C(2495),I=C(8337),y=C(2831),F=C(799),L=C(6814),x=C(8645),m=C(7715),h=C(5619),p=C(2664),v=C(2096),A=C(9773),U=C(8180);const O=[[["caption"]],[["colgroup"],["col"]]],V=["caption","colgroup, col"];function D(ct){return class extends ct{get sticky(){return this._sticky}set sticky(Qt){const Ke=this._sticky;this._sticky=(0,b.Ig)(Qt),this._hasStickyChanged=Ke!==this._sticky}hasStickyChanged(){const Qt=this._hasStickyChanged;return this._hasStickyChanged=!1,Qt}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...Qt){super(...Qt),this._sticky=!1,this._hasStickyChanged=!1}}}const w=new c.OlP("CDK_TABLE");let N=(()=>{class ct{constructor(Ke){this.template=Ke}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","cdkCellDef",""]]})}return ct})(),S=(()=>{class ct{constructor(Ke){this.template=Ke}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","cdkHeaderCellDef",""]]})}return ct})(),B=(()=>{class ct{constructor(Ke){this.template=Ke}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","cdkFooterCellDef",""]]})}return ct})();class Y{}const re=D(Y);let ae=(()=>{class ct extends re{get name(){return this._name}set name(Ke){this._setNameInput(Ke)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Ke){const it=this._stickyEnd;this._stickyEnd=(0,b.Ig)(Ke),this._hasStickyChanged=it!==this._stickyEnd}constructor(Ke){super(),this._table=Ke,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Ke){Ke&&(this._name=Ke,this.cssClassFriendlyName=Ke.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(w,8))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","cdkColumnDef",""]],contentQueries:function(it,Ct,Gt){if(1&it&&(c.Suo(Gt,N,5),c.Suo(Gt,S,5),c.Suo(Gt,B,5)),2&it){let hn;c.iGM(hn=c.CRH())&&(Ct.cell=hn.first),c.iGM(hn=c.CRH())&&(Ct.headerCell=hn.first),c.iGM(hn=c.CRH())&&(Ct.footerCell=hn.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ct}]),c.qOj]})}return ct})();class Re{constructor(Qt,Ke){Ke.nativeElement.classList.add(...Qt._columnCssClassName)}}let z=(()=>{class ct extends Re{constructor(Ke,it){super(Ke,it)}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(ae),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]})}return ct})(),H=(()=>{class ct extends Re{constructor(Ke,it){if(super(Ke,it),1===Ke._table?._elementRef.nativeElement.nodeType){const Ct=Ke._table._elementRef.nativeElement.getAttribute("role");it.nativeElement.setAttribute("role","grid"===Ct||"treegrid"===Ct?"gridcell":"cell")}}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(ae),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]})}return ct})();class me{constructor(){this.tasks=[],this.endTasks=[]}}const te=new c.OlP("_COALESCED_STYLE_SCHEDULER");let ue=(()=>{class ct{constructor(Ke){this._ngZone=Ke,this._currentSchedule=null,this._destroyed=new x.x}schedule(Ke){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Ke)}scheduleEnd(Ke){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Ke)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new me,this._getScheduleObservable().pipe((0,A.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Ke=this._currentSchedule;this._currentSchedule=new me;for(const it of Ke.tasks)it();for(const it of Ke.endTasks)it()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,m.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,U.q)(1))}static#e=this.\u0275fac=function(it){return new(it||ct)(c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:ct,factory:ct.\u0275fac})}return ct})(),Ie=(()=>{class ct{constructor(Ke,it){this.template=Ke,this._differs=it}ngOnChanges(Ke){if(!this._columnsDiffer){const it=Ke.columns&&Ke.columns.currentValue||[];this._columnsDiffer=this._differs.find(it).create(),this._columnsDiffer.diff(it)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Ke){return this instanceof we?Ke.headerCell.template:this instanceof Pe?Ke.footerCell.template:Ke.cell.template}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.Rgc),c.Y36(c.ZZ4))};static#t=this.\u0275dir=c.lG2({type:ct,features:[c.TTD]})}return ct})();class le extends Ie{}const Me=D(le);let we=(()=>{class ct extends Me{constructor(Ke,it,Ct){super(Ke,it),this._table=Ct}ngOnChanges(Ke){super.ngOnChanges(Ke)}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(w,8))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return ct})();class _e extends Ie{}const Le=D(_e);let Pe=(()=>{class ct extends Le{constructor(Ke,it,Ct){super(Ke,it),this._table=Ct}ngOnChanges(Ke){super.ngOnChanges(Ke)}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(w,8))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]})}return ct})(),Oe=(()=>{class ct extends Ie{constructor(Ke,it,Ct){super(Ke,it),this._table=Ct}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(w,8))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]})}return ct})(),je=(()=>{class ct{static#e=this.mostRecentCellOutlet=null;constructor(Ke){this._viewContainer=Ke,ct.mostRecentCellOutlet=this}ngOnDestroy(){ct.mostRecentCellOutlet===this&&(ct.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.s_b))};static#n=this.\u0275dir=c.lG2({type:ct,selectors:[["","cdkCellOutlet",""]]})}return ct})(),ze=(()=>{class ct{static#e=this.\u0275fac=function(it){return new(it||ct)};static#t=this.\u0275cmp=c.Xpm({type:ct,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(it,Ct){1&it&&c.GkF(0,0)},dependencies:[je],encapsulation:2})}return ct})(),Ae=(()=>{class ct{static#e=this.\u0275fac=function(it){return new(it||ct)};static#t=this.\u0275cmp=c.Xpm({type:ct,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(it,Ct){1&it&&c.GkF(0,0)},dependencies:[je],encapsulation:2})}return ct})(),ye=(()=>{class ct{constructor(Ke){this.templateRef=Ke,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.Rgc))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["ng-template","cdkNoDataRow",""]]})}return ct})();const K=["top","bottom","left","right"];class ie{constructor(Qt,Ke,it,Ct,Gt=!0,hn=!0,bn){this._isNativeHtmlTable=Qt,this._stickCellCss=Ke,this.direction=it,this._coalescedStyleScheduler=Ct,this._isBrowser=Gt,this._needsPositionStickyOnElement=hn,this._positionListener=bn,this._cachedCellWidths=[],this._borderCellCss={top:`${Ke}-border-elem-top`,bottom:`${Ke}-border-elem-bottom`,left:`${Ke}-border-elem-left`,right:`${Ke}-border-elem-right`}}clearStickyPositioning(Qt,Ke){const it=[];for(const Ct of Qt)if(Ct.nodeType===Ct.ELEMENT_NODE){it.push(Ct);for(let Gt=0;Gt<Ct.children.length;Gt++)it.push(Ct.children[Gt])}this._coalescedStyleScheduler.schedule(()=>{for(const Ct of it)this._removeStickyStyle(Ct,Ke)})}updateStickyColumns(Qt,Ke,it,Ct=!0){if(!Qt.length||!this._isBrowser||!Ke.some(vn=>vn)&&!it.some(vn=>vn))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const Gt=Qt[0],hn=Gt.children.length,bn=this._getCellWidths(Gt,Ct),Ft=this._getStickyStartColumnPositions(bn,Ke),Rt=this._getStickyEndColumnPositions(bn,it),Ht=Ke.lastIndexOf(!0),on=it.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const vn="rtl"===this.direction,Un=vn?"right":"left",rt=vn?"left":"right";for(const Xt of Qt)for(let ve=0;ve<hn;ve++){const at=Xt.children[ve];Ke[ve]&&this._addStickyStyle(at,Un,Ft[ve],ve===Ht),it[ve]&&this._addStickyStyle(at,rt,Rt[ve],ve===on)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Ht?[]:bn.slice(0,Ht+1).map((Xt,ve)=>Ke[ve]?Xt:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===on?[]:bn.slice(on).map((Xt,ve)=>it[ve+on]?Xt:null).reverse()}))})}stickRows(Qt,Ke,it){if(!this._isBrowser)return;const Ct="bottom"===it?Qt.slice().reverse():Qt,Gt="bottom"===it?Ke.slice().reverse():Ke,hn=[],bn=[],Ft=[];for(let Ht=0,on=0;Ht<Ct.length;Ht++){if(!Gt[Ht])continue;hn[Ht]=on;const vn=Ct[Ht];Ft[Ht]=this._isNativeHtmlTable?Array.from(vn.children):[vn];const Un=vn.getBoundingClientRect().height;on+=Un,bn[Ht]=Un}const Rt=Gt.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let Ht=0;Ht<Ct.length;Ht++){if(!Gt[Ht])continue;const on=hn[Ht],vn=Ht===Rt;for(const Un of Ft[Ht])this._addStickyStyle(Un,it,on,vn)}"top"===it?this._positionListener?.stickyHeaderRowsUpdated({sizes:bn,offsets:hn,elements:Ft}):this._positionListener?.stickyFooterRowsUpdated({sizes:bn,offsets:hn,elements:Ft})})}updateStickyFooterContainer(Qt,Ke){if(!this._isNativeHtmlTable)return;const it=Qt.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{Ke.some(Ct=>!Ct)?this._removeStickyStyle(it,["bottom"]):this._addStickyStyle(it,"bottom",0,!1)})}_removeStickyStyle(Qt,Ke){for(const Ct of Ke)Qt.style[Ct]="",Qt.classList.remove(this._borderCellCss[Ct]);K.some(Ct=>-1===Ke.indexOf(Ct)&&Qt.style[Ct])?Qt.style.zIndex=this._getCalculatedZIndex(Qt):(Qt.style.zIndex="",this._needsPositionStickyOnElement&&(Qt.style.position=""),Qt.classList.remove(this._stickCellCss))}_addStickyStyle(Qt,Ke,it,Ct){Qt.classList.add(this._stickCellCss),Ct&&Qt.classList.add(this._borderCellCss[Ke]),Qt.style[Ke]=`${it}px`,Qt.style.zIndex=this._getCalculatedZIndex(Qt),this._needsPositionStickyOnElement&&(Qt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Qt){const Ke={top:100,bottom:10,left:1,right:1};let it=0;for(const Ct of K)Qt.style[Ct]&&(it+=Ke[Ct]);return it?`${it}`:""}_getCellWidths(Qt,Ke=!0){if(!Ke&&this._cachedCellWidths.length)return this._cachedCellWidths;const it=[],Ct=Qt.children;for(let Gt=0;Gt<Ct.length;Gt++)it.push(Ct[Gt].getBoundingClientRect().width);return this._cachedCellWidths=it,it}_getStickyStartColumnPositions(Qt,Ke){const it=[];let Ct=0;for(let Gt=0;Gt<Qt.length;Gt++)Ke[Gt]&&(it[Gt]=Ct,Ct+=Qt[Gt]);return it}_getStickyEndColumnPositions(Qt,Ke){const it=[];let Ct=0;for(let Gt=Qt.length;Gt>0;Gt--)Ke[Gt]&&(it[Gt]=Ct,Ct+=Qt[Gt]);return it}}const de=new c.OlP("CDK_SPL");let ce=(()=>{class ct{constructor(Ke,it){this.viewContainer=Ke,this.elementRef=it}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","rowOutlet",""]]})}return ct})(),Ce=(()=>{class ct{constructor(Ke,it){this.viewContainer=Ke,this.elementRef=it}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","headerRowOutlet",""]]})}return ct})(),Ye=(()=>{class ct{constructor(Ke,it){this.viewContainer=Ke,this.elementRef=it}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","footerRowOutlet",""]]})}return ct})(),Be=(()=>{class ct{constructor(Ke,it){this.viewContainer=Ke,this.elementRef=it}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.s_b),c.Y36(c.SBq))};static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","noDataRowOutlet",""]]})}return ct})(),qe=(()=>{class ct{get trackBy(){return this._trackByFn}set trackBy(Ke){this._trackByFn=Ke}get dataSource(){return this._dataSource}set dataSource(Ke){this._dataSource!==Ke&&this._switchDataSource(Ke)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Ke){this._multiTemplateDataRows=(0,b.Ig)(Ke),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Ke){this._fixedLayout=(0,b.Ig)(Ke),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(Ke,it,Ct,Gt,hn,bn,Ft,Rt,Ht,on,vn,Un){this._differs=Ke,this._changeDetectorRef=it,this._elementRef=Ct,this._dir=hn,this._platform=Ft,this._viewRepeater=Rt,this._coalescedStyleScheduler=Ht,this._viewportRuler=on,this._stickyPositioningListener=vn,this._ngZone=Un,this._onDestroy=new x.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new h.X({start:0,end:Number.MAX_VALUE}),Gt||this._elementRef.nativeElement.setAttribute("role","table"),this._document=bn,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((Ke,it)=>this.trackBy?this.trackBy(it.dataIndex,it.data):it),this._viewportRuler.change().pipe((0,A.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const it=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||it,this._forceRecalculateCellWidths=it,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Ke=>{Ke.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,I.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Ke=this._dataDiffer.diff(this._renderRows);if(!Ke)return this._updateNoDataRow(),void this.contentChanged.next();const it=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Ke,it,(Ct,Gt,hn)=>this._getEmbeddedViewArgs(Ct.item,hn),Ct=>Ct.item.data,Ct=>{1===Ct.operation&&Ct.context&&this._renderCellTemplateForItem(Ct.record.item.rowDef,Ct.context)}),this._updateRowIndexContext(),Ke.forEachIdentityChange(Ct=>{it.get(Ct.currentIndex).context.$implicit=Ct.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,U.q)(1),(0,A.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(Ke){this._customColumnDefs.add(Ke)}removeColumnDef(Ke){this._customColumnDefs.delete(Ke)}addRowDef(Ke){this._customRowDefs.add(Ke)}removeRowDef(Ke){this._customRowDefs.delete(Ke)}addHeaderRowDef(Ke){this._customHeaderRowDefs.add(Ke),this._headerRowDefChanged=!0}removeHeaderRowDef(Ke){this._customHeaderRowDefs.delete(Ke),this._headerRowDefChanged=!0}addFooterRowDef(Ke){this._customFooterRowDefs.add(Ke),this._footerRowDefChanged=!0}removeFooterRowDef(Ke){this._customFooterRowDefs.delete(Ke),this._footerRowDefChanged=!0}setNoDataRow(Ke){this._customNoDataRow=Ke}updateStickyHeaderRowStyles(){const Ke=this._getRenderedRows(this._headerRowOutlet),Ct=this._elementRef.nativeElement.querySelector("thead");Ct&&(Ct.style.display=Ke.length?"":"none");const Gt=this._headerRowDefs.map(hn=>hn.sticky);this._stickyStyler.clearStickyPositioning(Ke,["top"]),this._stickyStyler.stickRows(Ke,Gt,"top"),this._headerRowDefs.forEach(hn=>hn.resetStickyChanged())}updateStickyFooterRowStyles(){const Ke=this._getRenderedRows(this._footerRowOutlet),Ct=this._elementRef.nativeElement.querySelector("tfoot");Ct&&(Ct.style.display=Ke.length?"":"none");const Gt=this._footerRowDefs.map(hn=>hn.sticky);this._stickyStyler.clearStickyPositioning(Ke,["bottom"]),this._stickyStyler.stickRows(Ke,Gt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,Gt),this._footerRowDefs.forEach(hn=>hn.resetStickyChanged())}updateStickyColumnStyles(){const Ke=this._getRenderedRows(this._headerRowOutlet),it=this._getRenderedRows(this._rowOutlet),Ct=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Ke,...it,...Ct],["left","right"]),this._stickyColumnStylesNeedReset=!1),Ke.forEach((Gt,hn)=>{this._addStickyColumnStyles([Gt],this._headerRowDefs[hn])}),this._rowDefs.forEach(Gt=>{const hn=[];for(let bn=0;bn<it.length;bn++)this._renderRows[bn].rowDef===Gt&&hn.push(it[bn]);this._addStickyColumnStyles(hn,Gt)}),Ct.forEach((Gt,hn)=>{this._addStickyColumnStyles([Gt],this._footerRowDefs[hn])}),Array.from(this._columnDefsByName.values()).forEach(Gt=>Gt.resetStickyChanged())}_getAllRenderRows(){const Ke=[],it=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Ct=0;Ct<this._data.length;Ct++){let Gt=this._data[Ct];const hn=this._getRenderRowsForData(Gt,Ct,it.get(Gt));this._cachedRenderRowsMap.has(Gt)||this._cachedRenderRowsMap.set(Gt,new WeakMap);for(let bn=0;bn<hn.length;bn++){let Ft=hn[bn];const Rt=this._cachedRenderRowsMap.get(Ft.data);Rt.has(Ft.rowDef)?Rt.get(Ft.rowDef).push(Ft):Rt.set(Ft.rowDef,[Ft]),Ke.push(Ft)}}return Ke}_getRenderRowsForData(Ke,it,Ct){return this._getRowDefs(Ke,it).map(hn=>{const bn=Ct&&Ct.has(hn)?Ct.get(hn):[];if(bn.length){const Ft=bn.shift();return Ft.dataIndex=it,Ft}return{data:Ke,rowDef:hn,dataIndex:it}})}_cacheColumnDefs(){this._columnDefsByName.clear(),dt(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(it=>{this._columnDefsByName.has(it.name),this._columnDefsByName.set(it.name,it)})}_cacheRowDefs(){this._headerRowDefs=dt(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=dt(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=dt(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Ke=this._rowDefs.filter(it=>!it.when);this._defaultRowDef=Ke[0]}_renderUpdatedColumns(){const Ke=(hn,bn)=>hn||!!bn.getColumnsDiff(),it=this._rowDefs.reduce(Ke,!1);it&&this._forceRenderDataRows();const Ct=this._headerRowDefs.reduce(Ke,!1);Ct&&this._forceRenderHeaderRows();const Gt=this._footerRowDefs.reduce(Ke,!1);return Gt&&this._forceRenderFooterRows(),it||Ct||Gt}_switchDataSource(Ke){this._data=[],(0,I.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Ke||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=Ke}_observeRenderChanges(){if(!this.dataSource)return;let Ke;(0,I.Z9)(this.dataSource)?Ke=this.dataSource.connect(this):(0,p.b)(this.dataSource)?Ke=this.dataSource:Array.isArray(this.dataSource)&&(Ke=(0,v.of)(this.dataSource)),this._renderChangeSubscription=Ke.pipe((0,A.R)(this._onDestroy)).subscribe(it=>{this._data=it||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Ke,it)=>this._renderRow(this._headerRowOutlet,Ke,it)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Ke,it)=>this._renderRow(this._footerRowOutlet,Ke,it)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Ke,it){const Ct=Array.from(it.columns||[]).map(bn=>this._columnDefsByName.get(bn)),Gt=Ct.map(bn=>bn.sticky),hn=Ct.map(bn=>bn.stickyEnd);this._stickyStyler.updateStickyColumns(Ke,Gt,hn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Ke){const it=[];for(let Ct=0;Ct<Ke.viewContainer.length;Ct++){const Gt=Ke.viewContainer.get(Ct);it.push(Gt.rootNodes[0])}return it}_getRowDefs(Ke,it){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Ct=[];if(this.multiTemplateDataRows)Ct=this._rowDefs.filter(Gt=>!Gt.when||Gt.when(it,Ke));else{let Gt=this._rowDefs.find(hn=>hn.when&&hn.when(it,Ke))||this._defaultRowDef;Gt&&Ct.push(Gt)}return Ct}_getEmbeddedViewArgs(Ke,it){return{templateRef:Ke.rowDef.template,context:{$implicit:Ke.data},index:it}}_renderRow(Ke,it,Ct,Gt={}){const hn=Ke.viewContainer.createEmbeddedView(it.template,Gt,Ct);return this._renderCellTemplateForItem(it,Gt),hn}_renderCellTemplateForItem(Ke,it){for(let Ct of this._getCellTemplates(Ke))je.mostRecentCellOutlet&&je.mostRecentCellOutlet._viewContainer.createEmbeddedView(Ct,it);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Ke=this._rowOutlet.viewContainer;for(let it=0,Ct=Ke.length;it<Ct;it++){const hn=Ke.get(it).context;hn.count=Ct,hn.first=0===it,hn.last=it===Ct-1,hn.even=it%2==0,hn.odd=!hn.even,this.multiTemplateDataRows?(hn.dataIndex=this._renderRows[it].dataIndex,hn.renderIndex=it):hn.index=this._renderRows[it].dataIndex}}_getCellTemplates(Ke){return Ke&&Ke.columns?Array.from(Ke.columns,it=>{const Ct=this._columnDefsByName.get(it);return Ke.extractCellTemplate(Ct)}):[]}_applyNativeTableSections(){const Ke=this._document.createDocumentFragment(),it=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const Ct of it){const Gt=this._document.createElement(Ct.tag);Gt.setAttribute("role","rowgroup");for(const hn of Ct.outlets)Gt.appendChild(hn.elementRef.nativeElement);Ke.appendChild(Gt)}this._elementRef.nativeElement.appendChild(Ke)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Ke=(it,Ct)=>it||Ct.hasStickyChanged();this._headerRowDefs.reduce(Ke,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Ke,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Ke,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ie(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,v.of)()).pipe((0,A.R)(this._onDestroy)).subscribe(it=>{this._stickyStyler.direction=it,this.updateStickyColumnStyles()})}_getOwnDefs(Ke){return Ke.filter(it=>!it._table||it._table===this)}_updateNoDataRow(){const Ke=this._customNoDataRow||this._noDataRow;if(!Ke)return;const it=0===this._rowOutlet.viewContainer.length;if(it===this._isShowingNoDataRow)return;const Ct=this._noDataRowOutlet.viewContainer;if(it){const Gt=Ct.createEmbeddedView(Ke.templateRef),hn=Gt.rootNodes[0];1===Gt.rootNodes.length&&hn?.nodeType===this._document.ELEMENT_NODE&&(hn.setAttribute("role","row"),hn.classList.add(Ke._contentClassName))}else Ct.clear();this._isShowingNoDataRow=it}static#e=this.\u0275fac=function(it){return new(it||ct)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(t.Is,8),c.Y36(L.K0),c.Y36(y.t4),c.Y36(I.k),c.Y36(te),c.Y36(F.rL),c.Y36(de,12),c.Y36(c.R0b,8))};static#t=this.\u0275cmp=c.Xpm({type:ct,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(it,Ct,Gt){if(1&it&&(c.Suo(Gt,ye,5),c.Suo(Gt,ae,5),c.Suo(Gt,Oe,5),c.Suo(Gt,we,5),c.Suo(Gt,Pe,5)),2&it){let hn;c.iGM(hn=c.CRH())&&(Ct._noDataRow=hn.first),c.iGM(hn=c.CRH())&&(Ct._contentColumnDefs=hn),c.iGM(hn=c.CRH())&&(Ct._contentRowDefs=hn),c.iGM(hn=c.CRH())&&(Ct._contentHeaderRowDefs=hn),c.iGM(hn=c.CRH())&&(Ct._contentFooterRowDefs=hn)}},viewQuery:function(it,Ct){if(1&it&&(c.Gf(ce,7),c.Gf(Ce,7),c.Gf(Ye,7),c.Gf(Be,7)),2&it){let Gt;c.iGM(Gt=c.CRH())&&(Ct._rowOutlet=Gt.first),c.iGM(Gt=c.CRH())&&(Ct._headerRowOutlet=Gt.first),c.iGM(Gt=c.CRH())&&(Ct._footerRowOutlet=Gt.first),c.iGM(Gt=c.CRH())&&(Ct._noDataRowOutlet=Gt.first)}},hostAttrs:["ngSkipHydration","",1,"cdk-table"],hostVars:2,hostBindings:function(it,Ct){2&it&&c.ekj("cdk-table-fixed-layout",Ct.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:w,useExisting:ct},{provide:I.k,useClass:I.yy},{provide:te,useClass:ue},{provide:de,useValue:null}])],ngContentSelectors:V,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(it,Ct){1&it&&(c.F$t(O),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ce,Ce,Ye,Be],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return ct})();function dt(ct,Qt){return ct.concat(Array.from(Qt))}let Ot=(()=>{class ct{static#e=this.\u0275fac=function(it){return new(it||ct)};static#t=this.\u0275mod=c.oAB({type:ct});static#n=this.\u0275inj=c.cJS({imports:[F.Cl]})}return ct})();var jt=C(3680),zt=C(3019),$t=C(2572),dn=C(7398);const pn=[[["caption"]],[["colgroup"],["col"]]],jn=["caption","colgroup, col"];let fe=(()=>{class ct extends qe{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275cmp=c.Xpm({type:ct,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:["ngSkipHydration","",1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(it,Ct){2&it&&c.ekj("mdc-table-fixed-layout",Ct.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:qe,useExisting:ct},{provide:w,useExisting:ct},{provide:te,useClass:ue},{provide:I.k,useClass:I.yy},{provide:de,useValue:null}]),c.qOj],ngContentSelectors:jn,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(it,Ct){1&it&&(c.F$t(pn),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ce,Ce,Ye,Be],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child>.mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child>.mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return ct})(),pe=(()=>{class ct extends N{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:N,useExisting:ct}]),c.qOj]})}return ct})(),lt=(()=>{class ct extends S{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:S,useExisting:ct}]),c.qOj]})}return ct})(),Dt=(()=>{class ct extends ae{get name(){return this._name}set name(Ke){this._setNameInput(Ke)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:ae,useExisting:ct},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:ct}]),c.qOj]})}return ct})(),ft=(()=>{class ct extends z{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]})}return ct})(),Nt=(()=>{class ct extends H{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]})}return ct})(),Wt=(()=>{class ct extends we{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:we,useExisting:ct}]),c.qOj]})}return ct})(),Vt=(()=>{class ct extends Oe{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:Oe,useExisting:ct}]),c.qOj]})}return ct})(),en=(()=>{class ct extends ze{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275cmp=c.Xpm({type:ct,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:ze,useExisting:ct}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(it,Ct){1&it&&c.GkF(0,0)},dependencies:[je],encapsulation:2})}return ct})(),yn=(()=>{class ct extends Ae{static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275cmp=c.Xpm({type:ct,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:Ae,useExisting:ct}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(it,Ct){1&it&&c.GkF(0,0)},dependencies:[je],encapsulation:2})}return ct})(),Tn=(()=>{class ct extends ye{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}static#e=this.\u0275fac=function(){let Ke;return function(Ct){return(Ke||(Ke=c.n5z(ct)))(Ct||ct)}}();static#t=this.\u0275dir=c.lG2({type:ct,selectors:[["ng-template","matNoDataRow",""]],features:[c._Bn([{provide:ye,useExisting:ct}]),c.qOj]})}return ct})(),qn=(()=>{class ct{static#e=this.\u0275fac=function(it){return new(it||ct)};static#t=this.\u0275mod=c.oAB({type:ct});static#n=this.\u0275inj=c.cJS({imports:[jt.BQ,Ot,jt.BQ]})}return ct})();class kt extends I.o2{get data(){return this._data.value}set data(Qt){Qt=Array.isArray(Qt)?Qt:[],this._data.next(Qt),this._renderChangesSubscription||this._filterData(Qt)}get filter(){return this._filter.value}set filter(Qt){this._filter.next(Qt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Qt){this._sort=Qt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Qt){this._paginator=Qt,this._updateChangeSubscription()}constructor(Qt=[]){super(),this._renderData=new h.X([]),this._filter=new h.X(""),this._internalPageChanges=new x.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(Ke,it)=>{const Ct=Ke[it];if((0,b.t6)(Ct)){const Gt=Number(Ct);return Gt<9007199254740991?Gt:Ct}return Ct},this.sortData=(Ke,it)=>{const Ct=it.active,Gt=it.direction;return Ct&&""!=Gt?Ke.sort((hn,bn)=>{let Ft=this.sortingDataAccessor(hn,Ct),Rt=this.sortingDataAccessor(bn,Ct);const Ht=typeof Ft,on=typeof Rt;Ht!==on&&("number"===Ht&&(Ft+=""),"number"===on&&(Rt+=""));let vn=0;return null!=Ft&&null!=Rt?Ft>Rt?vn=1:Ft<Rt&&(vn=-1):null!=Ft?vn=1:null!=Rt&&(vn=-1),vn*("asc"==Gt?1:-1)}):Ke},this.filterPredicate=(Ke,it)=>{const Ct=Object.keys(Ke).reduce((hn,bn)=>hn+Ke[bn]+"\u25ec","").toLowerCase(),Gt=it.trim().toLowerCase();return-1!=Ct.indexOf(Gt)},this._data=new h.X(Qt),this._updateChangeSubscription()}_updateChangeSubscription(){const Qt=this._sort?(0,zt.T)(this._sort.sortChange,this._sort.initialized):(0,v.of)(null),Ke=this._paginator?(0,zt.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,v.of)(null),Ct=(0,$t.a)([this._data,this._filter]).pipe((0,dn.U)(([bn])=>this._filterData(bn))),Gt=(0,$t.a)([Ct,Qt]).pipe((0,dn.U)(([bn])=>this._orderData(bn))),hn=(0,$t.a)([Gt,Ke]).pipe((0,dn.U)(([bn])=>this._pageData(bn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=hn.subscribe(bn=>this._renderData.next(bn))}_filterData(Qt){return this.filteredData=null==this.filter||""===this.filter?Qt:Qt.filter(Ke=>this.filterPredicate(Ke,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Qt){return this.sort?this.sortData(Qt.slice(),this.sort):Qt}_pageData(Qt){if(!this.paginator)return Qt;const Ke=this.paginator.pageIndex*this.paginator.pageSize;return Qt.slice(Ke,Ke+this.paginator.pageSize)}_updatePaginator(Qt){Promise.resolve().then(()=>{const Ke=this.paginator;if(Ke&&(Ke.length=Qt,Ke.pageIndex>0)){const it=Math.ceil(Ke.length/Ke.pageSize)-1||0,Ct=Math.min(Ke.pageIndex,it);Ct!==Ke.pageIndex&&(Ke.pageIndex=Ct,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class St extends kt{}},2596:(In,Ze,C)=>{"use strict";C.d(Ze,{AV:()=>le,gM:()=>te});var c=C(9773),t=C(8180),b=C(2495),I=C(6028),y=C(5879),F=C(6814),L=C(2831),x=C(4300),m=C(9388),h=C(3651),p=C(799),v=C(8484),A=C(8645),O=(C(6825),C(3680));const V=["tooltip"],D=new y.OlP("mat-tooltip-scroll-strategy"),E={provide:D,deps:[h.aV],useFactory:function w(Me){return()=>Me.scrollStrategies.reposition({scrollThrottle:20})}},S=new y.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function N(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Y="tooltip-panel",re=(0,L.i$)({passive:!0});let me=(()=>{class Me{get position(){return this._position}set position(_e){_e!==this._position&&(this._position=_e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(_e){this._positionAtOrigin=(0,b.Ig)(_e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(_e){this._disabled=(0,b.Ig)(_e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(_e){this._showDelay=(0,b.su)(_e)}get hideDelay(){return this._hideDelay}set hideDelay(_e){this._hideDelay=(0,b.su)(_e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(_e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=_e?String(_e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(_e){this._tooltipClass=_e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(_e,Le,Pe,Oe,je,ze,He,Ae,ye,K,ie,he){this._overlay=_e,this._elementRef=Le,this._scrollDispatcher=Pe,this._viewContainerRef=Oe,this._ngZone=je,this._platform=ze,this._ariaDescriber=He,this._focusMonitor=Ae,this._dir=K,this._defaultOptions=ie,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new A.x,this._scrollStrategy=ye,this._document=he,ie&&(this._showDelay=ie.showDelay,this._hideDelay=ie.hideDelay,ie.position&&(this.position=ie.position),ie.positionAtOrigin&&(this.positionAtOrigin=ie.positionAtOrigin),ie.touchGestures&&(this.touchGestures=ie.touchGestures)),K.change.pipe((0,c.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,c.R)(this._destroyed)).subscribe(_e=>{_e?"keyboard"===_e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const _e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([Le,Pe])=>{_e.removeEventListener(Le,Pe,re)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(_e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(_e)}show(_e=this.showDelay,Le){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Pe=this._createOverlay(Le);this._detach(),this._portal=this._portal||new v.C5(this._tooltipComponent,this._viewContainerRef);const Oe=this._tooltipInstance=Pe.attach(this._portal).instance;Oe._triggerElement=this._elementRef.nativeElement,Oe._mouseLeaveHideDelay=this._hideDelay,Oe.afterHidden().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Oe.show(_e)}hide(_e=this.hideDelay){const Le=this._tooltipInstance;Le&&(Le.isVisible()?Le.hide(_e):(Le._cancelPendingAnimations(),this._detach()))}toggle(_e){this._isTooltipVisible()?this.hide():this.show(void 0,_e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(_e){if(this._overlayRef){const Oe=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!_e)&&Oe._origin instanceof y.SBq)return this._overlayRef;this._detach()}const Le=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Pe=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&_e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(Le);return Pe.positionChanges.pipe((0,c.R)(this._destroyed)).subscribe(Oe=>{this._updateCurrentPositionClass(Oe.connectionPair),this._tooltipInstance&&Oe.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Pe,panelClass:`${this._cssClassPrefix}-${Y}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,c.R)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,c.R)(this._destroyed)).subscribe(Oe=>{this._isTooltipVisible()&&Oe.keyCode===I.hY&&!(0,I.Vb)(Oe)&&(Oe.preventDefault(),Oe.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(_e){const Le=_e.getConfig().positionStrategy,Pe=this._getOrigin(),Oe=this._getOverlayPosition();Le.withPositions([this._addOffset({...Pe.main,...Oe.main}),this._addOffset({...Pe.fallback,...Oe.fallback})])}_addOffset(_e){return _e}_getOrigin(){const _e=!this._dir||"ltr"==this._dir.value,Le=this.position;let Pe;"above"==Le||"below"==Le?Pe={originX:"center",originY:"above"==Le?"top":"bottom"}:"before"==Le||"left"==Le&&_e||"right"==Le&&!_e?Pe={originX:"start",originY:"center"}:("after"==Le||"right"==Le&&_e||"left"==Le&&!_e)&&(Pe={originX:"end",originY:"center"});const{x:Oe,y:je}=this._invertPosition(Pe.originX,Pe.originY);return{main:Pe,fallback:{originX:Oe,originY:je}}}_getOverlayPosition(){const _e=!this._dir||"ltr"==this._dir.value,Le=this.position;let Pe;"above"==Le?Pe={overlayX:"center",overlayY:"bottom"}:"below"==Le?Pe={overlayX:"center",overlayY:"top"}:"before"==Le||"left"==Le&&_e||"right"==Le&&!_e?Pe={overlayX:"end",overlayY:"center"}:("after"==Le||"right"==Le&&_e||"left"==Le&&!_e)&&(Pe={overlayX:"start",overlayY:"center"});const{x:Oe,y:je}=this._invertPosition(Pe.overlayX,Pe.overlayY);return{main:Pe,fallback:{overlayX:Oe,overlayY:je}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,t.q)(1),(0,c.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(_e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=_e,this._tooltipInstance._markForCheck())}_invertPosition(_e,Le){return"above"===this.position||"below"===this.position?"top"===Le?Le="bottom":"bottom"===Le&&(Le="top"):"end"===_e?_e="start":"start"===_e&&(_e="end"),{x:_e,y:Le}}_updateCurrentPositionClass(_e){const{overlayY:Le,originX:Pe,originY:Oe}=_e;let je;if(je="center"===Le?this._dir&&"rtl"===this._dir.value?"end"===Pe?"left":"right":"start"===Pe?"left":"right":"bottom"===Le&&"top"===Oe?"above":"below",je!==this._currentPosition){const ze=this._overlayRef;if(ze){const He=`${this._cssClassPrefix}-${Y}-`;ze.removePanelClass(He+this._currentPosition),ze.addPanelClass(He+je)}this._currentPosition=je}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",_e=>{let Le;this._setupPointerExitEventsIfNeeded(),void 0!==_e.x&&void 0!==_e.y&&(Le=_e),this.show(void 0,Le)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",_e=>{const Le=_e.targetTouches?.[0],Pe=Le?{x:Le.clientX,y:Le.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Pe),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const _e=[];if(this._platformSupportsMouseEvents())_e.push(["mouseleave",Le=>{const Pe=Le.relatedTarget;(!Pe||!this._overlayRef?.overlayElement.contains(Pe))&&this.hide()}],["wheel",Le=>this._wheelListener(Le)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const Le=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};_e.push(["touchend",Le],["touchcancel",Le])}this._addListeners(_e),this._passiveListeners.push(..._e)}_addListeners(_e){_e.forEach(([Le,Pe])=>{this._elementRef.nativeElement.addEventListener(Le,Pe,re)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(_e){if(this._isTooltipVisible()){const Le=this._document.elementFromPoint(_e.clientX,_e.clientY),Pe=this._elementRef.nativeElement;Le!==Pe&&!Pe.contains(Le)&&this.hide()}}_disableNativeGesturesIfNecessary(){const _e=this.touchGestures;if("off"!==_e){const Le=this._elementRef.nativeElement,Pe=Le.style;("on"===_e||"INPUT"!==Le.nodeName&&"TEXTAREA"!==Le.nodeName)&&(Pe.userSelect=Pe.msUserSelect=Pe.webkitUserSelect=Pe.MozUserSelect="none"),("on"===_e||!Le.draggable)&&(Pe.webkitUserDrag="none"),Pe.touchAction="none",Pe.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(Le){y.$Z()};static#t=this.\u0275dir=y.lG2({type:Me,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return Me})(),te=(()=>{class Me extends me{constructor(_e,Le,Pe,Oe,je,ze,He,Ae,ye,K,ie,he){super(_e,Le,Pe,Oe,je,ze,He,Ae,ye,K,ie,he),this._tooltipComponent=Se,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(_e){const Pe=!this._dir||"ltr"==this._dir.value;return"top"===_e.originY?_e.offsetY=-8:"bottom"===_e.originY?_e.offsetY=8:"start"===_e.originX?_e.offsetX=Pe?-8:8:"end"===_e.originX&&(_e.offsetX=Pe?8:-8),_e}static#e=this.\u0275fac=function(Le){return new(Le||Me)(y.Y36(h.aV),y.Y36(y.SBq),y.Y36(p.mF),y.Y36(y.s_b),y.Y36(y.R0b),y.Y36(L.t4),y.Y36(x.$s),y.Y36(x.tE),y.Y36(D),y.Y36(m.Is,8),y.Y36(S,8),y.Y36(F.K0))};static#t=this.\u0275dir=y.lG2({type:Me,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(Le,Pe){2&Le&&y.ekj("mat-mdc-tooltip-disabled",Pe.disabled)},exportAs:["matTooltip"],features:[y.qOj]})}return Me})(),ue=(()=>{class Me{constructor(_e,Le){this._changeDetectorRef=_e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new A.x,this._animationsDisabled="NoopAnimations"===Le}show(_e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},_e)}hide(_e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},_e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:_e}){(!_e||!this._triggerElement.contains(_e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:_e}){(_e===this._showAnimation||_e===this._hideAnimation)&&this._finalizeAnimation(_e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(_e){_e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(_e){const Le=this._tooltip.nativeElement,Pe=this._showAnimation,Oe=this._hideAnimation;if(Le.classList.remove(_e?Oe:Pe),Le.classList.add(_e?Pe:Oe),this._isVisible=_e,_e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const je=getComputedStyle(Le);("0s"===je.getPropertyValue("animation-duration")||"none"===je.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}_e&&this._onShow(),this._animationsDisabled&&(Le.classList.add("_mat-animation-noopable"),this._finalizeAnimation(_e))}static#e=this.\u0275fac=function(Le){return new(Le||Me)(y.Y36(y.sBO),y.Y36(y.QbO,8))};static#t=this.\u0275dir=y.lG2({type:Me})}return Me})(),Se=(()=>{class Me extends ue{constructor(_e,Le,Pe){super(_e,Pe),this._elementRef=Le,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const _e=this._elementRef.nativeElement.getBoundingClientRect();return _e.height>24&&_e.width>=200}static#e=this.\u0275fac=function(Le){return new(Le||Me)(y.Y36(y.sBO),y.Y36(y.SBq),y.Y36(y.QbO,8))};static#t=this.\u0275cmp=y.Xpm({type:Me,selectors:[["mat-tooltip-component"]],viewQuery:function(Le,Pe){if(1&Le&&y.Gf(V,7),2&Le){let Oe;y.iGM(Oe=y.CRH())&&(Pe._tooltip=Oe.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(Le,Pe){1&Le&&y.NdJ("mouseleave",function(je){return Pe._handleMouseLeave(je)}),2&Le&&y.Udp("zoom",Pe.isVisible()?1:null)},features:[y.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(Le,Pe){1&Le&&(y.TgZ(0,"div",0,1),y.NdJ("animationend",function(je){return Pe._handleAnimationEnd(je)}),y.TgZ(2,"div",2),y._uU(3),y.qZA()()),2&Le&&(y.ekj("mdc-tooltip--multiline",Pe._isMultiline),y.Q6J("ngClass",Pe.tooltipClass),y.xp6(3),y.Oqu(Pe.message))},dependencies:[F.mk],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return Me})(),le=(()=>{class Me{static#e=this.\u0275fac=function(Le){return new(Le||Me)};static#t=this.\u0275mod=y.oAB({type:Me});static#n=this.\u0275inj=y.cJS({providers:[E],imports:[x.rt,F.ez,h.U8,O.BQ,O.BQ,p.ZD]})}return Me})()},6593:(In,Ze,C)=>{"use strict";C.d(Ze,{Dx:()=>Q,H7:()=>zt,b2:()=>he,q6:()=>Ae,se:()=>re});var c=C(5879),t=C(6814);class b extends t.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class I extends b{static makeCurrent(){(0,t.HT)(new I)}onAndCancel(Dt,ft,bt){return Dt.addEventListener(ft,bt),()=>{Dt.removeEventListener(ft,bt)}}dispatchEvent(Dt,ft){Dt.dispatchEvent(ft)}remove(Dt){Dt.parentNode&&Dt.parentNode.removeChild(Dt)}createElement(Dt,ft){return(ft=ft||this.getDefaultDocument()).createElement(Dt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Dt){return Dt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Dt){return Dt instanceof DocumentFragment}getGlobalEventTarget(Dt,ft){return"window"===ft?window:"document"===ft?Dt:"body"===ft?Dt.body:null}getBaseHref(Dt){const ft=function F(){return y=y||document.querySelector("base"),y?y.getAttribute("href"):null}();return null==ft?null:function x(mt){L=L||document.createElement("a"),L.setAttribute("href",mt);const Dt=L.pathname;return"/"===Dt.charAt(0)?Dt:`/${Dt}`}(ft)}resetBaseElement(){y=null}getUserAgent(){return window.navigator.userAgent}getCookie(Dt){return(0,t.Mx)(document.cookie,Dt)}}let L,y=null,h=(()=>{class mt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(bt){return new(bt||mt)};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const p=new c.OlP("EventManagerPlugins");let v=(()=>{class mt{constructor(ft,bt){this._zone=bt,this._eventNameToPlugin=new Map,ft.forEach(Nt=>{Nt.manager=this}),this._plugins=ft.slice().reverse()}addEventListener(ft,bt,Nt){return this._findPluginFor(bt).addEventListener(ft,bt,Nt)}getZone(){return this._zone}_findPluginFor(ft){let bt=this._eventNameToPlugin.get(ft);if(bt)return bt;if(bt=this._plugins.find(Wt=>Wt.supports(ft)),!bt)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(ft,bt),bt}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(p),c.LFG(c.R0b))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();class A{constructor(Dt){this._doc=Dt}}const U="ng-app-id";let O=(()=>{class mt{constructor(ft,bt,Nt,Wt={}){this.doc=ft,this.appId=bt,this.nonce=Nt,this.platformId=Wt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.PM)(Wt),this.resetHostNodes()}addStyles(ft){for(const bt of ft)1===this.changeUsageCount(bt,1)&&this.onStyleAdded(bt)}removeStyles(ft){for(const bt of ft)this.changeUsageCount(bt,-1)<=0&&this.onStyleRemoved(bt)}ngOnDestroy(){const ft=this.styleNodesInDOM;ft&&(ft.forEach(bt=>bt.remove()),ft.clear());for(const bt of this.getAllStyles())this.onStyleRemoved(bt);this.resetHostNodes()}addHost(ft){this.hostNodes.add(ft);for(const bt of this.getAllStyles())this.addStyleToHost(ft,bt)}removeHost(ft){this.hostNodes.delete(ft)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ft){for(const bt of this.hostNodes)this.addStyleToHost(bt,ft)}onStyleRemoved(ft){const bt=this.styleRef;bt.get(ft)?.elements?.forEach(Nt=>Nt.remove()),bt.delete(ft)}collectServerRenderedStyles(){const ft=this.doc.head?.querySelectorAll(`style[${U}="${this.appId}"]`);if(ft?.length){const bt=new Map;return ft.forEach(Nt=>{null!=Nt.textContent&&bt.set(Nt.textContent,Nt)}),bt}return null}changeUsageCount(ft,bt){const Nt=this.styleRef;if(Nt.has(ft)){const Wt=Nt.get(ft);return Wt.usage+=bt,Wt.usage}return Nt.set(ft,{usage:bt,elements:[]}),bt}getStyleElement(ft,bt){const Nt=this.styleNodesInDOM,Wt=Nt?.get(bt);if(Wt?.parentNode===ft)return Nt.delete(bt),Wt.removeAttribute(U),Wt;{const wt=this.doc.createElement("style");return this.nonce&&wt.setAttribute("nonce",this.nonce),wt.textContent=bt,this.platformIsServer&&wt.setAttribute(U,this.appId),wt}}addStyleToHost(ft,bt){const Nt=this.getStyleElement(ft,bt);ft.appendChild(Nt);const Wt=this.styleRef,wt=Wt.get(bt)?.elements;wt?wt.push(Nt):Wt.set(bt,{elements:[Nt],usage:1})}resetHostNodes(){const ft=this.hostNodes;ft.clear(),ft.add(this.doc.head)}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const V={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k=/%COMP%/g,P="%COMP%",D=`_nghost-${P}`,w=`_ngcontent-${P}`,N=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Y(mt,Dt){return Dt.map(ft=>ft.replace(k,mt))}let re=(()=>{class mt{constructor(ft,bt,Nt,Wt,wt,Vt,en,nn=null){this.eventManager=ft,this.sharedStylesHost=bt,this.appId=Nt,this.removeStylesOnCompDestroy=Wt,this.doc=wt,this.platformId=Vt,this.ngZone=en,this.nonce=nn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.PM)(Vt),this.defaultRenderer=new ae(ft,wt,en,this.platformIsServer)}createRenderer(ft,bt){if(!ft||!bt)return this.defaultRenderer;this.platformIsServer&&bt.encapsulation===c.ifc.ShadowDom&&(bt={...bt,encapsulation:c.ifc.Emulated});const Nt=this.getOrCreateRenderer(ft,bt);return Nt instanceof te?Nt.applyToHost(ft):Nt instanceof me&&Nt.applyStyles(),Nt}getOrCreateRenderer(ft,bt){const Nt=this.rendererByCompId;let Wt=Nt.get(bt.id);if(!Wt){const wt=this.doc,Vt=this.ngZone,en=this.eventManager,nn=this.sharedStylesHost,yn=this.removeStylesOnCompDestroy,Tn=this.platformIsServer;switch(bt.encapsulation){case c.ifc.Emulated:Wt=new te(en,nn,bt,this.appId,yn,wt,Vt,Tn);break;case c.ifc.ShadowDom:return new H(en,nn,ft,bt,wt,Vt,this.nonce,Tn);default:Wt=new me(en,nn,bt,yn,wt,Vt,Tn)}Nt.set(bt.id,Wt)}return Wt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(v),c.LFG(O),c.LFG(c.AFp),c.LFG(N),c.LFG(t.K0),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();class ae{constructor(Dt,ft,bt,Nt){this.eventManager=Dt,this.doc=ft,this.ngZone=bt,this.platformIsServer=Nt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Dt,ft){return ft?this.doc.createElementNS(V[ft]||ft,Dt):this.doc.createElement(Dt)}createComment(Dt){return this.doc.createComment(Dt)}createText(Dt){return this.doc.createTextNode(Dt)}appendChild(Dt,ft){(oe(Dt)?Dt.content:Dt).appendChild(ft)}insertBefore(Dt,ft,bt){Dt&&(oe(Dt)?Dt.content:Dt).insertBefore(ft,bt)}removeChild(Dt,ft){Dt&&Dt.removeChild(ft)}selectRootElement(Dt,ft){let bt="string"==typeof Dt?this.doc.querySelector(Dt):Dt;if(!bt)throw new c.vHH(-5104,!1);return ft||(bt.textContent=""),bt}parentNode(Dt){return Dt.parentNode}nextSibling(Dt){return Dt.nextSibling}setAttribute(Dt,ft,bt,Nt){if(Nt){ft=Nt+":"+ft;const Wt=V[Nt];Wt?Dt.setAttributeNS(Wt,ft,bt):Dt.setAttribute(ft,bt)}else Dt.setAttribute(ft,bt)}removeAttribute(Dt,ft,bt){if(bt){const Nt=V[bt];Nt?Dt.removeAttributeNS(Nt,ft):Dt.removeAttribute(`${bt}:${ft}`)}else Dt.removeAttribute(ft)}addClass(Dt,ft){Dt.classList.add(ft)}removeClass(Dt,ft){Dt.classList.remove(ft)}setStyle(Dt,ft,bt,Nt){Nt&(c.JOm.DashCase|c.JOm.Important)?Dt.style.setProperty(ft,bt,Nt&c.JOm.Important?"important":""):Dt.style[ft]=bt}removeStyle(Dt,ft,bt){bt&c.JOm.DashCase?Dt.style.removeProperty(ft):Dt.style[ft]=""}setProperty(Dt,ft,bt){Dt[ft]=bt}setValue(Dt,ft){Dt.nodeValue=ft}listen(Dt,ft,bt){if("string"==typeof Dt&&!(Dt=(0,t.q)().getGlobalEventTarget(this.doc,Dt)))throw new Error(`Unsupported event target ${Dt} for event ${ft}`);return this.eventManager.addEventListener(Dt,ft,this.decoratePreventDefault(bt))}decoratePreventDefault(Dt){return ft=>{if("__ngUnwrap__"===ft)return Dt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Dt(ft)):Dt(ft))&&ft.preventDefault()}}}function oe(mt){return"TEMPLATE"===mt.tagName&&void 0!==mt.content}class H extends ae{constructor(Dt,ft,bt,Nt,Wt,wt,Vt,en){super(Dt,Wt,wt,en),this.sharedStylesHost=ft,this.hostEl=bt,this.shadowRoot=bt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nn=Y(Nt.id,Nt.styles);for(const yn of nn){const Tn=document.createElement("style");Vt&&Tn.setAttribute("nonce",Vt),Tn.textContent=yn,this.shadowRoot.appendChild(Tn)}}nodeOrShadowRoot(Dt){return Dt===this.hostEl?this.shadowRoot:Dt}appendChild(Dt,ft){return super.appendChild(this.nodeOrShadowRoot(Dt),ft)}insertBefore(Dt,ft,bt){return super.insertBefore(this.nodeOrShadowRoot(Dt),ft,bt)}removeChild(Dt,ft){return super.removeChild(this.nodeOrShadowRoot(Dt),ft)}parentNode(Dt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Dt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class me extends ae{constructor(Dt,ft,bt,Nt,Wt,wt,Vt,en){super(Dt,Wt,wt,Vt),this.sharedStylesHost=ft,this.removeStylesOnCompDestroy=Nt,this.styles=en?Y(en,bt.styles):bt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class te extends me{constructor(Dt,ft,bt,Nt,Wt,wt,Vt,en){const nn=Nt+"-"+bt.id;super(Dt,ft,bt,Wt,wt,Vt,en,nn),this.contentAttr=function S(mt){return w.replace(k,mt)}(nn),this.hostAttr=function B(mt){return D.replace(k,mt)}(nn)}applyToHost(Dt){this.applyStyles(),this.setAttribute(Dt,this.hostAttr,"")}createElement(Dt,ft){const bt=super.createElement(Dt,ft);return super.setAttribute(bt,this.contentAttr,""),bt}}let ue=(()=>{class mt extends A{constructor(ft){super(ft)}supports(ft){return!0}addEventListener(ft,bt,Nt){return ft.addEventListener(bt,Nt,!1),()=>this.removeEventListener(ft,bt,Nt)}removeEventListener(ft,bt,Nt){return ft.removeEventListener(bt,Nt)}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const Se=["alt","control","meta","shift"],Ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},le={alt:mt=>mt.altKey,control:mt=>mt.ctrlKey,meta:mt=>mt.metaKey,shift:mt=>mt.shiftKey};let Me=(()=>{class mt extends A{constructor(ft){super(ft)}supports(ft){return null!=mt.parseEventName(ft)}addEventListener(ft,bt,Nt){const Wt=mt.parseEventName(bt),wt=mt.eventCallback(Wt.fullKey,Nt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.q)().onAndCancel(ft,Wt.domEventName,wt))}static parseEventName(ft){const bt=ft.toLowerCase().split("."),Nt=bt.shift();if(0===bt.length||"keydown"!==Nt&&"keyup"!==Nt)return null;const Wt=mt._normalizeKey(bt.pop());let wt="",Vt=bt.indexOf("code");if(Vt>-1&&(bt.splice(Vt,1),wt="code."),Se.forEach(nn=>{const yn=bt.indexOf(nn);yn>-1&&(bt.splice(yn,1),wt+=nn+".")}),wt+=Wt,0!=bt.length||0===Wt.length)return null;const en={};return en.domEventName=Nt,en.fullKey=wt,en}static matchEventFullKeyCode(ft,bt){let Nt=Ie[ft.key]||ft.key,Wt="";return bt.indexOf("code.")>-1&&(Nt=ft.code,Wt="code."),!(null==Nt||!Nt)&&(Nt=Nt.toLowerCase()," "===Nt?Nt="space":"."===Nt&&(Nt="dot"),Se.forEach(wt=>{wt!==Nt&&(0,le[wt])(ft)&&(Wt+=wt+".")}),Wt+=Nt,Wt===bt)}static eventCallback(ft,bt,Nt){return Wt=>{mt.matchEventFullKeyCode(Wt,ft)&&Nt.runGuarded(()=>bt(Wt))}}static _normalizeKey(ft){return"esc"===ft?"escape":ft}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:mt.\u0275fac})}return mt})();const Ae=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:t.bD},{provide:c.g9A,useValue:function Oe(){I.makeCurrent()},multi:!0},{provide:t.K0,useFactory:function ze(){return(0,c.RDi)(document),document},deps:[]}]),ye=new c.OlP(""),K=[{provide:c.rWj,useClass:class m{addToWindow(Dt){c.dqk.getAngularTestability=(bt,Nt=!0)=>{const Wt=Dt.findTestabilityInTree(bt,Nt);if(null==Wt)throw new c.vHH(5103,!1);return Wt},c.dqk.getAllAngularTestabilities=()=>Dt.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>Dt.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(bt=>{const Nt=c.dqk.getAllAngularTestabilities();let Wt=Nt.length,wt=!1;const Vt=function(en){wt=wt||en,Wt--,0==Wt&&bt(wt)};Nt.forEach(en=>{en.whenStable(Vt)})})}findTestabilityInTree(Dt,ft,bt){return null==ft?null:Dt.getTestability(ft)??(bt?(0,t.q)().isShadowRoot(ft)?this.findTestabilityInTree(Dt,ft.host,!0):this.findTestabilityInTree(Dt,ft.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],ie=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function je(){return new c.qLn},deps:[]},{provide:p,useClass:ue,multi:!0,deps:[t.K0,c.R0b,c.Lbi]},{provide:p,useClass:Me,multi:!0,deps:[t.K0]},re,O,v,{provide:c.FYo,useExisting:re},{provide:t.JF,useClass:h,deps:[]},[]];let he=(()=>{class mt{constructor(ft){}static withServerTransition(ft){return{ngModule:mt,providers:[{provide:c.AFp,useValue:ft.appId}]}}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(ye,12))};static#t=this.\u0275mod=c.oAB({type:mt});static#n=this.\u0275inj=c.cJS({providers:[...ie,...K],imports:[t.ez,c.hGG]})}return mt})(),Q=(()=>{class mt{constructor(ft){this._doc=ft}getTitle(){return this._doc.title}setTitle(ft){this._doc.title=ft||""}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:function(bt){let Nt=null;return Nt=bt?new bt:function X(){return new Q((0,c.LFG)(t.K0))}(),Nt},providedIn:"root"})}return mt})();typeof window<"u"&&window;let zt=(()=>{class mt{static#e=this.\u0275fac=function(bt){return new(bt||mt)};static#t=this.\u0275prov=c.Yz7({token:mt,factory:function(bt){let Nt=null;return Nt=bt?new(bt||mt):c.LFG(dn),Nt},providedIn:"root"})}return mt})(),dn=(()=>{class mt extends zt{constructor(ft){super(),this._doc=ft}sanitize(ft,bt){if(null==bt)return null;switch(ft){case c.q3G.NONE:return bt;case c.q3G.HTML:return(0,c.qzn)(bt,"HTML")?(0,c.z3N)(bt):(0,c.EiD)(this._doc,String(bt)).toString();case c.q3G.STYLE:return(0,c.qzn)(bt,"Style")?(0,c.z3N)(bt):bt;case c.q3G.SCRIPT:if((0,c.qzn)(bt,"Script"))return(0,c.z3N)(bt);throw new c.vHH(5200,!1);case c.q3G.URL:return(0,c.qzn)(bt,"URL")?(0,c.z3N)(bt):(0,c.mCW)(String(bt));case c.q3G.RESOURCE_URL:if((0,c.qzn)(bt,"ResourceURL"))return(0,c.z3N)(bt);throw new c.vHH(5201,!1);default:throw new c.vHH(5202,!1)}}bypassSecurityTrustHtml(ft){return(0,c.JVY)(ft)}bypassSecurityTrustStyle(ft){return(0,c.L6k)(ft)}bypassSecurityTrustScript(ft){return(0,c.eBb)(ft)}bypassSecurityTrustUrl(ft){return(0,c.LAX)(ft)}bypassSecurityTrustResourceUrl(ft){return(0,c.pB0)(ft)}static#e=this.\u0275fac=function(bt){return new(bt||mt)(c.LFG(t.K0))};static#t=this.\u0275prov=c.Yz7({token:mt,factory:function(bt){let Nt=null;return Nt=bt?new bt:function $t(mt){return new dn(mt.get(t.K0))}(c.LFG(c.zs3)),Nt},providedIn:"root"})}return mt})()},8930:(In,Ze,C)=>{"use strict";C.d(Ze,{gz:()=>cr,F0:()=>Ar,rH:()=>ta,Bz:()=>sp,lC:()=>fi});var c=C(5879),t=C(2664),b=C(7715),I=C(2096),y=C(5619),F=C(2572);const x=(0,C(2306).d)(be=>function(){be(this),this.name="EmptyError",this.message="no elements in sequence"});var m=C(5211),h=C(4911),p=C(8407),v=C(5592),A=C(4674);function U(be,Fe){const se=(0,A.m)(be)?be:()=>be,Ne=ot=>ot.error(se());return new v.y(Fe?ot=>Fe.schedule(Ne,0,ot):Ne)}var O=C(6232),V=C(3168),k=C(8645),P=C(6814),D=C(7398),w=C(4664),E=C(8180),N=C(7921),S=C(2181),B=C(1631),Y=C(9360),re=C(8251);function ae(be){return(0,Y.e)((Fe,se)=>{let Ne=!1;Fe.subscribe((0,re.x)(se,ot=>{Ne=!0,se.next(ot)},()=>{Ne||se.next(be),se.complete()}))})}function Re(be=z){return(0,Y.e)((Fe,se)=>{let Ne=!1;Fe.subscribe((0,re.x)(se,ot=>{Ne=!0,se.next(ot)},()=>Ne?se.complete():se.error(be())))})}function z(){return new x}var oe=C(2737);function H(be,Fe){const se=arguments.length>=2;return Ne=>Ne.pipe(be?(0,S.h)((ot,Mt)=>be(ot,Mt,Ne)):oe.y,(0,E.q)(1),se?ae(Fe):Re(()=>new x))}var me=C(6328),te=C(9397),ue=C(4829);function Se(be){return(0,Y.e)((Fe,se)=>{let Mt,Ne=null,ot=!1;Ne=Fe.subscribe((0,re.x)(se,void 0,void 0,xt=>{Mt=(0,ue.Xf)(be(xt,Se(be)(Fe))),Ne?(Ne.unsubscribe(),Ne=null,Mt.subscribe(se)):ot=!0})),ot&&(Ne.unsubscribe(),Ne=null,Mt.subscribe(se))})}function Me(be){return be<=0?()=>O.E:(0,Y.e)((Fe,se)=>{let Ne=[];Fe.subscribe((0,re.x)(se,ot=>{Ne.push(ot),be<Ne.length&&Ne.shift()},()=>{for(const ot of Ne)se.next(ot);se.complete()},void 0,()=>{Ne=null}))})}var _e=C(975),Le=C(4716),Pe=C(6196),Oe=C(7537),je=C(6593);const ze="primary",He=Symbol("RouteTitle");class Ae{constructor(Fe){this.params=Fe||{}}has(Fe){return Object.prototype.hasOwnProperty.call(this.params,Fe)}get(Fe){if(this.has(Fe)){const se=this.params[Fe];return Array.isArray(se)?se[0]:se}return null}getAll(Fe){if(this.has(Fe)){const se=this.params[Fe];return Array.isArray(se)?se:[se]}return[]}get keys(){return Object.keys(this.params)}}function ye(be){return new Ae(be)}function K(be,Fe,se){const Ne=se.path.split("/");if(Ne.length>be.length||"full"===se.pathMatch&&(Fe.hasChildren()||Ne.length<be.length))return null;const ot={};for(let Mt=0;Mt<Ne.length;Mt++){const xt=Ne[Mt],an=be[Mt];if(xt.startsWith(":"))ot[xt.substring(1)]=an;else if(xt!==an.path)return null}return{consumed:be.slice(0,Ne.length),posParams:ot}}function he(be,Fe){const se=be?Object.keys(be):void 0,Ne=Fe?Object.keys(Fe):void 0;if(!se||!Ne||se.length!=Ne.length)return!1;let ot;for(let Mt=0;Mt<se.length;Mt++)if(ot=se[Mt],!$(be[ot],Fe[ot]))return!1;return!0}function $(be,Fe){if(Array.isArray(be)&&Array.isArray(Fe)){if(be.length!==Fe.length)return!1;const se=[...be].sort(),Ne=[...Fe].sort();return se.every((ot,Mt)=>Ne[Mt]===ot)}return be===Fe}function Z(be){return be.length>0?be[be.length-1]:null}function W(be){return(0,t.b)(be)?be:(0,c.QGY)(be)?(0,b.D)(Promise.resolve(be)):(0,I.of)(be)}const X={exact:function de(be,Fe,se){if(!dt(be.segments,Fe.segments)||!Ye(be.segments,Fe.segments,se)||be.numberOfChildren!==Fe.numberOfChildren)return!1;for(const Ne in Fe.children)if(!be.children[Ne]||!de(be.children[Ne],Fe.children[Ne],se))return!1;return!0},subset:ce},Q={exact:function J(be,Fe){return he(be,Fe)},subset:function ge(be,Fe){return Object.keys(Fe).length<=Object.keys(be).length&&Object.keys(Fe).every(se=>$(be[se],Fe[se]))},ignored:()=>!0};function q(be,Fe,se){return X[se.paths](be.root,Fe.root,se.matrixParams)&&Q[se.queryParams](be.queryParams,Fe.queryParams)&&!("exact"===se.fragment&&be.fragment!==Fe.fragment)}function ce(be,Fe,se){return Ce(be,Fe,Fe.segments,se)}function Ce(be,Fe,se,Ne){if(be.segments.length>se.length){const ot=be.segments.slice(0,se.length);return!(!dt(ot,se)||Fe.hasChildren()||!Ye(ot,se,Ne))}if(be.segments.length===se.length){if(!dt(be.segments,se)||!Ye(be.segments,se,Ne))return!1;for(const ot in Fe.children)if(!be.children[ot]||!ce(be.children[ot],Fe.children[ot],Ne))return!1;return!0}{const ot=se.slice(0,be.segments.length),Mt=se.slice(be.segments.length);return!!(dt(be.segments,ot)&&Ye(be.segments,ot,Ne)&&be.children[ze])&&Ce(be.children[ze],Fe,Mt,Ne)}}function Ye(be,Fe,se){return Fe.every((Ne,ot)=>Q[se](be[ot].parameters,Ne.parameters))}class Be{constructor(Fe=new $e([],{}),se={},Ne=null){this.root=Fe,this.queryParams=se,this.fragment=Ne}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class $e{constructor(Fe,se){this.segments=Fe,this.children=se,this.parent=null,Object.values(se).forEach(Ne=>Ne.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zt(this)}}class Qe{constructor(Fe,se){this.path=Fe,this.parameters=se}get parameterMap(){return this._parameterMap||(this._parameterMap=ye(this.parameters)),this._parameterMap}toString(){return fe(this)}}function dt(be,Fe){return be.length===Fe.length&&be.every((se,Ne)=>se.path===Fe[Ne].path)}let _t=(()=>{class be{static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:function(){return new Ot},providedIn:"root"})}return be})();class Ot{parse(Fe){const se=new en(Fe);return new Be(se.parseRootSegment(),se.parseQueryParams(),se.parseFragment())}serialize(Fe){const se=`/${$t(Fe.root,!0)}`,Ne=function lt(be){const Fe=Object.keys(be).map(se=>{const Ne=be[se];return Array.isArray(Ne)?Ne.map(ot=>`${pn(se)}=${pn(ot)}`).join("&"):`${pn(se)}=${pn(Ne)}`}).filter(se=>!!se);return Fe.length?`?${Fe.join("&")}`:""}(Fe.queryParams);return`${se}${Ne}${"string"==typeof Fe.fragment?`#${function jn(be){return encodeURI(be)}(Fe.fragment)}`:""}`}}const jt=new Ot;function zt(be){return be.segments.map(Fe=>fe(Fe)).join("/")}function $t(be,Fe){if(!be.hasChildren())return zt(be);if(Fe){const se=be.children[ze]?$t(be.children[ze],!1):"",Ne=[];return Object.entries(be.children).forEach(([ot,Mt])=>{ot!==ze&&Ne.push(`${ot}:${$t(Mt,!1)}`)}),Ne.length>0?`${se}(${Ne.join("//")})`:se}{const se=function It(be,Fe){let se=[];return Object.entries(be.children).forEach(([Ne,ot])=>{Ne===ze&&(se=se.concat(Fe(ot,Ne)))}),Object.entries(be.children).forEach(([Ne,ot])=>{Ne!==ze&&(se=se.concat(Fe(ot,Ne)))}),se}(be,(Ne,ot)=>ot===ze?[$t(be.children[ze],!1)]:[`${ot}:${$t(Ne,!1)}`]);return 1===Object.keys(be.children).length&&null!=be.children[ze]?`${zt(be)}/${se[0]}`:`${zt(be)}/(${se.join("//")})`}}function dn(be){return encodeURIComponent(be).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pn(be){return dn(be).replace(/%3B/gi,";")}function st(be){return dn(be).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ut(be){return decodeURIComponent(be)}function xe(be){return ut(be.replace(/\+/g,"%20"))}function fe(be){return`${st(be.path)}${function pe(be){return Object.keys(be).map(Fe=>`;${st(Fe)}=${st(be[Fe])}`).join("")}(be.parameters)}`}const mt=/^[^\/()?;#]+/;function Dt(be){const Fe=be.match(mt);return Fe?Fe[0]:""}const ft=/^[^\/()?;=#]+/,Nt=/^[^=?&#]+/,wt=/^[^&#]+/;class en{constructor(Fe){this.url=Fe,this.remaining=Fe}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const Fe={};if(this.consumeOptional("?"))do{this.parseQueryParam(Fe)}while(this.consumeOptional("&"));return Fe}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Fe=[];for(this.peekStartsWith("(")||Fe.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Fe.push(this.parseSegment());let se={};this.peekStartsWith("/(")&&(this.capture("/"),se=this.parseParens(!0));let Ne={};return this.peekStartsWith("(")&&(Ne=this.parseParens(!1)),(Fe.length>0||Object.keys(se).length>0)&&(Ne[ze]=new $e(Fe,se)),Ne}parseSegment(){const Fe=Dt(this.remaining);if(""===Fe&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(Fe),new Qe(ut(Fe),this.parseMatrixParams())}parseMatrixParams(){const Fe={};for(;this.consumeOptional(";");)this.parseParam(Fe);return Fe}parseParam(Fe){const se=function bt(be){const Fe=be.match(ft);return Fe?Fe[0]:""}(this.remaining);if(!se)return;this.capture(se);let Ne="";if(this.consumeOptional("=")){const ot=Dt(this.remaining);ot&&(Ne=ot,this.capture(Ne))}Fe[ut(se)]=ut(Ne)}parseQueryParam(Fe){const se=function Wt(be){const Fe=be.match(Nt);return Fe?Fe[0]:""}(this.remaining);if(!se)return;this.capture(se);let Ne="";if(this.consumeOptional("=")){const xt=function Vt(be){const Fe=be.match(wt);return Fe?Fe[0]:""}(this.remaining);xt&&(Ne=xt,this.capture(Ne))}const ot=xe(se),Mt=xe(Ne);if(Fe.hasOwnProperty(ot)){let xt=Fe[ot];Array.isArray(xt)||(xt=[xt],Fe[ot]=xt),xt.push(Mt)}else Fe[ot]=Mt}parseParens(Fe){const se={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Ne=Dt(this.remaining),ot=this.remaining[Ne.length];if("/"!==ot&&")"!==ot&&";"!==ot)throw new c.vHH(4010,!1);let Mt;Ne.indexOf(":")>-1?(Mt=Ne.slice(0,Ne.indexOf(":")),this.capture(Mt),this.capture(":")):Fe&&(Mt=ze);const xt=this.parseChildren();se[Mt]=1===Object.keys(xt).length?xt[ze]:new $e([],xt),this.consumeOptional("//")}return se}peekStartsWith(Fe){return this.remaining.startsWith(Fe)}consumeOptional(Fe){return!!this.peekStartsWith(Fe)&&(this.remaining=this.remaining.substring(Fe.length),!0)}capture(Fe){if(!this.consumeOptional(Fe))throw new c.vHH(4011,!1)}}function nn(be){return be.segments.length>0?new $e([],{[ze]:be}):be}function yn(be){const Fe={};for(const Ne of Object.keys(be.children)){const Mt=yn(be.children[Ne]);if(Ne===ze&&0===Mt.segments.length&&Mt.hasChildren())for(const[xt,an]of Object.entries(Mt.children))Fe[xt]=an;else(Mt.segments.length>0||Mt.hasChildren())&&(Fe[Ne]=Mt)}return function Tn(be){if(1===be.numberOfChildren&&be.children[ze]){const Fe=be.children[ze];return new $e(be.segments.concat(Fe.segments),Fe.children)}return be}(new $e(be.segments,Fe))}function On(be){return be instanceof Be}function qn(be){let Fe;const ot=nn(function se(Mt){const xt={};for(const Fn of Mt.children){const ti=se(Fn);xt[Fn.outlet]=ti}const an=new $e(Mt.url,xt);return Mt===be&&(Fe=an),an}(be.root));return Fe??ot}function ui(be,Fe,se,Ne){let ot=be;for(;ot.parent;)ot=ot.parent;if(0===Fe.length)return ct(ot,ot,ot,se,Ne);const Mt=function it(be){if("string"==typeof be[0]&&1===be.length&&"/"===be[0])return new Ke(!0,0,be);let Fe=0,se=!1;const Ne=be.reduce((ot,Mt,xt)=>{if("object"==typeof Mt&&null!=Mt){if(Mt.outlets){const an={};return Object.entries(Mt.outlets).forEach(([Fn,ti])=>{an[Fn]="string"==typeof ti?ti.split("/"):ti}),[...ot,{outlets:an}]}if(Mt.segmentPath)return[...ot,Mt.segmentPath]}return"string"!=typeof Mt?[...ot,Mt]:0===xt?(Mt.split("/").forEach((an,Fn)=>{0==Fn&&"."===an||(0==Fn&&""===an?se=!0:".."===an?Fe++:""!=an&&ot.push(an))}),ot):[...ot,Mt]},[]);return new Ke(se,Fe,Ne)}(Fe);if(Mt.toRoot())return ct(ot,ot,new $e([],{}),se,Ne);const xt=function Gt(be,Fe,se){if(be.isAbsolute)return new Ct(Fe,!0,0);if(!se)return new Ct(Fe,!1,NaN);if(null===se.parent)return new Ct(se,!0,0);const Ne=kt(be.commands[0])?0:1;return function hn(be,Fe,se){let Ne=be,ot=Fe,Mt=se;for(;Mt>ot;){if(Mt-=ot,Ne=Ne.parent,!Ne)throw new c.vHH(4005,!1);ot=Ne.segments.length}return new Ct(Ne,!1,ot-Mt)}(se,se.segments.length-1+Ne,be.numberOfDoubleDots)}(Mt,ot,be),an=xt.processChildren?Rt(xt.segmentGroup,xt.index,Mt.commands):Ft(xt.segmentGroup,xt.index,Mt.commands);return ct(ot,xt.segmentGroup,an,se,Ne)}function kt(be){return"object"==typeof be&&null!=be&&!be.outlets&&!be.segmentPath}function St(be){return"object"==typeof be&&null!=be&&be.outlets}function ct(be,Fe,se,Ne,ot){let xt,Mt={};Ne&&Object.entries(Ne).forEach(([Fn,ti])=>{Mt[Fn]=Array.isArray(ti)?ti.map(ii=>`${ii}`):`${ti}`}),xt=be===Fe?se:Qt(be,Fe,se);const an=nn(yn(xt));return new Be(an,Mt,ot)}function Qt(be,Fe,se){const Ne={};return Object.entries(be.children).forEach(([ot,Mt])=>{Ne[ot]=Mt===Fe?se:Qt(Mt,Fe,se)}),new $e(be.segments,Ne)}class Ke{constructor(Fe,se,Ne){if(this.isAbsolute=Fe,this.numberOfDoubleDots=se,this.commands=Ne,Fe&&Ne.length>0&&kt(Ne[0]))throw new c.vHH(4003,!1);const ot=Ne.find(St);if(ot&&ot!==Z(Ne))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ct{constructor(Fe,se,Ne){this.segmentGroup=Fe,this.processChildren=se,this.index=Ne}}function Ft(be,Fe,se){if(be||(be=new $e([],{})),0===be.segments.length&&be.hasChildren())return Rt(be,Fe,se);const Ne=function Ht(be,Fe,se){let Ne=0,ot=Fe;const Mt={match:!1,pathIndex:0,commandIndex:0};for(;ot<be.segments.length;){if(Ne>=se.length)return Mt;const xt=be.segments[ot],an=se[Ne];if(St(an))break;const Fn=`${an}`,ti=Ne<se.length-1?se[Ne+1]:null;if(ot>0&&void 0===Fn)break;if(Fn&&ti&&"object"==typeof ti&&void 0===ti.outlets){if(!rt(Fn,ti,xt))return Mt;Ne+=2}else{if(!rt(Fn,{},xt))return Mt;Ne++}ot++}return{match:!0,pathIndex:ot,commandIndex:Ne}}(be,Fe,se),ot=se.slice(Ne.commandIndex);if(Ne.match&&Ne.pathIndex<be.segments.length){const Mt=new $e(be.segments.slice(0,Ne.pathIndex),{});return Mt.children[ze]=new $e(be.segments.slice(Ne.pathIndex),be.children),Rt(Mt,0,ot)}return Ne.match&&0===ot.length?new $e(be.segments,{}):Ne.match&&!be.hasChildren()?on(be,Fe,se):Ne.match?Rt(be,0,ot):on(be,Fe,se)}function Rt(be,Fe,se){if(0===se.length)return new $e(be.segments,{});{const Ne=function bn(be){return St(be[0])?be[0].outlets:{[ze]:be}}(se),ot={};if(!Ne[ze]&&be.children[ze]&&1===be.numberOfChildren&&0===be.children[ze].segments.length){const Mt=Rt(be.children[ze],Fe,se);return new $e(be.segments,Mt.children)}return Object.entries(Ne).forEach(([Mt,xt])=>{"string"==typeof xt&&(xt=[xt]),null!==xt&&(ot[Mt]=Ft(be.children[Mt],Fe,xt))}),Object.entries(be.children).forEach(([Mt,xt])=>{void 0===Ne[Mt]&&(ot[Mt]=xt)}),new $e(be.segments,ot)}}function on(be,Fe,se){const Ne=be.segments.slice(0,Fe);let ot=0;for(;ot<se.length;){const Mt=se[ot];if(St(Mt)){const Fn=vn(Mt.outlets);return new $e(Ne,Fn)}if(0===ot&&kt(se[0])){Ne.push(new Qe(be.segments[Fe].path,Un(se[0]))),ot++;continue}const xt=St(Mt)?Mt.outlets[ze]:`${Mt}`,an=ot<se.length-1?se[ot+1]:null;xt&&an&&kt(an)?(Ne.push(new Qe(xt,Un(an))),ot+=2):(Ne.push(new Qe(xt,{})),ot++)}return new $e(Ne,{})}function vn(be){const Fe={};return Object.entries(be).forEach(([se,Ne])=>{"string"==typeof Ne&&(Ne=[Ne]),null!==Ne&&(Fe[se]=on(new $e([],{}),0,Ne))}),Fe}function Un(be){const Fe={};return Object.entries(be).forEach(([se,Ne])=>Fe[se]=`${Ne}`),Fe}function rt(be,Fe,se){return be==se.path&&he(Fe,se.parameters)}const Xt="imperative";class ve{constructor(Fe,se){this.id=Fe,this.url=se}}class at extends ve{constructor(Fe,se,Ne="imperative",ot=null){super(Fe,se),this.type=0,this.navigationTrigger=Ne,this.restoredState=ot}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tt extends ve{constructor(Fe,se,Ne){super(Fe,se),this.urlAfterRedirects=Ne,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class At extends ve{constructor(Fe,se,Ne,ot){super(Fe,se),this.reason=Ne,this.code=ot,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qt extends ve{constructor(Fe,se,Ne,ot){super(Fe,se),this.reason=Ne,this.code=ot,this.type=16}}class tn extends ve{constructor(Fe,se,Ne,ot){super(Fe,se),this.error=Ne,this.target=ot,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pi extends ve{constructor(Fe,se,Ne,ot){super(Fe,se),this.urlAfterRedirects=Ne,this.state=ot,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class si extends ve{constructor(Fe,se,Ne,ot){super(Fe,se),this.urlAfterRedirects=Ne,this.state=ot,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sr extends ve{constructor(Fe,se,Ne,ot,Mt){super(Fe,se),this.urlAfterRedirects=Ne,this.state=ot,this.shouldActivate=Mt,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ui extends ve{constructor(Fe,se,Ne,ot){super(Fe,se),this.urlAfterRedirects=Ne,this.state=ot,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends ve{constructor(Fe,se,Ne,ot){super(Fe,se),this.urlAfterRedirects=Ne,this.state=ot,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vo{constructor(Fe){this.route=Fe,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eo{constructor(Fe){this.route=Fe,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yo{constructor(Fe){this.snapshot=Fe,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(Fe){this.snapshot=Fe,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(Fe){this.snapshot=Fe,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{constructor(Fe){this.snapshot=Fe,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Si{constructor(Fe,se,Ne){this.routerEvent=Fe,this.position=se,this.anchor=Ne,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ro{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new so,this.attachRef=null}}let so=(()=>{class be{constructor(){this.contexts=new Map}onChildOutletCreated(se,Ne){const ot=this.getOrCreateContext(se);ot.outlet=Ne,this.contexts.set(se,ot)}onChildOutletDestroyed(se){const Ne=this.getContext(se);Ne&&(Ne.outlet=null,Ne.attachRef=null)}onOutletDeactivated(){const se=this.contexts;return this.contexts=new Map,se}onOutletReAttached(se){this.contexts=se}getOrCreateContext(se){let Ne=this.getContext(se);return Ne||(Ne=new Ro,this.contexts.set(se,Ne)),Ne}getContext(se){return this.contexts.get(se)||null}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();class wi{constructor(Fe){this._root=Fe}get root(){return this._root.value}parent(Fe){const se=this.pathFromRoot(Fe);return se.length>1?se[se.length-2]:null}children(Fe){const se=lo(Fe,this._root);return se?se.children.map(Ne=>Ne.value):[]}firstChild(Fe){const se=lo(Fe,this._root);return se&&se.children.length>0?se.children[0].value:null}siblings(Fe){const se=xn(Fe,this._root);return se.length<2?[]:se[se.length-2].children.map(ot=>ot.value).filter(ot=>ot!==Fe)}pathFromRoot(Fe){return xn(Fe,this._root).map(se=>se.value)}}function lo(be,Fe){if(be===Fe.value)return Fe;for(const se of Fe.children){const Ne=lo(be,se);if(Ne)return Ne}return null}function xn(be,Fe){if(be===Fe.value)return[Fe];for(const se of Fe.children){const Ne=xn(be,se);if(Ne.length)return Ne.unshift(Fe),Ne}return[]}class _i{constructor(Fe,se){this.value=Fe,this.children=se}toString(){return`TreeNode(${this.value})`}}function Rn(be){const Fe={};return be&&be.children.forEach(se=>Fe[se.value.outlet]=se),Fe}class ai extends wi{constructor(Fe,se){super(Fe),this.snapshot=se,Mn(this,Fe)}toString(){return this.snapshot.toString()}}function Li(be,Fe){const se=function Sr(be,Fe){const xt=new Ut([],{},{},"",{},ze,Fe,null,{});return new mn("",new _i(xt,[]))}(0,Fe),Ne=new y.X([new Qe("",{})]),ot=new y.X({}),Mt=new y.X({}),xt=new y.X({}),an=new y.X(""),Fn=new cr(Ne,ot,xt,an,Mt,ze,Fe,se.root);return Fn.snapshot=se.root,new ai(new _i(Fn,[]),se)}class cr{constructor(Fe,se,Ne,ot,Mt,xt,an,Fn){this.urlSubject=Fe,this.paramsSubject=se,this.queryParamsSubject=Ne,this.fragmentSubject=ot,this.dataSubject=Mt,this.outlet=xt,this.component=an,this._futureSnapshot=Fn,this.title=this.dataSubject?.pipe((0,D.U)(ti=>ti[He]))??(0,I.of)(void 0),this.url=Fe,this.params=se,this.queryParams=Ne,this.fragment=ot,this.data=Mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,D.U)(Fe=>ye(Fe)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,D.U)(Fe=>ye(Fe)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nr(be,Fe="emptyOnly"){const se=be.pathFromRoot;let Ne=0;if("always"!==Fe)for(Ne=se.length-1;Ne>=1;){const ot=se[Ne],Mt=se[Ne-1];if(ot.routeConfig&&""===ot.routeConfig.path)Ne--;else{if(Mt.component)break;Ne--}}return function Jn(be){return be.reduce((Fe,se)=>({params:{...Fe.params,...se.params},data:{...Fe.data,...se.data},resolve:{...se.data,...Fe.resolve,...se.routeConfig?.data,...se._resolvedData}}),{params:{},data:{},resolve:{}})}(se.slice(Ne))}class Ut{get title(){return this.data?.[He]}constructor(Fe,se,Ne,ot,Mt,xt,an,Fn,ti){this.url=Fe,this.params=se,this.queryParams=Ne,this.fragment=ot,this.data=Mt,this.outlet=xt,this.component=an,this.routeConfig=Fn,this._resolve=ti}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ye(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Ne=>Ne.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mn extends wi{constructor(Fe,se){super(se),this.url=Fe,Mn(this,se)}toString(){return Nn(this._root)}}function Mn(be,Fe){Fe.value._routerState=be,Fe.children.forEach(se=>Mn(be,se))}function Nn(be){const Fe=be.children.length>0?` { ${be.children.map(Nn).join(", ")} } `:"";return`${be.value}${Fe}`}function Zn(be){if(be.snapshot){const Fe=be.snapshot,se=be._futureSnapshot;be.snapshot=se,he(Fe.queryParams,se.queryParams)||be.queryParamsSubject.next(se.queryParams),Fe.fragment!==se.fragment&&be.fragmentSubject.next(se.fragment),he(Fe.params,se.params)||be.paramsSubject.next(se.params),function ie(be,Fe){if(be.length!==Fe.length)return!1;for(let se=0;se<be.length;++se)if(!he(be[se],Fe[se]))return!1;return!0}(Fe.url,se.url)||be.urlSubject.next(se.url),he(Fe.data,se.data)||be.dataSubject.next(se.data)}else be.snapshot=be._futureSnapshot,be.dataSubject.next(be._futureSnapshot.data)}function ei(be,Fe){const se=he(be.params,Fe.params)&&function qe(be,Fe){return dt(be,Fe)&&be.every((se,Ne)=>he(se.parameters,Fe[Ne].parameters))}(be.url,Fe.url);return se&&!(!be.parent!=!Fe.parent)&&(!be.parent||ei(be.parent,Fe.parent))}let fi=(()=>{class be{constructor(){this.activated=null,this._activatedRoute=null,this.name=ze,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(so),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(Ri,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(se){if(se.name){const{firstChange:Ne,previousValue:ot}=se.name;if(Ne)return;this.isTrackedInParentContexts(ot)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ot)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(se){return this.parentContexts.getContext(se)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const se=this.parentContexts.getContext(this.name);se?.route&&(se.attachRef?this.attach(se.attachRef,se.route):this.activateWith(se.route,se.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const se=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(se.instance),se}attach(se,Ne){this.activated=se,this._activatedRoute=Ne,this.location.insert(se.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(se.instance)}deactivate(){if(this.activated){const se=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(se)}}activateWith(se,Ne){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=se;const ot=this.location,xt=se.snapshot.component,an=this.parentContexts.getOrCreateContext(this.name).children,Fn=new li(se,an,ot.injector);this.activated=ot.createComponent(xt,{index:ot.length,injector:Fn,environmentInjector:Ne??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275dir=c.lG2({type:be,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]})}return be})();class li{constructor(Fe,se,Ne){this.route=Fe,this.childContexts=se,this.parent=Ne}get(Fe,se){return Fe===cr?this.route:Fe===so?this.childContexts:this.parent.get(Fe,se)}}const Ri=new c.OlP("");let dr=(()=>{class be{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(se){this.unsubscribeFromRouteData(se),this.subscribeToRouteData(se)}unsubscribeFromRouteData(se){this.outletDataSubscriptions.get(se)?.unsubscribe(),this.outletDataSubscriptions.delete(se)}subscribeToRouteData(se){const{activatedRoute:Ne}=se,ot=(0,F.a)([Ne.queryParams,Ne.params,Ne.data]).pipe((0,w.w)(([Mt,xt,an],Fn)=>(an={...Mt,...xt,...an},0===Fn?(0,I.of)(an):Promise.resolve(an)))).subscribe(Mt=>{if(!se.isActivated||!se.activatedComponentRef||se.activatedRoute!==Ne||null===Ne.component)return void this.unsubscribeFromRouteData(se);const xt=(0,c.qFp)(Ne.component);if(xt)for(const{templateName:an}of xt.inputs)se.activatedComponentRef.setInput(an,Mt[an]);else this.unsubscribeFromRouteData(se)});this.outletDataSubscriptions.set(se,ot)}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac})}return be})();function fr(be,Fe,se){if(se&&be.shouldReuseRoute(Fe.value,se.value.snapshot)){const Ne=se.value;Ne._futureSnapshot=Fe.value;const ot=function Ia(be,Fe,se){return Fe.children.map(Ne=>{for(const ot of se.children)if(be.shouldReuseRoute(Ne.value,ot.value.snapshot))return fr(be,Ne,ot);return fr(be,Ne)})}(be,Fe,se);return new _i(Ne,ot)}{if(be.shouldAttach(Fe.value)){const Mt=be.retrieve(Fe.value);if(null!==Mt){const xt=Mt.route;return xt.value._futureSnapshot=Fe.value,xt.children=Fe.children.map(an=>fr(be,an)),xt}}const Ne=function to(be){return new cr(new y.X(be.url),new y.X(be.params),new y.X(be.queryParams),new y.X(be.fragment),new y.X(be.data),be.outlet,be.component,be)}(Fe.value),ot=Fe.children.map(Mt=>fr(be,Mt));return new _i(Ne,ot)}}const wr="ngNavigationCancelingError";function Hr(be,Fe){const{redirectTo:se,navigationBehaviorOptions:Ne}=On(Fe)?{redirectTo:Fe,navigationBehaviorOptions:void 0}:Fe,ot=bo(!1,0,Fe);return ot.url=se,ot.navigationBehaviorOptions=Ne,ot}function bo(be,Fe,se){const Ne=new Error("NavigationCancelingError: "+(be||""));return Ne[wr]=!0,Ne.cancellationCode=Fe,se&&(Ne.url=se),Ne}function Di(be){return ir(be)&&On(be.url)}function ir(be){return be&&be[wr]}let Ir=(()=>{class be{static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275cmp=c.Xpm({type:be,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(Ne,ot){1&Ne&&c._UZ(0,"router-outlet")},dependencies:[fi],encapsulation:2})}return be})();function To(be){const Fe=be.children&&be.children.map(To),se=Fe?{...be,children:Fe}:{...be};return!se.component&&!se.loadComponent&&(Fe||se.loadChildren)&&se.outlet&&se.outlet!==ze&&(se.component=Ir),se}function hr(be){return be.outlet||ze}function rr(be){if(!be)return null;if(be.routeConfig?._injector)return be.routeConfig._injector;for(let Fe=be.parent;Fe;Fe=Fe.parent){const se=Fe.routeConfig;if(se?._loadedInjector)return se._loadedInjector;if(se?._injector)return se._injector}return null}class So{constructor(Fe,se,Ne,ot,Mt){this.routeReuseStrategy=Fe,this.futureState=se,this.currState=Ne,this.forwardEvent=ot,this.inputBindingEnabled=Mt}activate(Fe){const se=this.futureState._root,Ne=this.currState?this.currState._root:null;this.deactivateChildRoutes(se,Ne,Fe),Zn(this.futureState.root),this.activateChildRoutes(se,Ne,Fe)}deactivateChildRoutes(Fe,se,Ne){const ot=Rn(se);Fe.children.forEach(Mt=>{const xt=Mt.value.outlet;this.deactivateRoutes(Mt,ot[xt],Ne),delete ot[xt]}),Object.values(ot).forEach(Mt=>{this.deactivateRouteAndItsChildren(Mt,Ne)})}deactivateRoutes(Fe,se,Ne){const ot=Fe.value,Mt=se?se.value:null;if(ot===Mt)if(ot.component){const xt=Ne.getContext(ot.outlet);xt&&this.deactivateChildRoutes(Fe,se,xt.children)}else this.deactivateChildRoutes(Fe,se,Ne);else Mt&&this.deactivateRouteAndItsChildren(se,Ne)}deactivateRouteAndItsChildren(Fe,se){Fe.value.component&&this.routeReuseStrategy.shouldDetach(Fe.value.snapshot)?this.detachAndStoreRouteSubtree(Fe,se):this.deactivateRouteAndOutlet(Fe,se)}detachAndStoreRouteSubtree(Fe,se){const Ne=se.getContext(Fe.value.outlet),ot=Ne&&Fe.value.component?Ne.children:se,Mt=Rn(Fe);for(const xt of Object.keys(Mt))this.deactivateRouteAndItsChildren(Mt[xt],ot);if(Ne&&Ne.outlet){const xt=Ne.outlet.detach(),an=Ne.children.onOutletDeactivated();this.routeReuseStrategy.store(Fe.value.snapshot,{componentRef:xt,route:Fe,contexts:an})}}deactivateRouteAndOutlet(Fe,se){const Ne=se.getContext(Fe.value.outlet),ot=Ne&&Fe.value.component?Ne.children:se,Mt=Rn(Fe);for(const xt of Object.keys(Mt))this.deactivateRouteAndItsChildren(Mt[xt],ot);Ne&&(Ne.outlet&&(Ne.outlet.deactivate(),Ne.children.onOutletDeactivated()),Ne.attachRef=null,Ne.route=null)}activateChildRoutes(Fe,se,Ne){const ot=Rn(se);Fe.children.forEach(Mt=>{this.activateRoutes(Mt,ot[Mt.value.outlet],Ne),this.forwardEvent(new gr(Mt.value.snapshot))}),Fe.children.length&&this.forwardEvent(new di(Fe.value.snapshot))}activateRoutes(Fe,se,Ne){const ot=Fe.value,Mt=se?se.value:null;if(Zn(ot),ot===Mt)if(ot.component){const xt=Ne.getOrCreateContext(ot.outlet);this.activateChildRoutes(Fe,se,xt.children)}else this.activateChildRoutes(Fe,se,Ne);else if(ot.component){const xt=Ne.getOrCreateContext(ot.outlet);if(this.routeReuseStrategy.shouldAttach(ot.snapshot)){const an=this.routeReuseStrategy.retrieve(ot.snapshot);this.routeReuseStrategy.store(ot.snapshot,null),xt.children.onOutletReAttached(an.contexts),xt.attachRef=an.componentRef,xt.route=an.route.value,xt.outlet&&xt.outlet.attach(an.componentRef,an.route.value),Zn(an.route.value),this.activateChildRoutes(Fe,null,xt.children)}else{const an=rr(ot.snapshot);xt.attachRef=null,xt.route=ot,xt.injector=an,xt.outlet&&xt.outlet.activateWith(ot,xt.injector),this.activateChildRoutes(Fe,null,xt.children)}}else this.activateChildRoutes(Fe,null,Ne)}}class Yr{constructor(Fe){this.path=Fe,this.route=this.path[this.path.length-1]}}class ea{constructor(Fe,se){this.component=Fe,this.route=se}}function za(be,Fe,se){const Ne=be._root;return Dr(Ne,Fe?Fe._root:null,se,[Ne.value])}function Cr(be,Fe){const se=Symbol(),Ne=Fe.get(be,se);return Ne===se?"function"!=typeof be||(0,c.Z0I)(be)?Fe.get(be):be:Ne}function Dr(be,Fe,se,Ne,ot={canDeactivateChecks:[],canActivateChecks:[]}){const Mt=Rn(Fe);return be.children.forEach(xt=>{(function Rr(be,Fe,se,Ne,ot={canDeactivateChecks:[],canActivateChecks:[]}){const Mt=be.value,xt=Fe?Fe.value:null,an=se?se.getContext(be.value.outlet):null;if(xt&&Mt.routeConfig===xt.routeConfig){const Fn=function os(be,Fe,se){if("function"==typeof se)return se(be,Fe);switch(se){case"pathParamsChange":return!dt(be.url,Fe.url);case"pathParamsOrQueryParamsChange":return!dt(be.url,Fe.url)||!he(be.queryParams,Fe.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ei(be,Fe)||!he(be.queryParams,Fe.queryParams);default:return!ei(be,Fe)}}(xt,Mt,Mt.routeConfig.runGuardsAndResolvers);Fn?ot.canActivateChecks.push(new Yr(Ne)):(Mt.data=xt.data,Mt._resolvedData=xt._resolvedData),Dr(be,Fe,Mt.component?an?an.children:null:se,Ne,ot),Fn&&an&&an.outlet&&an.outlet.isActivated&&ot.canDeactivateChecks.push(new ea(an.outlet.component,xt))}else xt&&Co(Fe,an,ot),ot.canActivateChecks.push(new Yr(Ne)),Dr(be,null,Mt.component?an?an.children:null:se,Ne,ot)})(xt,Mt[xt.value.outlet],se,Ne.concat([xt.value]),ot),delete Mt[xt.value.outlet]}),Object.entries(Mt).forEach(([xt,an])=>Co(an,se.getContext(xt),ot)),ot}function Co(be,Fe,se){const Ne=Rn(be),ot=be.value;Object.entries(Ne).forEach(([Mt,xt])=>{Co(xt,ot.component?Fe?Fe.children.getContext(Mt):null:Fe,se)}),se.canDeactivateChecks.push(new ea(ot.component&&Fe&&Fe.outlet&&Fe.outlet.isActivated?Fe.outlet.component:null,ot))}function Kr(be){return"function"==typeof be}function qi(be){return be instanceof x||"EmptyError"===be?.name}const Jt=Symbol("INITIAL_VALUE");function We(){return(0,w.w)(be=>(0,F.a)(be.map(Fe=>Fe.pipe((0,E.q)(1),(0,N.O)(Jt)))).pipe((0,D.U)(Fe=>{for(const se of Fe)if(!0!==se){if(se===Jt)return Jt;if(!1===se||se instanceof Be)return se}return!0}),(0,S.h)(Fe=>Fe!==Jt),(0,E.q)(1)))}function Mr(be){return(0,p.z)((0,te.b)(Fe=>{if(On(Fe))throw Hr(0,Fe)}),(0,D.U)(Fe=>!0===Fe))}class ki{constructor(Fe){this.segmentGroup=Fe||null}}class ko{constructor(Fe){this.urlTree=Fe}}function $o(be){return U(new ki(be))}function qa(be){return U(new ko(be))}class cl{constructor(Fe,se){this.urlSerializer=Fe,this.urlTree=se}noMatchError(Fe){return new c.vHH(4002,!1)}lineralizeSegments(Fe,se){let Ne=[],ot=se.root;for(;;){if(Ne=Ne.concat(ot.segments),0===ot.numberOfChildren)return(0,I.of)(Ne);if(ot.numberOfChildren>1||!ot.children[ze])return U(new c.vHH(4e3,!1));ot=ot.children[ze]}}applyRedirectCommands(Fe,se,Ne){return this.applyRedirectCreateUrlTree(se,this.urlSerializer.parse(se),Fe,Ne)}applyRedirectCreateUrlTree(Fe,se,Ne,ot){const Mt=this.createSegmentGroup(Fe,se.root,Ne,ot);return new Be(Mt,this.createQueryParams(se.queryParams,this.urlTree.queryParams),se.fragment)}createQueryParams(Fe,se){const Ne={};return Object.entries(Fe).forEach(([ot,Mt])=>{if("string"==typeof Mt&&Mt.startsWith(":")){const an=Mt.substring(1);Ne[ot]=se[an]}else Ne[ot]=Mt}),Ne}createSegmentGroup(Fe,se,Ne,ot){const Mt=this.createSegments(Fe,se.segments,Ne,ot);let xt={};return Object.entries(se.children).forEach(([an,Fn])=>{xt[an]=this.createSegmentGroup(Fe,Fn,Ne,ot)}),new $e(Mt,xt)}createSegments(Fe,se,Ne,ot){return se.map(Mt=>Mt.path.startsWith(":")?this.findPosParam(Fe,Mt,ot):this.findOrReturn(Mt,Ne))}findPosParam(Fe,se,Ne){const ot=Ne[se.path.substring(1)];if(!ot)throw new c.vHH(4001,!1);return ot}findOrReturn(Fe,se){let Ne=0;for(const ot of se){if(ot.path===Fe.path)return se.splice(Ne),ot;Ne++}return Fe}}const Ms={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dl(be,Fe,se,Ne,ot){const Mt=Wr(be,Fe,se);return Mt.matched?(Ne=function Oa(be,Fe){return be.providers&&!be._injector&&(be._injector=(0,c.MMx)(be.providers,Fe,`Route: ${be.path}`)),be._injector??Fe}(Fe,Ne),function Ur(be,Fe,se,Ne){const ot=Fe.canMatch;if(!ot||0===ot.length)return(0,I.of)(!0);const Mt=ot.map(xt=>{const an=Cr(xt,be);return W(function Pa(be){return be&&Kr(be.canMatch)}(an)?an.canMatch(Fe,se):be.runInContext(()=>an(Fe,se)))});return(0,I.of)(Mt).pipe(We(),Mr())}(Ne,Fe,se).pipe((0,D.U)(xt=>!0===xt?Mt:{...Ms}))):(0,I.of)(Mt)}function Wr(be,Fe,se){if(""===Fe.path)return"full"===Fe.pathMatch&&(be.hasChildren()||se.length>0)?{...Ms}:{matched:!0,consumedSegments:[],remainingSegments:se,parameters:{},positionalParamSegments:{}};const ot=(Fe.matcher||K)(se,be,Fe);if(!ot)return{...Ms};const Mt={};Object.entries(ot.posParams??{}).forEach(([an,Fn])=>{Mt[an]=Fn.path});const xt=ot.consumed.length>0?{...Mt,...ot.consumed[ot.consumed.length-1].parameters}:Mt;return{matched:!0,consumedSegments:ot.consumed,remainingSegments:se.slice(ot.consumed.length),parameters:xt,positionalParamSegments:ot.posParams??{}}}function _c(be,Fe,se,Ne){return se.length>0&&function vc(be,Fe,se){return se.some(Ne=>ha(be,Fe,Ne)&&hr(Ne)!==ze)}(be,se,Ne)?{segmentGroup:new $e(Fe,As(Ne,new $e(se,be.children))),slicedSegments:[]}:0===se.length&&function Hd(be,Fe,se){return se.some(Ne=>ha(be,Fe,Ne))}(be,se,Ne)?{segmentGroup:new $e(be.segments,co(be,0,se,Ne,be.children)),slicedSegments:se}:{segmentGroup:new $e(be.segments,be.children),slicedSegments:se}}function co(be,Fe,se,Ne,ot){const Mt={};for(const xt of Ne)if(ha(be,se,xt)&&!ot[hr(xt)]){const an=new $e([],{});Mt[hr(xt)]=an}return{...ot,...Mt}}function As(be,Fe){const se={};se[ze]=Fe;for(const Ne of be)if(""===Ne.path&&hr(Ne)!==ze){const ot=new $e([],{});se[hr(Ne)]=ot}return se}function ha(be,Fe,se){return(!(be.hasChildren()||Fe.length>0)||"full"!==se.pathMatch)&&""===se.path}class Ra{constructor(Fe,se,Ne,ot,Mt,xt,an){this.injector=Fe,this.configLoader=se,this.rootComponentType=Ne,this.config=ot,this.urlTree=Mt,this.paramsInheritanceStrategy=xt,this.urlSerializer=an,this.allowRedirects=!0,this.applyRedirects=new cl(this.urlSerializer,this.urlTree)}noMatchError(Fe){return new c.vHH(4002,!1)}recognize(){const Fe=_c(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,Fe,ze).pipe(Se(se=>{if(se instanceof ko)return this.allowRedirects=!1,this.urlTree=se.urlTree,this.match(se.urlTree);throw se instanceof ki?this.noMatchError(se):se}),(0,D.U)(se=>{const Ne=new Ut([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ze,this.rootComponentType,null,{}),ot=new _i(Ne,se),Mt=new mn("",ot),xt=function kn(be,Fe,se=null,Ne=null){return ui(qn(be),Fe,se,Ne)}(Ne,[],this.urlTree.queryParams,this.urlTree.fragment);return xt.queryParams=this.urlTree.queryParams,Mt.url=this.urlSerializer.serialize(xt),this.inheritParamsAndData(Mt._root),{state:Mt,tree:xt}}))}match(Fe){return this.processSegmentGroup(this.injector,this.config,Fe.root,ze).pipe(Se(Ne=>{throw Ne instanceof ki?this.noMatchError(Ne):Ne}))}inheritParamsAndData(Fe){const se=Fe.value,Ne=nr(se,this.paramsInheritanceStrategy);se.params=Object.freeze(Ne.params),se.data=Object.freeze(Ne.data),Fe.children.forEach(ot=>this.inheritParamsAndData(ot))}processSegmentGroup(Fe,se,Ne,ot){return 0===Ne.segments.length&&Ne.hasChildren()?this.processChildren(Fe,se,Ne):this.processSegment(Fe,se,Ne,Ne.segments,ot,!0)}processChildren(Fe,se,Ne){const ot=[];for(const Mt of Object.keys(Ne.children))"primary"===Mt?ot.unshift(Mt):ot.push(Mt);return(0,b.D)(ot).pipe((0,me.b)(Mt=>{const xt=Ne.children[Mt],an=function Qo(be,Fe){const se=be.filter(Ne=>hr(Ne)===Fe);return se.push(...be.filter(Ne=>hr(Ne)!==Fe)),se}(se,Mt);return this.processSegmentGroup(Fe,an,xt,Mt)}),function le(be,Fe){return(0,Y.e)(function Ie(be,Fe,se,Ne,ot){return(Mt,xt)=>{let an=se,Fn=Fe,ti=0;Mt.subscribe((0,re.x)(xt,ii=>{const ji=ti++;Fn=an?be(Fn,ii,ji):(an=!0,ii),Ne&&xt.next(Fn)},ot&&(()=>{an&&xt.next(Fn),xt.complete()})))}}(be,Fe,arguments.length>=2,!0))}((Mt,xt)=>(Mt.push(...xt),Mt)),ae(null),function we(be,Fe){const se=arguments.length>=2;return Ne=>Ne.pipe(be?(0,S.h)((ot,Mt)=>be(ot,Mt,Ne)):oe.y,Me(1),se?ae(Fe):Re(()=>new x))}(),(0,B.z)(Mt=>{if(null===Mt)return $o(Ne);const xt=Tc(Mt);return function ws(be){be.sort((Fe,se)=>Fe.value.outlet===ze?-1:se.value.outlet===ze?1:Fe.value.outlet.localeCompare(se.value.outlet))}(xt),(0,I.of)(xt)}))}processSegment(Fe,se,Ne,ot,Mt,xt){return(0,b.D)(se).pipe((0,me.b)(an=>this.processSegmentAgainstRoute(an._injector??Fe,se,an,Ne,ot,Mt,xt).pipe(Se(Fn=>{if(Fn instanceof ki)return(0,I.of)(null);throw Fn}))),H(an=>!!an),Se(an=>{if(qi(an))return function bc(be,Fe,se){return 0===Fe.length&&!be.children[se]}(Ne,ot,Mt)?(0,I.of)([]):$o(Ne);throw an}))}processSegmentAgainstRoute(Fe,se,Ne,ot,Mt,xt,an){return function yc(be,Fe,se,Ne){return!!(hr(be)===Ne||Ne!==ze&&ha(Fe,se,be))&&("**"===be.path||Wr(Fe,be,se).matched)}(Ne,ot,Mt,xt)?void 0===Ne.redirectTo?this.matchSegmentAgainstRoute(Fe,ot,Ne,Mt,xt,an):an&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(Fe,ot,se,Ne,Mt,xt):$o(ot):$o(ot)}expandSegmentAgainstRouteUsingRedirect(Fe,se,Ne,ot,Mt,xt){return"**"===ot.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(Fe,Ne,ot,xt):this.expandRegularSegmentAgainstRouteUsingRedirect(Fe,se,Ne,ot,Mt,xt)}expandWildCardWithParamsAgainstRouteUsingRedirect(Fe,se,Ne,ot){const Mt=this.applyRedirects.applyRedirectCommands([],Ne.redirectTo,{});return Ne.redirectTo.startsWith("/")?qa(Mt):this.applyRedirects.lineralizeSegments(Ne,Mt).pipe((0,B.z)(xt=>{const an=new $e(xt,{});return this.processSegment(Fe,se,an,xt,ot,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(Fe,se,Ne,ot,Mt,xt){const{matched:an,consumedSegments:Fn,remainingSegments:ti,positionalParamSegments:ii}=Wr(se,ot,Mt);if(!an)return $o(se);const ji=this.applyRedirects.applyRedirectCommands(Fn,ot.redirectTo,ii);return ot.redirectTo.startsWith("/")?qa(ji):this.applyRedirects.lineralizeSegments(ot,ji).pipe((0,B.z)(ho=>this.processSegment(Fe,Ne,se,ho.concat(ti),xt,!1)))}matchSegmentAgainstRoute(Fe,se,Ne,ot,Mt,xt){let an;if("**"===Ne.path){const Fn=ot.length>0?Z(ot).parameters:{},ti=new Ut(ot,Fn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ul(Ne),hr(Ne),Ne.component??Ne._loadedComponent??null,Ne,Cc(Ne));an=(0,I.of)({snapshot:ti,consumedSegments:[],remainingSegments:[]}),se.children={}}else an=dl(se,Ne,ot,Fe).pipe((0,D.U)(({matched:Fn,consumedSegments:ti,remainingSegments:ii,parameters:ji})=>Fn?{snapshot:new Ut(ti,ji,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ul(Ne),hr(Ne),Ne.component??Ne._loadedComponent??null,Ne,Cc(Ne)),consumedSegments:ti,remainingSegments:ii}:null));return an.pipe((0,w.w)(Fn=>null===Fn?$o(se):this.getChildConfig(Fe=Ne._injector??Fe,Ne,ot).pipe((0,w.w)(({routes:ti})=>{const ii=Ne._loadedInjector??Fe,{snapshot:ji,consumedSegments:ho,remainingSegments:_l}=Fn,{segmentGroup:Rs,slicedSegments:ia}=_c(se,ho,_l,ti);if(0===ia.length&&Rs.hasChildren())return this.processChildren(ii,ti,Rs).pipe((0,D.U)(Ns=>null===Ns?null:[new _i(ji,Ns)]));if(0===ti.length&&0===ia.length)return(0,I.of)([new _i(ji,[])]);const Xa=hr(Ne)===Mt;return this.processSegment(ii,ti,Rs,ia,Xa?ze:Mt,!0).pipe((0,D.U)(Ns=>[new _i(ji,Ns)]))}))))}getChildConfig(Fe,se,Ne){return se.children?(0,I.of)({routes:se.children,injector:Fe}):se.loadChildren?void 0!==se._loadedRoutes?(0,I.of)({routes:se._loadedRoutes,injector:se._loadedInjector}):function _r(be,Fe,se,Ne){const ot=Fe.canLoad;if(void 0===ot||0===ot.length)return(0,I.of)(!0);const Mt=ot.map(xt=>{const an=Cr(xt,be);return W(function ll(be){return be&&Kr(be.canLoad)}(an)?an.canLoad(Fe,se):be.runInContext(()=>an(Fe,se)))});return(0,I.of)(Mt).pipe(We(),Mr())}(Fe,se,Ne).pipe((0,B.z)(ot=>ot?this.configLoader.loadChildren(Fe,se).pipe((0,te.b)(Mt=>{se._loadedRoutes=Mt.routes,se._loadedInjector=Mt.injector})):function Fo(be){return U(bo(!1,3))}())):(0,I.of)({routes:[],injector:Fe})}}function Is(be){const Fe=be.value.routeConfig;return Fe&&""===Fe.path}function Tc(be){const Fe=[],se=new Set;for(const Ne of be){if(!Is(Ne)){Fe.push(Ne);continue}const ot=Fe.find(Mt=>Ne.value.routeConfig===Mt.value.routeConfig);void 0!==ot?(ot.children.push(...Ne.children),se.add(ot)):Fe.push(Ne)}for(const Ne of se){const ot=Tc(Ne.children);Fe.push(new _i(Ne.value,ot))}return Fe.filter(Ne=>!se.has(Ne))}function ul(be){return be.data||{}}function Cc(be){return be.resolve||{}}function ga(be){return"string"==typeof be.title||null===be.title}function De(be){return(0,w.w)(Fe=>{const se=be(Fe);return se?(0,b.D)(se).pipe((0,D.U)(()=>Fe)):(0,I.of)(Fe)})}const pt=new c.OlP("ROUTES");let Je=(()=>{class be{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(se){if(this.componentLoaders.get(se))return this.componentLoaders.get(se);if(se._loadedComponent)return(0,I.of)(se._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(se);const Ne=W(se.loadComponent()).pipe((0,D.U)(Bt),(0,te.b)(Mt=>{this.onLoadEndListener&&this.onLoadEndListener(se),se._loadedComponent=Mt}),(0,Le.x)(()=>{this.componentLoaders.delete(se)})),ot=new V.c(Ne,()=>new k.x).pipe((0,Pe.x)());return this.componentLoaders.set(se,ot),ot}loadChildren(se,Ne){if(this.childrenLoaders.get(Ne))return this.childrenLoaders.get(Ne);if(Ne._loadedRoutes)return(0,I.of)({routes:Ne._loadedRoutes,injector:Ne._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Ne);const Mt=this.loadModuleFactoryOrRoutes(Ne.loadChildren).pipe((0,D.U)(an=>{this.onLoadEndListener&&this.onLoadEndListener(Ne);let Fn,ti;return Array.isArray(an)?ti=an:(Fn=an.create(se).injector,ti=Fn.get(pt,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:ti.map(To),injector:Fn}}),(0,Le.x)(()=>{this.childrenLoaders.delete(Ne)})),xt=new V.c(Mt,()=>new k.x).pipe((0,Pe.x)());return this.childrenLoaders.set(Ne,xt),xt}loadModuleFactoryOrRoutes(se){return W(se()).pipe((0,D.U)(Bt),(0,B.z)(Ne=>Ne instanceof c.YKP||Array.isArray(Ne)?(0,I.of)(Ne):(0,b.D)(this.compiler.compileModuleAsync(Ne))))}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();function Bt(be){return function gt(be){return be&&"object"==typeof be&&"default"in be}(be)?be.default:be}let fn=(()=>{class be{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new k.x,this.configLoader=(0,c.f3M)(Je),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(_t),this.rootContexts=(0,c.f3M)(so),this.inputBindingEnabled=null!==(0,c.f3M)(Ri,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,I.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ot=>this.events.next(new eo(ot)),this.configLoader.onLoadStartListener=ot=>this.events.next(new vo(ot))}complete(){this.transitions?.complete()}handleNavigationRequest(se){const Ne=++this.navigationId;this.transitions?.next({...this.transitions.value,...se,id:Ne})}setupNavigations(se){return this.transitions=new y.X({id:0,currentUrlTree:se.currentUrlTree,currentRawUrl:se.currentUrlTree,extractedUrl:se.urlHandlingStrategy.extract(se.currentUrlTree),urlAfterRedirects:se.urlHandlingStrategy.extract(se.currentUrlTree),rawUrl:se.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xt,restoredState:null,currentSnapshot:se.routerState.snapshot,targetSnapshot:null,currentRouterState:se.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,S.h)(Ne=>0!==Ne.id),(0,D.U)(Ne=>({...Ne,extractedUrl:se.urlHandlingStrategy.extract(Ne.rawUrl)})),(0,w.w)(Ne=>{let ot=!1,Mt=!1;return(0,I.of)(Ne).pipe((0,te.b)(xt=>{this.currentNavigation={id:xt.id,initialUrl:xt.rawUrl,extractedUrl:xt.extractedUrl,trigger:xt.source,extras:xt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,w.w)(xt=>{const an=se.browserUrlTree.toString(),Fn=!se.navigated||xt.extractedUrl.toString()!==an||an!==se.currentUrlTree.toString();if(!Fn&&"reload"!==(xt.extras.onSameUrlNavigation??se.onSameUrlNavigation)){const ii="";return this.events.next(new qt(xt.id,se.serializeUrl(Ne.rawUrl),ii,0)),se.rawUrlTree=xt.rawUrl,xt.resolve(null),O.E}if(se.urlHandlingStrategy.shouldProcessUrl(xt.rawUrl))return Cn(xt.source)&&(se.browserUrlTree=xt.extractedUrl),(0,I.of)(xt).pipe((0,w.w)(ii=>{const ji=this.transitions?.getValue();return this.events.next(new at(ii.id,this.urlSerializer.serialize(ii.extractedUrl),ii.source,ii.restoredState)),ji!==this.transitions?.getValue()?O.E:Promise.resolve(ii)}),function ma(be,Fe,se,Ne,ot,Mt){return(0,B.z)(xt=>function Ec(be,Fe,se,Ne,ot,Mt,xt="emptyOnly"){return new Ra(be,Fe,se,Ne,ot,xt,Mt).recognize()}(be,Fe,se,Ne,xt.extractedUrl,ot,Mt).pipe((0,D.U)(({state:an,tree:Fn})=>({...xt,targetSnapshot:an,urlAfterRedirects:Fn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,se.config,this.urlSerializer,se.paramsInheritanceStrategy),(0,te.b)(ii=>{if(Ne.targetSnapshot=ii.targetSnapshot,Ne.urlAfterRedirects=ii.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ii.urlAfterRedirects},"eager"===se.urlUpdateStrategy){if(!ii.extras.skipLocationChange){const ho=se.urlHandlingStrategy.merge(ii.urlAfterRedirects,ii.rawUrl);se.setBrowserUrl(ho,ii)}se.browserUrlTree=ii.urlAfterRedirects}const ji=new pi(ii.id,this.urlSerializer.serialize(ii.extractedUrl),this.urlSerializer.serialize(ii.urlAfterRedirects),ii.targetSnapshot);this.events.next(ji)}));if(Fn&&se.urlHandlingStrategy.shouldProcessUrl(se.rawUrlTree)){const{id:ii,extractedUrl:ji,source:ho,restoredState:_l,extras:Rs}=xt,ia=new at(ii,this.urlSerializer.serialize(ji),ho,_l);this.events.next(ia);const Xa=Li(0,this.rootComponentType).snapshot;return Ne={...xt,targetSnapshot:Xa,urlAfterRedirects:ji,extras:{...Rs,skipLocationChange:!1,replaceUrl:!1}},(0,I.of)(Ne)}{const ii="";return this.events.next(new qt(xt.id,se.serializeUrl(Ne.extractedUrl),ii,1)),se.rawUrlTree=xt.rawUrl,xt.resolve(null),O.E}}),(0,te.b)(xt=>{const an=new si(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot);this.events.next(an)}),(0,D.U)(xt=>Ne={...xt,guards:za(xt.targetSnapshot,xt.currentSnapshot,this.rootContexts)}),function et(be,Fe){return(0,B.z)(se=>{const{targetSnapshot:Ne,currentSnapshot:ot,guards:{canActivateChecks:Mt,canDeactivateChecks:xt}}=se;return 0===xt.length&&0===Mt.length?(0,I.of)({...se,guardsResult:!0}):function Ve(be,Fe,se,Ne){return(0,b.D)(be).pipe((0,B.z)(ot=>function no(be,Fe,se,Ne,ot){const Mt=Fe&&Fe.routeConfig?Fe.routeConfig.canDeactivate:null;if(!Mt||0===Mt.length)return(0,I.of)(!0);const xt=Mt.map(an=>{const Fn=rr(Fe)??ot,ti=Cr(an,Fn);return W(function as(be){return be&&Kr(be.canDeactivate)}(ti)?ti.canDeactivate(be,Fe,se,Ne):Fn.runInContext(()=>ti(be,Fe,se,Ne))).pipe(H())});return(0,I.of)(xt).pipe(We())}(ot.component,ot.route,se,Fe,Ne)),H(ot=>!0!==ot,!0))}(xt,Ne,ot,be).pipe((0,B.z)(an=>an&&function Lo(be){return"boolean"==typeof be}(an)?function yt(be,Fe,se,Ne){return(0,b.D)(Fe).pipe((0,me.b)(ot=>(0,m.z)(function Wn(be,Fe){return null!==be&&Fe&&Fe(new yo(be)),(0,I.of)(!0)}(ot.route.parent,Ne),function Yt(be,Fe){return null!==be&&Fe&&Fe(new Zi(be)),(0,I.of)(!0)}(ot.route,Ne),function Ji(be,Fe,se){const Ne=Fe[Fe.length-1],Mt=Fe.slice(0,Fe.length-1).reverse().map(xt=>function Pr(be){const Fe=be.routeConfig?be.routeConfig.canActivateChild:null;return Fe&&0!==Fe.length?{node:be,guards:Fe}:null}(xt)).filter(xt=>null!==xt).map(xt=>(0,h.P)(()=>{const an=xt.guards.map(Fn=>{const ti=rr(xt.node)??se,ii=Cr(Fn,ti);return W(function Do(be){return be&&Kr(be.canActivateChild)}(ii)?ii.canActivateChild(Ne,be):ti.runInContext(()=>ii(Ne,be))).pipe(H())});return(0,I.of)(an).pipe(We())}));return(0,I.of)(Mt).pipe(We())}(be,ot.path,se),function hi(be,Fe,se){const Ne=Fe.routeConfig?Fe.routeConfig.canActivate:null;if(!Ne||0===Ne.length)return(0,I.of)(!0);const ot=Ne.map(Mt=>(0,h.P)(()=>{const xt=rr(Fe)??se,an=Cr(Mt,xt);return W(function Za(be){return be&&Kr(be.canActivate)}(an)?an.canActivate(Fe,be):xt.runInContext(()=>an(Fe,be))).pipe(H())}));return(0,I.of)(ot).pipe(We())}(be,ot.route,se))),H(ot=>!0!==ot,!0))}(Ne,Mt,be,Fe):(0,I.of)(an)),(0,D.U)(an=>({...se,guardsResult:an})))})}(this.environmentInjector,xt=>this.events.next(xt)),(0,te.b)(xt=>{if(Ne.guardsResult=xt.guardsResult,On(xt.guardsResult))throw Hr(0,xt.guardsResult);const an=new sr(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(xt.urlAfterRedirects),xt.targetSnapshot,!!xt.guardsResult);this.events.next(an)}),(0,S.h)(xt=>!!xt.guardsResult||(se.restoreHistory(xt),this.cancelNavigationTransition(xt,"",3),!1)),De(xt=>{if(xt.guards.canActivateChecks.length)return(0,I.of)(xt).pipe((0,te.b)(an=>{const Fn=new Ui(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Fn)}),(0,w.w)(an=>{let Fn=!1;return(0,I.of)(an).pipe(function fl(be,Fe){return(0,B.z)(se=>{const{targetSnapshot:Ne,guards:{canActivateChecks:ot}}=se;if(!ot.length)return(0,I.of)(se);let Mt=0;return(0,b.D)(ot).pipe((0,me.b)(xt=>function Bo(be,Fe,se,Ne){const ot=be.routeConfig,Mt=be._resolve;return void 0!==ot?.title&&!ga(ot)&&(Mt[He]=ot.title),function hl(be,Fe,se,Ne){const ot=function ml(be){return[...Object.keys(be),...Object.getOwnPropertySymbols(be)]}(be);if(0===ot.length)return(0,I.of)({});const Mt={};return(0,b.D)(ot).pipe((0,B.z)(xt=>function Xi(be,Fe,se,Ne){const ot=rr(Fe)??Ne,Mt=Cr(be,ot);return W(Mt.resolve?Mt.resolve(Fe,se):ot.runInContext(()=>Mt(Fe,se)))}(be[xt],Fe,se,Ne).pipe(H(),(0,te.b)(an=>{Mt[xt]=an}))),Me(1),(0,_e.h)(Mt),Se(xt=>qi(xt)?O.E:U(xt)))}(Mt,be,Fe,Ne).pipe((0,D.U)(xt=>(be._resolvedData=xt,be.data=nr(be,se).resolve,ot&&ga(ot)&&(be.data[He]=ot.title),null)))}(xt.route,Ne,be,Fe)),(0,te.b)(()=>Mt++),Me(1),(0,B.z)(xt=>Mt===ot.length?(0,I.of)(se):O.E))})}(se.paramsInheritanceStrategy,this.environmentInjector),(0,te.b)({next:()=>Fn=!0,complete:()=>{Fn||(se.restoreHistory(an),this.cancelNavigationTransition(an,"",2))}}))}),(0,te.b)(an=>{const Fn=new Br(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Fn)}))}),De(xt=>{const an=Fn=>{const ti=[];Fn.routeConfig?.loadComponent&&!Fn.routeConfig._loadedComponent&&ti.push(this.configLoader.loadComponent(Fn.routeConfig).pipe((0,te.b)(ii=>{Fn.component=ii}),(0,D.U)(()=>{})));for(const ii of Fn.children)ti.push(...an(ii));return ti};return(0,F.a)(an(xt.targetSnapshot.root)).pipe(ae(),(0,E.q)(1))}),De(()=>this.afterPreactivation()),(0,D.U)(xt=>{const an=function ur(be,Fe,se){const Ne=fr(be,Fe._root,se?se._root:void 0);return new ai(Ne,Fe)}(se.routeReuseStrategy,xt.targetSnapshot,xt.currentRouterState);return Ne={...xt,targetRouterState:an}}),(0,te.b)(xt=>{se.currentUrlTree=xt.urlAfterRedirects,se.rawUrlTree=se.urlHandlingStrategy.merge(xt.urlAfterRedirects,xt.rawUrl),se.routerState=xt.targetRouterState,"deferred"===se.urlUpdateStrategy&&(xt.extras.skipLocationChange||se.setBrowserUrl(se.rawUrlTree,xt),se.browserUrlTree=xt.urlAfterRedirects)}),((be,Fe,se,Ne)=>(0,D.U)(ot=>(new So(Fe,ot.targetRouterState,ot.currentRouterState,se,Ne).activate(be),ot)))(this.rootContexts,se.routeReuseStrategy,xt=>this.events.next(xt),this.inputBindingEnabled),(0,E.q)(1),(0,te.b)({next:xt=>{ot=!0,this.lastSuccessfulNavigation=this.currentNavigation,se.navigated=!0,this.events.next(new tt(xt.id,this.urlSerializer.serialize(xt.extractedUrl),this.urlSerializer.serialize(se.currentUrlTree))),se.titleStrategy?.updateTitle(xt.targetRouterState.snapshot),xt.resolve(!0)},complete:()=>{ot=!0}}),(0,Le.x)(()=>{ot||Mt||this.cancelNavigationTransition(Ne,"",1),this.currentNavigation?.id===Ne.id&&(this.currentNavigation=null)}),Se(xt=>{if(Mt=!0,ir(xt)){Di(xt)||(se.navigated=!0,se.restoreHistory(Ne,!0));const an=new At(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),xt.message,xt.cancellationCode);if(this.events.next(an),Di(xt)){const Fn=se.urlHandlingStrategy.merge(xt.url,se.rawUrlTree),ti={skipLocationChange:Ne.extras.skipLocationChange,replaceUrl:"eager"===se.urlUpdateStrategy||Cn(Ne.source)};se.scheduleNavigation(Fn,Xt,null,ti,{resolve:Ne.resolve,reject:Ne.reject,promise:Ne.promise})}else Ne.resolve(!1)}else{se.restoreHistory(Ne,!0);const an=new tn(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),xt,Ne.targetSnapshot??void 0);this.events.next(an);try{Ne.resolve(se.errorHandler(xt))}catch(Fn){Ne.reject(Fn)}}return O.E}))}))}cancelNavigationTransition(se,Ne,ot){const Mt=new At(se.id,this.urlSerializer.serialize(se.extractedUrl),Ne,ot);this.events.next(Mt),se.resolve(!1)}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();function Cn(be){return be!==Xt}let Xn=(()=>{class be{buildTitle(se){let Ne,ot=se.root;for(;void 0!==ot;)Ne=this.getResolvedTitleForRoute(ot)??Ne,ot=ot.children.find(Mt=>Mt.outlet===ze);return Ne}getResolvedTitleForRoute(se){return se.data[He]}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:function(){return(0,c.f3M)(Yi)},providedIn:"root"})}return be})(),Yi=(()=>{class be extends Xn{constructor(se){super(),this.title=se}updateTitle(se){const Ne=this.buildTitle(se);void 0!==Ne&&this.title.setTitle(Ne)}static#e=this.\u0275fac=function(Ne){return new(Ne||be)(c.LFG(je.Dx))};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),Ii=(()=>{class be{static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:function(){return(0,c.f3M)(Mi)},providedIn:"root"})}return be})();class Fi{shouldDetach(Fe){return!1}store(Fe,se){}shouldAttach(Fe){return!1}retrieve(Fe){return null}shouldReuseRoute(Fe,se){return Fe.routeConfig===se.routeConfig}}let Mi=(()=>{class be extends Fi{static#e=this.\u0275fac=function(){let se;return function(ot){return(se||(se=c.n5z(be)))(ot||be)}}();static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();const er=new c.OlP("",{providedIn:"root",factory:()=>({})});let Ki=(()=>{class be{static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:function(){return(0,c.f3M)(xr)},providedIn:"root"})}return be})(),xr=(()=>{class be{shouldProcessUrl(se){return!0}extract(se){return se}merge(se,Ne){return se}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();var uo=function(be){return be[be.COMPLETE=0]="COMPLETE",be[be.FAILED=1]="FAILED",be[be.REDIRECTING=2]="REDIRECTING",be}(uo||{});function ri(be,Fe){be.events.pipe((0,S.h)(se=>se instanceof tt||se instanceof At||se instanceof tn||se instanceof qt),(0,D.U)(se=>se instanceof tt||se instanceof qt?uo.COMPLETE:se instanceof At&&(0===se.code||1===se.code)?uo.REDIRECTING:uo.FAILED),(0,S.h)(se=>se!==uo.REDIRECTING),(0,E.q)(1)).subscribe(()=>{Fe()})}function pa(be){throw be}function Uo(be,Fe,se){return Fe.parse("/")}const _a={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},va={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{class be{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(er,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||pa,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Uo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Ki),this.routeReuseStrategy=(0,c.f3M)(Ii),this.titleStrategy=(0,c.f3M)(Xn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(pt,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(fn),this.urlSerializer=(0,c.f3M)(_t),this.location=(0,c.f3M)(P.Ye),this.componentInputBindingEnabled=!!(0,c.f3M)(Ri,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Be,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Li(0,null),this.navigationTransitions.setupNavigations(this).subscribe(se=>{this.lastSuccessfulId=se.id,this.currentPageId=this.browserPageId??0},se=>{this.console.warn(`Unhandled Navigation Error: ${se}`)})}resetRootComponentType(se){this.routerState.root.component=se,this.navigationTransitions.rootComponentType=se}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const se=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xt,se)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(se=>{const Ne="popstate"===se.type?"popstate":"hashchange";"popstate"===Ne&&setTimeout(()=>{this.navigateToSyncWithBrowser(se.url,Ne,se.state)},0)}))}navigateToSyncWithBrowser(se,Ne,ot){const Mt={replaceUrl:!0},xt=ot?.navigationId?ot:null;if(ot){const Fn={...ot};delete Fn.navigationId,delete Fn.\u0275routerPageId,0!==Object.keys(Fn).length&&(Mt.state=Fn)}const an=this.parseUrl(se);this.scheduleNavigation(an,Ne,xt,Mt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(se){this.config=se.map(To),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(se,Ne={}){const{relativeTo:ot,queryParams:Mt,fragment:xt,queryParamsHandling:an,preserveFragment:Fn}=Ne,ti=Fn?this.currentUrlTree.fragment:xt;let ji,ii=null;switch(an){case"merge":ii={...this.currentUrlTree.queryParams,...Mt};break;case"preserve":ii=this.currentUrlTree.queryParams;break;default:ii=Mt||null}null!==ii&&(ii=this.removeEmptyProps(ii));try{ji=qn(ot?ot.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof se[0]||!se[0].startsWith("/"))&&(se=[]),ji=this.currentUrlTree.root}return ui(ji,se,ii,ti??null)}navigateByUrl(se,Ne={skipLocationChange:!1}){const ot=On(se)?se:this.parseUrl(se),Mt=this.urlHandlingStrategy.merge(ot,this.rawUrlTree);return this.scheduleNavigation(Mt,Xt,null,Ne)}navigate(se,Ne={skipLocationChange:!1}){return function Dc(be){for(let Fe=0;Fe<be.length;Fe++)if(null==be[Fe])throw new c.vHH(4008,!1)}(se),this.navigateByUrl(this.createUrlTree(se,Ne),Ne)}serializeUrl(se){return this.urlSerializer.serialize(se)}parseUrl(se){let Ne;try{Ne=this.urlSerializer.parse(se)}catch(ot){Ne=this.malformedUriErrorHandler(ot,this.urlSerializer,se)}return Ne}isActive(se,Ne){let ot;if(ot=!0===Ne?{..._a}:!1===Ne?{...va}:Ne,On(se))return q(this.currentUrlTree,se,ot);const Mt=this.parseUrl(se);return q(this.currentUrlTree,Mt,ot)}removeEmptyProps(se){return Object.keys(se).reduce((Ne,ot)=>{const Mt=se[ot];return null!=Mt&&(Ne[ot]=Mt),Ne},{})}scheduleNavigation(se,Ne,ot,Mt,xt){if(this.disposed)return Promise.resolve(!1);let an,Fn,ti;xt?(an=xt.resolve,Fn=xt.reject,ti=xt.promise):ti=new Promise((ji,ho)=>{an=ji,Fn=ho});const ii=this.pendingTasks.add();return ri(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ii))}),this.navigationTransitions.handleNavigationRequest({source:Ne,restoredState:ot,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:se,extras:Mt,resolve:an,reject:Fn,promise:ti,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ti.catch(ji=>Promise.reject(ji))}setBrowserUrl(se,Ne){const ot=this.urlSerializer.serialize(se);if(this.location.isCurrentPathEqualTo(ot)||Ne.extras.replaceUrl){const xt={...Ne.extras.state,...this.generateNgRouterState(Ne.id,this.browserPageId)};this.location.replaceState(ot,"",xt)}else{const Mt={...Ne.extras.state,...this.generateNgRouterState(Ne.id,(this.browserPageId??0)+1)};this.location.go(ot,"",Mt)}}restoreHistory(se,Ne=!1){if("computed"===this.canceledNavigationResolution){const Mt=this.currentPageId-(this.browserPageId??this.currentPageId);0!==Mt?this.location.historyGo(Mt):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Mt&&(this.resetState(se),this.browserUrlTree=se.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Ne&&this.resetState(se),this.resetUrlToCurrentUrlTree())}resetState(se){this.routerState=se.currentRouterState,this.currentUrlTree=se.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,se.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(se,Ne){return"computed"===this.canceledNavigationResolution?{navigationId:se,\u0275routerPageId:Ne}:{navigationId:se}}static#e=this.\u0275fac=function(Ne){return new(Ne||be)};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),ta=(()=>{class be{constructor(se,Ne,ot,Mt,xt,an){this.router=se,this.route=Ne,this.tabIndexAttribute=ot,this.renderer=Mt,this.el=xt,this.locationStrategy=an,this.href=null,this.commands=null,this.onChanges=new k.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Fn=xt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Fn||"area"===Fn,this.isAnchorElement?this.subscription=se.events.subscribe(ti=>{ti instanceof tt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(se){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",se)}ngOnChanges(se){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(se){null!=se?(this.commands=Array.isArray(se)?se:[se],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(se,Ne,ot,Mt,xt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==se||Ne||ot||Mt||xt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const se=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",se)}applyAttributeValue(se,Ne){const ot=this.renderer,Mt=this.el.nativeElement;null!==Ne?ot.setAttribute(Mt,se,Ne):ot.removeAttribute(Mt,se)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Ne){return new(Ne||be)(c.Y36(Ar),c.Y36(cr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(P.S$))};static#t=this.\u0275dir=c.lG2({type:be,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Ne,ot){1&Ne&&c.NdJ("click",function(xt){return ot.onClick(xt.button,xt.ctrlKey,xt.shiftKey,xt.altKey,xt.metaKey)}),2&Ne&&c.uIk("target",ot.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]})}return be})();class Os{}let Ln=(()=>{class be{constructor(se,Ne,ot,Mt,xt){this.router=se,this.injector=ot,this.preloadingStrategy=Mt,this.loader=xt}setUpPreloading(){this.subscription=this.router.events.pipe((0,S.h)(se=>se instanceof tt),(0,me.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(se,Ne){const ot=[];for(const Mt of Ne){Mt.providers&&!Mt._injector&&(Mt._injector=(0,c.MMx)(Mt.providers,se,`Route: ${Mt.path}`));const xt=Mt._injector??se,an=Mt._loadedInjector??xt;(Mt.loadChildren&&!Mt._loadedRoutes&&void 0===Mt.canLoad||Mt.loadComponent&&!Mt._loadedComponent)&&ot.push(this.preloadConfig(xt,Mt)),(Mt.children||Mt._loadedRoutes)&&ot.push(this.processRoutes(an,Mt.children??Mt._loadedRoutes))}return(0,b.D)(ot).pipe((0,Oe.J)())}preloadConfig(se,Ne){return this.preloadingStrategy.preload(Ne,()=>{let ot;ot=Ne.loadChildren&&void 0===Ne.canLoad?this.loader.loadChildren(se,Ne):(0,I.of)(null);const Mt=ot.pipe((0,B.z)(xt=>null===xt?(0,I.of)(void 0):(Ne._loadedRoutes=xt.routes,Ne._loadedInjector=xt.injector,this.processRoutes(xt.injector??se,xt.routes))));if(Ne.loadComponent&&!Ne._loadedComponent){const xt=this.loader.loadComponent(Ne);return(0,b.D)([Mt,xt]).pipe((0,Oe.J)())}return Mt})}static#e=this.\u0275fac=function(Ne){return new(Ne||be)(c.LFG(Ar),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Os),c.LFG(Je))};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})();const Oi=new c.OlP("");let xc=(()=>{class be{constructor(se,Ne,ot,Mt,xt={}){this.urlSerializer=se,this.transitions=Ne,this.viewportScroller=ot,this.zone=Mt,this.options=xt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},xt.scrollPositionRestoration=xt.scrollPositionRestoration||"disabled",xt.anchorScrolling=xt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(se=>{se instanceof at?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=se.navigationTrigger,this.restoredId=se.restoredState?se.restoredState.navigationId:0):se instanceof tt?(this.lastId=se.id,this.scheduleScrollEvent(se,this.urlSerializer.parse(se.urlAfterRedirects).fragment)):se instanceof qt&&0===se.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(se,this.urlSerializer.parse(se.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(se=>{se instanceof Si&&(se.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(se.position):se.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(se.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(se,Ne){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Si(se,"popstate"===this.lastSource?this.store[this.restoredId]:null,Ne))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Ne){c.$Z()};static#t=this.\u0275prov=c.Yz7({token:be,factory:be.\u0275fac})}return be})();function na(be,Fe){return{\u0275kind:be,\u0275providers:Fe}}function Kd(){const be=(0,c.f3M)(c.zs3);return Fe=>{const se=be.get(c.z2F);if(Fe!==se.components[0])return;const Ne=be.get(Ar),ot=be.get(eh);1===be.get(gl)&&Ne.initialNavigation(),be.get(Qa,null,c.XFs.Optional)?.setUpPreloading(),be.get(Oi,null,c.XFs.Optional)?.init(),Ne.resetRootComponentType(se.componentTypes[0]),ot.closed||(ot.next(),ot.complete(),ot.unsubscribe())}}const eh=new c.OlP("",{factory:()=>new k.x}),gl=new c.OlP("",{providedIn:"root",factory:()=>1}),Qa=new c.OlP("");function Ea(be){return na(0,[{provide:Qa,useExisting:Ln},{provide:Os,useExisting:be}])}const pl=new c.OlP("ROUTER_FORROOT_GUARD"),oh=[P.Ye,{provide:_t,useClass:Ot},Ar,so,{provide:cr,useFactory:function Nr(be){return be.routerState.root},deps:[Ar]},Je,[]];function Mc(){return new c.PXZ("Router",Ar)}let sp=(()=>{class be{constructor(se){}static forRoot(se,Ne){return{ngModule:be,providers:[oh,[],{provide:pt,multi:!0,useValue:se},{provide:pl,useFactory:Zd,deps:[[Ar,new c.FiY,new c.tp0]]},{provide:er,useValue:Ne||{}},Ne?.useHash?{provide:P.S$,useClass:P.Do}:{provide:P.S$,useClass:P.b0},{provide:Oi,useFactory:()=>{const be=(0,c.f3M)(P.EM),Fe=(0,c.f3M)(c.R0b),se=(0,c.f3M)(er),Ne=(0,c.f3M)(fn),ot=(0,c.f3M)(_t);return se.scrollOffset&&be.setOffset(se.scrollOffset),new xc(ot,Ne,be,Fe,se)}},Ne?.preloadingStrategy?Ea(Ne.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Mc},Ne?.initialNavigation?$d(Ne):[],Ne?.bindToComponentInputs?na(8,[dr,{provide:Ri,useExisting:dr}]).\u0275providers:[],[{provide:Ac,useFactory:Kd},{provide:c.tb,multi:!0,useExisting:Ac}]]}}static forChild(se){return{ngModule:be,providers:[{provide:pt,multi:!0,useValue:se}]}}static#e=this.\u0275fac=function(Ne){return new(Ne||be)(c.LFG(pl,8))};static#t=this.\u0275mod=c.oAB({type:be});static#n=this.\u0275inj=c.cJS({})}return be})();function Zd(be){return"guarded"}function $d(be){return["disabled"===be.initialNavigation?na(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const Fe=(0,c.f3M)(Ar);return()=>{Fe.setUpLocationChangeListener()}}},{provide:gl,useValue:2}]).\u0275providers:[],"enabledBlocking"===be.initialNavigation?na(2,[{provide:gl,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:Fe=>{const se=Fe.get(P.V_,Promise.resolve());return()=>se.then(()=>new Promise(Ne=>{const ot=Fe.get(Ar),Mt=Fe.get(eh);ri(ot,()=>{Ne(!0)}),Fe.get(fn).afterPreactivation=()=>(Ne(!0),Mt.closed?(0,I.of)(void 0):Mt),ot.initialNavigation()}))}}]).\u0275providers:[]]}const Ac=new c.OlP("")},7582:(In,Ze,C)=>{"use strict";function v(te,ue,Se,Ie){return new(Se||(Se=Promise))(function(Me,we){function _e(Oe){try{Pe(Ie.next(Oe))}catch(je){we(je)}}function Le(Oe){try{Pe(Ie.throw(Oe))}catch(je){we(je)}}function Pe(Oe){Oe.done?Me(Oe.value):function le(Me){return Me instanceof Se?Me:new Se(function(we){we(Me)})}(Oe.value).then(_e,Le)}Pe((Ie=Ie.apply(te,ue||[])).next())})}function E(te){return this instanceof E?(this.v=te,this):new E(te)}function N(te,ue,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Ie=Se.apply(te,ue||[]),Me=[];return le={},we("next"),we("throw"),we("return"),le[Symbol.asyncIterator]=function(){return this},le;function we(ze){Ie[ze]&&(le[ze]=function(He){return new Promise(function(Ae,ye){Me.push([ze,He,Ae,ye])>1||_e(ze,He)})})}function _e(ze,He){try{!function Le(ze){ze.value instanceof E?Promise.resolve(ze.value.v).then(Pe,Oe):je(Me[0][2],ze)}(Ie[ze](He))}catch(Ae){je(Me[0][3],Ae)}}function Pe(ze){_e("next",ze)}function Oe(ze){_e("throw",ze)}function je(ze,He){ze(He),Me.shift(),Me.length&&_e(Me[0][0],Me[0][1])}}function B(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,ue=te[Symbol.asyncIterator];return ue?ue.call(te):(te=function V(te){var ue="function"==typeof Symbol&&Symbol.iterator,Se=ue&&te[ue],Ie=0;if(Se)return Se.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Ie>=te.length&&(te=void 0),{value:te&&te[Ie++],done:!te}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),Se={},Ie("next"),Ie("throw"),Ie("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Ie(Me){Se[Me]=te[Me]&&function(we){return new Promise(function(_e,Le){!function le(Me,we,_e,Le){Promise.resolve(Le).then(function(Pe){Me({value:Pe,done:_e})},we)}(_e,Le,(we=te[Me](we)).done,we.value)})}}}C.d(Ze,{FC:()=>N,KL:()=>B,mG:()=>v,qq:()=>E})}},In=>{In(In.s=638)}]);