"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[209],{5209:(k,P,a)=>{a.r(P),a.d(P,{ProfilesModule:()=>E});var g=a(6814),d=a(5612),C=a(863),n=a(5879),v=a(3094),M=a(6294),_=a(4001),r=a(95),u=a(1531);function h(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"div",6)(1,"button",7),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.saveProfile())}),n._uU(2,"Listo"),n.qZA()()}}function m(e,s){1&e&&(n.TgZ(0,"p",24),n._uU(1,"El perfil principal no se puede eliminar"),n.qZA())}function O(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.onClickDeleteButton())}),n._uU(1,"Eliminar Perfil"),n.qZA()}}function x(e,s){if(1&e&&(n.TgZ(0,"div",25),n._uU(1),n.qZA()),2&e){const t=n.oxw(2);n.xp6(1),n.hij(" ",t.sharedService.getInitials(t.currentTmpProfile)," ")}}function b(e,s){if(1&e&&(n._UZ(0,"img",25),n.ALo(1,"async"),n.ALo(2,"formatDataPipe")),2&e){const t=n.oxw(2);n.uIk("src",n.lcZ(1,1,n.xi3(2,3,t.currentTmpProfile.Id,"GetAvatarImageURLByProfileId")),n.LSH)}}function y(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2",11),n._uU(4,"Editar Perfil"),n.qZA(),n.YNc(5,m,2,0,"p",12),n.qZA(),n.TgZ(6,"div",13)(7,"div",14)(8,"input",15),n.NdJ("ngModelChange",function(i){n.CHM(t);const c=n.oxw();return n.KtG(c.currentTmpProfile.FullName=i)}),n.qZA(),n.TgZ(9,"div",16),n.YNc(10,O,2,0,"button",17),n.qZA()(),n.TgZ(11,"div",18)(12,"input",19,20),n.NdJ("change",function(i){n.CHM(t);const c=n.oxw();return n.KtG(c.uploadAvatarImage(i))}),n.qZA(),n.TgZ(14,"button",7),n.NdJ("click",function(){n.CHM(t);const i=n.MAs(13);return n.KtG(i.click())}),n.YNc(15,x,2,1,"div",21),n.YNc(16,b,3,6,"img",21),n.TgZ(17,"div",22)(18,"div",23),n._UZ(19,"img",3),n.ALo(20,"async"),n.ALo(21,"formatDataPipe"),n.qZA()()()()()()()}if(2&e){const t=n.oxw();n.xp6(5),n.Q6J("ngIf",t.currentTmpProfile&&t.currentTmpProfile.Id>0&&t.currentTmpProfile.Main),n.xp6(3),n.Q6J("ngModel",t.currentTmpProfile.FullName),n.xp6(2),n.Q6J("ngIf",t.currentTmpProfile&&t.currentTmpProfile.Id>0&&!t.currentTmpProfile.Main),n.xp6(5),n.Q6J("ngIf",null==t.currentTmpProfile.AvatarPath),n.xp6(1),n.Q6J("ngIf",null!=t.currentTmpProfile.AvatarPath&&!t.hideImage),n.xp6(3),n.Q6J("src",n.lcZ(20,6,n.xi3(21,8,"edit-profile.png","GetIconURLByKey")),n.LSH)}}let T=(()=>{class e{constructor(t,o,i,c,l){this.router=t,this.activeRoute=o,this.profileService=i,this.restProvider=c,this.sharedService=l,this.hideImage=!1}ngOnInit(){this.profileService.getProfileByGuid(this.activeRoute.snapshot.params.profileGuid).then(o=>{null==o.Data&&this.router.navigateByUrl("404"),this.currentTmpProfile=o.Data},o=>{this.router.navigateByUrl("404")})}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(t=>{this.router.navigateByUrl("/profiles")},t=>{console.error(t)})}onClickDeleteButton(){this.profileService.deleteItem(this.currentTmpProfile.Id).then(t=>{this.router.navigateByUrl("/profiles")},t=>{console.error(t)})}uploadAvatarImage(t){if(t.target.files&&t.target.files.length>0){let c=t.target.files[0];var o=new FormData;o.append("ProfileId",this.currentTmpProfile.Id.toString()),o.append("File",c,c.name),this.restProvider.executeHttpPostMethodWithFormData("/documents/UploadAvatarProfile",o).then(l=>{this.restProvider.executeSinovadApiService(C.yw.GET,"/profiles/GetAsync/"+this.currentTmpProfile.Id).then(f=>{this.currentTmpProfile=f.Data,this.hideImage=!0,setTimeout(()=>{this.hideImage=!1},0)},f=>{console.error(f)})},l=>{console.error(l)})}}static#n=this.\u0275fac=function(o){return new(o||e)(n.Y36(d.F0),n.Y36(d.gz),n.Y36(v.H),n.Y36(M.C),n.Y36(_.F))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-profile-edit"]],decls:8,vars:8,consts:[[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],["class","sinovaclient-right",4,"ngIf"],["class","sinovad-page-container",4,"ngIf"],[1,"sinovaclient-right"],[3,"click"],[1,"sinovad-page-container"],[1,"sinovad-page-content"],[1,"top-container"],[1,"title"],["class","subtitle",4,"ngIf"],[1,"bottom-container"],[1,"first"],["type","text",3,"ngModel","ngModelChange"],[1,"sinovad-delete-profile-button-container"],[3,"click",4,"ngIf"],[1,"second"],["type","file","accept",".png,.jpg",2,"display","none",3,"change"],["input",""],["class","sinovad-initials-profile",4,"ngIf"],[1,"sinovad-icon-edit-profile-container"],[1,"sinovad-icon-edit-profile-content"],[1,"subtitle"],[1,"sinovad-initials-profile"]],template:function(o,i){1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n._UZ(3,"img",3),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.YNc(6,h,3,0,"div",4),n.qZA(),n.YNc(7,y,22,11,"div",5),n.qZA()),2&o&&(n.xp6(3),n.Q6J("src",n.lcZ(4,3,n.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(3),n.Q6J("ngIf",i.currentTmpProfile),n.xp6(1),n.Q6J("ngIf",i.currentTmpProfile))},dependencies:[g.O5,r.Fj,r.JJ,r.On,g.Ov,u.A],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right;font-size:20px;background:#007bff;color:#f9f9f9;border-radius:5px;border:none;opacity:.8;height:48px;padding:0 24px}.sinovaclient-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:100px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{display:block}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:left}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{color:#fff;font-size:32px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]   p.subtitle[_ngcontent-%COMP%]{font-size:15px;color:#cacaca}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;min-width:200px;font-size:20px;border-radius:4px;outline:none;padding:7px 12px;border:1px solid transparent}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid #dedede}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{margin:0 0 0 75px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;opacity:.8}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:213px;height:213px;border:2px solid transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:80px;background-color:#789;color:#fff}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-container[_ngcontent-%COMP%]{display:block;position:relative}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:-55px;background:white;border-radius:25px;padding:10px;border:none}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-icon-edit-profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   .sinovad-initials-profile[_ngcontent-%COMP%]{border:2px solid white}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:30px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:transparent;color:red;opacity:.8;font-size:15px}.sinovad-delete-profile-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}@media only screen and (max-width: 767px){.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:170px}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .top-container[_ngcontent-%COMP%]{text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{order:2}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0 0 20px;order:1}.sinovad-page-container[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]   .bottom-container[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sinovad-initials-profile[_ngcontent-%COMP%]{width:140px;height:140px}}"]})}return e})();var p=a(2392);class A{}function I(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"div",1)(1,"div",2)(2,"div",3),n._UZ(3,"img",4),n.ALo(4,"async"),n.ALo(5,"formatDataPipe"),n.qZA(),n.TgZ(6,"div",5)(7,"button",6),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.onCloseProfileNew())}),n._uU(8,"CANCELAR"),n.qZA()()(),n.TgZ(9,"div",7)(10,"div",8)(11,"h2"),n._uU(12,"Crear Perfil"),n.qZA(),n.TgZ(13,"div",9)(14,"input",10),n.NdJ("ngModelChange",function(i){n.CHM(t);const c=n.oxw();return n.KtG(c.currentTmpProfile.FullName=i)}),n.qZA()(),n.TgZ(15,"div",9)(16,"button",11),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.saveProfile())}),n._uU(17,"GUARDAR"),n.qZA()()()()()}if(2&e){const t=n.oxw();n.xp6(3),n.Q6J("src",n.lcZ(4,3,n.xi3(5,5,"sinovad-stream-large-logo.png","GetIconURLByKey")),n.LSH),n.xp6(11),n.Q6J("placeholder",t.placeHolder)("ngModel",t.currentTmpProfile.FullName)}}let Z=(()=>{class e{constructor(t,o,i){this.router=t,this.sharedService=o,this.profileService=i,this.placeHolder="Nombre de Perfil"}ngOnInit(){this.currentTmpProfile=new A,this.currentTmpProfile.UserId=this.sharedService.userData.Id}ngAfterViewInit(){}saveProfile(){this.profileService.saveItem(this.currentTmpProfile).then(t=>{this.router.navigateByUrl("/profiles")},t=>{console.error(t)})}onCloseProfileNew(){this.router.navigateByUrl("/profiles")}static#n=this.\u0275fac=function(o){return new(o||e)(n.Y36(d.F0),n.Y36(_.F),n.Y36(v.H))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-profile-new"]],decls:1,vars:1,consts:[["class","sinovad-form-page-container",4,"ngIf"],[1,"sinovad-form-page-container"],[1,"sinovad-page-header"],[1,"sinovad-logo-container","sinovaclient-left"],[3,"src"],[1,"sinovaclient-right"],[1,"cancel",3,"click"],[1,"sinovad-page-body"],[1,"sinovad-page-content"],[1,"mb-3"],["type","text",3,"placeholder","ngModel","ngModelChange"],[1,"save",3,"click"]],template:function(o,i){1&o&&n.YNc(0,I,18,8,"div",0),2&o&&n.Q6J("ngIf",i.currentTmpProfile)},dependencies:[g.O5,r.Fj,r.JJ,r.On,g.Ov,u.A],styles:[".sinovad-form-page-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000}.sinovad-page-header[_ngcontent-%COMP%]{padding:10px;display:flex}.sinovad-page-header[_ngcontent-%COMP%]   .sinovad-logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}button[_ngcontent-%COMP%]{outline:none!important;cursor:pointer!important;box-sizing:border-box!important}.sinovaclient-left[_ngcontent-%COMP%]{float:left;width:100%}.sinovaclient-left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px}.sinovaclient-right[_ngcontent-%COMP%]{float:right;width:100%}button[_ngcontent-%COMP%]{float:right;font-size:15px;padding:0 24px;height:48px;color:#f9f9f9;border-radius:5px;border:none;opacity:.8}button.save[_ngcontent-%COMP%]{background:#007bff;width:100%}button.cancel[_ngcontent-%COMP%]{background:lightslategrey}button[_ngcontent-%COMP%]:hover{opacity:1}.sinovad-page-body[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sinovad-page-body[_ngcontent-%COMP%]   .sinovad-page-content[_ngcontent-%COMP%]{width:300px}.sinovad-page-body[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center}.sinovad-page-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#f9f9f91a;color:#fff;width:100%;padding:7px 12px;font-size:15px;height:48px}"]})}return e})();const N=[{path:"",component:a(8532).h,canActivate:[p.E]},{path:"add",component:Z,canActivate:[p.E]},{path:"edit/:profileGuid",component:T,canActivate:[p.E]}];let J=(()=>{class e{static#n=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=n.oAB({type:e});static#e=this.\u0275inj=n.cJS({imports:[d.Bz.forChild(N),d.Bz]})}return e})();var U=a(7102);let E=(()=>{class e{static#n=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=n.oAB({type:e});static#e=this.\u0275inj=n.cJS({imports:[g.ez,U.m,r.UX,r.u5,J]})}return e})()}}]);